{"version":3,"sources":["components/progress-bar/ProgressBar.tsx","components/progress-bar/ProgressBarTrack.tsx","components/progress-bar/ProgressBarIndicator.tsx","components/progress-bar/ProgressBarIndicatorText.tsx","components/progress-bar/ProgressBarCenteredText.tsx","components/progress-bar/ProgressBarTick.tsx","features/projects/media/cookie.svg","features/projects/media/cookie-solid.svg","features/projects/media/golden-cookie.svg","features/projects/media/golden-cookie-solid.svg","features/projects/currencyStyles.ts","features/projects/media/cookies.svg","utils/arrayUtilts.ts","components/Divider.tsx","features/high-score/thumbnails/cosmos-crossing.mp4","features/high-score/thumbnails/galaxy-jump.mp4","features/high-score/thumbnails/space-race.mp4","features/high-score/thumbnails/asteroids.mp4","features/high-score/thumbnails/space-trap.mp4","features/high-score/thumbnails/spacecraft-energizer.mp4","features/high-score/thumbnails/laboratory-escape.mp4","features/high-score/thumbnails/robot-olympics.mp4","features/high-score/thumbnails/planet-evolution.mp4","features/high-score/thumbnails/manifold_trailer.mp4","features/high-score/thumbnails/balloon-blaster.mp4","features/high-score/thumbnails/addition.mp4","features/high-score/thumbnails/witcher.mp4","features/high-score/thumbnails/santas-crossing.mp4","features/high-score/thumbnails/clone-hunt.mp4","features/high-score/thumbnails/clonehuntDC.mp4","features/high-score/thumbnails/candy-rush.mp4","features/high-score/thumbnails/station-defense.mp4","features/high-score/thumbnails/memento.mp4","features/high-score/thumbnails/bounce-battle.mp4","features/high-score/thumbnails/fusion-grow.mp4","features/high-score/thumbnails/cloud-climber.mp4","features/high-score/thumbnails/draw-race.mp4","features/high-score/highScoreGames.ts","lib/i18n/index.ts","features/projects/modal/ProjectModalContent.tsx","features/projects/modal/ProjectModalHeader.tsx","hooks/useCountdown.ts","components/Badge.tsx","features/projects/store/projectReducer.ts","features/demo-game/demoGameCodes.ts","components/TopLevelErrorBoundary.tsx","lib/router/Routers.tsx","utils/gtm.ts","lib/store/classroom-state-share/ClassroomStateShareMiddleware.ts","App.tsx","GlobalStyles.ts","lib/dayjs/index.ts","Providers.tsx","lib/recording/RecordingDevToolDialog.tsx","index.tsx","lib/router/modals/modalContext.tsx","components/dialog/DialogTitle.tsx","components/dialog/Dialog.tsx","components/dialog/DialogContent.tsx","components/dialog/DialogActions.tsx","components/dialog/DialogPrimaryButton.tsx","components/dialog/DialogSecondaryButton.tsx","components/dialog/DialogForm.tsx","components/dialog/DialogErrorMessage.tsx","components/dialog/DialogLoader.tsx","features/projects/card/ProjectCard.tsx","features/projects/card/ProjectCardContent.tsx","features/projects/card/ProjectCardButtonBadge.tsx","features/projects/card/ProjectCardCookieCount.tsx","features/projects/card/PublicProjectCard.tsx","components/page/PageHeader.tsx","hooks/useIsElementFullyHidden.tsx","components/page/PageContent.tsx","components/page/PageSkeleton.tsx","components/EmptyState.tsx","features/quiz/quizHelpers.ts","features/dialog-queue/store/dialogQueueActionyTypes.ts","features/dialog-queue/store/dialogQueueReducer.ts","features/dialog-queue/store/dialogQueueActions.ts","features/dialog-queue/components/QueuedDialog.tsx","features/dialog-queue/components/OnboardingAchievementUnlockedDialog.tsx","features/dialog-queue/components/OnboardingPointsReachedDialog.tsx","features/dialog-queue/components/DialogQueueManager.tsx","features/dialog-queue/helpers/dialogQueueHelpers.ts","features/dialog-queue/helpers/usePauseDialogQueue.ts","features/projects/store/projectActions.ts","contexts/UserContext.tsx","lib/store/pageReducer.ts","features/quiz/ChoiceResponse.tsx","features/quiz/JoinQuizDialog.tsx","features/quiz/JoinQuizButton.tsx","components/Modal.tsx","features/quiz/ImageDialogue.tsx","features/quiz/NumberResponse.tsx","features/quiz/QuizApi.ts","features/quiz/home-quiz/HomeQuizDetails.tsx","features/quiz/home-quiz/HomeQuizAnswers.tsx","features/quiz/home-quiz/RecommendedHomeQuizzes.tsx","features/quiz/QuizIframe.tsx","components/Paper.tsx","features/secret-code/SecretCodeInput.tsx","features/secret-code/SecretCodeUnlocker.tsx","features/secret-code/useProcessSecretCodeRedeemResponse.ts","features/secret-code/SecretCodesApi.ts","features/mini-quizzes/data/MiniQuizApi.ts","features/mini-quizzes/media/empty-state.svg","features/mini-quizzes/projects/components/MyMiniQuizListList.tsx","features/mini-quizzes/projects/components/MyMiniQuizFilters.tsx","features/mini-quizzes/projects/components/MyMiniQuizzes.tsx","features/projects/ProjectListTab.tsx","features/quiz/home-quiz/helpers/aiQuizHelper.ts","hooks/useGetUserAge.ts","features/quiz/home-quiz/customHomeQuizTransformer.ts","features/quiz/home-quiz/homeQuizQueries.ts","components/stat/Stat.tsx","components/stat/StatCard.tsx","lib/api/index.ts","components/layout/WrappingInline.tsx","features/scoolcode-challenge/data/scoolcodeChallengeQueries.ts","features/projects/card/ProjectCardBadge.tsx","features/classroom/components/curriculum/timesheet/HTMLText.tsx","components/page/PageContainer.tsx","components/popup-menu/PopupMenuDivider.tsx","components/Prompt.tsx","hooks/usePrevious.ts","features/projects/ProjectActionsMenu.tsx","lib/liveops/actions/currency.ts","lib/liveops/actions/statistics.ts","lib/liveops/actions/notifications.ts","lib/liveops/actions/profile.ts","lib/router/Scrollrestoration.tsx","features/classroom/index.ts","features/management/components/ManagementContextProvider.tsx","components/Confirm.tsx","features/projects/ProjectsApi.ts","features/events/pages/onboarding/media/badges/profiller.svg","features/events/pages/onboarding/media/badges/projectExplorer.svg","features/events/pages/onboarding/media/badges/follower.svg","features/events/pages/onboarding/media/badges/cookieContributor.svg","features/events/pages/onboarding/media/badges/trainerFollower.svg","features/events/pages/onboarding/media/badges/cookieHunter.svg","features/events/pages/onboarding/media/badges/questExplorer.svg","features/events/pages/onboarding/media/badges/miniQuestExplorer.svg","features/events/pages/onboarding/media/badges/highScoreHero.svg","features/events/pages/onboarding/media/badges/quizExplorer.svg","features/events/pages/onboarding/data/onboardingData.ts","hooks/useTitle.ts","hooks/createHashDialog.tsx","features/certificates/PdfTemplates.tsx","features/profile/UserBadge.tsx","features/profile/EditableAvatar.tsx","features/profile/ProfileCard.tsx","features/profile/SharedProjectList.tsx","features/profile/ProfileStats.tsx","features/profile/ProfileSubjects.tsx","features/limited-accounts/components/SecureAccountPopupPrivder.tsx","hooks/useIsFirstRender.tsx","features/limited-accounts/media/block_01/en.jpg","features/limited-accounts/media/block_02/default.png","features/limited-accounts/media/block_03/bg-BG.jpg","features/limited-accounts/media/block_03/cz-CZ.jpg","features/limited-accounts/media/block_03/de-CH.jpg","features/limited-accounts/media/block_03/de-DE.jpg","features/limited-accounts/media/block_03/en.jpg","features/limited-accounts/media/block_03/es-ES.jpg","features/limited-accounts/media/block_03/es-MX.jpg","features/limited-accounts/media/block_03/hu-HU.jpg","features/limited-accounts/media/block_03/ro-RO.jpg","features/limited-accounts/media/block_03/fr-BE.jpg","features/limited-accounts/media/block_03/es-CO.jpg","features/limited-accounts/media/slider/1.jpg","features/limited-accounts/media/slider/2.jpg","features/limited-accounts/media/slider/3.jpg","features/limited-accounts/media/slider/4.jpg","features/limited-accounts/media/slider/5.jpg","features/limited-accounts/media/slider/6.jpg","features/limited-accounts/components/OpenDayCarousel.tsx","features/limited-accounts/components/OpenDayWelcome.tsx","features/limited-accounts/media/open-day-email.svg","components/SuccessMessage.tsx","features/limited-accounts/components/AskForOpenDayButton.tsx","features/limited-accounts/components/LimitedProjectModalContent.tsx","features/limited-accounts/media/locked-bg.jpg","features/limited-accounts/components/OpenDayChallenge.tsx","features/limited-accounts/media/block_04/en.jpg","features/limited-accounts/components/OpenDayClassroom.tsx","features/limited-accounts/guest-welcome/media/blob-1.png","features/limited-accounts/guest-welcome/media/blob-2.png","features/limited-accounts/guest-welcome/media/blob-3.png","features/limited-accounts/guest-welcome/components/GuestWelcomeHero.tsx","features/limited-accounts/guest-welcome/media/space-bg.jpg","features/limited-accounts/guest-welcome/components/GuestWelcomePageWrapper.tsx","features/limited-accounts/guest-community-cloud/components/GuestCommunityCloudItem.tsx","features/limited-accounts/guest-community-cloud/media/bg.svg","features/limited-accounts/guest-community-cloud/media/title-bg.svg","features/limited-accounts/guest-community-cloud/media/logirobi.png","features/limited-accounts/guest-community-cloud/components/GuestCommunityCloud.tsx","features/limited-accounts/guest-community-cloud/media/badge-1.png","features/limited-accounts/guest-community-cloud/media/badge-2.png","features/limited-accounts/guest-community-cloud/media/badge-3.png","features/limited-accounts/guest-community-cloud/media/badge-4.png","features/limited-accounts/guest-community-cloud/media/badge-5.png","features/limited-accounts/guest-community-cloud/media/badge-6.png","features/limited-accounts/guest-community-cloud/media/badge-7.png","components/ContentLocked.tsx","features/limited-accounts/components/LockedChallengeOverlay.tsx","features/management/components/ManagementModal.tsx","features/projects/modal/ProjectModalError.tsx","lib/auth/auth.ts","lib/auth/AuthFlow.tsx","features/projects/stripe/ProjectStripe.tsx","components/popup-menu/popupMenuContext.ts","components/form/InputAdornment.tsx","components/form/FormControl.tsx","components/form/FormHelperText.tsx","components/form/FormLabel.ts","components/form/Select.tsx","components/form/SelectBox.tsx","components/form/Switch.tsx","components/form/Input.tsx","components/form/TextField.tsx","components/form/CheckBox.tsx","features/high-score/HighScoreGameThumbnail.tsx","components/achievement-card/AchievementCard.tsx","components/achievement-card/AchievementCardContent.tsx","components/achievement-card/AchievementCardDescription.tsx","components/achievement-card/AchievementCardFooterText.tsx","components/achievement-card/AchievementCardImage.tsx","components/achievement-card/AchievementCardImageWrap.tsx","components/achievement-card/AchievementCardPoints.tsx","components/achievement-card/AchievementCardTitle.tsx","components/Button.tsx","features/management/helpers/managementContext.ts","features/events/useEventsData.ts","components/page/PageMobileHeader.tsx","features/management/components/ManagementPane.tsx","components/page/PageAside.tsx","components/page/Page.tsx","components/card/Card.tsx","components/card/CardContent.tsx","components/card/CardHeader.tsx","components/LinearLoader.tsx","components/FullScreenLoader.tsx","features/events/activity-events/helpers/activityEventContext.ts","components/Authorize.tsx","features/classroom/components/curriculum/FeedbackModal.tsx","features/classroom/components/curriculum/InClassModeCard.tsx","lib/store/store.ts","lib/store/store-action-listener/storeActionListenerMiddleware.ts","lib/store/StoreProvider.tsx","lib/store/useSelector.ts","media/images/logiscool-logo.png","features/projects/modal/ProjectModalDescription.tsx","features/meetings/components/MeetingItem.tsx","features/meetings/components/MeetingList.tsx","features/meetings/data/MeetingsApi.ts","components/layout/TextBody.tsx","features/projects/card/ProjectCardFavoriteBadge.tsx","features/projects/my/MyCustomRightClickMenu.tsx","features/events/activity-events/helpers/activityEventHelpers.ts","features/birthday/media/birthday-footer.webp","features/birthday/components/BirthdayFooter.tsx","features/birthday/components/BirthdayConfetti.tsx","features/birthday/components/BirthdayGerland.tsx","features/birthday/data/birthdayData.ts","components/tabs/Tabs.tsx","components/tabs/Tab.tsx","features/events/components/details/EventDetailsBanner.tsx","features/events/components/details/EventDetailsTitle.tsx","features/events/components/EventDetailsBase.tsx","features/certificates/PdfGenerator.tsx","features/feed/store/feedSelectors.ts","features/projects/createProjectFormData.ts","features/events/components/EventLoader.tsx","lib/app-variant/appVariants.ts","lib/grants/index.ts","components/Breadcrumbs.tsx","components/FloatingBadge.tsx","components/EmbeddedVideo.tsx","lib/theme/createTheme.ts","lib/theme/themes/light1Theme.tsx","lib/theme/themes/light5Theme.ts","lib/theme/themes/light6Theme.ts","lib/theme/themes/light4Theme.ts","lib/theme/themes/light3Theme.ts","lib/theme/themes/light2Theme.tsx","lib/theme/themes/dark1Theme.ts","lib/theme/themes/dark2Theme.ts","lib/theme/themes/dark3Theme.ts","lib/theme/themes/space/space-footer.png","lib/theme/themes/space/space-bg.jpg","lib/theme/themes/space/spaceTheme.tsx","lib/theme/themes/xmas/xmas-bg.webp","lib/theme/themes/xmas/xmas-footer.webp","lib/theme/themes/xmas/Snowfall.tsx","lib/theme/themes/xmas/xmasTheme.tsx","lib/theme/themes/easter/easter-footer.webp","lib/theme/themes/easter/EasterFooter.tsx","lib/theme/themes/easter/easterTheme.tsx","lib/theme/themes/halloween/halloween_footer.webp","lib/theme/themes/halloween/HalloweenFooter.tsx","lib/theme/themes/halloween/halloweenTheme.tsx","lib/theme/themes/ninja/ninja-footer.png","lib/theme/themes/ninja/ninjaTheme.tsx","lib/theme/themes/scooler/scooler-footer.png","lib/theme/themes/scooler/scoolerTheme.tsx","lib/theme/themes/scooler-romanian/scooler-romanian-footer.png","lib/theme/themes/scooler-romanian/scoolerRomanianTheme.tsx","lib/theme/ThemeProvider.tsx","lib/theme/ThemeGlobalComponent.tsx","features/feed/data/feedhelper.ts","features/feed/components/FeedEntryVimeoModal.tsx","features/feed/components/FeedEntryMetaAction.tsx","features/feed/components/FeedEntryCta.tsx","features/feed/components/FeedEntryCaption.tsx","features/feed/components/entries/FeedEntryBase.tsx","hooks/useRelativeTimeFormat.ts","features/feed/components/entries/AnnouncementEntry.tsx","features/feed/components/entries/GeneralEntry.tsx","features/feed/components/entries/MinorEntry.tsx","features/feed/components/entries/VotingEntry.tsx","features/feed/data/feedQueries.ts","features/feed/components/WelcomeStats.tsx","features/feed/components/FeedList.tsx","features/events/activity-events/components/ActivityEventFeedWeeklyMission.tsx","features/feed/components/Feed.tsx","features/feed/store/feedReducer.ts","features/events/activity-events/helpers/normalizeActivityEvent.ts","features/events/activity-events/helpers/useSubscribeToActivityEventPoints.ts","features/events/activity-events/components/ActivityEventContextProvider.tsx","features/classroom/groupQueries.ts","features/quiz/quizQueries.ts","components/leaderboard/Leaderboard.tsx","components/leaderboard/LeaderboardItem.tsx","features/high-score/HighScoreGameLeaderboard.tsx","features/events/useEvents.ts","features/events/store/eventsActions.ts","features/feed/data/customFeedTransformers.tsx","features/feed/useFeed.ts","hooks/useIsElementFullyVisible.ts","features/projects/my/MyProjectStripeActions.tsx","features/certificates/CertifiateDialog.tsx","features/events/pages/onboarding/media/prize1.svg","features/onboarding/index.ts","features/projects/my/MyProjectCardActionsMenu.tsx","features/projects/my/MyProjectLanguage.tsx","features/certificates/CertificateRibbon.tsx","features/projects/report/ReportProjectModal.tsx","features/projects/details/ProjectDetailsActions.tsx","features/feed/store/feedActions.ts","features/feed/store/feedActionTypes.ts","components/layout/Box.tsx","components/layout/Hidden.tsx","components/layout/Grid.tsx","components/layout/Flex.tsx","components/layout/Inline.tsx","components/layout/Stack.tsx","hooks/useUpdateUserSettingOnChange.ts","lib/api/AccountsApi.ts","features/events/data/media/drawing-contest-2020/images/drawing-contest-banner.jpg","features/events/data/media/drawing-contest-2020/images/drawing-contest-2020-thumbnail.jpg","features/events/data/media/drawing-contest-2019/images/drawing-contest-2019-thumbnail.jpg","features/events/pages/digital-misson-2020/images/digital-mission-banner.jpg","features/events/pages/digital-mission-2021/images/digital-mission-banner.png","features/events/pages/digital-mission-2021/images/thumbnail.jpg","features/events/pages/digital-misson-2020/images/digital-mission-thumbnail.jpg","features/events/pages/digigirlz-2020/images/digigirlz-banner.jpg","features/events/pages/digigirlz-2020/images/thumbnail.jpg","features/events/pages/trainer-contest-2020/images/trainer-contest-2020-banner.jpg","features/events/pages/trainer-contest-2020/images/trainer-contest-2020-thumbnail.jpg","features/events/pages/trainer-contest-2021/images/trainer-contest-2021-thumbnail.png","features/events/pages/trainer-contest-2021/images/trainer-contest-2021-banner.png","features/events/pages/onboarding/media/onboarding-banner.jpg","features/events/pages/onboarding/media/onboarding-thumbnail.jpg","features/events/data/media/drawing-contest-2021/images/drawingContest2021.jpg","features/events/data/media/drawing-contest-2022/images/drawing-contest-2022-banner.jpg","features/events/data/media/drawing-contest-2023/images/drawing-contest-2023-banner.jpg","features/events/data/media/drawing-contest-2024/drawing-contest-2024-banner.jpg","features/events/data/media/drawing-contest-2024/drawing-contest-2024-thumbnail.png","features/events/data/media/drawing-contest-2023/images/drawing-contest-2023-thumbnail.png","features/events/data/media/drawing-contest-2022/images/drawing-contest-2022-thumbnail.jpg","features/events/data/media/drawing-contest-2021/images/drc2021thumb.jpg","features/events/data/media/drawing-contest-2024/images/index.tsx","features/events/data/media/drawing-contest-2024/images/67475f5b932fddb2ca87fc2f.png","features/events/data/media/drawing-contest-2024/images/67475f91932fddb2ca880a9c.png","features/events/data/media/drawing-contest-2024/images/674760669d90878cebd8beeb.png","features/events/data/media/drawing-contest-2024/images/67475fb99d90878cebd8a077.png","features/events/data/media/drawing-contest-2024/images/67475fdb9d90878cebd8a72d.png","features/events/data/media/drawing-contest-2024/images/67475f169d90878cebd879f6.png","features/events/data/media/drawing-contest-2024/images/674760439d90878cebd8b8ff.png","features/events/data/media/drawing-contest-2024/images/67475ffe9d90878cebd8ac30.png","features/events/data/media/drawing-contest-2024/images/674760219d90878cebd8b3bf.png","features/events/data/media/drawing-contest-2024/images/674760989d90878cebd8c85a.png","features/events/data/media/drawing-contest-2023/images/index.tsx","features/events/data/media/drawing-contest-2023/images/656ef0f76607f0129e79ffe8.png","features/events/data/media/drawing-contest-2023/images/656ef1afa3ce9b42dd25a15f.png","features/events/data/media/drawing-contest-2023/images/656ef1bea3ce9b42dd25a210.png","features/events/data/media/drawing-contest-2023/images/656ef1cc6607f0129e7a084d.png","features/events/data/media/drawing-contest-2023/images/656ef18f6607f0129e7a05db.png","features/events/data/media/drawing-contest-2023/images/656ef19ca3ce9b42dd25a103.png","features/events/data/media/drawing-contest-2023/images/656ef120a3ce9b42dd259c4f.png","features/events/data/media/drawing-contest-2023/images/656ef1636607f0129e7a03e8.png","features/events/data/media/drawing-contest-2023/images/656ef1786607f0129e7a04f5.png","features/events/data/media/drawing-contest-2023/images/6568a364d89bd678473bea16.png","features/events/data/media/drawing-contest-2022/images/index.tsx","features/events/data/media/drawing-contest-2022/images/6390b5eee3150f90a41d5ce2.png","features/events/data/media/drawing-contest-2022/images/6390b60b56d05765b3fbfb94.png","features/events/data/media/drawing-contest-2022/images/6390b62ae6b232b1a323a9de.png","features/events/data/media/drawing-contest-2022/images/6390b6368d8f3a0378ee82eb.png","features/events/data/media/drawing-contest-2022/images/6390b6468d8f3a3a5cee8420.png","features/events/data/media/drawing-contest-2022/images/6390b6ac8d8f3a6b2eee8e0d.png","features/events/data/media/drawing-contest-2022/images/6390b6b9be7e645ef097b549.png","features/events/data/media/drawing-contest-2022/images/6390b6c37c4c4781cdab7e87.png","features/events/data/media/drawing-contest-2022/images/6390b6ced6569515eadc162e.png","features/events/data/media/drawing-contest-2022/images/6390b6da83b28b6ac091cb1a.png","features/events/data/media/drawing-contest-2021/images/index.tsx","features/events/data/media/drawing-contest-2021/images/61ae0ba45f80533ebd13ca2a.png","features/events/data/media/drawing-contest-2021/images/61ae0bc55f805340c513ca4f.png","features/events/data/media/drawing-contest-2021/images/61ae0bd7ae44152d5a5547c0.png","features/events/data/media/drawing-contest-2021/images/61ae0becae441518f05547de.png","features/events/data/media/drawing-contest-2021/images/61ae0bff9403ab463a848676.png","features/events/data/media/drawing-contest-2021/images/61ae0c145f805313fb13ca9f.png","features/events/data/media/drawing-contest-2021/images/61ae0c2a9403abf79b8486a8.png","features/events/data/media/drawing-contest-2021/images/61ae0c36ae44158de655483e.png","features/events/data/media/drawing-contest-2021/images/61ae0c4814bc24630aeaea50.png","features/events/data/media/drawing-contest-2021/images/61ae0c54ae44151c31554857.png","features/events/data/media/drawing-contest-2020/images/index.ts","features/events/data/media/drawing-contest-2020/images/5fcb3ffd4a7e0a00092cb468.png","features/events/data/media/drawing-contest-2020/images/5fcb40ac355ce60009048388.png","features/events/data/media/drawing-contest-2020/images/5fcb40bf4a7e0a00092cb4cd.png","features/events/data/media/drawing-contest-2020/images/5fcb405c355ce60009048350.png","features/events/data/media/drawing-contest-2020/images/5fcb409b4a7e0a00092cb4b4.png","features/events/data/media/drawing-contest-2020/images/5fcb40704a7e0a00092cb492.png","features/events/data/media/drawing-contest-2020/images/5fcb4010355ce60009048330.png","features/events/data/media/drawing-contest-2020/images/5fcb4026355ce60009048336.png","features/events/data/media/drawing-contest-2020/images/5fcb4045355ce60009048343.png","features/events/data/media/drawing-contest-2020/images/5fcb4088355ce60009048363.png","features/events/data/media/drawing-contest-2019/images/index.ts","features/events/data/media/drawing-contest-2019/images/5dee3fdbb2dc0a00124753e3.png","features/events/data/media/drawing-contest-2019/images/5dee3ff4d33f4c002b30de16.png","features/events/data/media/drawing-contest-2019/images/5dee4011d33f4c002b30de1a.png","features/events/data/media/drawing-contest-2019/images/5dee4023b1a7b90011a38132.png","features/events/data/media/drawing-contest-2019/images/5dee4036d33f4c002b30de21.png","features/events/data/media/drawing-contest-2019/images/5dee4049b2dc0a00124753ec.png","features/events/data/media/drawing-contest-2019/images/5dee4059d33f4c002b30de25.png","features/events/data/media/drawing-contest-2019/images/5dee4068b1a7b90011a38135.png","features/events/data/media/drawing-contest-2019/images/5dee4077d33f4c002b30de28.png","features/events/data/media/drawing-contest-2019/images/5dee40040c59430012766bdc.png","features/events/data/EventsCampaign.ts","features/events/data/eventData.ts","features/events/data/eventsApi.ts","features/feed/data/feedApi.ts","features/wallpapers/data/WallpapersApi.ts","features/management/ManagementApi.ts","lib/api/Api.ts","features/quiz/generated-quiz/generatedQuizHelpers.ts","features/quiz/generated-quiz/GeneratedQuizCardContent.tsx","features/quiz/generated-quiz/useGeneratedQuizCreator.ts","features/quiz/generated-quiz/GenerateQuizCard.tsx","features/quiz/generated-quiz/CreateMultiplayerGeneratedQuizButton.tsx","components/Popover.tsx","features/classroom/components/curriculum/elements/MoodRating.tsx","features/events/camp-challenge/data/campChallengeData.ts","features/events/components/details/EventDetailsContent.tsx","features/projects/commonProjectStyles.ts","lib/grants/grants.ts","lib/grants/grant-dev-tool/grantDevToolUtilts.ts","lib/liveops/constants.ts","media/images/logiscool-logo-white.png","features/projects/ProjectLabelSelect.tsx","features/projects/NewProjectDialog.tsx","hooks/useLocationTabs.ts","features/projects/NewProjectButton.tsx","features/projects/details/ProjectDetailsTitle.tsx","features/projects/details/ProjectDetailsStats.tsx","utils/timeUtils.ts","features/projects/ProjectThumbnailInput.tsx","features/projects/details/ProjectDetailsThumbnail.tsx","features/projects/details/ProjectDetailsEditableDescription.tsx","features/projects/details/CommunityProjectCookies.tsx","features/projects/details/ProjectDetailsLabels.tsx","features/projects/details/CommunityProjectDetails.tsx","features/projects/details/ClassroomProjectDetails.tsx","features/projects/discover/DiscoverProjectsHeader.tsx","features/projects/discover/DiscoverProjectsList.tsx","features/projects/discover/DiscoverProjects.tsx","features/projects/my/MyClassroomProjectCard.tsx","features/projects/my/CreateYourFirstProject.tsx","features/projects/my/MyProjectsList.tsx","features/projects/my/MyProjectsFilters.tsx","features/projects/my/MyProjects.tsx","features/projects/modal/ProjectModalFooter.tsx","features/projects/share/ProjectShare.tsx","components/InfoMessage.tsx","features/projects/share/SocialSharing.tsx","features/projects/PageCookie.tsx","features/certificates/logiscool-logo.png","components/Loader.tsx","features/events/components/EventGrid.tsx","features/events/components/EventThumbnail.tsx","features/events/components/OngoingEventBanner.tsx","features/events/components/OngoingEventList.tsx","features/events/components/EventList.tsx","features/events/components/EventsRouter.tsx","features/events/activity-events/components/ActivityEventPageCurrency.tsx","features/events/store/eventsReducer.ts","lib/grants/grant-dev-tool/GrantDevToolDialog.tsx","utils/errors.ts","lib/store/store-action-listener/StoreActionListener.ts","components/page/PageTitle.tsx","features/projects/CookieCount.tsx","features/projects/card/ProjetCardUser.tsx","features/projects/details/ProjectDetailsUser.tsx","features/scoolcode-challenge/index.ts","features/projects/modal/not-found.png","features/projects/modal/ProjectModalEmbed.tsx","features/projects/modal/ProjectModalBase.tsx","lib/grants/grant-dev-tool/GrantDevToolButton.tsx","lib/liveops/models/notification.ts","utils/styleUtils.ts","features/projects/my/MyDeletedProjectCard.tsx","features/events/components/details/EventDetailsBreadcrumb.tsx","features/events/store/eventsActionTypes.ts","components/Markdown.tsx","lib/liveops/actions/reportProject.ts","features/high-score/HighScoreRoomCountdown.tsx","features/quiz/generated-quiz/generatedQuizQueries.ts","features/quiz/home-quiz/fallback-thumbnail.png","features/projects/my/MyProjectBlockGallery.tsx","components/CurrencyBadge.tsx","pages/high-score/HighScorePage.tsx","features/high-score/HighScoreRoomResults.tsx","pages/community-project-details/LimitedCommunityProjectDetailsPage.tsx","pages/project-details/ProjectDetailsPage.tsx","features/mini-quizzes/editor/components/MiniQuizEditorModal.tsx","features/wallpapers/components/WallpaperList.tsx","lib/router/modals/modalRoutes.tsx","pages/high-score-room-results/HighScoreRoomResultsPage.tsx","pages/share-project/ShareProjectPage.tsx","features/feed/components/LongformDialog.tsx","features/wallpapers/components/WallpapersDialog.tsx","features/wallpapers/data/wallpaperQueries.ts","features/surveys/media/survey-icon.svg","features/surveys/components/SurveyList.tsx","features/surveys/data/SurveysApi.ts","features/xmas-projects/data/xmasData.ts","features/xmas-projects/components/XmasProjectDetails.tsx","features/xmas-projects/components/XmasProjectDetailsPage.tsx","lib/floating-text/FloatingTextContext.tsx","features/mini-quizzes/projects/components/MiniQuizCardCookieCount.tsx","features/mini-quizzes/projects/components/MiniQuizCardMetadata.tsx","components/ErrorBoundary.tsx","components/ErrorMessage.tsx","components/panel/Panel.tsx","components/panel/PanelActions.tsx","components/panel/PanelHeader.tsx","components/panel/PanelTitle.tsx","components/panel/PanelMoreButton.tsx","lib/grants/grant-dev-tool/userSchemas.ts","features/certificates/DrawingCerts/CustomPdfTemplates.tsx","features/certificates/DrawingCerts/CustomCertData.ts","features/certificates/DrawingCerts/CustomCertList.tsx","hooks/useRegisterActivityOnLoad.ts","utils/env.ts","features/events/components/details/EventDetailsSubtitle.tsx","features/events/activity-events/components/ActivityEventPointIcon.tsx","lib/recording/recordingDevToolUtils.ts","features/onboarding/data/onboardingData.tsx","features/onboarding/components/OnboardingManager.tsx","features/management/components/editors/ImageUploadButton.tsx","features/management/components/editors/BooleanField.tsx","features/management/components/MultiEditStep.tsx","features/management/components/editors/TextMultiEditField.tsx","features/management/components/editors/JSONMultiEditField.tsx","features/management/components/editors/NumberField.tsx","features/management/components/editors/DateField.tsx","features/management/components/editors/ImageField.tsx","components/ImageZoom.tsx","components/Accordion.tsx","lib/liveops/actions/follow.ts","hooks/useScrollToHash.ts","features/management/components/MutationTask.tsx","features/mini-quizzes/projects/components/PublicMiniQuizCard.tsx","features/high-score/HighScoreGameThumbnailLink.tsx","features/quiz/home-quiz/HomeQuizCard.tsx","features/projects/details/ProjectDetailsDescription.tsx","features/projects/useIncrementProjectViewCount.ts","features/projects/card/ProjectCardImage.tsx","lib/liveops/initLiveops.ts","lib/liveops/actions/achievement.ts","lib/liveops/liveopsMiddleware.ts","lib/liveops/reducers/client/inventory.ts","lib/liveops/reducers/client/statistic.ts","lib/liveops/reducers/client/notifications.ts","lib/liveops/reducers/client/index.ts","lib/liveops/reducers/client/currency.ts","lib/liveops/reducers/client/ready.ts","lib/liveops/reducers/client/vote.ts","lib/liveops/reducers/client/session.ts","lib/liveops/reducers/client/achievement.ts","lib/liveops/reducers/shared/index.ts","lib/liveops/reducers/shared/leaderboard.ts","lib/liveops/liveopsSelectors.ts","features/high-score/HighScoreGamesList.tsx","features/high-score/CreateHighScoreRoomButton.tsx","features/high-score/HighScoreRoomPanel.tsx","features/high-score/HighScoreDetails.tsx","features/projects/useIncrementHGViewCount.ts","features/high-score/JoinHighScoreRoomDialog.tsx","features/high-score/JoinHighScoreRoomButton.tsx","features/high-score/media/room-empty-state.svg","features/high-score/HighScoreRoomList.tsx","features/online-first-challenge/components/OnlinefirstChallengeCard.tsx","features/online-first-challenge/components/OnlinefirstChallengeDialog.tsx","features/online-first-challenge/components/OnlinefirstChallengeList.tsx","features/online-first-challenge/helpers.ts","features/projects/projectHelpers.ts","lib/i18n/i18n.ts","lib/i18n/useLanguagesQuery.ts","lib/i18n/LanguagesApi.ts","lib/i18n/useTranslate.ts","features/mini-quizzes/projects/components/MyMiniQuizCard.tsx","features/certificates/GetCustomCertButton.tsx","components/Tooltip.tsx","lib/liveops/actions/inventory.ts","features/classroom/data/GroupsApi.ts","features/classroom/media/Sleepy Owl Idle Sleepy.png","features/projects/projectQueries.ts","features/profile/useUserStatisticQuery.ts","features/mini-quizzes/data/miniQuizQueries.ts","features/quiz/SingleQuizResult.tsx","features/quiz/QuizResultsGrid.tsx","features/quiz/DetailedQuizResult.tsx","features/quiz/home-quiz/HomeQuizGrid.tsx","features/mini-quizzes/editor/components/MiniQuizEditorSkeleton.tsx","components/Locked.tsx","features/projects/card/ProjectCardViewCount.tsx","features/projects/my/MyCommunityProjectCard.tsx","features/events/types/eventTypesV2.ts","features/scoolcode-challenge/data/ScoolcodeChallengeApi.ts","features/projects/modal/projectModalContext.ts","features/classroom/components/curriculum/CurriculumListTab.tsx","features/classroom/components/curriculum/SubjectCard.tsx","features/classroom/components/curriculum/CurriculumPanel.tsx","features/classroom/components/curriculum/attachment/VimeoAttachment.tsx","features/classroom/components/curriculum/attachment/AttachmentKindIcon.tsx","features/classroom/components/curriculum/attachment/DocumentAttachment.tsx","features/classroom/components/curriculum/attachment/DownloadAttachment.tsx","features/classroom/components/curriculum/attachment/AttachmentEntry.tsx","features/classroom/components/curriculum/attachment/AttachmentList.tsx","features/classroom/components/curriculum/timesheet/StatusEntry.tsx","features/classroom/media/Computer Parts Monitor Blue Death.png","features/classroom/media/Computer Parts Monitor.png","features/classroom/components/curriculum/timesheet/TextGroupEntry.tsx","features/classroom/components/curriculum/timesheet/TaskGroupEntry.tsx","features/classroom/components/curriculum/timesheet/QuizGroupEntry.tsx","features/classroom/components/curriculum/timesheet/ChallengeGroupEntry.tsx","features/classroom/components/curriculum/timesheet/VideoGroupEntry.tsx","features/classroom/components/curriculum/timesheet/CodeGroupEntry.tsx","features/classroom/components/curriculum/timesheet/GroupEntryView.tsx","features/classroom/components/curriculum/timesheet/EntryGroup.tsx","features/classroom/components/curriculum/TimesheetEntry.tsx","features/classroom/components/curriculum/FeedbackCard.tsx","features/classroom/components/curriculum/PasswordResetModal.tsx","features/classroom/components/curriculum/QRLoginModal.tsx","features/classroom/components/curriculum/elements/AttendanceSwitch.tsx","features/classroom/components/curriculum/AttendanceCard.tsx","features/classroom/components/overview/UpcomingLessons.tsx","features/classroom/components/overview/ViewTrainerRulesModal.tsx","features/certificates/CertificateItem.tsx","features/certificates/CertificateListEmptyState.tsx","features/certificates/CertificateList.tsx","features/certificates/useCertificateData.ts","features/certificates/useHasAllCertificateContents.ts","features/certificates/certificatesApi.ts","features/scoolcode-challenge/media/fallback-cover.png","features/scoolcode-challenge/components/ScoolcodeChallengeCard.tsx","features/scoolcode-challenge/components/ScoolcodeChallengeList.tsx","features/events/activity-events/data/digitalMission2023Data.ts","features/events/activity-events/components/ActivityEventWeeklyMissions.tsx","components/Text.tsx","components/Skeleton.tsx","features/events/pages/digital-mission-2021/badges/cookieCollector.svg","features/events/pages/digital-mission-2021/badges/cookieContributor.svg","features/events/pages/digital-mission-2021/badges/follower.svg","features/events/pages/digital-mission-2021/badges/numberCrush.svg","features/events/pages/digital-mission-2021/badges/profiller.svg","features/events/pages/digital-mission-2021/badges/cosmicQuiz.svg","features/events/pages/digital-mission-2021/badges/laboratoryEscape.svg","features/events/pages/digital-mission-2021/badges/feedVoter.svg","features/events/pages/digital-mission-2021/badges/wonderQuiz.svg","features/events/pages/digital-mission-2021/badges/questMaster.svg","features/events/pages/digital-mission-2021/badges/projectExplorer.svg","features/events/pages/digital-mission-2021/badges/highScoreHero.svg","features/events/pages/digital-mission-2021/badges/projectCreator.svg","features/events/pages/digital-mission-2021/badges/marvel.svg","features/events/pages/digital-mission-2021/badges/geographyexplorer.svg","features/events/pages/digital-mission-2021/badges/RobotOlympics.svg","features/events/pages/digital-mission-2021/badges/inventionmaster.svg","features/events/pages/digital-mission-2021/badges/trainerContestVoter.svg","features/events/pages/digital-mission-2021/badges/trainerFollower.svg","features/events/pages/digital-mission-2021/badges/cookieHunter.svg","features/events/pages/digital-mission-2021/badges/gamingExpert.svg","features/events/pages/digital-mission-2021/badges/planetEvolution.svg","features/events/pages/digital-mission-2021/data/digitalMission2021Data.ts","features/events/pages/digital-mission-2021/helpers/digitalMission2021Helpers.tsx","features/events/pages/digital-mission-2021/components/DigitalMission2021Progress.tsx","features/events/pages/digital-mission-2021/components/DigitalMission2021Prizes.tsx","features/events/pages/digital-mission-2021/DigitalMission2021Achivement.tsx","features/events/pages/digital-mission-2021/components/DigitalMission2021Results.tsx","features/events/pages/digital-mission-2021/helper.ts","features/events/pages/digital-mission-2021/DigitalMission2021Page.tsx","features/events/pages/onboarding/helpers/onboardingHelpers.tsx","features/events/pages/onboarding/components/OnboardingAchievement.tsx","features/events/pages/onboarding/components/OnboardingAchievementDetails.tsx","features/events/pages/onboarding/media/prize2.png","features/events/pages/onboarding/components/OnboardingProgress.tsx","features/events/pages/onboarding/components/OnboardingAchievementList.tsx","features/events/pages/onboarding/OnboardingPage.tsx","features/events/camp-challenge/media/cta.jpg","features/events/camp-challenge/media/banner.jpg","features/events/camp-challenge/components/CampChallengePage.tsx","features/notifications/NotificationImages.tsx","features/notifications/media/goldtrophy.svg","features/notifications/media/silvertrophy.svg","features/notifications/media/bronzetrophy.svg","features/notifications/media/platinumtrophy.svg","features/notifications/NotificationBlock.tsx","features/notifications/useNotificationToNotificationView.tsx","features/notifications/NotificationPanel.tsx","features/notifications/NotificationButton.tsx","features/notifications/useNotifications.tsx","components/list/List.tsx","components/list/ListItem.tsx","components/list/ListItemText.tsx","components/list/ListItemIcon.tsx","components/popup-menu/PopupMenu.tsx","components/popup-menu/PopupMenuButton.tsx","components/popup-menu/PopupMenuList.tsx","components/popup-menu/PoupMenuItem.tsx","features/cookie-hunt/data/cookieHuntData.ts","features/cookie-hunt/context/CookieHuntContext.tsx","features/cookie-hunt/store/cookieHuntActions.ts","features/cookie-hunt/media/cookie.svg","features/cookie-hunt/media/easter-egg.svg","features/cookie-hunt/components/CookieHunt.tsx","features/projects/useProjectActions.ts","features/projects/store/projectTypes.ts","features/avatar/fallback-avatar.jpg","features/avatar/Avatar.tsx","features/avatar/avatarHelpers.ts","features/avatar/CurrentUserAvatar.tsx","features/avatar/AvatarBadge.tsx","features/avatar/AvatarOverlay.tsx","features/avatar/SelectableAvatar.tsx","features/avatar/AvatarBrowser.tsx","features/avatar/AvatarBrowserDialog.tsx","hooks/usePoorMansSuspense.tsx","components/IconButton.tsx","lib/api/ApiBase.ts","features/certificates/certificateData.ts","features/certificates/certificateHelpers.ts","components/icons.tsx","components/action-card/ActionCard.tsx","components/action-card/ActionCardContent.tsx","hooks/useDateFormat.ts","components/Img.tsx","hooks/useIncrementActivityScore.ts","features/mini-quizzes/helpers/miniQuizHelpers.ts","features/classroom/store/inClassTypes.ts","features/classroom/store/inClassActions.ts","features/classroom/store/inClassReducer.ts","features/classroom/store/curriculumTypes.ts","features/classroom/store/curriculumActions.ts","features/classroom/store/curriculumReducer.ts","lib/store/store-action-listener/index.ts","lib/api/helpers.ts","components/Collapse.tsx"],"names":["progressBarContext","React","createContext","undefined","useProgressBarContext","state","useContext","Error","ProgressBar","value","max","children","className","ticks","Provider","Root","styled","div","ProgressBarTrack","props","theme","extras","progressBar","borderColor","palette","divider","shape","borderRadius","background","paper","ProgressBarIndicator","rest","roundedValue","Math","round","abs","style","width","$isCompleted","typography","body1","fontSize","primary","contrastText","transitions","duration","standard","light","main","dark","ProgressBarIndicatorText","spacing","ProgressBarCenteredText","color","alternativeColor","TextOnBackground","$color","TextOnIndicator","$ratio","commonStyles","css","Text","ProgressBarTick","requiredValue","left","reached","Line","$reached","currencyStyles","cookiedColor","cookiesIcon","cookie","icon","colored","cookieImg","solid","cookieSolidImg","colors","goldenCookieImg","goldenCookieSolidImg","countTruthyValues","array","filter","Boolean","length","filterNulls","item","isNotUndefined","getNRandomElements","n","sort","random","slice","shuffleArray","i","j","floor","Divider","getHighscoreGames","user","highScoreGames","game","grantRequiredToDisplay","hasGrant","grants","map","locked","grantRequiredToUnlock","a","b","commonStats","name","i18nKey","singleStat","CLOUD_CLIMBER_PROJECT_ID","createEnvironmentVariable","dev","beta","prod","SPACECRAFT_ENERGIZER_PROJECT_ID","LABORATORYESCAPE_PROJECT_ID","ROBOTOLYMPICS_PROJECT_ID","PLANETEVOLUTION_PROJECT_ID","projectId","title","description","thumbnail","kind","src","drawRace","stats","cloudClimber","fusionGrow","candyRushThumbnail","cloneHuntDCThumbnail","bounceBattleThumbnail","mementoThumbnail","stationDefenseThumbnail","cloneHuntThumbnail","santaThumbnail","overlayColor","witcherThumbnail","additionThumbnail","balloonBlasterThumbnail","maniFoldThumbnail","product","feature","recommended","hiddenStats","planetEvolutionThumbnail","robotOlympicsThumbnail","laboratoryEscapeThumbnail","spacecraftEnergizerThumbnail","cosmosCrossingThumbnail","galaxyJumpThumbnail","spaceRaceThumbnail","asteroidsThumbnail","spcaeTrapThumbnail","ProjectModalContent","ProjectModalHeader","breakpoints","down","PROJECT_MODAL_MOBILE_BREAKPOINT","useTick","timeout","useState","trigger","setTrigger","useEffect","interval","setInterval","clearInterval","useCountdown","date","endDate","calculateRemainingTime","remaining","setRemaining","tick","isEnd","days","hours","minutes","seconds","useWaitForEnd","setIsEnd","useHumanReadableCountdown","endText","t","useTranslate","isLastMinute","label","count","timeValues","text","push","join","getLabel","dayjs","totalSeconds","ceil","diff","Badge","forceNoTopMargin","backgroundColor","StyledInline","transparentize","common","black","white","Inline","projectReducer","all","action","type","FETCH_SUCCESS","produce","draft","payload","projects","project","id","file","cookieCount","goldenCookieCount","owner","shared","favorite","lang","createdAt","updatedAt","metadata","deleted","deletedAt","approvedAt","viewedCount","likedCount","tags","shareSpecial","daysViewedCount_1","daysViewedCount_7","daysViewedCount_30","hasUserThumbnail","publicViewedCount","playedCount","labels","username","alias","profileImage","fullName","primaryKind","trainingCertificates","isMiniQuiz","isMiniQuizProject","cookied","goldenCookied","details","favorited","shareable","includes","CLASSROOM_PROJECT_TAG","numberOfQuestions","seen","UPDATE_FILE","updates","UPDATE_METADATA","normal","GIVE_COOKIE_REQUEST","currencyToFileField","currencyToMetadataField","handleProjectTransaction","currency","RENAME_PROJECT","field","FAVORITE_PROJECT","UNFAVORITE_PROJECT","FAVORITE_OWN_PROJECT","UNFAVORITE_OWN_PROJECT","DELETE_PROJECT","RESTORE_PROJECT","UNSHARE_PROJECT","SHARE_PROJECT_WITHOUT_APPROVE","UPDATE_DETAILS","variant","UPDATE_HAS_USER_THUMBNAIL","transactionToProject","sucessReceipe","errorReceipe","status","meta","transaction","context","console","error","demoGamePaths","GlobalStyles","createGlobalStyle","TopLevelErrorBoundary","ErrorBoundary","fallback","baseButtonStyles","padding","cursor","fontWeight","marginTop","Fallback","textAlign","maxWidth","logiscoolLogo","alt","border","onClick","window","location","reload","marginLeft","auth","logout","WelcomePage","lazy","OpenDayWelcomePage","GuestWelcomePage","ProfilePage","ProjectsPage","OpenDayClassroomPage","ChallengesPage","LimitedChallengesPage","CommunityPage","LimitedCommunityPage","SettingsPage","ClassroomPage","TimesheetEditorPage","EventsPage","GuestEventsPage","MassCertificatesPage","TrainingCertificatePage","DemoGamePage","LogiterraLoginPage","YearInReviewPage","AppRouter","authStatus","path","exact","render","to","href","runtimeEnv","REACT_APP_OAUTH_URL","key","createAuthorizeUrl","LoggedInRouter","useRouteMatch","useModal","isModal","nonModalLocation","appVariantContent","useAppVariantContent","useInvalidatePendingProjectsOnApprove","useHasGrant","hasNewsAreaGrant","hasCurriculumAreaGrant","hasTimesheetEditorGrant","hasMyGroupsAreaGrant","hasTimetableAreaGrant","hasMyProjectsAreaGrant","hasCommunityAreaGrant","hasChallengesAreaGrant","hasEventsAreaGrant","welcomeContent","guest","myProjectsContent","newsAreaRoute","match","Suspense","FullScreenLoader","year","params","modalRoutes","route","Component","ModalRouteError","closeModal","open","onClose","NBSP","ErrorMessage","ProfilePageSuspense","PageSuspense","PageLoader","PageErrorBoundary","history","useHistory","hasError","setHasError","setKey","removeListener","listen","onError","setUserInGoogleTagManager","dataLayer","user_id","account","stage","user_stage","e","sourceId","toString","substring","classroomStateShareMiddleware","getState","dispatch","originalState","lastVersion","parsedInClassState","storedInClassState","localStorage","getItem","JSON","parse","loadState","enabled","calendarEvent","startTime","log","Date","getDate","version","replaceState","addEventListener","event","origin","data","newState","inClass","extendedState","setItem","stringify","postMessage","App","setAuthStatus","userActions","useUserActions","initFeed","useFeed","initEvents","useEvents","setThemeFromUserSettings","useTheming","store","useStore","onAuthError","i18n","isInitialized","setLocale","token","api","init","initLiveops","subscribe","Promise","setUserId","onSucces","onReceiverFail","onSenderFail","global","body","Ls","en","weekStart","queryCache","QueryCache","defaultConfig","queries","refetchOnWindowFocus","Providers","StylesProvider","RecordingDevTool","RecordingDevToolDialog","isOpen","setIsOpen","openRecordingDevtool","fullWidth","extend","utc","isoWeek","relativeTime","isProd","scriptEl","document","createElement","head","append","initGoogleTagManager","ReactDOM","StrictMode","GrantDevToolDialog","CssBaseline","getElementById","modalContext","ModalProvider","lastNonModalLocation","useRef","useLocation","activeModal","find","matchPath","pathname","current","useCallback","goBack","DialogTitle","StyledDialogTitle","MuiDialogTitle","Dialog","hideCloseButton","closeButtonProps","PaperProps","fullHeight","closeOnClick","BackdropComponent","Backdrop","transitionDuration","PaperComponent","StyledPaper","height","CloseButton","DialogErrorFallback","MuiBackdrop","dialog","backdrop","IconButton","Paper","default","DialogContent","MuiDialogContent","DialogActions","StyledDialogActions","MuiDialogActions","DialogPrimaryButton","Button","DialogSecondaryButton","DialogForm","actions","onSubmit","Form","form","DialogErrorMessage","close","DialogLoader","DialogLoaderRoot","Loader","ProjectCard","ProjectCardBadgeRoot","ProjectCardContent","titleBody","Title","StyledLink","as","target","Inner","Tooltip","TitleWrap","Link","Stack","ellipsis","ProjectCardButtonBadge","ProjectCardBadge","component","StyledButton","ProjectCardCookieCount","CookieCount","getViewCount","dayFilter","record","PublicProjectCard","filters","incrementActivityScore","useIncrementActivityScore","ProjectCardImage","createProjectThumbnailUrl","badges","goldenCount","ProjectCardViewCount","PageHeader","tabs","managementModeButton","hideCurrencyBadges","isFullyHidden","headerHeight","limit","setIsFullyHidden","onScroll","scrollY","removeEventListener","useIsElementFullyHidden","useManagementContext","managementModeEnabled","setManagementMode","setEnabled","isMobileMenu","useMediaQuery","MOBILE_MENU_BREAKPOINT","noSsr","isMedium","isXS","asideWidth","useSelector","page","PageContainer","TopRow","TopRowRight","CurrenciesWrap","ActionsWrap","$isInTopRow","ExtrasWrap","BottomRow","TabsWrap","Fade","in","unmountOnExit","StickyRoot","$asideWidth","StickyInner","$sticky","$small","$mobile","CurrencyBadges","silent","Box","pageHeader","root","shadows","stickyRoot","PageContent","PageSkeleton","Skeleton","display","EmptyState","StyledText","size","secondary","useLocalisedQuizValue","useUserState","translateQuizLocaleString","keys","firstKey","restKeys","localisedName","values","locale","useHasQuizAccess","useHasGenerateQuizAccess","SHIFT_QUEUE","PUSH_QUEUE","PAUSE_QUEUE","RESUME_QUEUE","dialogQueueReducer","queue","isPaused","NOTIFICATIONS","notifications","notification","displayed","forEach","dialogFromNotification","PUSH_NOTIFICATION","shift","dialogData","pushQueue","pauseQueue","resumeQueue","Confetti","QueuedDialog","image","button","subtitle","disableConfetti","DialogPaper","BackdropProps","motion","animate","y","opacity","scale","initial","transition","delay","ImageWrap","$disablePadding","url","StyledDialogContent","ButtonWrap","ConfettiWrap","recycle","numberOfPieces","initialVelocityY","OnboardingAchievementUnlockedDialog","achievement","imageUrl","MissionTaskName","MissionName","OnboardingPointsReachedDialog","DialogQueueManager","dialogQueue","useDispatch","currentDialog","next","markNotificationAsDisplayed","notificationId","readNotification","variables","bodyInterpolation","cta","message","_cta","disablePopup","achievementId","ONBOARDING_REACHED_3_POINTS_CATALOG_ITEM","onboardingAchievements","achi","catalogItem","usePauseDialogQueue","fetchProjectsSucces","updateFile","updateMetadata","giveCookieRequest","client","createPrivateHighScoreRoom","expireAfterHours","joinHighScoreRoom","room","role","leaveHighScoreRoom","favoriteProject","unfavoriteProject","renameProject","favoriteOwnProject","unFavoriteOwnProject","deleteProject","restoreProject","shareProjectWithoutApprove","updateDetails","unshareProject","updateHasUserThumbnail","userStateContext","userDispatchContext","reducer","settings","crm","UserProvider","useReducer","useRefetchGrantsOnChange","useRefetchUserOnChange","reduxDispatch","useMemo","accounts","getMe","getCrmData","getMySettings","getMyLocale","getMyGrants","crmData","updateUser","Object","updateMe","handleProfileCompleteAction","aliasPending","descriptionPending","uiLanguage","updateUserSettings","entries","setMySetting","updateJSONUserSetting","getMySetting","setting","parsedValue","newValue","response","res","updateCrmFields","fields","shouldSendAction","completeProfile","canUserCreateShareableProject","sharedProjectLimit","canUserMoveToProduction","hasUserShowAdvancedStats","isTrainerUser","isCertifiedTrainer","useHasShowAdvancedStats","useHasUserShowActivityScore","hasShowAdvancedStats","canUserCreateProject","canUserCreateBloxProject","canUserCreateMixProject","canUserCreatePythonProject","canUserCreateStageScriptProject","canUnlockSecretCode","secretCodeKind","getGrants","grant","kinds","getUserPrivateName","getUserPublicName","getUserProjectLanguages","languages","langs","language","Array","from","Set","code","isGuestUser","isGuestOrRegisteredGuestUser","isRegisteredGuestUser","isOpenDayUser","subStage","onGrantsChanged","setTimeout","then","catch","storeActionListener","on","GRANTS_CHANGED","USER_CHANGED","ASIDE_WIDTH_NORMAL","ASIDE_WIDTH_MINI","CONTENT_COLUMN_WIDTH_NORMAL","CONTENT_COLUMN_HIGHLIGHT_WIDTH_NORMAL","CONTENT_PAGE_WIDTH_NORMAL","TOGGLE_ASIDE","SET_ASIDE_COLLAPSED","SET_CONTENT_WIDTH","toggleAside","setAsideCollapsed","setContentWidth","CONTENT_WIDTH_STORAGE_KEY","contentColumnWidthValues","wide","contentColumnHighlighWidthValues","contentPageWidthValues","storeContentWidth","getStoredContentWidth","getContentColumnWidth","getContentColumnHighlighWidth","getContentPageWidth","pageReducer","isAsideCollapsed","contentWidth","contentColumnWidth","contentColumnHightlightWidth","contentPageWidth","isCollapsed","useColumnWidth","useColumnHighlightWidth","usePageWidth","ABCD","createHashDialog","joinQuizDialogTo","JoinQuizDialogController","JoinQuizDialog","primaryLabel","JoinQuizButton","ChoiceResponse","correctIndices","options","isResponseIncorrect","isArray","indexOf","StyledCardContainer","option","selectedCorrectAnswer","notSelectedCorrectAnswer","StyledCard","elevation","$isIncorrect","$selectedCorrectAnswer","$notSelectedCorrectAnswer","StyledCardContent","Option","IconContainer","span","lighten","Modal","ImageDialogue","setOpen","ThumbImg","aria-labelledby","LargeImg","Img","NumberResponse","correctValue","isCorrect","isQuizsetWithEmbeddedTemplates","set","templates","QuizApi","getClassroomQuizResults","skip","get","totalCount","headers","hasMore","parseInt","hasLeft","getLatestClassroomQuizResult","getDetailedQuizResult","sessionId","session","userResponse","instance","userResponses","getQuizResult","getQuizTemplate","getQuizResultsForSessions","sessionIds","getQuizSessionsForTemplates","sessions","reduce","acc","curr","template","endedAt","getActiveGeneratedSessions","getQuizSetsSessions","quizSets","templateIds","extractTemplateIdsFromQuizSets","getQuizSets","getRecommendedQuizSets","getFinishedTemplates","setId","ApiBase","HomeQuizDetails","useParams","useQuizSetsQuery","quizSetStatus","useQuizSetSessionsQuery","quizSetSessions","quizSetSessionsStatus","HomeQuizDetailsInner","relevantSessions","result","templateId","extractRelevantSessionsForSet","results","useQuizSetResultsQuery","hasShowAdvancedView","finishedCount","useGetFinishedTemplatesStats","Breadcrumbs","startIcon","tag","Grid","Thumbnail","fallbackThumbnail","score","finalScore","TemplateItem","isSmallScreen","rootProps","TemplateItemRoot","Content","alignItems","IconWrap","FinishedIcon","ContinueIcon","StartIcon","TemplateItemMetadata","questions","ActionWrap","ActionCard","iconBaseStyles","CheckIcon","success","PlayIcon","FastForwardIcon","CardContent","HomeQuizAnswers","DetailedQuizResult","RecommendedHomeQuizzes","onReady","useRecommendedQuizSetsQuery","sets","setsStatus","sessionsStatus","usePoorMansSuspenseTick","hasGenerateQuizAccess","activity","HomeQuizGrid","HomeQuizCard","isFinished","RecommendedMiniChallengesSkeleton","fill","_","StyledSkeleton","QuizIframe","invalidateQuizSetResults","useInvalidateQuizResults","invalidateClassroomQuizResults","useInvalidateClassroomQuizResults","invalidateGeneratedQuizSessions","useInvalidateGeneratedQuizSessions","isMobile","hideClose","setHideClose","onMessage","REACT_APP_QUIZ_URL","fullScreen","disableEscapeKeyDown","disableBackdropClick","handleClose","IframeContent","setStatus","iframeUrl","query","accessToken","LoaderWrap","StyledIframe","data-testid","isReady","frameBorder","SelfHostQuizIframe","ClassroomQuizIframe","GeneratedQuizIframe","HostQuizIframe","iframe","forwardRef","ref","SecretCodeInput","StyledLabel","htmlFor","StyledTextField","autoFocus","inputProps","maxLength","placeholder","inputRef","FormLabel","visuallyHidden","TextField","incorrectLengthMessage","SecretCodeUnlocker","customProcessor","helperText","useForm","register","handleSubmit","errors","setError","processSecretCodeRedeemResponse","useProcessSecretCodeRedeemResponse","processSecretCode","secretCodes","redeem","isLoading","Collapse","errorText","required","minLength","invalidate","useProjectQueryInvalidation","notify","useNotifications","invalidateMyChallengeSetsQuery","useInvalidateMyChallengeSetsQuery","quizId","targetList","redirectUri","split","roomId","requestRooms","getIdeUrl","challengeSetId","idePath","SecretCodesApi","post","processAt","generate","reason","MiniQuizApi","getUserId","getTemplates","getMiniQuiz","saveMiniQuiz","quiz","patch","getMyMiniQuizzes","MINI_QUIZ_PROJECT_TAG","view","subtract","format","search","nextSkip","createMiniQuiz","MyMiniQuizList","isFiltering","pendingProjects","useMyPendingProjectsQuery","MyDeletedProjectCard","displayType","MyMiniQuizCard","isPending","MyMiniQuizListEmptyState","MyMiniQuizListEmptyStateRoot","emptyStateImg","newProjetDialogTo","sorts","sortLabels","MyMiniQuizFilters","setFilters","SearchWrap","InnerGrid","SortSelect","onChange","Search","setSearch","useDebounce","debouncedSearch","startAdornment","position","Select","MyMiniQuizzes","ReactRouterRoute","Route","MyMiniQuizzesInner","memo","useQueryParams","withDefault","StringParam","getDefaultProjectListSort","skipCorrection","setSkipCorrection","useMyMiniQuizzesQuery","useUpdateUserSettingOnChange","onRemovedFromList","flatMap","currentDataIncludesId","addProjectActionListener","removeProjectActionListener","fetchMore","isFetchingMore","canFetchMore","useIsElementFullyVisible","isFullyVisible","isTriggerVisible","extractProjectsFromStore","files","filteredProjects","WrappingInline","ProjectListTab","isActive","justify","mt","LoadMoreTrigger","isVisible","isActiva","body2","shorter","templateIdAgeGroupDict","small","big","getUserAge","birthDate","QuizCustomIds","customQuizTransformer","country","gender","isUserHunGirl","AgeGroup","age","getAgeGroupFromAge","filteredTemplates","applyCustomTransform","quizSet","transformer","useQuery","quizzes","staleTime","Infinity","useQuizTemplatesSessionQuery","useQueryCache","invalidateQueries","Stat","$backgroundColor","Value","h5","StatCard","MY_CHALLENGE_SETS","useMyChallengeSetGroupsQuery","scoolcodeChallenges","getMyChallengeSetGroups","useMyChallengeSetsQuery","getMyChallengeSets","useMiniChallengeSetsQuery","groupId","getMiniChallengeSets","internalName","localeCompare","index","useRecommendedMiniChallengesQuery","getRecommendedMiniChallengeSets","useMyOFCsets","getMyOFCsets","useMyChallengeSetResults","getMyChallengeSetResultById","hoverOnly","positionStyleMap","center","ForceWrappedEditor","Editor","findLinkEntities","contentBlock","callback","contentState","findEntityRanges","character","entityKey","getEntity","getType","findImageEntities","HTMLText","useTheme","openImage","setOpenImage","decorator","CompositeDecorator","strategy","getData","linkText","urlFromText","shortText","replace","lastLength","lastSlashIndex","lastIndexOf","firstSlashIndex","onlyWithEllipse","rel","$theme","HorizontalStack","justifyContent","maxHeight","margin","placement","startsWith","arr","mime","bstr","atob","u8arr","Uint8Array","charCodeAt","blob","Blob","URL","createObjectURL","revokeObjectURL","ContentState","createFromText","html","doc","DOMParser","parseFromString","blocks","olCounters","entityMap","removeListItems","querySelectorAll","list","remove","innerHTML","traverse","node","depth","listType","nodeType","el","tagName","toUpperCase","toLowerCase","child","childNodes","textContent","trim","prefix","parentNode","blocksFromHTML","convertFromHTML","contentBlocks","block","blockText","getText","outerHTML","htmlToDraftBlocks","createFromBlockArray","ContentBlock","substr","Immutable","Map","characterList","List","CharacterMetadata","create","warn","readOnly","editorState","EditorState","createWithContent","top","zIndex","objectFit","$maxWidth","PopupMenuDivider","Prompt","initialValue","rules","onCancel","defaultValues","getValues","reset","previousInitialValue","usePrevious","actionResult","cancel","positiveButtonProps","negativeButtonProps","disabled","formProps","ProjectActionsMenu","popupMenuButton","onDelete","onDuplicate","isInContextMenu","projectActions","useProjectActions","promptProps","setPromptProps","showPrompt","PROJECT_NAME_NOT_UNIQUE_FIELD_ERROR","unshareNominatedProject","moveToProduction","duplicateProject","cloneResponse","reportIncorrectlyTaggedProject","reportProject","getProjectActions","MenuType","PopupMenuList","editLink","getProjectEditLink","has","projectNameRules","Confirm","projectName","prompt","disabledTooltip","isMiniQuizLongEnoughToShare","dialogProps","keepOpenAfterSuccess","ProjectConfirmDialog","SecondaryActionsWrap","Children","toArray","every","IncorrectlyTaggedDialog","isProjectAlreadyReported","useIsProjectAlreadyReportedForIncorrectTagging","ProjectUnnominateDialog","ProjectPromptDialog","rename","clone","confirmBtn","getProjectNameValidationMessage","useMyActiveIncorrectyTaggedModerationReportsQuery","moderationReports","report","loadInventory","REQUEST_INVENTORY","statistics","group","stat","REQUEST_LEADERBOARD","requestCommonStats","REQUEST_STATISTICS","requestStats","INCREMENT_ACTIVITY_SCORE","requestScoreList","REQUEST_SCORE_LIST","enableLeaderboard","enableProjectLeaderboard","roomStatPrefix","setLeaderboardLength","SET_LEADERBOARD_LENGTH","disableAllLeaderboardsForProject","DISABLE_ALL_LEADERBOARDS_FOR_PROJECT","disableLeaderboard","unsubscribe","REQUEST_ROOMS","loadNotifications","subscriptionObject","channel","CREATE_SUBSCRIPTION","provider","REQUEST_NOTIFICATIONS","requestWelcomeNotification","REQUEST_WELCOME","sendEmpty","READ_NOTIFICATIONS","READ_NOTIFICATION","MARK_NOTIFICATION_AS_DISPLAYED","markAllNotificationAsDisplayed","MARK_ALL_NOTIFICATION_AS_DISPLAYED","COMPLETE_PROFILE","changedProfilePicture","CHANGED_PROFILE_PICTURE","ScrollRestoration","scrollTo","variablesReducer","modalStackReducer","entry","ManagementContextProvider","dispatchVariablesAction","modalStack","dispatchModalStackAction","openModal","updateModal","widenModal","managementContext","registerManagementModal","MultiEditStepManagementModalContent","MutationTaskManagementModalContent","deny","SHAREABLE_TRAINERCONTEST_PROJECT_TAG","typeRecord","blox","mix","ProjectsApi","getBlockGalleries","createEmptyProject","timesheet","blockPalette","cloneProject","createMode","getProject","getProjectWithEmbeddedOwner","embed","getMyPendingProjects","getMyShareableProjects","$eq","$ne","updateProjectData","getProjectData","newProjectData","formData","FormData","updateProjectDetails","updateProjectThumbnail","base64image","fetch","put","cacheBustThumbnail","shareProject","delete","getMyProjects","$or","serializeProjectLabel","getSharedProjects","pattern","access_token","ids","statusText","config","getRecommendedProjects","getMyFavoriteProjects","getProjectsForDiscovery","getSharedProjectsQuery","normalizedSort","getMyViewedFiles","normalizeViewedFiles","viewedFiles","getCommunityProjectDetails","isProjectCookied","isProjectFavorited","fileData","getClassromProjectDetails","golden","getSharedProjectsOfUser","removeTokenFromParams","updateProjectLang","isProjectNameUnique","isProductionUserProjectsNameUnique","incrementProjectViewCount","isPublic","getMyActiveIncorrectlyTaggedModerationReports","getMyCustomProjectLabels","isCustomProjectLabel","deserializeProjectLabel","updateProjectLabels","this","profillerImg","linkTo","avatarBrowserDialogTo","quizExplorerImg","highScoreExplorerImg","progress","statName","questExplorerImg","miniQuestExplorerImg","cookieHunterImg","projectExplorerImg","isLocked","getAppVariant","cookieContributorImg","followCollectorImg","trainerFollowerImg","getOnboardingAchievements","inventory","ONBOARDING_ENABLED","REACT_APP_ONBOARDING_ENABLED","useTitle","hash","useLocationState","newLocation","useDialog","PdfTemplateBlox","TemplateBase","PdfTemplateMix","PdfTemplateUnity","TemplateBaseText","PdfTemplatePython","PdfTemplateGodot","PdfTemplateRoblox","PdfTemplateRobloxMultiverse","PdfTemplateDevMaster","PdfTemplateRobot","PdfTemplateRobotPrime","PdfTemplateVideo","PdfTemplateDesign","PdfTemplateMinecraft","PdfTemplateMinecraftMaze","PdfTemplateMinecraftMovie","PdfTemplateRpg","PdfTemplateAi","PdfTemplateDigitalDiscovery","PdfTemplateAiPython","PdfTemplateAiBasic","PdfTemplateCourseGenerativeAi","PdfTemplateCampGenerativeAi","PdfTemplateOpenDay","PdfTemplateSpecial","PdfTemplateDigitalMission","PdfTemplateDigitalMission2021","PdfTemplateDigitalMission2022","PdfTemplateDigitalMission2023","PdfTemplateScoolerMission","PdfTemplateWorkshop3d","PdfTemplateWorkshop","PdfTemplateCourse3d","PdfTemplateCamp3d","PdfTemplateWorkshopApp","PdfTemplateCourseApp","PdfTemplateWorkshopIllustration","PdfTemplateCourseIllustration","PdfTemplateCampIllustration","PdfTemplateWorkshopMinecraft","PdfTemplateCourseMinecraftModding","PdfTemplateCampMinecraftModding","PdfTemplateWorkshopImagicharm","PdfTemplateCourseImagicharm","PdfTemplateCampImagicharm","PdfTemplateCampApp","PdfTemplateCampChallengeDay","PdfTemplateExplorerJuniorSpike","PdfTemplateExplorerJuniorWedo","PdfTemplateExplorerJuniorBeebot","PdfTemplateExplorerCreative","PdfTemplateExplorerGamer","PdfTemplateTrainingCertificate","translations","school","finishedAt","bottom","createPortal","fontFamily","getFontFamily","getFrameSrc","nameStyles","dangerouslySetInnerHTML","__html","blurb","duringThisCourse","items","dateStyles","PdfTemplateA0","PdfTemplateKodu","PdfTemplateBizniscool","isWinnerDetails","isDmWinner","prize","fontStyle","duringThisWorkshop","Intl","Locale","baseUrl","UserBadge","StyledTrainerIcon","StyledMedalIcon","TrainerIcon","MedalIcon","EditableAvatar","Overlay","Label","h3","short","ProfileCard","follow","isOwn","defaultSchool","createAvatarUrl","Username","StyledLocationIcon","Description","ProfileCardSkeleton","flexGrow","LocationIcon","hint","SharedProjectList","allProjects","useSharedProjectsQuery","normalProjects","miniQuizzes","SharedProjectListEmptyState","canShareProject","canShareMiniQuiz","useMiniQuizAccessLevel","GridComponent","EmptyStateItem","$variant","opacify","MyProfilStats","cookies","goldenCookies","views","publicViews","favorites","UserProfilStats","userId","useUserStatisticQuery","userStat","userStatStatus","totalCookiesReceived","totalGoldenCookiesReceived","totalViewsReceived","totalPublicViewsReceived","totalLikesReceived","ProfileStats","CookieImage","img","ProfileSubjects","formatDate","useDateFormat","subjectData","completed","StyledUl","reverse","subject","Item","submission_id","$isCurrent","subject_key","ul","secureAccountPopupContext","SecureAccountPopupPrivder","displaySecureAccountPopup","noop","SecureAccountPopupPrivderInner","setVariant","isFirstRender","isFirst","useIsFirstRender","isOnboardingOpen","useOnboardingManager","useLastDisplayed","hasBeenDisplayedInNMinutes","updateLastDisplayed","SecureYourAccountDialog","login","getPasswordChangeOrCreateUrl","LAST_DISPLAYED_KEY","stored","lastDisplayedByUserId","setLastDisplayedByUserId","toISOString","lastDisplayed","isValid","OpenDayCarousel","autoplaySpeed","speed","autoplay","prevArrow","Arrow","nextArrow","img2","img1","img6","img4","img3","img5","CarouselItem","ItemRoot","ItemImgWrap","ItemImg","ItemText","h1","OpenDayWelcome","usePoorMansSuspense","contentBlock03Image","imageBlock03","Block03Image_en","ContentBlock01","Image","loading","Block01ImageEn","ContentBlock02","Block02Image","ContentBlock03","Block03Image_bg_BG","Block03Image_cz_CZ","Block03Image_de_CH","Block03Image_de_DE","Block03Image_es_ES","Block03Image_es_MX","Block03Image_hu_HU","Block03Image_ro_RO","Block03Image_fr_BE","Block03Image_es_CO","Card","SuccessMessage","Alert","severity","AskForOpenDayButton","buttonProps","titleByVariant","AskForOpenDayDialog","email","updateLeadEmail","Illustration","illustrationImg","descriptionByVariant","classroom","general","coding","LimitedProjectModalContent","flexDirection","StyledLockIcon","LockIcon","unlockProjectTo","UnlockProjectController","OPEN_DAY_CHALLENGE_SETS","isOpenDayChallengeSet","OpenDayChallenge","challengeSets","refetch","challengeSet","s","TextBody","ProjectRoot","getChallengeSetUrl","ProjectOverlay","ProjectImg","coverUrl","lockedBgImg","attrs","OpenDayClassroom","imageBlock04","Block04ImageEn","canUnlockSecret","hu","GuestWelcomeHero","blob1Img","blob2Img","blob3Img","BlobRoot","BlobInner","BlobImgWrap","BlobImg","BlobButton","BlobButtonRoot","endIcon","GuestWelcomePageWrapper","bgImg","GuestCommunityCloudItem","GuestCommunityCloud","CloudWrap","Shadow","Background","Row","LogiRobi","logiRobiImg","titleBgImg","ContentLocked","iconSize","tooltip","isDialogOpen","setIsDialogOpen","wrappedChildren","Wrapper","StyledLockedIcon","$size","sizeMap","tiny","medium","large","LockedChallengeOverlay","grantDefintions","dialogVariant","LockedChallengeDialog","actionByVariant","LockedChallengeOverlayWithBorderRadius","MODALS","MissingModalContentComponent","modal","ManagementModal","level","BASE_WIDTH","ContentComponent","StyledDrawerModal","anchor","Drawer","customScrollbar","ManagementModalTitle","subTitle","textTransform","ProjectModalError","createOauthClient","apiUrl","REACT_APP_API_URL","oauthUrl","clientId","clientSecret","redirectUrl","redirectToAuthorizeUrl","aliasQueryParam","AuthFlow","OauthReceiver","onStatusChange","OauthSender","ProjectStripe","thumbnailUrl","$hasLink","InnerWrap","MetaWrap","$hideBorder","actionablePaperStyles","popupMenuContext","usePopupMenuContext","InputAdornment","FormControl","StyledFormControl","MuiFormControl","FormHelperText","MuiFormHelperText","selectContext","multiple","StyledSelect","MenuProps","MenuPaper","StyledMenuItem","StyledCheckbox","checked","selected","ImageSelectOptionWrap","Checkbox","MuiSelect","MenuItem","ImageSelect","ImageSelectOption","SelectBoxContext","SelectBox","fieldset","SelectBoxItem","innerClassName","direction","useSelectBoxContext","ItemLabel","fullwidth","ItemInner","$direction","lineHeight","Switch","Input","OutlinedInput","helperTextBefore","visuallyHiddenLabel","VisuallyHiddenLabel","CheckBox","control","MuiCheckBox","HighScoreGameThumbnail","Video","playsInline","autoPlay","muted","loop","mediaStyles","video","achievementCardContext","useAchievementCardContext","AchievementCard","isAcquired","StyledActionCard","cardStyles","AchievementCardContent","AchievementCardDescription","$isAcquired","AchievementCardFooterText","AchievementCardImage","AchievementCardImageWrap","bgColor","$bgcolor","desaturate","grey","AchievementCardPoints","$bgColor","darken","AchievementCardTitle","alignLeft","variantMap","disableElevation","ChildrenWrap","StyledLoader","buttonStyles","TextButton","MuiButton","textButton","OutlinedButton","containedStyles","inherit","contained","containedButton","outlined","DeleteButton","useManagementVariable","fallbackValue","setVariable","useEventsData","events","PageMobileHeader","onMenuButtonClick","LogoLink","logoType","LogiscoolLogoWhite","LogiscoolLogo","appBar","mobileHeader","MANAGEMENT_PANE_WIDTH","ManagementPane","StyledDrawer","StyledDivider","mb","ManagementPaneHeader","HeaderWrap","PageTitle","CloseButtonWrap","pageAside","dividers","asideContext","mini","toggleMini","PageAside","isMobileMenuOpen","onCloseMobileMenu","isSmallHeight","isExtraSmallHeight","extraComponent","avatarHeightMap","spacingHeightMap","marginHeightMap","PageAsideHeader","PageAsideLogoWrap","Logo","NotificationButtonWrap","align","pl","pr","userNbr","UserNumber","LogoutButton","SecondaryButton","PageAsideMenu","StyledList","flex","ActionWrapper","PageAsideWelcomeMenuItem","PageAsideCommunityMenuItem","PageAsideChallengesMenuItem","PageAsideEventMissionMenuItem","PageAsideProfileMenuItem","PageAsideMyProjectsMenuItem","PageAsideOpenDayMenuItem","PageAsideClassroomMenuItem","PageAsideMyGroupsMenuItem","PageAsideEventMenuItem","hasEventsGrant","PageAsideNewsMenuItem","unreadCount","getUnreadFeedEntryCount","FloatingBadge","active","PageAsideMenuItem","StyledListItemIcon","$height","StyledListItem","NavLink","activeClassName","ListItem","listItemAndNotificationButton","ListItemIcon","Page","hideFooter","managementChildren","managementModalStack","setIsMobileMenuOpen","isManagementMode","flag","Footer","BIRTHDAY_ENABLED","footerImage","footer","MuiCard","MuiCardContent","CardHeader","MuiCardHeader","LinearLoader","LinearProgress","ml","mr","activityEventContext","useActivityEventContext","Authorize","FeedbackModal","studentRatingValue","setStudentRatingValue","trainerRatingValue","setTrainerRatingValue","commentValue","setCommentValue","isFilled","InClassContext","feedbackModalOpen","groups","submitTimesheetFeedback","lastSchoolId","studentsRating","teachersRating","comment","lessonLength","lessonType","lessonIndex","courseType","endClass","numberOfStudents","setFeedbackModal","MoodRating","v","multiline","rows","HorizontalStackStart","SmallProgressBarTrack","HorizontalSubHeader","$opacity","InClassFab","Fab","totalDuration","entryGroupCounters","entryGroupDurations","entryCheckboxes","groupCheckboxes","useInClassContext","entryIndex","isInClassMode","isGroupCompleted","some","groupChecked","entryChecked","isMakeUp","isEntryCompleted","hasMultipleEntries","toggleGroup","groupIncomplete","groupCompleted","toggleEntry","useTimeCalculation","now","elapsedTime","setElapsedTime","timer","estimatedElapsedTime","total","groupSum","groupTotal","estimatedTime","elapsedSeconds","elapsedMinutes","isElapsedInRange","isEndingSoon","ElapsedTimeFab","setElapsedSeconds","padStart","InClassModeContextProvider","InClassModeCard","horizontalLayout","timesheetId","feedback","StackComponent","calendarEvents","setCalendarEvent","onlineMeetingUrl","online","isPast","isAfter","endTime","contentPart","sessionEnabled","marginBottom","setUrl","toggleEnabled","defaultValue","EndLessonButtonEntry","SessionHeader","g","group_name","sessionType","lesson","evt","_id","ConfirmDialog","handleLogout","LessonText","confirm","InClassModeConfirmProvider","combineReducers","sharedReducer","clientReducer","feed","feedReducer","eventsReducer","inClassReducer","curriculum","curriculumReducer","createStore","composeWithDevTools","applyMiddleware","sharedStoreMiddleware","clientFirst","isLiveopsRecording","records","payloadCopy","socket","timestamp","liveopsMiddleware","emit","StoreProvider","createSelectorHook","ProjectModalDescription","MeetingItem","meeting","time","MeetingList","meetings","getTodaysMeetings","marginRight","MeetingsApi","userKind","today","getDay","daysOfWeek","isBefore","h4","ProjectCardFavoriteBadge","inList","toggleProjectFavorite","isFavorited","ProjectFavoriteButtonRoot","$isFavorited","Wrap","MyCustomRightClickMenu","menu","contextMenu","setContextMenu","onContextMenu","preventDefault","mouseX","clientX","mouseY","clientY","StyledMenu","anchorReference","anchorPosition","Menu","activityEventToEventDefinition","slug","groupSlug","titleKey","closedTitle","closedTitleKey","ongoing","closed","hasGroupInfo","closedCount","groupCount","banner","bannerTitleKey","getTotalStatGroupForActivityEvent","BirthdayFooter","BirthdayConfetti","drawer","BirthdayGerland","DesktopGerland","xmlns","xmlnsXlink","viewBox","xmlSpace","d","points","MobileGerland","Tabs","indicatorColor","MuiTabs","indicator","Tab","pointerEvents","tabIndex","MuiTab","shortest","hover","tab","EventDetailsBanner","EventDetailsTitle","EventDetailsBase","pt","pb","hideBreadCrumb","EventDetailsBreadcrumb","detailsBanner","EventDetailsContent","PdfGenerator","onSuccess","userCountry","generateId","subjectInfo","getSubjectInfo","ignore","generatePdf","imgData","getCertificateTranslations","lastDay","countriesUsingPortalScoolName","school_portalName","school_name","html2canvas","jsPDF","querySelector","useCORS","canvas","toDataURL","pdf","addImage","output","getUnreadFeedEntryCountByType","feedType","unread","getFeedEntryById","community","trainer","MIX_PALETTE_ID","PYTHON_PALETTE_ID","EventLoader","appVariant","useAppVariant","variants","separator","EmbeddedVideo","allow","allowFullScreen","0","1","2","3","4","5","6","7","8","9","10","11","12","themeBase","factor","h2","h6","MuiButtonBase","disableRipple","createTheme","light1","base","aside","asideContent","themeColorMeta","light5","light6","notificationCount","light4","light3","light2","dark1","baseContent","projectDialogPaper","actionablePaper","dark2","dark3","FooterImage","space","clipPath","backgroundImg","footerImg","ReactSnowfall","Snowfall","wind","XmasLights","xmas","x","xlinkHref","overflow","cx","cy","r","globalComponent","EasterFooter","EggWrap","easter","overrides","MuiPaper","HalloweenFooter","PotWrap","halloween","ninja","scooler","scoolerRomanian","jss","plugins","jssPreset","rtl","themeContext","ThemeProvider","getInitialTheme","themeName","setThemeName","setDirection","createMuiTheme","themes","metaTag","setAttribute","onDirectionChange","addDirectionChangeListener","removeDirectionChangeListener","THEME_STORAGE_KEY","setTheme","doesThemeExist","themeSetting","storedTheme","ThemeGlobalComponent","createFeedImageUrl","FeedEntryVimeoModal","vimeoId","FeedEntryMetaAction","ActionComponent","actionTypeToComponent","actionType","link","StyledAnchor","vimeo","isVimeoModelOpen","setIsVimeoModalOpen","longform","resetBtnStyle","FeedEntryCta","FeedEntryCaption","FeedEntryBase","getRelativeTime","formatter","RelativeTimeFormat","numeric","toDate","diffInDays","diffInHours","diffInMonths","useRelativeTimeFormat","dayjsDate","activeFrom","$isPinned","isPinned","dateTime","up","AnnouncementEntry","VimeoButtonOverlay","GeneralEntry","isPinnedLongform","hasAction","VideoOverlay","VideoIconWrap","Body","Trans","MinorEntry","Icon","ActionCardContent","VotingEntry","campaign","campaignId","getVoteCampaign","voteState","vote","hasShowVoteResults","isError","setIsError","targets","voteTargetIds","phase","castVote","allVotes","prev","voteCount","isVoted","isVoteInProgress","leftSideRate","rightSideRate","Versus","champaignId","$isVoted","hideVoteResults","ResultText","ProgessContainer","LeftCount","RightCount","LeftSide","RightSide","Target","setVoteCount","targetId","setQueryData","useSetVoteCountforCampaign","isMyVote","btnTextFromDescription","ImageContainer","$isMyVote","WelcomeStats","welcomeStats","follows","createStatValue","FeedList","unreadCommunityCount","unreadTrainerCount","hasTrainerNewsGrant","defaultFeedType","useQueryParam","setFeedType","CommunityIcon","FeedSelectBoxItem","StyledFloatingBadge","FeedListTab","feedState","loadNextFeedPage","setIsLoading","loadMore","entryType","ActivityEventFeedWeeklyMission","isProviderReady","setIsProviderReady","activityEvents","onProviderReady","ActivityEventContextProvider","allActivityEvents","ActivityEventWeeklyMissions","Feed","element","scrollIntoView","behavior","loader","LOAD_FEED_PAGE","MARK_ALL_READ","normalizeTasks","processedGroups","tasks","task","sameGroupTasks","groupIndex","activityStat","point","nameKey","add","normalizeSubEvents","subEvents","subEvent","scoreStatGroup","startDate","order","normalizeMilestones","milestones","milestone","milestoneTooltipKeyByTriggerAction","milestoneLinkKeyByTriggerAction","milestoneTitleKeyByTriggerAction","UNLOCK_PROFILE_PICTURE","STAT","subscribed","fakeDate","setFakeDate","fakePoints","setFakePoints","normalizedEvent","subEventLayout","normalizeActivityEvent","ready","app","subEventPoints","obj","handlePresent","clear","PRESENT","subEventGroups","uniqueGroups","getSubEventPoint","min","requiredPoints","useSubscribeToActivityEventPoints","inventoryReady","isInventoryReady","pointsReady","certificateInventoryItem","certificate","hideSubEventRibbons","relatedEvents","relatedEventSlugs","rawEvent","hasEnded","currentFakeDate","useTermsDateQuery","getTermsDate","useCalendarQuery","start","end","getCalendar","useGroupsQuery","getGroups","useCurriculumQuery","publishedOnly","getCurriculum","useCourseTypeQuery","getCourseType","resolve","summary","lessons","tutorials","chatRoom","useLessonQuery","courseTypeId","useCache","getLesson","useAttendanceQuery","getTimestampString","getAttendance","refetchInterval","useVimeoThumbnailQuery","json","thumbnail_url_with_play_button","useLatestClassroomQuizResultsQuery","useQuizResultsQuery","useInfiniteQuery","getFetchMore","lastGroup","quizSetId","Leaderboard","ol","LeaderboardItem","place","highlighted","avatarSrc","$highlighted","$hasIcon","Name","Score","highlightedStyles","li","Trophy","PlatinumTrophy","trophies","minRank","getTrophyIcon","rank","trophy","HighScoreGameLeaderboard","useHighScoreLeaderboard","leaderboards","forceRefetch","getLeaderboard","myResult","displayTrophies","myTrophy","isMyResultIncluedInResults","StyledUserBadge","HighscoreGameLeaderBoardInner","setTab","subTab","setSubTab","displayCount","makeSubleaderboardLabel","leaderboard","allTimeResults","myAllTimeResult","subLeaderboards","prevResults","myPrevResult","nextIncrement","hide","subLeaderboard","HighScoreGameLeaderboardCountdown","clearTimeout","leaderboardCountByProject","joinRoom","scoreList","getScoreList","ranks","nextIncrements","isLiveopsReady","scoreListCopy","aStat","findIndex","bStat","getEventsForUser","INIT_EVENTS","customFeedTransformers","getXmasProjectId","lastRead","getLastReadDates","getCommunityEntries","getFeedEntries","loadFeedPage","normalizedPayload","getTrainerEntries","useFeedEntryQuery","getFeedEntry","transformedEntry","communityLastReadAt","trainerLastReadAt","parsedSetting","lastReadAt","isCustom","customId","newsFeedSetting","isInital","isTrainerOnly","setIsFullyVisible","observer","IntersectionObserver","intersectionRatio","threshold","observe","disconnect","MyProjectStripeActions","HideOnMobile","InnerImageZoom","CertificateDialog","download","StyledDialog","DialogContainer","useRegisterActivityOnLoad","ImgContainer","zoomScale","StyledActions","MyProjectCardActionsMenu","compensatePadding","StyledPopupMenuIconButton","$compensatePadding","aria-label","PopupMenuIconButton","ICON_BUTTON_SMALL_PADDING","LANGUAGE_TO_LABEL","MyProjectLanguage","layout","BadgeWrapper","whileHover","Container","LanguageText","textMotion","StripeRoot","hidden","transform","marginInlineStart","CertificateRibbon","highlightColor","stroke","ReportProjectModal","ReportProjectModalInner","useProjectModalContext","notes","validate","ProjectDetailsActions","isOwnProject","MoreButton","ScoolcodeButton","OwnProjectActions","isPendingProject","ProjectActions","isReportOpen","setReportOpen","markAllRead","Hidden","Flex","nextValue","currentValue","settingKeys","userCache","AccountsApi","grantDevTool","lastSchool","schools","crmUserData","getCrmLink","setCrmLink","getOrGenerateAppScopedId","client_id","normalizedData","allGrants","currentProduct","currentFeature","getProfilePictures","isOnboarding","ONBOARDING_LIMIT","picture","usable","getUserByUsername","accountRes","NotFoundError","crmRes","isAliasUnique","getRecommendedAlias","originalAlias","getFollowers","normalizedUserData","normalizedFollowers","followers","following","usersData","getUsers","cachedUsers","uncachedIds","getUser","getUserDefaultSchools","getUserStatistics","saveDefaultSchool","schoolId","connectDiscordAccount","discordId","discordUsername","disconnectDiscordAccount","getUserActivity","getUsertatisticSummaries","getAllUserTotalActivity","last","getYearInReviewData","findValue","projectsCreated","projectsShared","projectViews","cookiesCollected","cookiesGiven","getActiveUserCount","resetPassword","password","generateOneTimePassword","resp","images","EventsCampaigns","DRAWING_CONTEST_2021_VOTE_CAMPAIGN_ID","DRAWING_CONTEST_2020_VOTE_CAMPAIGN_ID","DRAWING_CONTEST_2019_VOTE_CAMPAIGN_ID","eventsV2","drawingContest2024ThumbnailImg","drawingContest2024Img","templateData","winnersDescription","votingDescription","detailsDescription","votingEndDate","resultImages","images2024","until","timeline","drawingContest2023ThumbnailImg","drawingContest2023Img","images2023","drawingContest2022ThumbnailImg","drawingContest2022Img","images2022","drawingContest2021ThumbnailImg","drawingContest2021Img","winnersDetails","images2021","drawingContest2020ThumbnailImg","drawingContestBannerImg","images2020","drawingContest2019ThumbnailImg","images2019","getCampChallengeData","onBoardingThumbnailImg","onBoardingBannerImg","digitalMission2021ThumbnailImg","digitalMission2021BannerImg","trainerContest2021ThumbnailImg","trainerContest2021BannerImg","digigirlz2020ThmubnailImg","digigirlz2020BannerImg","countries","digitalMissionThumbnailImg","digitalMissionBannerImg","trainerContest2020ThumbnailImg","trainerContest2020BannerImg","objectListToIdList","objectList","object","EventsApi","getActivityEvents","showOld","createActivityEvent","submittableEvent","__v","published","triggers","winnerActions","winnerAction","activityEvent","updateActivityEvent","filterByCountry","filterByGender","filterByGrant","filterByEnabled","filterByStartDate","applyDynamicEvents","eventsWithTemplate","managableEvent","original","normalizedEvents","filteredEvents","normalEvents","getVoteTargets","disableVoteCountSort","getCookiesForProjects","getMyShareableContestProjects","getMyContestProjects","getTrainerContestFinalResults","VOTE_CAMPAIGN","filteredData","contest","source","filesData","contestWithFileData","contestData","nominateProject","voteCampaign","createVoteTarget","unshareContestProject","getTrainerContestForVoting2021","getTrainerContestFinalResults2021","FeedApi","onlyTrainer","WallpapersApi","getWallpapers","incrementWallpaperDownloadCount","ManagementApi","public","oauthBaseUrl","Axios","baseURL","LanguagesApi","certificates","CertificatesApi","GroupsApi","surveys","SurveysApi","ScoolcodeChallengeApi","wallpapers","management","defaults","interceptors","use","reject","createGeneratedQuizRoom","difficulty","mode","CREATE_GENERATED_QUIZ_ROOM","QUIZ_KINDS","EasyQuizIcon","nQuestions","MediumQuizIcon","HardQuizIcon","GeneratedQuizCardContent","useGeneratedQuizSessionsQuery","activeSessions","activeSession","m","LinkRoot","justifySelf","live","nameKeys","questionIndex","SinglePlayerCreator","generateQuiz","QUIZ_SESSION_READY","onSessionReady","once","useGeneratedQuizCreator","gap","StartQuizButton","ButtonRoot","GenerateQuizCard","isTouchMode","setIsTouchMode","isMobileTapOverlayVisible","setIsMobileTapOverlayVisible","MobileRoot","Bg","MobileTapOverlay","stopPropagation","onTouchEnd","onMouseEnter","article","CreateMultiplayerGeneratedQuizButton","CreateMultiplayerGeneratedQuizDialog","MultiplayerCreator","setNumberOfQuestions","setDifficulty","setSpeed","Number","Popover","StyledRating","Rating","customIcons","_value","IconContainerComponent","selectedValue","other","getLabelText","defaultStaticData","easy","hard","videoId","camps","campChallengeData","2023","HU","rulesURL","ctaURL","CZ","SG","RS","AE","RO","BG","ES","ZA","static","2024","countryData","staticData","projectListGridStyles","grantToString","lastExpiringGrant","resultDateTime","notAfter","getTime","isGrantDevToolEnabled","processGrants","grantDevtoolState","savedUserSchema","schema","preDefinedUserSchemas","neededGrants","processMe","userStage","userSubStage","SET_CURRENCY","SET_CURRENCY_REFILL","ADD_TO_INVENTORY","SET_STATISTIC","INVENTORY","LEADERBOARD","LEADERBOARD_FETCHED","LEADERBOARD_RANK","LEADERBOARD_VERSION","STATISTIC","SCORE_LIST","REPORT_PROJECT","CAST_VOTE_REQUEST","REMOVE_FROM_INVENTORY","FOLLOW_USER","UNFOLLOW_USER","ROOM_CREATED","ROOMS","SHARED_STATE","PROJECT_SHARE_APPROVED","LOAD_ACHIEVEMENTS","ACHIEVEMENTS","ACHIEVEMENT_CHANGED","createFilterOptions","ProjectLabelSelect","controlledValue","uncontrolledValue","setUncontrolledValue","useMyCustomProjectLabelsQuery","isFull","Autocomplete","disableClearable","freeSolo","noOptionsText","getOptionDisabled","openOnFocus","renderInput","InputLabelProps","StyledInput","$isEmpty","InputProps","renderTags","getProps","StyledChip","normalizedValues","renderOption","OptionRoot","filterOptions","filtered","inputValue","interpolation","escapeValue","Chip","NewProjectDialogController","NewProjectDialog","disableUnlock","disableMiniQuiz","canCreateProject","miniQuizAccessLevel","hasCreate","tabProps","useLocationTabs","disableTypography","paddingBottom","NewProjectPreloader","useBlockGalleriesQuery","blockGalleries","blockGalleryStatus","selectableBlockGalleries","gallery","projectTypes","NewProject","mqal","canCreateBloxProjects","canCreateMixProjects","canCreatePythonProjects","canCreateStageScriptProjects","canChooseLanguage","createsMixByDefault","canSelectBlockGallery","createProject","defaultType","locationStateTypeOverride","blockGallery","shouldUnregister","watch","setValue","shouldFocus","getIdeCreateUrl","MAX_PROJECT_NAME_LENGTH","autocomplete","displayEmpty","NewProjectButton","ProjectDetailsTitle","ProjectFavoriteButton","ProjectDetailsStats","isLanguageEnabled","SharedProjectDetailsStats","useLanguagesQuery","displayName","advancedMetadataFields","toLocaleString","minimumIntegerDigits","useGrouping","AdvancedProjectMetadata","fieldValue","StatRoot","ProjectThumbnailInput","embedIframeRef","buttonText","buttonRef","embedLoaded","embedOrigin","embedWindow","contentWindow","ThumbnailPlaceholderRoot","ThumbnailPlaceholder","ProjectDetailsThumbnail","iframeRef","ProjectDetailsEditableDescription","defaultDetails","setState","setEdit","getSelection","setIdle","useEditProjectDetails","StyledBox","PROJECT_DETAILS_MAX_LENGTH","CommunityProjectCookies","canBeCookied","cookieAnimationControl","useAnimation","goldenCookieAnimationControl","hasGiveGoldenCookieGrant","isGoldenCookieColored","cookiedFieldByCurrency","isCookied","animationControl","countFieldByCurrency","tooltipByCurrency","styles","CookieCountWrap","CountImage","repeatType","repeat","CookieButton","userCookieCount","isOutOfCurrency","enterDelay","CookieButtonRoot","pickLightDarkColor","ProjectDetailsLabels","enqueueSnackbar","useSnackbar","CommunityProjectDetailsBase","useCommunityProjectDetailsQuery","CommunityProjectDetails","useIncrementProjectViewCount","shareUrl","REACT_APP_SHARE_URL","editableProject","displayThumbnail","displayStats","ProjectDetailsUser","ProjectDetailsDescription","LimitedCommunityProjectDetails","Locked","ProjectDetailsSkeleton","ClassroomProjectDetails","useClassroomProjectDetailsQuery","ClassroomProjectDetailsSkeleton","AdvancedFilters","anchorEl","setAnchorEl","isLanguageFilterEnabled","handleClick","currentTarget","filterString","string","charAt","filteredBlockGalleries","p","OptionAll","DiscoverProjectsHeader","LanguageSelect","selectedLanguages","DiscoverProjectsList","DiscoverMiniQuizzesList","DiscoverProjects","defaultShort","DiscoverProjectsInner","NumberParam","DelimitedArrayParam","useMyFavoriteProjectsQuery","useProjectDiscoverQuery","f","countText","MyClassroomProjectCard","blockGalleriesQuery","classroomBadge","languageBadge","blockGalleryBadge","MyProjectBlockGallery","outerBadges","ClassroomBadge","badgeProps","CreateYourFirstProject","MyProjectList","listLayout","MyCommunityProjectCard","projectListStyles","MyProjectsFilters","onListLayoutChange","hideSort","advancedFilters","smUp","xsDown","isPaletteFilterEnabled","MyProjects","MyProjectsInner","ArrayParam","getDefaultProjectListLayout","setListLayout","useMyProjectsQuery","validValues","settingValue","ProjectModalFooter","ProjectShare","languagesStatus","pendingProjectsStatus","sharedProjects","sharedProjectsStatus","detailsStatus","isProjectUpdate","doesProjectHaveNewVersion","remainingShareSlotCount","getRemainingShareSlotCount","miniQuiz","ProjectShareValidator","MiniQuizShareValidator","ProjectShareForm","defaultLang","shareConsentRequired","production","consent","back","ProjectShareEdit","thumbnailButtonRef","consentGiven","setConsentGiven","submit","canShareWithoutApprove","needsApprove","PROJECT_TITLE_MAX_LENGTH","onFocus","ProjectShareTerms","Markdown","ProjectShareTitle","ProjectUpdateTitle","ProjectShareLoader","InfoMessage","SocialSharing","isOpenCopyLinkDialog","setOpenCopyLinkDialog","isLinkCopied","setLinkCopied","hasSocialSharingAccess","isProxied","REACT_APP_DEPLOY","requestedOpen","setRequestedOpen","navigator","clipboard","writeText","SocialmediaSharing","FacebookShareButton","hashtag","FacebookIcon","TwitterShareButton","TwitterIcon","ViberShareButton","ViberIcon","WhatsappShareButton","WhatsappIcon","EmailShareButton","EmailIcon","PageCookie","refillsAt","refillAfterMinutes","minutesLeft","refill","setRefill","tooltipTitle","currencyTooltips","PopperProps","whiteSpace","CurrencyBadge","iconUrl","Bottom","thickness","CircularProgress","columns","mobileColumns","EventGrid","EventThumbnail","BadgeWrap","OngoingEventBanner","isSmallDevice","BadgeContainer","TextWrap","$background","TextInner","OngoingEventList","EventList","onGoingEvents","pastEvents","DigitalMission2020Page","TrainerContest2020Page","Digigirlz2020Page","DigitalMission2021Page","TrainerContest2021Page","OnboardingPage","ActivityEventPage","eventSlugComponentMap","eventTemplateToComponentMap","CampChallengeDynamicPage","FullEventsRouter","normalisedEventList","isAdvancedStatsTurnedOn","groupedActivityEvents","groupEntry","newEntry","startDateA","startDateB","isSame","normalizeEventList","isManagableEvent","GuestEventsRouter","onboardingEvent","ManagableEventDetail","EventDetail","EventNotFound","ActivityEventPageCurrency","ActivityEventPageCurrencyInner","pointTooltipKey","pointImage","GrantDevTool","openGrantDevtool","listeners","listener","fn","isGolenCookieColored","$isColored","ProjectCardUser","StyledAvatar","Avatar","ProjectDetailsUserAvatarWrap","ProjectModalEmbed","projectVariant","ErrorImage","notFoundImage","ErrorText","iframeProps","notFoundAnimation","keyframes","ProjectModalBase","isNotFound","embedOwnerInFileRequest","transformIframeSrc","renderMainContent","useProjectQuery","setEmbedLoaded","setEmbedOrigin","computedProjectVariant","statusCode","iframeSrc","REACT_APP_PLAY_URL","projectModalContext","Aside","GrantDevToolButton","NOTIFICATION_TYPES","NotificationStatTypes","remainingDays","HighScoreRoomCountdown","onEnd","isLast20Seconds","CountdownValue","$pulse","KEY","isMix","hasAdvancedThumbnail","isEnabled","isMultiLanguageUser","displayBlockGallery","BlockGalleryText","HighScoreRoomResults","highScoreRoom","getHighScoreRoom","LeaderboardCardContent","HighScoreRoomResultsInner","setIsFinished","secretCode","RoomName","GameTitle","expireAt","HighScoreGameThumbnailWithSecretCode","HighScoreGameThumbnailWithSecretCodeRoot","HighScoreGameThumbnailWithSecretCodeOverlay","$overlayColor","SecretCode","StyledHighScoreGameThumbnail","LimitedCommunityProjectDetailsPage","canViewProject","Details","MiniQuizEditor","WallpaperList","imageWidth","imageHeight","wallpaper","ImageLink","ImageOverlay","URLSearchParams","XmasProjectDetailsPage","OnlinefirstChallengeDialog","MiniQuizEditorSkeleton","entryFromRedux","entryFromQuery","wallpapersByKind","desktop","mobile","SurveyList","isTrainer","getUserSurveys","hasOnlyOneSurvey","$hasOnlyOneSurvey","surveyImage","ButtonGrid","groupName","subjectName","replaceAll","survey","getSurveySubjectTranslation","subjectKey","getSubjectNameKey","isValidXmasProjectId","getXmasProjectSecretCode","XmasProjectDetails","unlockProject","FloatingTextContext","FloatingTextProvider","texts","setTexts","showFloatingText","animationVariants","onAnimationComplete","useFloatingText","MiniQuizCardCookieCount","MiniQuizCardMetadata","errorInfo","Panel","PanelActions","PanelHeader","PanelTitle","PanelMoreButton","guestGrants","PdfTemplateDrawingContest2021Base","PdfTemplateDrawingContest","translationsRaw","section_first","section_second","drawingContest2020ScoolroundParticipation","certName","certCode","drawingContest2021ScoolroundParticipation","drawingContest2020InterationalParticipation","drawingContest2021InterationalParticipation","drawingContest2022ScoolroundParticipation","drawingContest2022InterationalParticipation","drawingContest2023ScoolroundParticipation","drawingContest2023InterationalParticipation","drawingContest2024ScoolroundParticipation","drawingContest2024InterationalParticipation","drawingContests","schoolRound","inventoryItem","participantCertificate","trainersChoiceCertificate","winnerCertificate","nationalRound","internationalRound","juniorDesignerCertificate","createDrawingContestCustomCertificate","schoolName","getCertFromInventroy","customCerts","drawingContest","scoolRoundItem","cert","nationaRoundItem","internationalRoundItem","DrawingContestCertItem","isOpening","setOpening","setImgData","courseInfo","CustomCerts","course","certificateTypeColorMap","certificateType","StyledCertificateRibbon","ThumbnailWrap","filename","downloadFile","CustomPdfGenerator","useTranslation","_env_","process","REACT_APP_OAUTH_OVERRIDE","EventDetailsSubtitle","ActivityEventPointIcon","isRecordingDevToolEnabled","encodeURIComponent","appendChild","click","removeChild","setLiveopsRecording","onboardingDefinitionsByVariant","enabledForGuest","userCreatedBefore","requiredGrant","onboardingManagerContext","OnboardingManagerProvider","onboardingSetting","getOnboardingUserSetting","getInitialOnboarding","currentOnboarding","setCurrentOnboarding","onboarding","markCurrentAsDisplayed","closeCurrent","raw","OnboardingLoader","ImageUploadButton","onUpload","srcType","uploadReducer","uploadImage","finally","accept","TYPE_TO_EDITOR","setText","parsed","onBlur","number","realValue","dateValue","setFieldValue","err","boolean","endAdornment","handleUpload","ImageZoom","EDITS","registerManagementMultiEdit","configuration","useManagementMultiEdit","edit","setDeep","newLevel","newPath","getDeep","useMultiEditField","fieldName","basePath","fieldPrefix","fullFieldName","editorProps","EditorComponent","reduceResults","newResults","multiEdit","dirtyData","changeResult","groupEntriesByValue","setGroupEntriesByValue","wideModal","editedField","realBasePath","basePathParts","editedFieldParts","handleNext","mutateUnchanged","finalResults","mutationTaskKind","hidePrimaryField","entriesByValue","indices","displayTargetAsPlural","displayTargetAs","container","xs","primaryField","Fragment","dirty","DialogProps","DialogImg","Accordion","expandIcon","header","followUser","unFollowUser","useScrollToHash","ScrollToHash","MUTATIONS","CRUD_TO_FILTERING","update","CRUD_TO_LABEL","registerManagementMutationTask","mutation","mutate","AsyncIdentity","reduceSelected","newSelected","handleMutate","useMutation","selection","updateSelection","updateResults","done","setDone","hasSelected","selectedEntries","inProgress","allReady","handleConfirm","allowFiltering","crudKind","activeEntries","PublicMiniQuizCard","StyledProjectCardUser","HighScoreGameThumbnailLink","Progress","components","strong","ProgressRoot","DotWrap","Tick","ProgressInner","isUpdated","setIsUpdated","clickableBadges","turnsGray","$turnsGray","ProjectCardImageRoot","ProjectCardImageWrapper","RATIO","WSURL","REACT_APP_LIVEOPS_URL","io","Manager","transports","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","autoConnect","segments","connectToSharedStore","loadAchievements","requestedWelcome","fetchLeaderboard","latest","board","achievements","unlock","lb","users","usersById","transactionToItem","handleInventoryTransaction","sucessRecipe","errorRecipe","InitialNotificationsState","byId","allIds","GENERATED","isValidNotificationType","requestedNotifications","catalog","splice","noti","unshift","read","highScoreRooms","roomsWithGame","rooms","persistent","roomExpireAt","versionName","scores","nextIncrementAt","useHasInventoryItem","itemId","HighScoreGamesList","games","CreateHighScoreRoomButton","setProjectId","projectStats","isCreateDialogOpen","totalHours","createRoom","CreateHighScoreRoomDialog","StyleHighscoreThumbnail","StyledFieldSet","TimeWrap","HighScoreRoomPanel","HighScoreDetails","canCreateHighScoreRoom","hasShowAdvancedStas","joinHighScoreRoomDialogTo","JoinHighScoreRoomDialogController","JoinHighScoreRoomDialog","JoinHighScoreRoomButton","TABLET_BREAKPOINT","HighScoreRoomList","aExpireAt","bExpireAt","setPage","pages","paginatedRooms","LabelsWrap","ListRoot","Pagination","HighScoreRoomListItem","setIsActive","countdownLabel","$isActive","CreateHighscoreButton","EmptyStateRoot","emptyStateImage","ItemDefinition","InfoLabel","OnlinefirstChallengeCard","buttons","lastChallenge","challenges","lastResults","challenge","lastScore","flexBasis","MediaWrapper","Media","OfcChallengeDialogDetails","OnlinefirstChallengeList","useHasOfcAccess","thumbnailCacheBusts","fieldError","canMoveToProduction","getMiniQuizAccessLevel","doesContestProjectHaveNewVersion","hasNewVersion","normalProjectIds","minQuizIds","normalLength","miniQuizLength","sharedMiniQuizLimit","rtlLocales","directionChangeHandlers","i18next","Backend","initReactI18next","ns","returnEmptyString","load","keySeparator","nsSeparator","defaultNS","backend","loadPath","crossDomain","fallbackLng","lng","react","transKeepBasicHtmlNodesFor","documentElement","handler","h","changeLanguage","getLanguages","useLocalesQuery","getLocales","getSchoolCountryCodes","NODE_ENV","newVersion","GetCustomCertButton","courseItem","certInfo","createSubjectToCertificateFunction","classes","popper","caption","skipToken","prepareTime","getUTCHours","getUTCMinutes","prepareDateTime","getHours","getMinutes","eventData","getChallengeSet","participation","firstDay","schedules","sch","publishedParam","endpoint","getTimesheet","saveTimesheet","part1","postAttendances","cu","su","co","curricula","subjects","courseTypes","processedSubjects","processedCuricula","processedSubject","edition","KEYS","MY_PROJECTS","SHARED_PROJECTS","MY_SHARED_PROJECTS","DISCOVER_PROJECTS","MY_SHAREABLE_PROJECTS","PROJECT","MY_LATEST_PROJECTS","BLOCK_GALLERIES","COMMUNITY_PROJECT_DATA","CLASSROOM_PROJECT_DATA","MY_FAVORITE_PROJECTS","MY_PENDING_PROJECTS","MY_SHAREABLE_CONTEST_PROJECTS","MY_SHARED_CONTEST_PROJECTS","CONTESTPROJECTS_FOR_VOTING","TRAINER_CONTEST_2021_RESULTS","MY_MODERATION_REPORTS","RECOMMENDED_PROJECTS","MY_CUSTOM_PROJECT_LABELS","apiCallQuery","normalizeProjects","__","normalizedProjects","lastPage","refetchOnMount","cacheTime","normalizeSharedProjects","embedOwner","retry","retryCount","staging","useMyShareableProjectsQuery","useRecommendedProjectsQuery","allLanguages","onProjectShareApproved","useInvalidateProjectData","removeQueries","owner_username","owner_profileImage","owner_primaryKind","owner_alias","owner_trainingCertificates","usePendingProjectCache","useMiniQuizQuery","useMiniQuizTemplatesQuery","SingleQuizResult","userPath","generatePath","SingleQuizResultContent","finalRank","TrophyIcon","Placement","nParticipants","Small","trophyColors","QuizResultsGrid","detailedQuizResult","detailedQuizStatus","quizResult","quizResultStatus","StatsWrap","nCorrectAnswers","Questions","Header","StyledTypoTitle","QuestionsRoot","question","hasImage","primaryArt","uri","imgSrc","responseTimeInSeconds","toFixed","$isCorrect","subheader","NoAnswer","selectedIndex","validationInfo","selectedIndices","displayPendingBadge","shareableBadge","ShareableBadge","isManagableNonActivityEvent","isManagableActivityEvent","CurriculumListTab","HorizontalContent","NoPaddingHeader","SubjectCard","sortedCourseTypes","sortCourseTypes","titleTypographyProps","versionA","CurriculumPanel","filteredSubjects","subjectKind","subjectIndex","HorizontalLeftAlignedStack","VimeoActionCard","VimeoAttachment","videoEntries","activeEntry","setActiveEntry","playerOptions","controls","byline","playing","onEnded","nextIndex","AttachmentKindIcon","print","DocumentAttachment","extension","pop","actionTypeOpenInTab","ext","actionTypeDownload","printPerStudent","seamless","DownloadAttachment","AttachmentEntry","AttachmentList","sortedEntries","tutorial","StudentComputerContent","content","BreakContent","Break","StatusEntry","subtype","TextGroupEntry","nextEntry","TaskGroupEntry","handleOpen","project_id","template_id","CopyButton","QuizGroupEntry","canHost","canPreview","canSelfHost","isTrialOrSalesDemo","getURL","quiz_template_id","generateSecretCode","ChallengeGroupEntry","secretCodeState","setSecretCodeState","setCode","handleShowCode","challenge_set_id","handleRedeem","VideoGroupEntry","CodeBlock","pre","CodeGroupEntry","codeRef","hljs","highlightElement","GroupEntryViewContent","GroupEntryView","setHover","checkboxVisible","borderBottom","borderTop","visibility","onMouseLeave","EmbeddedAccordion","EntryGroup","expanded","setExpanded","topic","TimesheetEntryView","FeedbackCard","ratingValue","setRatingValue","studentRatings","PasswordResetModal","participant","setPassword","scUserId","QRLoginModal","setURI","marginSize","AttendanceSwitch","hasActivityIn","lastActivityAt","AttendanceCard","inClassState","passwordModalOpen","setPasswordModalOpen","qrModalOpen","setQRModalOpen","clickedParticipant","setClickedParticipant","canResetPassword","canUseQRLogin","activityStatus","setActivityStatus","manualAttendance","setManualAttendance","participants","isPopupOpen","activityUpdateTrigger","handleOpenPopup","setPopupOpen","person_id","crmUserId","group_id","attendance","school_id","season_id","session_id","makeup","subject_id","madeup","courseType_id","crm_courseType_id","makeUpComment","canLoadProject","lastProject","getAttendanceValue","available","isChecked","newManualAttendance","postAttendance","fromNow","popup","El","StyledPopover","anchorOrigin","vertical","horizontal","ListCard","special","LessonCard","canStart","isCurrent","timeSlot","isMakeup","isOngoing","classroom_name","classroom_code","roomAndSchool","minWidth","UpcomingLessons","hasLessons","hadLessons","hasCourseKindAccess","updateCounter","setUpdateCounter","isLastUpcoming","isUpcoming","isUpcomingLesson","showSeparator","canAccessSubject","TimelineSeparator","TimelineDot","TimelineLine","lessonList","ViewTrainerRulesModal","setProgress","acceptChecked","setAcceptChecked","latestTermsDate","accepted","termsAcceptedAt","acceptRules","CertificateItem","certificateInfo","CertificateListEmptyState","CertificateList","CertData","getCrmCertificates","setFilter","gridRef","hasAllCertContent","certificateGrants","hasTrainingCertificate","fromNotification","getCertificates","drawingCerts","createTrainingCertificate","availableCertificateTypes","filteredCertificates","RootRef","rootRef","idx","CategorySelect","getCrmGroup","subjectId","getFinishedGroups","filteredGroups","coursetype_code","getUTCFullYear","ScoolcodeChallengeCard","resetChallengeSet","fallbackCoverImg","Actions","showConfirm","setShowConfirm","ResetDialog","ScoolcodeChallengeList","digitalMissionWeeklyTasks","activeTo","catalogItemId","minValue","hideInFeed","voteCatalogItems","cachedActiveDigitalMissionWeeklyTasks","getActiveDigitalMissionWeeklyTask","weeklyTasks","cached","activeTask","setActiveTask","ActivityEventWeeklyMissionsInner","remainingTimeLabel","isCompleted","displayProgress","hideCta","Completed","Rewards","AvatarWrap","Points","LargeSkeleton","StyledLargeSkeleton","MuiSkeleton","MediumSkeleton","StyledMediumSkeleton","SmallSkeleton","StyledSmallSkeleton","digitalMissionPhases","successCatalogItemId","sweepstakeIsHappend","winnerCatalogItemID","digitalMission2021AchievementsInventoryId","ProFiller","CookieContributor","CookieCollector","NumberCrush","FollowCollector","CosmicQuiz","LaboratoryEscape","FeedVoter","WonderQuiz","QuestMaster","ProjectExplorer","HighScoreHero","marvel","projectCreator","geographyexplorer","RobotOlympics","inventionmaster","CookieHunter","TrainerContestVoter","TrainerFollower","GamingExpert","PlanetBuilder","digitalMission2021achievementDataList","profillerBadge","badgeContainerBgColor","cookieContributorBadge","cookieCollectorBadge","numberCrushBadge","followerBadge","cosmicQuizBadge","laboratoryEscapeBadge","feedVoterBadge","wonderQuizBadge","questMasterBadge","projectExplorerBadge","highScoreHeroBadge","marvelBadge","projectCreatorBadge","geographyexplorerBadge","robotOlympicsBadge","inventionmasterBadge","trainerContestVoterBadge","cookieHunterBadge","trainerFollowerBadge","gamingExpertBadge","planetEvolutionBadge","getDigitalMission2021SeaonsPoints","getDigitalMission2021AchievementI18nKeys","typofix","dm2021UnlockAcihevementNotificationHandler","achievementData","notiMediaSrc","userWonTheSweepstake","winnerItemId","DiceIcon","TshirtIcon","$inBanner","TRIANGLE_SIZE","DigitalMission2021Prizes","sweepstake01Prize","sweepstake01","sweepstake02Prize","sweepstake02","sweepstake03Prize","sweepstake03","BE","DE","MX","SA","SK","CH","TW","TR","DigitalMission2021Achivement","achivement","acquiredAt","dateFormat","DigitalMission2021Results","achivements","getAchievementsFromInventory","processProgress","isAchievementHidden","sm","lg","getDigitalMission2021Cert","resultsRef","fromBanner","isWinner","getOnboadingPoints","isOnboardingMissionFinished","onboardingUnlockAcihevementNotificationHandler","prize1Img","isAchievementAcquired","OnboardingAchievement","isSelected","StyledCheckIcon","$isSelected","$isLocked","OnboardingAchievementDetails","currentProgress","ImgWrap","AcquiredBadge","grayscale","OnboardingProgress","maxPoints","PanelWrap","prize2Img","Triangle","TriangleRoot","svg","OnboardingProgressPanel","OnboardingProgressPanelRoot","OnboardingProgressPanelInner","OnboardingAchievementList","firstNotCompleted","getFirstNotCompletedAchievement","setSelected","setDialogOpen","selectedAchievement","DetailsDialog","modifiedData","Banner","$backgroundImage","bannerImg","CampChallengePageInner","isVideoOpen","setIsVideoOpen","useSelectedCampQuery","selectedCampName","linkQueryStatus","quizSessions","quizSessionQueryStatus","selectedCampKey","camp","hasSelectedCamp","hasCompletedQuiz","isQualified","QuizGrid","QuizFinishedIcon","CampSelectGrid","CtaGrid","VideoWrap","ctaImg","Countdown","ConutdownRoot","QualifiedBox","shouldDisplayNotification","QualifiedBoxRoot","QualifiedBoxInner","CampSelectBoxItem","hasValue","StyledSelectBoxItem","$img","$selected","$hasValue","CheckCircleIcon","CampChallengePage","NotificationImage","StyledNotificationIcon","StyledNotiImg","onLoad","NotificationUserAvatar","NotificationIcon","NotificationBlock","isRead","closePanel","notificationView","platinum","gold","GoldTrophy","silver","SilverTrophy","bronze","BronzeTrophy","validStats","Easy","Medium","Hard","getProjectTitle","getTranslation","trophytype","highscoregamename","highscoregamelevel","_image","useNotificationToNotificationView","isButton","StyledNotiContent","isBtn","StyledContainer","StyledTitle","StyledDate","NotificationPanel","refObject","transformOrigin","StyledNotiWrapper","NotiPopoverContent","notificationsById","visibleNotifications","isUnlistedNotification","StyledNotiHeader","StyledNoNotiText","OverflowWrap","NotificationButton","isNotiPanelOpen","setNotiPanelOpen","notiIcon","unreadNotiCount","getUnreadNotiCount","StyledNotificationButton","StyledNotiCount","bellAnimation","MuiListItem","ListItemText","MuiListItemIcon","PopupMenu","onOpened","onClosed","PopupMenuButton","PopupMenuItem","realOnClick","CompactPopupMenuItem","CompactRoot","cookieHuntSpawnPoints","probability","layer","offset","actionByType","cookieHuntContext","enabledSpawnPoints","generateRandomEnabledSpawnPoints","CookieHuntProvider","collected","setCollected","isSpawnPointVisible","collect","places","imgByType","easterEggImg","sizeByType","plusCookiesByType","floatingTextColorByType","CookieHunt","spawnPoint","CookieHuntInner","useCookieHunt","$spawnPoint","AnimatePresence","getBoundingClientRect","isPresent","useIsPresent","exit","ButtonLabel","cookieButtonTransformStyles","wiggle","getButtonPositionStyles","NAME_NOT_UNIQUE_ERROR","pendingProjectsCache","invalidateProjectData","emitProjectAction","promises","isNameUnique","convertedKind","clonedProject","normalizedLabels","projectActionListener","restore","l","AvatarRoot","AvatarInner","AvatarImg","fallbackImg","avatar","CurrentUserAvatar","AvatarBadge","AvatarBadgeRoot","AvatarOverlay","AvatarOverlayRoot","SelectableAvatar","lockedMessage","SelectableAvatarRoot","AvatarBrowser","renderActions","profilePictures","queryStatus","selectedCategory","setSelectedCategory","save","categories","filteredProfilePictures","primaryButtonProps","secondaryButtonProps","category","AvatarGrid","AvatarBrowserDialogController","AvatarBrowserDialog","readyCount","setReadyCount","timedOut","setTimedOut","PoorMansSuspenseRenderer","defaultLoader","useLayoutEffect","MuiIconButton","thumbnails","robot","digitalIntro","minecraft","minecraftWorkshop","digitalMission","illustration","illustrationWorkshop","rpg","ai","roblox","bizniscool","threeD","openDay","digitalDiscovery","digitalMission2021","digitalMission2022","digitalMission2023","imagicharm","scoolerMission","logiscoolMission","aiPython","aiBasic","explorerJunior","explorerCreative","explorerGamer","genAI","certThumbnails","allSubject","blurbType","trainerTrainingSubject","POLYFILL_LOCALES","OriginalDateTimeFormat","DateTimeFormat","DynamicDateTimeFormat","Proxy","PolyfillDateTimeFormat","construct","args","prop","supportedLocalesOf","defineProperty","configurable","enumerable","writable","_promise","month","openday","digitalmission","digitalmission2021","digitalmission2022","digitalmission2023","workshop","campChallengeDay","training","fileName","createCertificateTypeColorScheme","userSubjects","userCertificates","isSpecUserByGrant","SPECIAL_USER_IDS","isSpecialUser","allCourses","createFakeInventoryItem","subjectsFromCertificateGrants","subjectToCertificate","method","schoolPortalName","certificateGants","invItem","subjectType","subjecKey","StatusIconGreen","FaCheckCircle","StatusIconYellow","FaExclamationCircle","StatusIconRed","Mood1Icon","FaFrown","Mood2Icon","FaFrownOpen","Mood3Icon","FaMeh","Mood4Icon","FaSmile","Mood5Icon","FaGrinStars","PrintIcon","FaPrint","FileIcon","FaFile","UploadIcon","FaUpload","ManageIcon","FaBriefcase","AddIcon","FaPlus","SettingsIcon","FaCog","FaBell","HomeIcon","FaHome","UserIcon","FaUser","LogOutIcon","FaSignOutAlt","FaTrophy","ProjectIcon","FaDiceD6","ClassroomIcon","FaChalkboard","EditIcon","FaPencilAlt","RenameIcon","FaEdit","MenuIcon","FaBars","FollowIcon","FaUserPlus","UnfollowIcon","FaUserMinus","DownloadIcon","FaDownload","FaCheck","FaLock","UnlockIcon","FaUnlockAlt","MixIcon","FaCode","WarningIcon","InfoIcon","FaInfoCircle","CommentIcon","FaComment","RightAngleIcon","FaAngleRight","LeftAngleIcon","FaAngleLeft","TimesCircleIcon","FaTimesCircle","MinusCircleIcon","FaMinusCircle","CookieIcon","FaCookieBite","Searchicon","FaSearch","ChevronDownIcon","FaAngleDown","ChevronUpIcon","FaAngleUp","DeleteIcon","FaTrashAlt","DuplicateIcon","FaClone","CloseIcon","FaTimes","ShareIcon","FaShareAlt","BackIcon","FaChevronLeft","ForwardIcon","FaChevronRight","ImageIcon","FaImage","CameraIcon","FaCamera","MoreIcon","FaEllipsisH","FavoriteIcon","FaStar","FavoriteOutlineIcon","FaRegStar","FaUserFriends","FaStore","FaPlay","RestoreIcon","FaTrashRestore","FilterIcon","FaSort","FaFilter","EventsIcon","FaCalendarAlt","ViewIcon","FaEye","ViewIconSlash","FaEyeSlash","EyeIcon","FaRegEye","HeartIcon","FaHeart","HeartOutlineIcon","FaRegHeart","GridIcon","FaPoll","FaTh","ListIcon","FaThList","FaMapMarkerAlt","FaGraduationCap","FaMedal","ResetIcon","FaUndoAlt","RefreshIcon","FaSync","CertificateIcon","FaCertificate","GhostIcon","FaGhost","WizardHatIcon","FaHatWizard","MoveProductionIcon","FaRegPaperPlane","FaTshirt","FaDice","GamePadIcon","FaVoteYea","FaThumbsUp","FaGamepad","ChartIcon","FaRegChartBar","FaLink","FaFastForward","QuestionCircleIcon","FaQuestionCircle","PinIcon","FaThumbtack","CampIcon","FaCampground","TagIcon","FaTag","ThisWeekIcon","FaBookOpen","FaCalendarWeek","AttendanceListIcon","FaListAlt","ExternalLinkIcon","FaExternalLinkAlt","MeetingIcon","FaVideo","BloxIcon","SwearIcon","$hasAction","formatOptionsMap","precise","day","hour","minute","long","SET_CALENDAR_EVENT","SET_URL","SET_FEEDBACK_MODAL","TOGGLE_ENABLED","GROUP_COMPLETED","GROUP_INCOMPLETE","TOGGLE_ENTRY","REPLACE_STATE","isGroupEntry","INITIAL_STATE","counters","durations","isAllInactive","checkbox","SET_CURRICULUM_FILTER_TEXT","setFilterText","filterText","pathWithParams","REACT_APP_SCOOLCODE_URL","searchParams","REACT_APP_SCOOLCODE_CREATE_URL"],"mappings":"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2BQrBW,IAA0B,qDRsBrC,2BStBW,IAA0B,qDTuBrC,2BUvBW,IAA0B,sDCa5BA,GAAuB,CAChC,2BCdW,IAA0B,qDDerC,2BEfW,IAA0B,qDFgBrC,2BGhBW,IAA0B,qDHiBrC,2BIjBW,IAA0B,qDJkBrC,2BKlBW,IAA0B,qDLmBrC,2BMnBW,IAA0B,qDNoBrC,2BOpBW,IAA0B,qDPqBrC,2BQrBW,IAA0B,qDRsBrC,2BStBW,IAA0B,qDTuBrC,2BUvBW,IAA0B,sDCa5BA,GAAuB,CAChC,2BCdW,IAA0B,qDDerC,2BEfW,IAA0B,qDFgBrC,2BGhBW,IAA0B,qDHiBrC,2BIjBW,IAA0B,qDJkBrC,2BKlBW,IAA0B,qDLmBrC,2BMnBW,IAA0B,qDNoBrC,2BOpBW,IAA0B,qDPqBrC,2BQrBW,IAA0B,qDRsBrC,2BStBW,IAA0B,qDTuBrC,2BUvBW,IAA0B,sDCa5BA,GAAuB,CAChC,2BCdW,IAA0B,qDDerC,2BEfW,IAA0B,qDFgBrC,2BGhBW,IAA0B,qDHiBrC,2BIjBW,IAA0B,qDJkBrC,2BKlBW,IAA0B,qDLmBrC,2BMnBW,IAA0B,qDNoBrC,2BOpBW,IAA0B,qDPqBrC,2BQrBW,IAA0B,qDRsBrC,2BStBW,IAA0B,qDTuBrC,2BUvBW,IAA0B,sDCa5BA,GAAuB,CAChC,2BCdW,IAA0B,qDDerC,2BEfW,IAA0B,qDFgBrC,2BGhBW,IAA0B,qDHiBrC,2BIjBW,IAA0B,qDJkBrC,2BKlBW,IAA0B,qDLmBrC,2BMnBW,IAA0B,qDNoBrC,2BOpBW,IAA0B,qDPqBrC,2BQrBW,IAA0B,qDRsBrC,2BStBW,IAA0B,qDTuBrC,2BUvBW,IAA0B,sDCa5BA,GAAuB,CAChC,2BCdW,IAA0B,qDDerC,2BEfW,IAA0B,qDFgBrC,2BGhBW,IAA0B,qDHiBrC,2BIjBW,IAA0B,qDJkBrC,2BKlBW,IAA0B,qDLmBrC,2BMnBW,IAA0B,qDNoBrC,2BOpBW,IAA0B,qDPqBrC,2BQrBW,IAA0B,qDRsBrC,2BStBW,IAA0B,qDTuBrC,2BUvBW,IAA0B,sDCA5BC,GACa,CAClB5mF,IAAK,2BACLC,KAAM,2BACNC,KAAM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","file":"static/js/main.a36d99ae.chunk.js","sourcesContent":["import React, { useContext } from 'react'\nimport styled from 'styled-components/macro'\n\ninterface ProgressBarProps {\n    value: number\n    max: number\n    ticks?: React.ReactNode\n    className?: string\n}\n\ninterface ProgressBarContextState extends ProgressBarProps {}\n\nconst progressBarContext = React.createContext<ProgressBarContextState | undefined>(undefined)\n\nexport const useProgressBarContext = () => {\n    const state = useContext(progressBarContext)\n\n    if (state === undefined) {\n        throw new Error(\"'useProgressBarContext' must be used within an 'ProgressBar'.\")\n    }\n\n    return state\n}\n\nexport const ProgressBar: React.FC<ProgressBarProps> = ({ value, max, children, className, ticks }) => {\n    return (\n        <progressBarContext.Provider value={{ value, max }}>\n            <Root className={className}>\n                {children}\n                {ticks}\n            </Root>\n        </progressBarContext.Provider>\n    )\n}\n\nconst Root = styled.div`\n    position: relative;\n    width: 100%;\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface ProgressBarTrackProps {\n    className?: string\n}\n\nexport const ProgressBarTrack: React.FC<ProgressBarTrackProps> = ({ children, className }) => {\n    return <Root className={className}>{children}</Root>\n}\n\nconst Root = styled.div`\n    position: relative;\n    overflow: hidden;\n    display: flex;\n    align-items: center;\n    height: 3rem;\n    border: ${props => `solid 2px ${props.theme.extras?.progressBar?.borderColor ?? props.theme.palette.divider}`};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    background-color: ${props => props.theme.palette.background.paper};\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { useProgressBarContext } from './ProgressBar'\n\ninterface ProgressBarIndicatorProps {\n    className?: string\n}\n\nexport const ProgressBarIndicator: React.FC<ProgressBarIndicatorProps> = ({ children, ...rest }) => {\n    const { value, max } = useProgressBarContext()\n    const roundedValue = Math.round(Math.abs(value))\n    return (\n        <Root style={{ width: `${(roundedValue / max) * 100}%` }} $isCompleted={roundedValue >= max} {...rest}>\n            {children}\n        </Root>\n    )\n}\n\nconst Root = styled.div<{ $isCompleted: boolean }>`\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    border-radius: ${props =>\n        props.$isCompleted\n            ? `${props.theme.shape.borderRadius}px`\n            : `${props.theme.shape.borderRadius}px 0 0 ${props.theme.shape.borderRadius}px`};\n    height: calc(100% + 1px);\n    font-size: ${props => props.theme.typography.body1.fontSize};\n    font-weight: 600;\n    color: ${props => props.theme.palette.primary.contrastText};\n    transition: width ${props => props.theme.transitions.duration.standard}ms;\n    background: linear-gradient(\n        ${props => props.theme.palette.primary.light} 10%,\n        ${props => props.theme.palette.primary.main} 15%,\n        ${props => props.theme.palette.primary.main} 90%,\n        ${props => props.theme.palette.primary.dark} 95%\n    );\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nexport const ProgressBarIndicatorText: React.FC = ({ children }) => {\n    return <Root>{children}</Root>\n}\n\nconst Root = styled.div`\n    position: absolute;\n    z-index: 2;\n    right: ${props => props.theme.spacing(2)};\n`\n","import { Text } from 'components/Text'\nimport React from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { useProgressBarContext } from './ProgressBar'\n\ninterface ProgressBarCenteredTextProps {\n    color?: string\n    alternativeColor?: string\n}\n\nexport const ProgressBarCenteredText: React.FC<ProgressBarCenteredTextProps> = ({\n    color,\n    alternativeColor,\n    children,\n}) => {\n    const { value, max } = useProgressBarContext()\n\n    return (\n        <>\n            <TextOnBackground $color={color}>{children}</TextOnBackground>\n            <TextOnIndicator $color={alternativeColor} $ratio={value / max}>\n                {children}\n            </TextOnIndicator>\n        </>\n    )\n}\n\nconst commonStyles = css`\n    position: absolute;\n    z-index: 2;\n    font-weight: 600;\n`\n\nconst TextOnIndicator = styled(Text)<{ $ratio: number; $color?: string }>`\n    ${commonStyles}\n    color: ${props => props.$color ?? props.theme.palette.primary.contrastText};\n    text-shadow: 0px 0 3px rgba(0, 0, 0, 0.5);\n    text-align: left;\n    left: ${props => props.theme.spacing(4)};\n    @supports (clip-path: polygon(0% 0%)) {\n        left: 0;\n        right: 0;\n        text-align: center;\n        text-shadow: none;\n        clip-path: ${props => `polygon(0% 100%, 0% 0%, ${props.$ratio * 100}% 0%, ${props.$ratio * 100}% 100%)`};\n    }\n`\n\nconst TextOnBackground = styled(Text)<{ $color?: string }>`\n    ${commonStyles}\n    color: ${props => props.$color};\n    left: 0;\n    right: 0;\n    text-align: center;\n    display: none;\n    @supports (clip-path: polygon(0% 0%)) {\n        display: block;\n    }\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { useProgressBarContext } from './ProgressBar'\n\ninterface ProgressBarTickProps {\n    requiredValue: number\n}\n\nexport const ProgressBarTick: React.FC<ProgressBarTickProps> = ({ requiredValue, children }) => {\n    const { max, value } = useProgressBarContext()\n    const left = `${(requiredValue / max) * 100}%`\n    const reached = value >= requiredValue\n\n    return (\n        <Root style={{ left }}>\n            <Line $reached={reached}>{children}</Line>\n        </Root>\n    )\n}\n\nconst Root = styled.div`\n    position: absolute;\n    top: 1px;\n    bottom: 1px;\n`\n\nconst Line = styled.div<{ $reached: boolean }>`\n    position: relative;\n    height: 100%;\n    border-left: solid 3px ${props => props.theme.palette.divider};\n`\n","export default __webpack_public_path__ + \"static/media/cookie.6365c067.svg\";","export default __webpack_public_path__ + \"static/media/cookie-solid.5226bfed.svg\";","export default __webpack_public_path__ + \"static/media/golden-cookie.46f2fb69.svg\";","export default __webpack_public_path__ + \"static/media/golden-cookie-solid.5a4e4483.svg\";","import cookieImg from './media/cookie.svg'\nimport cookieSolidImg from './media/cookie-solid.svg'\nimport goldenCookieImg from './media/golden-cookie.svg'\nimport goldenCookieSolidImg from './media/golden-cookie-solid.svg'\nimport cookiesIcon from './media/cookies.svg'\n\nexport const currencyStyles = {\n    cookiedColor: '#ffaa00',\n    cookiesIcon: cookiesIcon,\n    cookie: {\n        icon: {\n            colored: cookieImg,\n            solid: cookieSolidImg,\n        },\n        colors: {\n            background: { light: '#f3e1b9', dark: '#262b3a' },\n            color: { light: '#322c21', dark: '#f0e0bb' },\n        },\n    },\n    'golden-cookie': {\n        icon: {\n            colored: goldenCookieImg,\n            solid: goldenCookieSolidImg,\n        },\n        colors: {\n            background: { light: '#333529', dark: '#2d2a20' },\n            color: { light: '#ffaa00', dark: '#ffaa00' },\n        },\n    },\n}\n","export default __webpack_public_path__ + \"static/media/cookies.7e0a74ec.svg\";","export function countTruthyValues(array: any[]) {\n    return array.filter(Boolean).length\n}\n\nexport function filterNulls<T>(item: T | null): item is T {\n    return item !== null\n}\n\nexport function isNotUndefined<T>(item: T | undefined): item is T {\n    return item !== undefined\n}\n\nexport function getNRandomElements<T>(array: T[], n: number) {\n    return [...array].sort(() => 0.5 - Math.random()).slice(0, n)\n}\n\nexport function shuffleArray<T>(array: T[]) {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1))\n        ;[array[i], array[j]] = [array[j], array[i]]\n    }\n    return array\n}\n","import React from 'react'\nimport { Divider as MuiDivider, DividerProps as MuiDividerProps } from '@material-ui/core'\n\ninterface DividerProps extends MuiDividerProps {}\n\nexport const Divider: React.FC<DividerProps> = props => {\n    return <MuiDivider {...props} />\n}\n","export default __webpack_public_path__ + \"static/media/cosmos-crossing.3fa3035a.mp4\";","export default __webpack_public_path__ + \"static/media/galaxy-jump.66a30c7d.mp4\";","export default __webpack_public_path__ + \"static/media/space-race.51485303.mp4\";","export default __webpack_public_path__ + \"static/media/asteroids.6275e089.mp4\";","export default __webpack_public_path__ + \"static/media/space-trap.a729a9fe.mp4\";","export default __webpack_public_path__ + \"static/media/spacecraft-energizer.034c9150.mp4\";","export default __webpack_public_path__ + \"static/media/laboratory-escape.bf7c2fef.mp4\";","export default __webpack_public_path__ + \"static/media/robot-olympics.8d842cbc.mp4\";","export default __webpack_public_path__ + \"static/media/planet-evolution.9f90bea7.mp4\";","export default __webpack_public_path__ + \"static/media/manifold_trailer.431ca178.mp4\";","export default __webpack_public_path__ + \"static/media/balloon-blaster.bd97f468.mp4\";","export default __webpack_public_path__ + \"static/media/addition.036605ed.mp4\";","export default __webpack_public_path__ + \"static/media/witcher.2179845f.mp4\";","export default __webpack_public_path__ + \"static/media/santas-crossing.c7f2e557.mp4\";","export default __webpack_public_path__ + \"static/media/clone-hunt.0fa650fb.mp4\";","export default __webpack_public_path__ + \"static/media/clonehuntDC.50755a90.mp4\";","export default __webpack_public_path__ + \"static/media/candy-rush.bb32f598.mp4\";","export default __webpack_public_path__ + \"static/media/station-defense.0a3da9a4.mp4\";","export default __webpack_public_path__ + \"static/media/memento.5580b414.mp4\";","export default __webpack_public_path__ + \"static/media/bounce-battle.be7ce39b.mp4\";","export default __webpack_public_path__ + \"static/media/fusion-grow.4edd75f2.mp4\";","export default __webpack_public_path__ + \"static/media/cloud-climber.3ab23e03.mp4\";","export default __webpack_public_path__ + \"static/media/draw-race.c9ba2a9a.mp4\";","import cosmosCrossingThumbnail from './thumbnails/cosmos-crossing.mp4'\nimport galaxyJumpThumbnail from './thumbnails/galaxy-jump.mp4'\nimport spaceRaceThumbnail from './thumbnails/space-race.mp4'\nimport asteroidsThumbnail from './thumbnails/asteroids.mp4'\nimport spcaeTrapThumbnail from './thumbnails/space-trap.mp4'\nimport spacecraftEnergizerThumbnail from './thumbnails/spacecraft-energizer.mp4'\nimport laboratoryEscapeThumbnail from './thumbnails/laboratory-escape.mp4'\nimport robotOlympicsThumbnail from './thumbnails/robot-olympics.mp4'\nimport planetEvolutionThumbnail from './thumbnails/planet-evolution.mp4'\nimport maniFoldThumbnail from './thumbnails/manifold_trailer.mp4'\nimport balloonBlasterThumbnail from './thumbnails/balloon-blaster.mp4'\nimport additionThumbnail from './thumbnails/addition.mp4'\nimport witcherThumbnail from './thumbnails/witcher.mp4'\nimport santaThumbnail from './thumbnails/santas-crossing.mp4'\nimport cloneHuntThumbnail from './thumbnails/clone-hunt.mp4'\nimport cloneHuntDCThumbnail from './thumbnails/clonehuntDC.mp4'\nimport candyRushThumbnail from './thumbnails/candy-rush.mp4'\nimport stationDefenseThumbnail from './thumbnails/station-defense.mp4'\nimport mementoThumbnail from './thumbnails/memento.mp4'\nimport bounceBattleThumbnail from './thumbnails/bounce-battle.mp4'\nimport fusionGrow from './thumbnails/fusion-grow.mp4'\nimport cloudClimber from './thumbnails/cloud-climber.mp4'\nimport drawRace from './thumbnails/draw-race.mp4'\n\nimport { LocalisationKey } from 'lib/i18n'\nimport { Grant, hasGrant } from 'lib/grants'\nimport { UserState } from 'contexts/UserContext'\n//import placeholder from './thumbnails/placeholder.jpg'\nimport { createEnvironmentVariable } from 'utils/env'\n\ninterface Stat {\n    name: string\n    i18nKey: LocalisationKey\n}\n\nexport interface HighScoreGame {\n    title: LocalisationKey\n    projectId: string\n    thumbnail: { kind: 'video'; src: string } | { kind: 'image'; src: string }\n    description: LocalisationKey\n    hiddenStats?: Array<string>\n    stats?: Array<Stat>\n    overlayColor?: string\n    grantRequiredToUnlock?: Grant\n    grantRequiredToDisplay?: Grant\n    recommended?: boolean\n}\n\nexport interface HighScoreGameWithLockedFlag extends HighScoreGame {\n    locked: boolean\n}\n\nexport const getHighscoreGames = (user: UserState): HighScoreGameWithLockedFlag[] => {\n    return highScoreGames\n        .filter(game => (game.grantRequiredToDisplay ? hasGrant(user.grants)(game.grantRequiredToDisplay) : true))\n        .map(game => ({\n            ...game,\n            locked: game.grantRequiredToUnlock ? !hasGrant(user.grants)(game.grantRequiredToUnlock) : false,\n        }))\n        .sort((a, b) => (a.locked === b.locked ? 0 : a.locked ? 1 : -1))\n}\n\nconst commonStats: Array<Stat> = [\n    { name: 'Easy', i18nKey: 'general::easy' },\n    { name: 'Medium', i18nKey: 'general::medium' },\n    { name: 'Hard', i18nKey: 'general::hard' },\n]\n\nconst singleStat: Array<Stat> = [\n    { name: 'Score', i18nKey: 'general::score' }\n];\n\n\nconst CLOUD_CLIMBER_PROJECT_ID = createEnvironmentVariable({\n    dev: '674dc57065eaec541133f51a',\n    beta: '674dc434014504fe878585b7',\n    prod: '674dc434014504fe878585b7',\n})\n\nexport const SPACECRAFT_ENERGIZER_PROJECT_ID = createEnvironmentVariable({\n    dev: '607ff55a87aa7864061900ac',\n    beta: '60bd6c91ca8f711fbe3ca0f9',\n    prod: '60bd6c91ca8f711fbe3ca0f9',\n})\n\nexport const LABORATORYESCAPE_PROJECT_ID = createEnvironmentVariable({\n    dev: '60cb13afa60e848c642ff978',\n    beta: '60cb13d60e62464d649294a2',\n    prod: '60cb13d60e62464d649294a2',\n})\n\nconst ROBOTOLYMPICS_PROJECT_ID = createEnvironmentVariable({\n    dev: '60def498cff1901a0c6d42dc', //todo when dev game is rdy\n    beta: '6103f1d88bbc5a655ed0db10',\n    prod: '6103f1d88bbc5a655ed0db10',\n})\n\nconst PLANETEVOLUTION_PROJECT_ID = createEnvironmentVariable({\n    dev: '611e2094cceee92225bfd34a',\n    beta: '611e1edd755d6f66026272f7',\n    prod: '611e1edd755d6f66026272f7',\n})\n\nconst MANIFOLD_PROJECT_ID = createEnvironmentVariable({\n    dev: '61814a603dd14945d320e634',\n    beta: '61853e03a09d7041c84a8690',\n    prod: '61853e03a09d7041c84a8690',\n})\n\nexport const highScoreGames: HighScoreGame[] = [\n    {\n        projectId: '67c862602128ff7c64b92f7a',\n        title: 'highscoreDrawRace::title' as LocalisationKey,\n        description: 'highscoreDrawRace::description' as LocalisationKey,\n        thumbnail: { kind: 'video', src: drawRace },\n        stats: singleStat\n    },\n\n    {\n        projectId: CLOUD_CLIMBER_PROJECT_ID,\n        title: 'highScoreCloudClimber::title' as LocalisationKey,\n        description: 'highScoreCloudClimber::description' as LocalisationKey,\n        thumbnail: { kind: 'video', src: cloudClimber },\n        stats: [\n            { name: 'Easy', i18nKey: 'general::easy' },\n            { name: 'Hard', i18nKey: 'general::hard' },\n        ],\n    },\n    {\n        projectId: '661e30862577322aa391a488',\n        title: 'highScoreFusionGrow::title',\n        description: 'highScoreFusionGrow::description',\n        thumbnail: { kind: 'video', src: fusionGrow },\n        stats: [\n            { name: 'Easy', i18nKey: 'general::easy' },\n            { name: 'Extreme', i18nKey: 'extreme' as LocalisationKey },\n        ],\n    },\n    {\n        projectId: '650bffaab51af76242680265',\n        title: 'highScoreCandyRush::title',\n        description: 'highScoreCandyRush::description',\n        thumbnail: { kind: 'video', src: candyRushThumbnail },\n        stats: commonStats,\n    },\n    {\n        projectId: '641034616cccdb32c2273c3c',\n        title: 'highScoreCloneHunterSEDC22::title',\n        description: 'highScoreCloneHunterSEDC22::description',\n        thumbnail: { kind: 'video', src: cloneHuntDCThumbnail },\n        stats: singleStat\n    },\n    {\n        projectId: '64a3c9c49a4b9369361f4691',\n        title: 'highScoreBounce::title',\n        description: 'highScoreBounce::description',\n        thumbnail: { kind: 'video', src: bounceBattleThumbnail },\n        stats: commonStats,\n    },\n    {\n        projectId: '64539e8c4bec3a816f774b30',\n        title: 'highScoreMemento::title',\n        description: 'highScoreMemento::description',\n        thumbnail: { kind: 'video', src: mementoThumbnail },\n        stats: commonStats,\n    },\n    {\n        projectId: '63b4188d69715204ffb0bf27',\n        title: 'highScoreStationDefense::title',\n        description: 'highScoreStationDefense::description',\n        thumbnail: { kind: 'video', src: stationDefenseThumbnail },\n        stats: commonStats,\n    },\n    {\n        projectId: '637d27d88e92993b90409cb3',\n        title: 'highScoreCloneHunter::title',\n        description: 'highScoreCloneHunter::description',\n        thumbnail: { kind: 'video', src: cloneHuntThumbnail },\n        stats: commonStats,\n    },\n    {\n        projectId: '638dee822c35cd0710bb51ca',\n        title: 'HighscoreGame::SantasCrossing::name',\n        description: 'HighscoreGameSantasCrossing::description',\n        thumbnail: { kind: 'video', src: santaThumbnail },\n        overlayColor: '#6c7ec4',\n        stats: [{ name: \"Distance\", i18nKey: \"general::score\" }]\n    },\n    {\n        projectId: '6357943f0b2ab57c6863c9d7',\n        title: 'highScoreWitcher::title',\n        description: 'highScoreWitcher::description',\n        thumbnail: { kind: 'video', src: witcherThumbnail },\n        stats: [\n            { name: 'WitchAdvanturePointEasy', i18nKey: 'general::easy' },\n            { name: 'WitchAdvanturePointMedium', i18nKey: 'general::medium' },\n            { name: 'WitchAdvanturePointHard', i18nKey: 'general::hard' },\n        ],\n        overlayColor: '#2a032b',\n    },\n    {\n        projectId: '6336e0ce62be3b2821ec5e94',\n        title: 'highScoreNumberAddition::title',\n        description: 'highScoreNumberAddition::description',\n        thumbnail: { kind: 'video', src: additionThumbnail },\n        stats: commonStats,\n    },\n    {\n        projectId: '62d1508e461d0f1298936dc8',\n        thumbnail: { kind: 'video', src: balloonBlasterThumbnail },\n        title: 'highScoreBalloon::title',\n        description: 'highScoreBalloon::description',\n        overlayColor: '#a550b9',\n        stats: [\n            { name: 'BalloonBlasterHighScoreEasy', i18nKey: 'general::easy' },\n            { name: 'BalloonBlasterHighScoreNormal', i18nKey: 'general::medium' },\n            { name: 'BalloonBlasterHighsScoreHard', i18nKey: 'general::hard' },\n        ],\n    },\n    {\n        title: 'highScoreManifoldUnlocker::title',\n        projectId: MANIFOLD_PROJECT_ID,\n        thumbnail: { kind: 'video', src: maniFoldThumbnail },\n        description: 'highScoreManifoldUnlocker::description',\n        grantRequiredToDisplay: { product: 'edup.universe', feature: 'content.among-us' },\n        recommended: true,\n        hiddenStats: ['UnlockExtreme'],\n        stats: [\n            {\n                name: 'Normal',\n                i18nKey: 'general::normal' as LocalisationKey,\n            },\n            {\n                name: 'Hard',\n                i18nKey: 'general::hard' as LocalisationKey,\n            },\n            {\n                name: 'Extreme',\n                i18nKey: 'Extreme' as LocalisationKey,\n            },\n        ],\n    },\n    {\n        title: 'digitalmission::PlanetEvolution::name',\n        projectId: PLANETEVOLUTION_PROJECT_ID,\n        thumbnail: { kind: 'video', src: planetEvolutionThumbnail },\n        description: 'digitalmission::PlanetEvolution::description',\n        stats: [\n            {\n                name: 'PlanetEvolutionHSGsmall',\n                i18nKey: '3x3' as LocalisationKey,\n            },\n            {\n                name: 'PlanetEvolutionHSGmedium',\n                i18nKey: '3x4' as LocalisationKey,\n            },\n            {\n                name: 'PlanetEvolutionHSGlarge',\n                i18nKey: '4x4' as LocalisationKey,\n            },\n        ],\n        grantRequiredToUnlock: { product: 'edup.universe', feature: 'content.challenges.onboarding-points' },\n    },\n    {\n        title: 'digitalmission::RobotOlympics::name',\n        projectId: ROBOTOLYMPICS_PROJECT_ID,\n        thumbnail: { kind: 'video', src: robotOlympicsThumbnail },\n        description: 'digitalmission::RobotOlympics::description',\n        stats: [\n            {\n                name: 'Easy',\n                i18nKey: 'general::easy',\n            },\n            {\n                name: 'Normal',\n                i18nKey: 'general::medium',\n            },\n            {\n                name: 'Hard',\n                i18nKey: 'general::hard',\n            },\n        ],\n        overlayColor: '#9bbcc0',\n        recommended: true,\n    },\n    {\n        title: 'digitalmission::LaboratoryEscape::name',\n        projectId: LABORATORYESCAPE_PROJECT_ID,\n        thumbnail: {\n            kind: 'video',\n            src: laboratoryEscapeThumbnail,\n        },\n        overlayColor: '#9bbcc0',\n        description: 'digitalmission::LaboratoryEscape::description',\n        grantRequiredToUnlock: { product: 'edup.universe', feature: 'content.challenges.open-day-participation' },\n        stats: singleStat\n    },\n    {\n        title: 'digitalMission2021::achivements::NumberCrush::name',\n        projectId: SPACECRAFT_ENERGIZER_PROJECT_ID,\n        thumbnail: { kind: 'video', src: spacecraftEnergizerThumbnail },\n        description: 'digitalmission::NumberCrush::description',\n        stats: [\n            {\n                name: 'Normal',\n                i18nKey: 'Normal' as LocalisationKey,\n            },\n            {\n                name: 'Hard',\n                i18nKey: 'general::hard',\n            },\n        ],\n        overlayColor: '#21464f',\n    },\n    {\n        title: 'digitalmission::CosmosCrossing::name',\n        projectId: '5f06c5765289ad0009c500b2',\n        thumbnail: { kind: 'video', src: cosmosCrossingThumbnail },\n        description: 'digitalmission::CosmosCrossing::description',\n        grantRequiredToUnlock: { product: 'edup.universe', feature: 'content.challenges.onboarding-points' },\n        stats: [{ name: \"Distance\", i18nKey: \"general::score\" }]\n    },\n    {\n        title: 'digitalmission::GalaxyJump::name',\n        projectId: '5eec6536e6fba7000a75be0c',\n        thumbnail: { kind: 'video', src: galaxyJumpThumbnail },\n        description: 'digitalmission::GalaxyJump::description',\n        stats: commonStats,\n        overlayColor: '#2f2847',\n        recommended: true,\n    },\n    {\n        title: 'digitalmission::spaceRace::name',\n        projectId: '5ed8e0e42b197b000a12f9a5',\n        thumbnail: { kind: 'video', src: spaceRaceThumbnail },\n        description: 'digitalmission::spaceRace::description',\n        overlayColor: '#2f2847',\n        grantRequiredToUnlock: { product: 'edup.universe', feature: 'content.challenges.open-day-participation' },\n        stats: singleStat\n    },\n    {\n        title: 'project::5df3800063ca30001d3cd8f3::title',\n        projectId: '5df3800063ca30001d3cd8f3',\n        thumbnail: { kind: 'video', src: asteroidsThumbnail },\n        description: 'project::5df3800063ca30001d3cd8f3::description',\n        stats: singleStat\n    },\n    {\n        title: 'project::5d43f3cdfe37a00019cae728::title',\n        projectId: '5d43f3cdfe37a00019cae728',\n        thumbnail: { kind: 'video', src: spcaeTrapThumbnail },\n        description: 'project::5d43f3cdfe37a00019cae728::description',\n        stats: commonStats,\n        grantRequiredToUnlock: { product: 'edup.universe', feature: 'content.challenges.onboarding-points' },\n    },\n]\n\n/*\n//data export for mongo import\nconsole.log(highScoreGames.map(hsg => {\n    return {\n        ...hsg,\n        projectId: { $oid: hsg.projectId },\n        createdAt: new Date()\n    }\n}));\n*/\n","export * from './i18n'\nexport * from './useLanguagesQuery'\nexport * from './LanguagesApi'\nexport * from './generated/LocalisationKeys'\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nexport const ProjectModalContent: React.FC = ({ children }) => {\n    return <Root>{children}</Root>\n}\n\nconst Root = styled.div`\n    padding: ${props => props.theme.spacing(4)};\n    overflow: auto;\n    flex: 1;\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { PROJECT_MODAL_MOBILE_BREAKPOINT } from './ProjectModalBase'\n\nexport const ProjectModalHeader: React.FC = ({ children }) => {\n    return <Root>{children}</Root>\n}\n\nconst Root = styled.div`\n    background-color: ${props => props.theme.palette.background.paper};\n    border-bottom: solid 1px ${props => props.theme.palette.divider};\n    padding: ${props => props.theme.spacing(4, 10, 4, 4)};\n    ${props => props.theme.breakpoints.down(PROJECT_MODAL_MOBILE_BREAKPOINT)} {\n        padding-right: ${props => props.theme.spacing(4)};\n    }\n`\n","import dayjs, { Dayjs } from 'dayjs'\nimport { LocalisationKey } from 'lib/i18n'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useEffect, useState } from 'react'\n\nexport const useTick = (timeout: number) => {\n    const [trigger, setTrigger] = useState({ n: 0 })\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            setTrigger({ n: Math.random() })\n        }, timeout)\n\n        return () => {\n            clearInterval(interval)\n        }\n    }, [timeout])\n\n    return trigger\n}\n\nexport const useCountdown = (date: Dayjs, endDate?: Dayjs) => {\n    const [remaining, setRemaining] = useState(() => calculateRemainingTime(date, endDate))\n\n    useEffect(() => {\n        const tick = () => {\n            setRemaining(calculateRemainingTime(date, endDate))\n        }\n        const interval = setInterval(tick, 1000)\n\n        tick()\n\n        return () => {\n            clearInterval(interval)\n        }\n    }, [date, endDate])\n\n    const isEnd = remaining.days <= 0 && remaining.hours <= 0 && remaining.minutes <= 0 && remaining.seconds <= 0\n\n    return {\n        remaining,\n        isEnd,\n    }\n}\n\nexport const useWaitForEnd = (date: Dayjs, endDate?: Dayjs) => {\n    const [isEnd, setIsEnd] = useState(false)\n\n    useEffect(() => {\n        const tick = () => {\n            const remaining = calculateRemainingTime(date, endDate)\n            const isEnd =\n                remaining.days <= 0 && remaining.hours <= 0 && remaining.minutes <= 0 && remaining.seconds <= 0\n            if (isEnd) {\n                setIsEnd(true)\n            }\n        }\n        const interval = setInterval(tick, 1000)\n\n        tick()\n        setIsEnd(false)\n\n        return () => {\n            clearInterval(interval)\n        }\n    }, [date, endDate])\n\n    return isEnd\n}\n\nexport const useHumanReadableCountdown = (date: Dayjs, endText?: string, endDate?: Dayjs) => {\n    const t = useTranslate()\n    const { remaining, isEnd } = useCountdown(date, endDate)\n\n    const isLastMinute = isEnd === false && remaining.days <= 0 && remaining.hours <= 0 && remaining.minutes <= 0\n\n    const getLabel = () => {\n        if (isEnd) {\n            return endText ?? t('general::finished')\n        }\n        if (isLastMinute) {\n            return t('general::nSecond', { count: remaining.seconds })\n        }\n        const timeValues: { value: number; text: LocalisationKey }[] = [\n            { value: remaining.days, text: 'general::nDay' },\n            { value: remaining.hours, text: 'general::nHour' },\n        ]\n        if (remaining.days < 1) {\n            timeValues.push({ value: remaining.minutes, text: 'general::nMinute' })\n        }\n        return timeValues\n            .filter(item => item.value > 0)\n            .map(item => t(item.text, { count: item.value }))\n            .join(', ')\n    }\n\n    return {\n        label: getLabel(),\n        remaining,\n        isEnd,\n    }\n}\n\nfunction calculateRemainingTime(date: Dayjs, endDate = dayjs()) {\n    const totalSeconds = Math.ceil(date.diff(endDate, 'seconds', true))\n\n    const days = Math.max(Math.floor(totalSeconds / 60 / 60 / 24), 0)\n    const hours = Math.max(Math.floor(totalSeconds / 60 / 60 - days * 24), 0)\n    const minutes = Math.max(Math.floor(totalSeconds / 60 - (hours * 60 + days * 60 * 24)), 0)\n    const seconds = Math.max(totalSeconds - (hours * 60 + days * 60 * 24 + minutes * 60), 0)\n    return {\n        days,\n        hours,\n        minutes,\n        seconds,\n    }\n}\n","import { transparentize } from 'polished'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { Inline } from 'components/layout'\n\nexport interface BadgeProps {\n    className?: string\n    backgroundColor?: string\n    color?: string\n    icon?: React.ReactElement\n    forceNoTopMargin?: boolean\n}\n\nexport const Badge: React.FC<BadgeProps> = ({ forceNoTopMargin, className, backgroundColor, color, icon, children }) => {\n    return (\n        <Root forceNoTopMargin={forceNoTopMargin} className={className} color={color} backgroundColor={backgroundColor}>\n            {icon ? (\n                <StyledInline spacing={1}>\n                    {icon}\n                    <span>{children}</span>\n                </StyledInline>\n            ) : (\n                children\n            )}\n        </Root>\n    )\n}\n\nexport const Root = styled.div<{ backgroundColor?: string; color?: string, forceNoTopMargin?: boolean }>`\n    background-color: ${props => props.backgroundColor ?? transparentize(0.3, props.theme.palette.common.black)};\n    color: ${props => props.color ?? props.theme.palette.common.white};\n    padding: ${props => props.theme.spacing(1, 2)};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    font-weight: 700;\n    transition: opacity ${props => props.theme.transitions.duration.standard}ms;\n    white-space: pre;\n    margin-top: ${props => props.forceNoTopMargin ? 0 : 'inherit'};\n`\n\nconst StyledInline = styled(Inline)`\n    display: flex;\n    align-items: center;\n`\n","import { isMiniQuizProject } from 'features/mini-quizzes/helpers/miniQuizHelpers'\nimport produce from 'immer'\nimport { Reducer } from 'redux'\nimport { UPDATE_HAS_USER_THUMBNAIL } from '.'\nimport { CLASSROOM_PROJECT_TAG } from '../ProjectsApi'\nimport {\n    ProjectReducerState,\n    ProjectAction,\n    FETCH_SUCCESS,\n    Project,\n    UPDATE_METADATA,\n    RENAME_PROJECT,\n    FAVORITE_PROJECT,\n    UNFAVORITE_PROJECT,\n    FAVORITE_OWN_PROJECT,\n    UNFAVORITE_OWN_PROJECT,\n    DELETE_PROJECT,\n    RESTORE_PROJECT,\n    UNSHARE_PROJECT,\n    GIVE_COOKIE_REQUEST,\n    UPDATE_DETAILS,\n    SHARE_PROJECT_WITHOUT_APPROVE,\n    UPDATE_FILE,\n} from './projectTypes'\n\nexport const projectReducer: Reducer<ProjectReducerState, ProjectAction> = (state = { all: {} }, action) => {\n    switch (action.type) {\n        case FETCH_SUCCESS:\n            return produce(state, draft => {\n                for (const project of action.payload.projects) {\n                    const id = project.file.id\n                    const file: Project['file'] = {\n                        id: project.file.id,\n                        cookieCount: project.file.cookieCount,\n                        goldenCookieCount: project.file.goldenCookieCount ?? 0,\n                        owner: project.file.owner,\n                        title: project.file.title,\n                        name: project.file.name,\n                        shared: project.file.shared,\n                        favorite: project.file.favorite,\n                        lang: project.file.lang,\n                        createdAt: project.file.createdAt,\n                        updatedAt: project.file.updatedAt,\n                        kind: project.file.kind,\n                        metadata: project.file.metadata,\n                        deleted: project.file.deleted,\n                        deletedAt: project.file.deletedAt,\n                        approvedAt: project.file.approvedAt,\n                        viewedCount: project.file.viewedCount,\n                        likedCount: project.file.likedCount,\n                        tags: project.file.tags,\n                        shareSpecial: project.file.shareSpecial,\n                        daysViewedCount_1: project.file.daysViewedCount_1,\n                        daysViewedCount_7: project.file.daysViewedCount_7,\n                        daysViewedCount_30: project.file.daysViewedCount_30,\n                        hasUserThumbnail: project.file.hasUserThumbnail,\n                        publicViewedCount: project.file.publicViewedCount,\n                        playedCount: project.file.playedCount,\n                        labels: project.file.labels,\n                    }\n                    const owner = project.metadata.owner\n                        ? {\n                              ...draft.all[id]?.metadata?.owner,\n                              id: project.metadata.owner.id,\n                              username: project.metadata.owner.username,\n                              alias: project.metadata.owner.alias,\n                              profileImage: project.metadata.owner.profileImage,\n                              fullName: project.metadata.owner.fullName,\n                              primaryKind: project.metadata.owner.primaryKind,\n                              trainingCertificates: project.metadata.owner.trainingCertificates,\n                          }\n                        : undefined\n\n                    const isMiniQuiz = isMiniQuizProject(project.file)\n\n                    if (draft.all[id] === undefined) {\n                        draft.all[id] = {\n                            file,\n                            metadata: {\n                                ...project.metadata,\n                                shareable: !project.file.tags?.includes(CLASSROOM_PROJECT_TAG),\n                                owner,\n                                isMiniQuiz,\n                                numberOfQuestions: project.file.metadata?.numberOfQuestions,\n                            },\n                        }\n                        continue\n                    }\n\n                    draft.all[id].file = file\n                    draft.all[id].metadata.cookied = project.metadata.cookied ?? draft.all[id].metadata.cookied\n                    draft.all[id].metadata.goldenCookied =\n                        project.metadata.goldenCookied ?? draft.all[id].metadata.goldenCookied\n                    draft.all[id].metadata.details = project.metadata.details ?? draft.all[id].metadata.details\n                    draft.all[id].metadata.favorited = project.metadata.favorited ?? draft.all[id].metadata.favorited\n                    draft.all[id].metadata.owner = owner ?? draft.all[id].metadata.owner\n                    draft.all[id].metadata.shareable = !project.file.tags?.includes(CLASSROOM_PROJECT_TAG)\n                    draft.all[id].metadata.isMiniQuiz = isMiniQuiz\n                    draft.all[id].metadata.numberOfQuestions =\n                        project.file.metadata?.numberOfQuestions ?? project.metadata?.numberOfQuestions\n                    draft.all[id].metadata.seen = project.metadata.seen ?? draft.all[id].metadata.seen\n                }\n            })\n        case UPDATE_FILE:\n            return produce(state, draft => {\n                const project = draft.all[action.payload.id]\n                if (project) {\n                    project.file = {\n                        ...project.file,\n                        ...action.payload.updates,\n                    }\n                }\n            })\n        case UPDATE_METADATA:\n            return produce(state, draft => {\n                const project = draft.all[action.payload.id]\n                if (project) {\n                    project.metadata.cookied = action.payload.metadata.cookied ?? project.metadata.cookied\n                    project.metadata.goldenCookied =\n                        action.payload.metadata.goldenCookied ?? project.metadata.goldenCookied\n                    project.metadata.seen = action.payload.metadata.seen ?? project.metadata.seen\n                    project.metadata.details = {\n                        ...project.metadata.details,\n                        ...action.payload.metadata.details,\n                    }\n                    project.metadata.favorited = action.payload.metadata.favorited ?? project.metadata.favorited\n                    if (project.metadata.numberOfQuestions) {\n                        project.metadata.numberOfQuestions.normal =\n                            action.payload.metadata.numberOfQuestions?.normal ??\n                            project.metadata.numberOfQuestions?.normal\n                    }\n                }\n            })\n\n        case GIVE_COOKIE_REQUEST: {\n            const currencyToFileField = { cookie: 'cookieCount', 'golden-cookie': 'goldenCookieCount' } as const\n            const currencyToMetadataField = { cookie: 'cookied', 'golden-cookie': 'goldenCookied' } as const\n\n            return handleProjectTransaction(\n                state,\n                action as any,\n                id => draft => {\n                    const project = draft.all[id]\n                    project.file[currencyToFileField[action.payload.currency]]!++\n                    project.metadata[currencyToMetadataField[action.payload.currency]] = true\n                },\n                id => draft => {\n                    const project = draft.all[id]\n                    project.file[currencyToFileField[action.payload.currency]]!--\n                    project.metadata[currencyToMetadataField[action.payload.currency]] = false\n                },\n            )\n        }\n\n        case RENAME_PROJECT:\n            return produce(state, draft => {\n                const project = draft.all[action.payload.id]\n                if (project) {\n                    project.file[action.payload.field] = action.payload.value\n                }\n            })\n\n        case FAVORITE_PROJECT: {\n            return produce(state, draft => {\n                const project = draft.all[action.payload.project]\n                if (project) {\n                    project.metadata.favorited = true\n                    if (project.file.likedCount !== undefined) {\n                        project.file.likedCount++\n                    }\n                }\n            })\n        }\n\n        case UNFAVORITE_PROJECT: {\n            return produce(state, draft => {\n                const project = draft.all[action.payload.project]\n                if (project) {\n                    project.metadata.favorited = false\n                    if (project.file.likedCount !== undefined) {\n                        project.file.likedCount--\n                    }\n                }\n            })\n        }\n\n        case FAVORITE_OWN_PROJECT: {\n            return produce(state, draft => {\n                const project = draft.all[action.payload.id]\n                if (project) {\n                    project.file.favorite = true\n                }\n            })\n        }\n\n        case UNFAVORITE_OWN_PROJECT: {\n            return produce(state, draft => {\n                const project = draft.all[action.payload.id]\n                if (project) {\n                    project.file.favorite = false\n                }\n            })\n        }\n\n        case DELETE_PROJECT: {\n            return produce(state, draft => {\n                const project = draft.all[action.payload.id]\n                if (project) {\n                    project.file.deleted = true\n                }\n            })\n        }\n\n        case RESTORE_PROJECT: {\n            return produce(state, draft => {\n                const project = draft.all[action.payload.id]\n                if (project) {\n                    project.file.deleted = false\n                }\n            })\n        }\n\n        case UNSHARE_PROJECT: {\n            return produce(state, draft => {\n                const project = draft.all[action.payload.id]\n                if (project) {\n                    project.file.shared = false\n                }\n            })\n        }\n\n        case SHARE_PROJECT_WITHOUT_APPROVE: {\n            return produce(state, draft => {\n                const project = draft.all[action.payload.id]\n                if (project) {\n                    project.file.shared = true\n                }\n            })\n        }\n\n        case UPDATE_DETAILS: {\n            return produce(state, draft => {\n                const project = draft.all[action.payload.id]\n                if (project) {\n                    project.metadata.details = {\n                        ...project.metadata.details,\n                        ...{ [action.payload.variant]: action.payload.details },\n                    }\n                }\n            })\n        }\n        case UPDATE_HAS_USER_THUMBNAIL: {\n            return produce(state, draft => {\n                const project = draft.all[action.payload.id]\n                if (project) {\n                    project.file.hasUserThumbnail = true\n                }\n            })\n        }\n    }\n    return state\n}\n\nconst transactionToProject: Record<string, string> = {}\ntype ProjectTransactionAction = {\n    payload: { project: string; status?: string }\n    meta: { context: any; transaction: string }\n}\n\nfunction handleProjectTransaction(\n    state: ProjectReducerState,\n    action: ProjectTransactionAction,\n    sucessReceipe: (project: string) => (state: ProjectReducerState) => void,\n    errorReceipe: (project: string) => (state: ProjectReducerState) => void,\n) {\n    let { project, status } = action.payload\n    const { transaction, context } = action.meta\n    if (status) {\n        project = transactionToProject[transaction]\n        if (project) {\n            if (status === 'done') {\n                delete transactionToProject[transaction]\n            } else if (status === 'error') {\n                delete transactionToProject[transaction]\n                console.error(GIVE_COOKIE_REQUEST, context.error)\n                //TODO: Handle errors\n                return produce(state, errorReceipe(project))\n            }\n        }\n    } else {\n        transactionToProject[transaction] = project\n        return produce(state, sucessReceipe(project))\n    }\n    return state\n}\n","export const demoGamePaths: { name: string; id: string }[] = [\n    {\n        name: 'robot',\n        id: '652515c759e2537a9fb190a2',\n    },\n    {\n        name: 'pizza',\n        id: '652d064a9cfd15340780ae0d',\n    },\n    {\n        name: 'star',\n        id: '6525485259e253623eb3038d',\n    },\n    {\n        name: 'logirobi',\n        id: '65254fee59e2532bcfb3a6fd',\n    },\n    {\n        name: 'dog',\n        id: '65378e60a1212e7d2329d3cf',\n    },\n    {\n        name: 'red',\n        id: '6538cc1e907637316e2c613c',\n    },\n    {\n        name: 'flower',\n        id: '653a4f50ded41b1a21934eec',\n    },\n    {\n        name: 'device',\n        id: '653bbadf44de8472245f3494',\n    },\n]\n\n","import { auth } from 'lib/auth'\nimport React, { Suspense } from 'react'\nimport { ErrorBoundary } from './ErrorBoundary'\nimport logiscoolLogo from 'media/images/logiscool-logo.png'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { createGlobalStyle } from 'styled-components/macro'\n\nexport const GlobalStyles = createGlobalStyle`\n    body {\n        background: #fff;\n        color: #000;\n        font-family: sans-serif;\n    }\n`\n\nexport const TopLevelErrorBoundary: React.FC = ({ children }) => {\n    return (\n        <ErrorBoundary\n            fallback={\n                <Suspense fallback={null}>\n                    <Fallback />\n                </Suspense>\n            }\n        >\n            {children}\n        </ErrorBoundary>\n    )\n}\n\nconst baseButtonStyles = {\n    padding: '12px 20px',\n    cursor: 'pointer',\n    borderRadius: 10,\n    fontWeight: 600,\n    marginTop: 4,\n}\n\n// We can't use theming  here because this is rendered outside of providers.\nconst Fallback: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <>\n            <GlobalStyles />\n            <div style={{ textAlign: 'center', marginTop: 24 }}>\n                <img style={{ maxWidth: 220 }} src={logiscoolLogo} alt=\"Logiscool\" />\n                <p style={{ marginTop: 16 }}>{t('error::somethingWentWrong')}</p>\n                <button\n                    style={{\n                        color: '#fff',\n                        background: '#1f9bde',\n                        border: 'none',\n                        ...baseButtonStyles,\n                    }}\n                    onClick={() => {\n                        window.location.reload()\n                    }}\n                >\n                    {t('general::refresh')}\n                </button>\n                <button\n                    style={{\n                        color: '#1f9bde',\n                        background: 'none',\n                        border: 'solid 1px #1f9bde',\n                        marginLeft: 16,\n                        ...baseButtonStyles,\n                    }}\n                    onClick={() => {\n                        auth.logout()\n                    }}\n                >\n                    {t('general::logout')}\n                </button>\n            </div>\n        </>\n    )\n}\n","import { ErrorBoundary } from 'components/ErrorBoundary'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { Page, PageContent, PageHeader, PageSkeleton } from 'components/page'\nimport { auth, AuthStatus } from 'lib/auth'\nimport React, { useEffect, useState } from 'react'\nimport { BrowserRouter, Switch, Route, Redirect, useRouteMatch, useHistory } from 'react-router-dom'\nimport { Dialog, DialogContent, DialogTitle } from 'components/dialog'\nimport { ProfileCardSkeleton } from 'features/profile'\nimport { demoGamePaths } from '../../features/demo-game/demoGameCodes'\n\nimport { NBSP } from 'utils/styleUtils'\nimport { modalRoutes } from './modals/modalRoutes'\nimport { ModalProvider, useModal } from './modals/modalContext'\nimport { SecureAccountPopupPrivder } from 'features/limited-accounts'\nimport { DialogQueueManager } from 'features/dialog-queue'\nimport { useAppVariantContent } from 'lib/app-variant'\nimport { OnboardingManagerProvider } from 'features/onboarding'\nimport { runtimeEnv } from 'utils/env'\nimport { FullScreenLoader } from 'components/FullScreenLoader'\nimport { TopLevelErrorBoundary } from 'components/TopLevelErrorBoundary'\nimport { useInvalidatePendingProjectsOnApprove } from 'features/projects/projectQueries'\nimport { ManagementContextProvider } from '../../features/management'\nimport { useHasGrant } from '../grants'\nimport { InClassModeContextProvider } from '../../features/classroom'\n\nconst WelcomePage = React.lazy(() => import('pages/welcome/WelcomePage'))\nconst OpenDayWelcomePage = React.lazy(() => import('pages/welcome/OpenDayWelcomePage'))\nconst GuestWelcomePage = React.lazy(() => import('pages/welcome/GuestWelcomePage'))\nconst ProfilePage = React.lazy(() => import('pages/profile'))\nconst ProjectsPage = React.lazy(() => import('pages/projects/ProjectsPage'))\nconst OpenDayClassroomPage = React.lazy(() => import('pages/open-day/OpenDayClassroomPage'))\nconst ChallengesPage = React.lazy(() => import('pages/challenges/ChallengesPage'))\nconst LimitedChallengesPage = React.lazy(() => import('pages/challenges/LimitedChallengesPage'))\nconst CommunityPage = React.lazy(() => import('pages/community/CommunityPage'))\nconst LimitedCommunityPage = React.lazy(() => import('pages/community/LimitedCommunityPage'))\nconst SettingsPage = React.lazy(() => import('pages/settings'))\nconst ClassroomPage = React.lazy(() => import('pages/classroom'))\nconst TimesheetEditorPage = React.lazy(() => import('pages/timesheet-editor'))\nconst EventsPage = React.lazy(() => import('pages/events/EventsPage'))\nconst GuestEventsPage = React.lazy(() => import('pages/events/GuestEventsPage'))\nconst MassCertificatesPage = React.lazy(() => import('features/certificates/MassCertificates'))\nconst TrainingCertificatePage = React.lazy(() => import('features/certificates/TrainingCertificate'))\nconst DemoGamePage = React.lazy(() => import('pages/demo-game'))\nconst LogiterraLoginPage = React.lazy(() => import('pages/logiterra-login'))\nconst YearInReviewPage = React.lazy(() => import('features/year-in-review/components/YearInReviewPage'))\n\nexport const AppRouter: React.FC<{ authStatus: AuthStatus }> = ({ authStatus }) => {\n    return (\n        <BrowserRouter>\n            <ModalProvider>\n                <InClassModeContextProvider>\n                    <Switch>\n                        <Route path=\"/user/settings\" exact render={() => <Redirect to=\"/app/settings\" />} />\n                        <Route\n                            path=\"/internal-guest\"\n                            exact\n                            render={() => {\n                                window.location.href = `${runtimeEnv.REACT_APP_OAUTH_URL}/internal-guest`\n                                return null\n                            }}\n                        />\n                        {demoGamePaths.map(path => (\n                            <Redirect key={path.id} path={`/code/${path.name}`} to={`/demo-game/${path.id}`} />\n                        ))}\n                        <Route path=\"/demo-game/:id\" render={() => <DemoGamePage />} />\n                        {authStatus === 'logged-in' && <Route path=\"/app\" render={() => <LoggedInRouter />} />}\n                        {authStatus === 'logged-in' && (\n                            <Route path=\"/group-certificates/:id\" render={() => <MassCertificatesPage />} />\n                        )}\n                        {authStatus === 'logged-in' && (\n                            <Route path=\"/training-certificate\" render={() => <TrainingCertificatePage />} />\n                        )}\n                        {authStatus === 'logged-out' && (\n                            <Route\n                                render={() => {\n                                    window.location.href = auth.createAuthorizeUrl()\n                                    return null\n                                }}\n                            />\n                        )}\n                        <Route path=\"/native-app-login/logiterra\" render={() => <LogiterraLoginPage />} />\n                        {authStatus === 'logged-in' && <Redirect to=\"/app\"></Redirect>}\n                    </Switch>\n                </InClassModeContextProvider>\n            </ModalProvider>\n        </BrowserRouter>\n    )\n}\n\nconst LoggedInRouter = () => {\n    const { path } = useRouteMatch()\n    const { isModal, nonModalLocation } = useModal()\n    const { appVariantContent } = useAppVariantContent()\n    useInvalidatePendingProjectsOnApprove()\n\n    const hasGrant = useHasGrant()\n    const hasNewsAreaGrant = hasGrant('area.news')\n    const hasCurriculumAreaGrant = hasGrant('area.classroom.curriculum')\n    const hasTimesheetEditorGrant = hasGrant({ product: 'edup.curriculum', feature: 'edit' })\n    const hasMyGroupsAreaGrant = hasGrant('area.classroom.my-groups')\n    const hasTimetableAreaGrant = hasGrant('area.classroom.timetable')\n    const hasMyProjectsAreaGrant = hasGrant('area.my-projects')\n    const hasCommunityAreaGrant = hasGrant('area.community')\n    const hasChallengesAreaGrant = hasGrant('area.challenges')\n    const hasEventsAreaGrant = hasGrant('area.events')\n\n    const welcomeContent = appVariantContent({\n        normal: <WelcomePage />,\n        guest: <GuestWelcomePage />,\n        'open-day': <OpenDayWelcomePage />,\n    })\n\n    const myProjectsContent = appVariantContent({\n        normal: <ProjectsPage />,\n        'open-day': <OpenDayClassroomPage />,\n        guest: null,\n    })\n\n    let newsAreaRoute = <Route path={`${path}/welcome`} render={() => welcomeContent} />\n    if (!hasNewsAreaGrant) {\n        if (hasMyProjectsAreaGrant) {\n            newsAreaRoute = <Redirect to={`${path}/open-day`} />\n        } else {\n            newsAreaRoute = <Redirect to={`${path}/settings`} />\n        }\n    }\n\n    return (\n        <OnboardingManagerProvider>\n            <SecureAccountPopupPrivder>\n                <ManagementContextProvider>\n                    <PageSuspense>\n                        <Switch location={nonModalLocation}>\n                            <Route\n                                path={`${path}/user/:username`}\n                                render={() => (\n                                    <ProfilePageSuspense>\n                                        <ProfilePage />\n                                    </ProfilePageSuspense>\n                                )}\n                            />\n                            {hasMyProjectsAreaGrant &&\n                                appVariantContent({\n                                    normal: <Route path={`${path}/my-projects`} render={() => <ProjectsPage />} />,\n                                    'open-day': (\n                                        <Route path={`${path}/open-day`} render={() => <OpenDayClassroomPage />} />\n                                    ),\n                                    guest: null,\n                                })}\n                            {hasCommunityAreaGrant && (\n                                <Route\n                                    path={`${path}/community`}\n                                    render={() =>\n                                        appVariantContent({\n                                            normal: <CommunityPage />,\n                                            'open-day': <LimitedCommunityPage />,\n                                            guest: <LimitedCommunityPage />,\n                                        })\n                                    }\n                                />\n                            )}\n                            {hasChallengesAreaGrant && (\n                                <Route\n                                    path={`${path}/challenges`}\n                                    render={() =>\n                                        appVariantContent({\n                                            normal: <ChallengesPage />,\n                                            guest: <LimitedChallengesPage />,\n                                            'open-day': <LimitedChallengesPage />,\n                                        })\n                                    }\n                                />\n                            )}\n                            {(hasMyGroupsAreaGrant || hasCurriculumAreaGrant || hasTimetableAreaGrant) && (\n                                <Route path={`${path}/classroom`} render={() => <ClassroomPage />} />\n                            )}\n                            {hasTimesheetEditorGrant && (\n                                <Route\n                                    path={`${path}/timesheet-editor/:courseTypeId/:lessonId/:visibleIndex/:id`}\n                                    render={() => <TimesheetEditorPage />}\n                                />\n                            )}\n                            <Route path={`${path}/settings`} render={() => <SettingsPage />} />\n                            {hasEventsAreaGrant && (\n                                <Route\n                                    path={`${path}/events`}\n                                    render={() =>\n                                        appVariantContent({\n                                            normal: <EventsPage />,\n                                            guest: <GuestEventsPage />,\n                                        })\n                                    }\n                                />\n                            )}\n\n                            <Route\n                                path={`${path}/2022-wrap-up/:username?`}\n                                render={({ match }) => (\n                                    <TopLevelErrorBoundary>\n                                        <React.Suspense fallback={<FullScreenLoader />}>\n                                            <YearInReviewPage year={2022} username={match.params.username} />\n                                        </React.Suspense>\n                                    </TopLevelErrorBoundary>\n                                )}\n                            />\n\n                            <Route\n                                path={`${path}/2023-wrap-up/:username?`}\n                                render={({ match }) => (\n                                    <TopLevelErrorBoundary>\n                                        <React.Suspense fallback={<FullScreenLoader />}>\n                                            <YearInReviewPage year={2023} username={match.params.username} />\n                                        </React.Suspense>\n                                    </TopLevelErrorBoundary>\n                                )}\n                            />\n\n                            <Route\n                                path={`${path}/2024-wrap-up/:username?`}\n                                render={({ match }) => (\n                                    <TopLevelErrorBoundary>\n                                        <React.Suspense fallback={<FullScreenLoader />}>\n                                            <YearInReviewPage year={2024} username={match.params.username} />\n                                        </React.Suspense>\n                                    </TopLevelErrorBoundary>\n                                )}\n                            />\n\n                            {hasMyProjectsAreaGrant && (\n                                <Route\n                                    path={`${path}/open-day`}\n                                    render={() => <Redirect to={`${path}/my-projects`} />}\n                                />\n                            )}\n                            {hasMyProjectsAreaGrant && (\n                                <Route\n                                    path={`${path}/classroom-project/:id`}\n                                    render={({ match }) => <Redirect to={`${path}/project/${match.params.id}`} />}\n                                />\n                            )}\n                            {newsAreaRoute}\n                            <Route\n                                render={() => {\n                                    if (isModal) {\n                                        if (hasNewsAreaGrant) {\n                                            return welcomeContent\n                                        } else if (hasMyProjectsAreaGrant) {\n                                            return myProjectsContent\n                                        } else {\n                                            return <SettingsPage />\n                                        }\n                                    }\n                                    return <Redirect to={`${path}/welcome`} />\n                                }}\n                            />\n                        </Switch>\n                    </PageSuspense>\n                </ManagementContextProvider>\n                {modalRoutes.map(route => (\n                    <Route\n                        key={route.path}\n                        path={route.path}\n                        render={() => {\n                            const Component =\n                                typeof route.Component === 'object'\n                                    ? appVariantContent(route.Component)\n                                    : route.Component\n                            return (\n                                <ErrorBoundary fallback={<ModalRouteError />}>\n                                    <Component />\n                                </ErrorBoundary>\n                            )\n                        }}\n                    />\n                ))}\n                <DialogQueueManager />\n            </SecureAccountPopupPrivder>\n        </OnboardingManagerProvider>\n    )\n}\n\nconst ModalRouteError: React.FC = () => {\n    const { closeModal } = useModal()\n\n    return (\n        <Dialog open onClose={closeModal}>\n            <DialogTitle>{NBSP}</DialogTitle>\n            <DialogContent>\n                <ErrorMessage></ErrorMessage>\n            </DialogContent>\n        </Dialog>\n    )\n}\n\nconst ProfilePageSuspense: React.FC = ({ children }) => {\n    return (\n        <React.Suspense\n            fallback={\n                <Page>\n                    <PageHeader title={<ProfileCardSkeleton />} />\n                </Page>\n            }\n        >\n            <PageErrorBoundary>{children}</PageErrorBoundary>\n        </React.Suspense>\n    )\n}\n\nconst PageSuspense: React.FC = ({ children }) => {\n    return (\n        <React.Suspense fallback={<PageLoader />}>\n            <PageErrorBoundary>{children}</PageErrorBoundary>\n        </React.Suspense>\n    )\n}\n\nconst PageLoader: React.FC = () => {\n    return (\n        <Page>\n            <PageSkeleton />\n        </Page>\n    )\n}\n\nconst PageErrorBoundary: React.FC = ({ children }) => {\n    const history = useHistory()\n    const [hasError, setHasError] = useState(false)\n    const [key, setKey] = useState(0)\n\n    useEffect(() => {\n        if (hasError) {\n            const removeListener = history.listen(() => {\n                setHasError(false)\n                setKey(key => key + 1)\n            })\n            return () => {\n                removeListener()\n            }\n        }\n    }, [history, hasError])\n\n    return (\n        <ErrorBoundary\n            key={key}\n            onError={() => {\n                setHasError(true)\n            }}\n            fallback={\n                <Page>\n                    <PageContent>\n                        <ErrorMessage />\n                    </PageContent>\n                </Page>\n            }\n        >\n            {children}\n        </ErrorBoundary>\n    )\n}\n","import { UserState } from 'contexts/UserContext'\nimport { isProd } from './env'\n\ndeclare global {\n    interface Window {\n        dataLayer?: { push: (arg: any) => void }\n    }\n}\n\nexport function initGoogleTagManager() {\n    if (isProd) {\n        const scriptEl = document.createElement('script')\n        scriptEl.src = '/google-tag-manager.js'\n        document.head.append(scriptEl)\n    }\n}\n\nexport function setUserInGoogleTagManager(user: UserState) {\n    try {\n        if (window.dataLayer) {\n            window.dataLayer.push({ user_id: user.account.id })\n            window.dataLayer.push({ 'user-stage': user.account.stage })\n            window.dataLayer.push({ user_stage: user.account.stage })\n        }\n    } catch (e) {\n        console.error(e)\n    }\n}\n","import type { StoreState } from '../store'\nimport { Dispatch } from 'react'\nimport { AnyAction } from 'redux'\nimport { replaceState } from '../../../features/classroom/store'\n\nfunction loadState() {\n    const storedInClassState = window.localStorage.getItem('@shared-classroom-state/inClass')\n    if (storedInClassState) {\n        try {\n            return JSON.parse(storedInClassState)\n        } catch (e) {\n            console.error('Failed to load in-class state:', e)\n        }\n    }\n}\n\nconst sourceId = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)\n\nexport const classroomStateShareMiddleware = (\n    username: string,\n    getState: () => StoreState,\n    dispatch: Dispatch<AnyAction>,\n) => {\n    const originalState = getState()\n    let lastVersion = 0\n\n    const parsedInClassState = loadState()\n    if (\n        parsedInClassState &&\n        parsedInClassState.enabled &&\n        parsedInClassState?.calendarEvent?.startTime &&\n        parsedInClassState.username === username\n    ) {\n        console.log('Loaded in-class state:', parsedInClassState)\n        const dateSaved = new Date(parsedInClassState.calendarEvent.startTime).getDate()\n        const dateNow = new Date().getDate()\n        if (dateSaved === dateNow) {\n            lastVersion = parsedInClassState.version\n            dispatch(replaceState(parsedInClassState))\n        }\n    }\n\n    window.addEventListener('message', event => {\n        if (\n            event.origin === window.origin &&\n            event.data.type === '@mylogiscool/classroom-state-share' &&\n            event.data.sourceId !== sourceId &&\n            event.data.username === username\n        ) {\n            console.log('Received in-class state:', event.data.sourceId + '/' + event.data.newState.version)\n            dispatch(replaceState(event.data.newState))\n        }\n    })\n\n    return () => {\n        const newState = getState()\n        if (newState.inClass !== originalState.inClass) {\n            if (lastVersion !== newState.inClass.version) {\n                lastVersion = newState.inClass.version\n                const extendedState = {\n                    ...newState.inClass,\n                    username,\n                }\n                window.localStorage.setItem('@shared-classroom-state/inClass', JSON.stringify(extendedState))\n                window.postMessage(\n                    { type: '@mylogiscool/classroom-state-share', newState: newState.inClass, sourceId, username },\n                    window.origin,\n                )\n                console.log('Saved and sent in-class state:', newState.inClass.version)\n            } else {\n                console.log('Skipped in-class state:', newState.inClass.version)\n            }\n        }\n    }\n}\n","import React, { useState } from 'react'\nimport { AuthFlow, AuthStatus } from 'lib/auth'\nimport { AppRouter } from 'lib/router'\nimport { api } from 'lib/api'\nimport { useUserActions } from 'contexts/UserContext'\nimport { useTheming } from 'lib/theme'\nimport { initLiveops } from 'lib/liveops'\nimport { useStore } from 'react-redux'\nimport { i18n } from 'lib/i18n'\nimport { useFeed } from 'features/feed'\n//import * as Sentry from '@sentry/react'\nimport { setUserInGoogleTagManager } from 'utils/gtm'\nimport { useEvents } from './features/events/useEvents'\nimport { classroomStateShareMiddleware } from './lib/store/classroom-state-share/ClassroomStateShareMiddleware'\n\nexport const App = () => {\n    const [authStatus, setAuthStatus] = useState<AuthStatus>('loading')\n    const userActions = useUserActions()\n    const { initFeed } = useFeed()\n    const { initEvents } = useEvents()\n    const { setThemeFromUserSettings } = useTheming()\n    const store = useStore()\n\n    function onAuthError() {\n        if (!i18n.isInitialized) {\n            i18n.setLocale('en')\n        }\n        setAuthStatus('error')\n    }\n\n    async function init(token: string) {\n        try {\n            api.init(token)\n            initLiveops(token, store)\n            const user = await userActions.init()\n            setUserInGoogleTagManager(user)\n            store.subscribe(classroomStateShareMiddleware(user.account.username, store.getState, store.dispatch))\n            //Sentry.setUser({ id: user.account.id })\n            await Promise.all([initFeed(user), initEvents(user)])\n            api.setUserId(user.account.id)\n            setThemeFromUserSettings(user)\n            setAuthStatus('logged-in')\n        } catch (e) {\n            console.error(e)\n            onAuthError()\n        }\n    }\n\n    if (authStatus === 'error') {\n        throw new Error('Authentication error.')\n    }\n\n    if (authStatus === 'loading') {\n        return (\n            <AuthFlow\n                onSucces={init}\n                onReceiverFail={() => {\n                    onAuthError()\n                }}\n                onSenderFail={() => {\n                    setAuthStatus('logged-out')\n                }}\n            />\n        )\n    }\n\n    return <AppRouter authStatus={authStatus} />\n}\n","import { createGlobalStyle } from 'styled-components/macro'\n\nexport const GlobalStyles = createGlobalStyle`\n    *, *:before, *:after {\n        box-sizing: border-box;\n    }\n    html {\n        overflow-y: scroll;\n    }\n    html, body, #root {\n        height: 100%;\n    }\n    body {\n        ${props => props.theme.extras?.global?.body};\n        cursor: default;\n    }\n    html {\n        ${props => props.theme.breakpoints.down('xs')} {\n            font-size: 14px;\n        }\n    }\n    /* fix weird i18n values used on open day pages */\n    h3 b {\n        font-weight: 800;\n    }\n`\n","import dayjs from 'dayjs'\nimport utc from 'dayjs/plugin/utc'\nimport isoWeek from 'dayjs/plugin/isoWeek'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport 'dayjs/locale/ar'\nimport 'dayjs/locale/bg'\nimport 'dayjs/locale/bs'\nimport 'dayjs/locale/ca'\nimport 'dayjs/locale/cs'\nimport 'dayjs/locale/de'\nimport 'dayjs/locale/el'\nimport 'dayjs/locale/es'\nimport 'dayjs/locale/fr'\nimport 'dayjs/locale/hr'\nimport 'dayjs/locale/hu'\nimport 'dayjs/locale/id'\nimport 'dayjs/locale/mn'\nimport 'dayjs/locale/my'\nimport 'dayjs/locale/nl'\nimport 'dayjs/locale/ro'\nimport 'dayjs/locale/sk'\nimport 'dayjs/locale/sq'\nimport 'dayjs/locale/sr'\nimport 'dayjs/locale/tr'\nimport 'dayjs/locale/vi'\nimport 'dayjs/locale/zh'\n\ndayjs.Ls.en.weekStart = 1\n\nexport function initDayJs() {\n    dayjs.extend(utc)\n    dayjs.extend(isoWeek)\n    dayjs.extend(relativeTime)\n}\n","import React from 'react'\nimport { StylesProvider } from '@material-ui/core'\nimport { ThemeProvider } from 'lib/theme'\nimport { UserProvider } from 'contexts/UserContext'\nimport { SnackbarProvider } from 'notistack'\nimport { StoreProvider } from 'lib/store'\nimport { QueryCache, ReactQueryCacheProvider } from 'react-query'\nimport { CookieHuntProvider } from 'features/cookie-hunt'\nimport { FloatingTextProvider } from 'lib/floating-text'\n\nconst queryCache = new QueryCache({ defaultConfig: { queries: { refetchOnWindowFocus: false } } })\n\nexport const Providers: React.FC = ({ children }) => {\n    return (\n        <StylesProvider>\n            <ReactQueryCacheProvider queryCache={queryCache}>\n                <ThemeProvider>\n                    <StoreProvider>\n                        <SnackbarProvider>\n                            <UserProvider>\n                                <FloatingTextProvider>\n                                    <CookieHuntProvider>{children}</CookieHuntProvider>\n                                </FloatingTextProvider>\n                            </UserProvider>\n                        </SnackbarProvider>\n                    </StoreProvider>\n                </ThemeProvider>\n            </ReactQueryCacheProvider>\n        </StylesProvider>\n    )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Dialog } from 'components/dialog'\n\nconst RecordingDevTool = React.lazy(() => import('./RecordingDevTool'))\n\nexport const RecordingDevToolDialog: React.FC = () => {\n    const [isOpen, setIsOpen] = useState(false)\n\n    useEffect(() => {\n        window.openRecordingDevtool = () => {\n            setIsOpen(true)\n        }\n    }, [])\n\n    return (\n        <Dialog\n            fullWidth\n            maxWidth=\"sm\"\n            open={isOpen}\n            onClose={() => {\n                setIsOpen(false)\n            }}\n        >\n            <RecordingDevTool />\n        </Dialog>\n    )\n}\n","import { CssBaseline } from '@material-ui/core'\nimport { App } from 'App'\nimport { FullScreenLoader } from 'components/FullScreenLoader'\nimport { TopLevelErrorBoundary } from 'components/TopLevelErrorBoundary'\nimport { GlobalStyles } from 'GlobalStyles'\nimport { initDayJs } from 'lib/dayjs'\nimport { GrantDevToolDialog } from 'lib/grants/grant-dev-tool/GrantDevToolDialog'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Providers } from './Providers'\nimport { initGoogleTagManager } from 'utils/gtm'\n//import * as Sentry from '@sentry/react'\n//import { isProd } from 'utils/env'\nimport { ThemeGlobalComponent } from 'lib/theme'\nimport { RecordingDevToolDialog } from 'lib/recording/RecordingDevToolDialog'\n\ninitDayJs()\ninitGoogleTagManager()\n\n/*\nif (isProd) {\n    Sentry.init({\n        dsn: 'https://018ffa97a5244cd39f67453187e92a66@o228284.ingest.sentry.io/5695218',\n    })\n}\n*/\n\nReactDOM.render(\n    <React.StrictMode>\n        <TopLevelErrorBoundary>\n            <Providers>\n                <React.Suspense fallback={<FullScreenLoader />}>\n                    <GrantDevToolDialog />\n                    <RecordingDevToolDialog />\n                    <CssBaseline />\n                    <GlobalStyles />\n                    <App />\n                </React.Suspense>\n                <ThemeGlobalComponent />\n            </Providers>\n        </TopLevelErrorBoundary>\n    </React.StrictMode>,\n    document.getElementById('root'),\n)\n","import React, { createContext, useContext } from 'react'\nimport { useRef } from 'react'\nimport { useCallback } from 'react'\nimport { useEffect } from 'react'\nimport { matchPath, useHistory, useLocation } from 'react-router-dom'\nimport { modalRoutes } from './modalRoutes'\nimport { Location } from 'history'\n\ninterface ModalState {\n    closeModal: () => void\n    nonModalLocation: Location\n    isModal: boolean\n}\n\nconst modalContext = createContext<ModalState | undefined>(undefined)\n\nexport const ModalProvider: React.FC = ({ children }) => {\n    const lastNonModalLocation = useRef<Location | null>(null)\n    const location = useLocation()\n    const activeModal = modalRoutes.find(route => matchPath(location.pathname, { path: route.path }))\n    const history = useHistory()\n    const isModal = activeModal !== undefined\n    const nonModalLocation = isModal && lastNonModalLocation.current ? lastNonModalLocation.current : location\n\n    useEffect(() => {\n        if (!isModal) {\n            lastNonModalLocation.current = location\n        }\n    })\n\n    const closeModal = useCallback(() => {\n        if (lastNonModalLocation.current) {\n            history.goBack()\n        } else {\n            history.push('/app')\n        }\n    }, [history])\n\n    return (\n        <modalContext.Provider\n            value={{\n                nonModalLocation,\n                closeModal,\n                isModal,\n            }}\n        >\n            {children}\n        </modalContext.Provider>\n    )\n}\n\nexport const useModal = () => {\n    const context = useContext(modalContext)\n\n    if (context === undefined) {\n        throw new Error(`'useModal' must be used within a ModalProvider.`)\n    }\n\n    return context\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { DialogTitle as MuiDialogTitle, DialogTitleProps as MuiDialogTitleProps } from '@material-ui/core'\n\ntype DialogTitleProps = MuiDialogTitleProps\n\nexport const DialogTitle: React.FC<DialogTitleProps> = props => {\n    return <StyledDialogTitle {...props} />\n}\n\nconst StyledDialogTitle = styled(MuiDialogTitle)`\n    background-color: ${props => props.theme.palette.background.paper};\n    border-bottom: solid 1px ${props => props.theme.palette.divider};\n    padding-right: ${props => props.theme.spacing(10)};\n`\n","import React from 'react'\nimport {\n    Dialog as MuiDialog,\n    DialogProps as MuiDialogProps,\n    Backdrop as MuiBackdrop,\n    DialogContent,\n} from '@material-ui/core'\nimport styled from 'styled-components/macro'\nimport { Paper } from '@material-ui/core'\nimport { IconButton, IconButtonProps } from 'components/IconButton'\nimport { CloseIcon } from 'components/icons'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { DialogTitle } from './DialogTitle'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { NBSP } from 'utils/styleUtils'\n\nexport interface DialogProps extends MuiDialogProps {\n    hideCloseButton?: boolean\n    closeButtonProps?: IconButtonProps\n    fullHeight?: boolean\n    closeOnClick?: boolean\n}\n\nexport const Dialog: React.FC<DialogProps> = ({\n    children,\n    onClose,\n    hideCloseButton,\n    closeButtonProps,\n    PaperProps,\n    fullHeight,\n    closeOnClick,\n    ...rest\n}) => {\n    return (\n        <MuiDialog\n            BackdropComponent={Backdrop}\n            transitionDuration={0}\n            PaperComponent={StyledPaper}\n            onClose={onClose}\n            onClick={() => closeOnClick && onClose?.({}, 'backdropClick')}\n            PaperProps={{ ...PaperProps, style: { height: fullHeight ? '100%' : undefined, ...PaperProps?.style } }}\n            {...rest}\n        >\n            <ErrorBoundary fallback={<DialogErrorFallback />}>{children}</ErrorBoundary>\n            {!hideCloseButton && (\n                <CloseButton\n                    onClick={e => {\n                        onClose?.(e, 'escapeKeyDown')\n                    }}\n                    {...closeButtonProps}\n                >\n                    <CloseIcon />\n                </CloseButton>\n            )}\n        </MuiDialog>\n    )\n}\n\nconst DialogErrorFallback: React.FC = () => {\n    return (\n        <>\n            <DialogTitle>{NBSP}</DialogTitle>\n            <DialogContent>\n                <ErrorMessage />\n            </DialogContent>\n        </>\n    )\n}\n\nconst Backdrop = styled(MuiBackdrop)`\n    ${props => props.theme.extras?.dialog?.backdrop}\n`\n\nconst CloseButton = styled(IconButton)`\n    position: absolute;\n    top: ${props => props.theme.spacing(1)};\n    right: ${props => props.theme.spacing(1)};\n`\n\nconst StyledPaper = styled(Paper)`\n    background-color: ${props =>\n        props.theme.palette.type === 'light' ? props.theme.palette.background.default : undefined};\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { DialogContent as MuiDialogContent, DialogContentProps as MuiDialogContentProps } from '@material-ui/core'\n\ntype DialogProps = MuiDialogContentProps\n\nexport const DialogContent: React.FC<DialogProps> = props => {\n    return <Root {...props} />\n}\n\nconst Root = styled(MuiDialogContent)`\n    padding: ${props => props.theme.spacing(4, 5)};\n    &:first-child {\n        padding-top: ${props => props.theme.spacing(4)};\n    }\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { DialogActions as MuiDialogActions, DialogActionsProps as MuiDialogActionsProps } from '@material-ui/core'\n\ntype DialogActionsProps = MuiDialogActionsProps\n\nexport const DialogActions: React.FC<DialogActionsProps> = props => {\n    return <StyledDialogActions {...props} />\n}\n\nconst StyledDialogActions = styled(MuiDialogActions)`\n    padding: ${props => props.theme.spacing(2, 5, 5, 5)};\n`\n","import { Button, ButtonProps } from 'components/Button'\nimport React from 'react'\n\ninterface DialogPrimaryButtonProps extends ButtonProps {}\n\nexport const DialogPrimaryButton: React.FC<DialogPrimaryButtonProps> = props => {\n    return <Button variant=\"contained\" {...props} />\n}\n","import { Button, ButtonProps } from 'components/Button'\nimport React from 'react'\n\ninterface DialogSecondaryButtonProps extends ButtonProps {}\n\nexport const DialogSecondaryButton: React.FC<DialogSecondaryButtonProps> = props => {\n    return <Button variant=\"contained\" color=\"default\" {...props} />\n}\n","import React from 'react'\nimport { DialogContent, DialogActions } from '.'\nimport styled from 'styled-components/macro'\n\ninterface DialogFormProps {\n    actions: React.ReactNode\n    onSubmit?: JSX.IntrinsicElements['form']['onSubmit']\n}\n\nexport const DialogForm: React.FC<DialogFormProps> = ({ children, actions, onSubmit }) => {\n    return (\n        <Form onSubmit={onSubmit}>\n            <DialogContent>{children}</DialogContent>\n            <DialogActions>{actions}</DialogActions>\n        </Form>\n    )\n}\n\nconst Form = styled.form`\n    display: contents;\n`\n","import { ErrorMessage } from 'components/ErrorMessage'\nimport * as React from 'react'\nimport { DialogSecondaryButton } from '.'\nimport { DialogContent } from './DialogContent'\nimport { DialogActions } from './DialogActions'\nimport { useTranslate } from 'lib/i18n/useTranslate'\n\ninterface DialogErrorMessageProps {\n    close: () => void\n}\n\nexport const DialogErrorMessage: React.FC<DialogErrorMessageProps> = ({ close, children }) => {\n    const t = useTranslate()\n\n    return (\n        <>\n            <DialogContent>\n                <ErrorMessage>{children}</ErrorMessage>\n            </DialogContent>\n            <DialogActions>\n                <DialogSecondaryButton onClick={close}>{t('general::cancel')}</DialogSecondaryButton>\n            </DialogActions>\n        </>\n    )\n}\n","import { Loader } from 'components/Loader'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nexport const DialogLoader: React.FC = () => {\n    return (\n        <DialogLoaderRoot>\n            <Loader />\n        </DialogLoaderRoot>\n    )\n}\n\nconst DialogLoaderRoot = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { ProjectCardBadgeRoot } from './ProjectCardBadge'\n\ntype ProjectCardProps = {\n    className?: string\n}\n\nexport const ProjectCard: React.FC<ProjectCardProps> = ({ children, className }) => {\n    return <Root className={className}>{children}</Root>\n}\n\nconst Root = styled.div`\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    &:hover {\n        ${ProjectCardBadgeRoot} {\n            opacity: 1;\n        }\n    }\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { ellipsis } from 'polished'\nimport { Text } from 'components/Text'\nimport { Stack } from 'components/layout'\nimport { Link } from 'react-router-dom'\nimport { Tooltip } from 'components/Tooltip'\n\ninterface ProjectCardContentProps {\n    title?:\n        | {\n              label?: string\n              to?: string\n              href?: never\n          }\n        | {\n              label?: string\n              href?: string\n              to?: never\n          }\n    action?: React.ReactNode\n    className?: string\n}\n\nexport const ProjectCardContent: React.FC<ProjectCardContentProps> = ({ title, children, action, ...rest }) => {\n    const titleBody = (() => {\n        const body = (\n            <Title>\n                <strong>{title?.label}</strong>\n            </Title>\n        )\n\n        if (!title) {\n            return null\n        }\n\n        if (!title.to && !title.href) {\n            return body\n        }\n\n        if (title.to) {\n            return <StyledLink to={title.to}>{body}</StyledLink>\n        }\n\n        if (title.href) {\n            return (\n                <StyledLink as=\"a\" href={title.href} target=\"_blank\">\n                    {body}\n                </StyledLink>\n            )\n        }\n    })()\n\n    return (\n        <Root spacing={1} {...rest}>\n            <Inner>\n                <Tooltip title={title?.label ?? ''}>\n                    <TitleWrap>{titleBody}</TitleWrap>\n                </Tooltip>\n                <div>{action}</div>\n            </Inner>\n            {children}\n        </Root>\n    )\n}\n\nconst StyledLink = styled(Link)`\n    color: inherit;\n    text-decoration: none;\n`\n\nconst Inner = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`\n\nconst Root = styled(Stack)`\n    padding: ${props => props.theme.spacing(2, 1, 0, 1)};\n    color: ${props => props.theme.palette.text.primary};\n`\n\nconst TitleWrap = styled.div`\n    overflow: hidden;\n    padding-inline-end: 3px;\n`\n\nconst Title = styled(Text)`\n    ${ellipsis()};\n    line-height: 1.2;\n`\n","import { Button, ButtonProps } from 'components/Button'\nimport React from 'react'\n\nimport styled from 'styled-components/macro'\nimport { ProjectCardBadge, ProjectCardBadgeProps } from './ProjectCardBadge'\n\ninterface ProjectCardButtonBadgeProps extends ProjectCardBadgeProps, Omit<ButtonProps, 'color'> {}\n\nexport const ProjectCardButtonBadge: React.FC<ProjectCardButtonBadgeProps> = props => {\n    return <ProjectCardBadge component={StyledButton} {...props}></ProjectCardBadge>\n}\n\nconst StyledButton = styled(Button)`\n    padding: ${props => props.theme.spacing(1, 2)};\n`\n","import React from 'react'\nimport { ProjectCardBadge } from './ProjectCardBadge'\nimport { CookieCount, CookieCountProps } from '../CookieCount'\n\nexport const ProjectCardCookieCount: React.FC<CookieCountProps> = props => {\n    return (\n        <ProjectCardBadge>\n            <CookieCount {...props} />\n        </ProjectCardBadge>\n    )\n}\n","import React from 'react'\nimport { ProjectCard, ProjectCardContent, ProjectCardCookieCount, ProjectCardImage, ProjectCardUser } from '.'\nimport { createProjectThumbnailUrl } from '../projectHelpers'\nimport { Project } from '../store'\nimport { MinimalAccount } from 'lib/api'\nimport { ProjectCardViewCount } from './ProjectCardViewCount'\nimport { DecodedValueMap } from 'serialize-query-params'\nimport { DiscoverProjectsFilterState } from '../discover/DiscoverProjects'\nimport { useIncrementActivityScore } from '../../../hooks/useIncrementActivityScore'\n\ninterface PublicProjectCardProps {\n    project: Project\n    user?: MinimalAccount\n    filters?: DecodedValueMap<DiscoverProjectsFilterState>\n}\n\nconst getViewCount = (project: Project, dayFilter: number) => {\n    const record = dayFilter.toString()\n\n    const daysRecord: Record<string, number | undefined> = {\n        '1': project.file.daysViewedCount_1,\n        '7': project.file.daysViewedCount_7,\n        '30': project.file.daysViewedCount_30,\n        '-1': project.file.viewedCount,\n    }\n\n    return daysRecord[record] ?? 0\n}\n\nexport const PublicProjectCard: React.FC<PublicProjectCardProps> = ({ project, user, filters }) => {\n    const incrementActivityScore = useIncrementActivityScore()\n    const to = `/app/project/${project.file.id}`\n\n    return (\n        <ProjectCard>\n            <ProjectCardImage\n                onClick={() => {\n                    incrementActivityScore('community:project:open-details')\n                    return true\n                }}\n                to={to}\n                src={createProjectThumbnailUrl(project.file.id, 'production')}\n                badges={\n                    <>\n                        <ProjectCardCookieCount\n                            goldenCount={project.file.goldenCookieCount}\n                            count={project.file.cookieCount}\n                            cookied={!!project.metadata.cookied}\n                            goldenCookied={!!project.metadata.goldenCookied}\n                        />\n                        {filters && filters?.sort === '-daysViewedCount' && (\n                            <ProjectCardViewCount count={getViewCount(project, filters.days)} />\n                        )}\n                    </>\n                }\n            />\n            <ProjectCardContent title={{ label: project.file.title, to }}>\n                <ProjectCardUser user={user} />\n            </ProjectCardContent>\n        </ProjectCard>\n    )\n}\n","import React from 'react'\nimport { Fade, Theme, useMediaQuery } from '@material-ui/core'\nimport styled from 'styled-components/macro'\nimport { PageContainer } from './PageContainer'\nimport { Box } from 'components/layout'\nimport { MOBILE_MENU_BREAKPOINT } from './Page'\nimport { useIsElementFullyHidden } from 'hooks/useIsElementFullyHidden'\nimport { PageCookie } from 'features/projects'\nimport { ActivityEventPageCurrency } from 'features/events'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { useHasGrant } from 'lib/grants'\nimport { useManagementContext } from '../../features/management'\nimport { Button } from '../Button'\nimport { useSelector } from 'lib/store'\n\ninterface PageHeaderProps {\n    title?: React.ReactNode\n    actions?: React.ReactNode\n    tabs?: React.ReactNode\n    extras?: React.ReactNode\n    managementModeButton?: boolean\n    hideCurrencyBadges?: boolean\n}\n\nexport const PageHeader: React.FC<PageHeaderProps> = ({ tabs, extras, title, actions, managementModeButton, hideCurrencyBadges }) => {\n    const isFullyHidden = useIsElementFullyHidden()\n    const { enabled: managementModeEnabled, setEnabled: setManagementMode } = useManagementContext()\n    const isMobileMenu = useMediaQuery<Theme>(theme => theme.breakpoints.down(MOBILE_MENU_BREAKPOINT), { noSsr: true })\n    const isMedium = useMediaQuery<Theme>(theme => theme.breakpoints.down('md'), { noSsr: true })\n    const isXS = useMediaQuery<Theme>(theme => theme.breakpoints.down('xs'), { noSsr: true })\n    const asideWidth = useSelector(state => state.page.asideWidth)\n\n    return (\n        <>\n            <Root>\n                <PageContainer>\n                    <TopRow>\n                        {title}\n                        <TopRowRight>\n                            <CurrenciesWrap>\n                                {!hideCurrencyBadges && <CurrencyBadges />}\n                                {managementModeButton && !managementModeEnabled && (\n                                    <Button onClick={() => setManagementMode(true)}>Manage Mode</Button>\n                                )}\n                            </CurrenciesWrap>\n                            {!tabs && !isMedium && (\n                                <>\n                                    {actions && <ActionsWrap $isInTopRow>{actions}</ActionsWrap>}\n                                    {extras && <ExtrasWrap>{extras}</ExtrasWrap>}\n                                </>\n                            )}\n                        </TopRowRight>\n                    </TopRow>\n                    <BottomRow>\n                        <TabsWrap>{tabs}</TabsWrap>\n                        {(tabs || isMedium) && (\n                            <>\n                                {actions && <ActionsWrap>{actions}</ActionsWrap>}\n                                {isXS && extras && <ExtrasWrap>{extras}</ExtrasWrap>}\n                            </>\n                        )}\n                    </BottomRow>\n                </PageContainer>\n            </Root>\n            {!isMobileMenu && (\n                <Fade in={isFullyHidden} unmountOnExit>\n                    <StickyRoot $asideWidth={asideWidth}>\n                        <PageContainer>\n                            <StickyInner>\n                                <TabsWrap>{tabs}</TabsWrap>\n                                <ActionsWrap $sticky>\n                                    {actions}\n                                    {!hideCurrencyBadges && !extras && <CurrencyBadges />}\n                                </ActionsWrap>\n                                <ExtrasWrap $small>{extras}</ExtrasWrap>\n                            </StickyInner>\n                        </PageContainer>\n                    </StickyRoot>\n                </Fade>\n            )}\n            {isMobileMenu && (\n                <Fade in={isFullyHidden} unmountOnExit>\n                    <StickyRoot $mobile $asideWidth={asideWidth}>\n                        <PageContainer>\n                            <StickyInner>\n                                <ExtrasWrap>{extras}</ExtrasWrap>\n                            </StickyInner>\n                        </PageContainer>\n                    </StickyRoot>\n                </Fade>\n            )}\n        </>\n    )\n}\n\nconst CurrencyBadges: React.FC = () => {\n    const hasGrant = useHasGrant()\n    const hasCommunityAreaAccess = hasGrant('area.community')\n\n    if (!hasCommunityAreaAccess) return null\n\n    return (\n        <ErrorBoundary silent>\n            <ActivityEventPageCurrency />\n            {hasGrant('give-golden-cookie') && <PageCookie currency=\"golden-cookie\" />}\n            <PageCookie currency=\"cookie\" />\n        </ErrorBoundary>\n    )\n}\n\nconst TopRowRight = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-self: stretch;\n    flex-shrink: 0;\n`\n\nconst BottomRow = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    overflow: hidden;\n    ${props => props.theme.breakpoints.down('md')} {\n        flex-direction: column-reverse;\n        align-items: stretch;\n        > * + * {\n            margin-block-start: ${props => props.theme.spacing(4)};\n        }\n    }\n`\n\nconst TopRow = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    padding: ${props => props.theme.spacing(4, 0)};\n    gap: ${props => props.theme.spacing(2)};\n`\n\nconst CurrenciesWrap = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    gap: ${props => props.theme.spacing(4)};\n`\n\nconst StickyInner = styled(Box)`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    grid-column-gap: ${props => props.theme.spacing(4)};\n    grid-row-gap: ${props => props.theme.spacing(4)};\n\n    ${props => props.theme.breakpoints.down('xs')} {\n        flex-direction: column;\n        > * + * {\n            margin-inline-start: 0;\n            margin-block-start: ${props => props.theme.spacing(4)};\n        }\n    }\n`\n\nconst TabsWrap = styled.div`\n    min-width: 0;\n`\n\nconst ExtrasWrap = styled.div<{ $small?: boolean }>`\n    width: ${props => (props.$small ? 'auto' : '100%')};\n`\n\nconst ActionsWrap = styled.div<{ $sticky?: boolean; $isInTopRow?: boolean }>`\n    display: flex;\n    align-items: center;\n    padding: ${props => {\n        if (props.$isInTopRow) {\n            return undefined\n        }\n        if (props.$sticky) {\n            return props.theme.spacing(1, 0)\n        }\n        return props.theme.spacing(0, 0, 4, 0)\n    }};\n    flex-shrink: 0;\n    > * + * {\n        margin-inline-start: ${props => props.theme.spacing(props.$sticky ? 2 : 4)};\n    }\n    ${props => props.theme.breakpoints.down('md')} {\n        display: ${props => (props.$sticky ? 'none' : undefined)};\n    }\n    ${props => props.theme.breakpoints.down('sm')} {\n        width: 100%;\n        flex-direction: column;\n        align-items: stretch;\n        > * + * {\n            margin-inline-start: 0;\n            margin-block-start: ${props => props.theme.spacing(4)};\n        }\n    }\n`\n\nconst Root = styled.div`\n    border-bottom: solid 1px ${props => props.theme.palette.divider};\n    ${props => props.theme.extras?.pageHeader?.root}\n`\n\nconst StickyRoot = styled(Root)<{ $asideWidth: string; $mobile?: boolean }>`\n    position: fixed;\n    z-index: 3;\n    top: ${props => (props.$mobile ? '60px' : '0')};\n    background-color: ${props => props.theme.palette.background.paper};\n    left: ${props => (props.$mobile ? 0 : props.$asideWidth)};\n    right: 0;\n    box-shadow: ${props => props.theme.shadows[3]};\n    border-bottom: none;\n    ${props => props.theme.extras?.pageHeader?.stickyRoot}\n`\n","import { useState, useCallback, useEffect } from 'react'\n\nexport function useIsElementFullyHidden(headerHeight?: number) {\n    const limit = headerHeight || 80\n\n    const [isFullyHidden, setIsFullyHidden] = useState(false)\n\n    const onScroll = useCallback(() => {\n        setIsFullyHidden(typeof window.scrollY === 'number' && (window.scrollY >= limit))\n    }, [limit])\n\n    useEffect(() => {\n        window.addEventListener('scroll', onScroll)\n        onScroll()\n        return () => window.removeEventListener('scroll', onScroll)\n    }, [onScroll])\n\n    return isFullyHidden\n}\n","import React from 'react'\nimport { Box } from 'components/layout'\nimport styled from 'styled-components/macro'\nimport { PageContainer } from './PageContainer'\n\nexport const PageContent: React.FC = ({ children }) => {\n    return (\n        <Root>\n            <PageContainer>{children}</PageContainer>\n        </Root>\n    )\n}\n\nconst Root = styled(Box)`\n    padding-top: ${props => props.theme.spacing(8)};\n    padding-bottom: ${props => props.theme.spacing(8)};\n`\n","import { Skeleton } from '@material-ui/lab'\nimport { Stack, Inline } from 'components/layout'\nimport React from 'react'\nimport { PageHeader } from './PageHeader'\n\nexport const PageSkeleton: React.FC = () => {\n    return (\n        <PageHeader\n            title={\n                <Stack spacing={8}>\n                    <Skeleton width=\"10rem\" height=\"2rem\" />\n                    <Inline display=\"flex\">\n                        <Skeleton width=\"8rem\" />\n                        <Skeleton width=\"5rem\" />\n                    </Inline>\n                </Stack>\n            }\n        />\n    )\n}\n","import React from 'react'\nimport { InfoIcon } from 'components/icons'\nimport styled from 'styled-components/macro'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Text } from './Text'\nimport { Stack } from './layout'\n\ninterface EmptyStateProps {\n    action?: React.ReactNode\n}\n\nexport const EmptyState: React.FC<EmptyStateProps> = ({ children, action }) => {\n    const t = useTranslate()\n\n    return (\n        <Stack spacing={2}>\n            <StyledText>\n                <InfoIcon size=\"1.5em\" /> {children ? <>{children}</> : t('general::noResults')}\n            </StyledText>\n            <div>{action}</div>\n        </Stack>\n    )\n}\n\nconst StyledText = styled(Text)`\n    display: inline-flex;\n    align-items: flex-start;\n    max-width: 45rem;\n    color: ${props => props.theme.palette.text.secondary};\n    line-height: 1.4;\n    > svg {\n        flex-shrink: 0;\n        vertical-align: text-bottom;\n        margin-inline-end: ${props => props.theme.spacing(2)};\n    }\n`\n","import { useUserState } from 'contexts/UserContext'\nimport { useHasGrant } from 'lib/grants'\nimport { useTranslate } from 'lib/i18n/useTranslate'\n\nexport interface LocaleString {\n    key?: string\n    values?: {\n        locale?: string\n        value?: string\n    }[]\n}\n\nexport function useLocalisedQuizValue() {\n    const { i18n } = useUserState()\n    const t = useTranslate()\n\n    const translateQuizLocaleString = (key?: LocaleString, keys?: string[]) => {\n        if (keys && keys.length) {\n            const [firstKey, ...restKeys] = keys;\n            return t(firstKey, { value: restKeys.map(key => t(key)).join(', ') })\n        }\n\n        if (key === undefined) {\n            return ''\n        }\n\n        const localisedName =\n            key.values?.find(value => value.locale === i18n.locale) ||\n            key.values?.find(value => value.locale === 'en-US')\n\n        return localisedName?.value || ''\n    }\n\n    return {\n        translateQuizLocaleString,\n    }\n}\n\nexport function useHasQuizAccess() {\n    const hasGrant = useHasGrant()\n    return hasGrant({ product: 'edup.quiz', feature: 'login' })\n}\n\nexport function useHasGenerateQuizAccess() {\n    const hasGrant = useHasGrant()\n    return hasGrant('generate-quiz')\n}\n","export const SHIFT_QUEUE = 'DIALOG_QUEUE/SHIFT_QUEUE'\nexport const PUSH_QUEUE = 'DIALOG_QUEUE/PUSH_QUEUE'\nexport const PAUSE_QUEUE = 'DIALOG_QUEUE/PAUSE_QUEUE'\nexport const RESUME_QUEUE = 'DIALOG_QUEUE/RESUME_QUEUE'\n","import { OnboardingAchievementDefinition } from 'features/events/pages/onboarding/data/onboardingData'\nimport produce from 'immer'\nimport { NOTIFICATIONS, PUSH_NOTIFICATION } from 'lib/liveops/constants'\nimport { Notification } from 'lib/liveops/models/notification'\nimport { AnyAction, Reducer } from 'redux'\nimport { dialogFromNotification } from '..'\nimport { PAUSE_QUEUE, PUSH_QUEUE, RESUME_QUEUE, SHIFT_QUEUE } from './dialogQueueActionyTypes'\n\nexport interface OnboardingAchievementUnlockedDialogData {\n    type: 'onboarding-achievement-unlocked'\n    notificationId: string\n    variables?: Record<string, any>\n    achievement: OnboardingAchievementDefinition\n}\n\nexport interface OnboardingPointsReachedDialogData {\n    type: 'onboarding-points-reached'\n    variables?: Record<string, any>\n    notificationId: string\n}\n\nexport interface GeneralDialogData {\n    type: 'general'\n    notificationId: string\n    image?: string\n    title: string\n    body: string\n    color?: string\n    disablePopup?: boolean\n    disableConfetti?: boolean\n    bodyInterpolation?: Record<string, any>\n    variables?: Record<string, any>\n    button?: {\n        label: string\n        to: string\n    }\n}\n\n// export interface AttendedOpenDayDialogData {\n//     type: 'attended-open-day'\n//     notificationId: string\n// }\n\nexport type QueuedDialogData =\n    | GeneralDialogData\n    | OnboardingAchievementUnlockedDialogData\n    | OnboardingPointsReachedDialogData\n// | AttendedOpenDayDialogData\n\nexport interface DialogQueueState {\n    queue: QueuedDialogData[]\n    isPaused: boolean\n}\n\nexport const dialogQueueReducer: Reducer<DialogQueueState, AnyAction> = (\n    state = { queue: [], isPaused: false },\n    action,\n) => {\n    switch (action.type) {\n        case NOTIFICATIONS:\n            return produce(state, draft => {\n                const notifications: Notification[] = action.payload.notifications\n\n                notifications\n                    .filter(notification => !notification.displayed)\n                    .forEach(notification => {\n                        const dialog = dialogFromNotification(notification)\n                        if (dialog) {\n                            draft.queue.push(dialog)\n                        }\n                    })\n            })\n\n        case PUSH_NOTIFICATION:\n            return produce(state, draft => {\n                const dialog = dialogFromNotification(action.payload.notification)\n                if (dialog) {\n                    draft.queue.push(dialog)\n                }\n            })\n\n        case SHIFT_QUEUE:\n            return produce(state, draft => {\n                draft.queue.shift()\n            })\n\n        case PUSH_QUEUE:\n            return produce(state, draft => {\n                draft.queue.push(action.payload.dialogData)\n            })\n\n        case PAUSE_QUEUE:\n            return produce(state, draft => {\n                draft.isPaused = true\n            })\n\n        case RESUME_QUEUE:\n            return produce(state, draft => {\n                draft.isPaused = false\n            })\n\n        default:\n            return state\n    }\n}\n","import { PAUSE_QUEUE, PUSH_QUEUE, RESUME_QUEUE, SHIFT_QUEUE } from './dialogQueueActionyTypes'\nimport { QueuedDialogData } from './dialogQueueReducer'\n\nexport function shiftQueue() {\n    return {\n        type: SHIFT_QUEUE,\n    } as const\n}\n\nexport function pushQueue(dialogData: QueuedDialogData) {\n    return {\n        type: PUSH_QUEUE,\n        payload: {\n            dialogData,\n        },\n    } as const\n}\n\nexport function pauseQueue() {\n    return {\n        type: PAUSE_QUEUE,\n    } as const\n}\n\nexport function resumeQueue() {\n    return {\n        type: RESUME_QUEUE,\n    } as const\n}\n","import { Button } from 'components/Button'\nimport { Dialog, DialogActions, DialogContent } from 'components/dialog'\nimport { Stack } from 'components/layout'\nimport { Paper } from 'components/Paper'\nimport { Text } from 'components/Text'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { motion } from 'framer-motion'\nimport { Link } from 'react-router-dom'\n\nconst Confetti = React.lazy(() => import('react-confetti'))\n\ninterface QueuedDialogProps {\n    open: boolean\n    onClose: VoidFunction\n    image?: {\n        url: string\n        backgroundColor?: string\n    }\n    title?: string\n    subtitle?: string\n    description: string\n    disableConfetti?: boolean\n    button?: {\n        label: string\n        to: string\n    }\n}\n\nexport const QueuedDialog: React.FC<QueuedDialogProps> = ({\n    open,\n    onClose,\n    image,\n    button,\n    title,\n    subtitle,\n    description,\n    disableConfetti,\n}) => {\n    return (\n        <Dialog\n            fullWidth\n            transitionDuration={300}\n            open={open}\n            onClose={onClose}\n            PaperComponent={DialogPaper}\n            BackdropProps={{ style: { backgroundColor: 'rgba(0, 0, 0, 0.85)' } }}\n        >\n            {image && (\n                <motion.div\n                    animate={{ y: 0, opacity: 1, scale: 1 }}\n                    initial={{ y: -25, opacity: 0, scale: 0.7 }}\n                    transition={{ delay: 0.25 }}\n                >\n                    <ImageWrap\n                        $disablePadding={!Boolean(image.backgroundColor)}\n                        style={{ backgroundColor: image.backgroundColor }}\n                    >\n                        <img src={image.url} alt=\"\" />\n                    </ImageWrap>\n                </motion.div>\n            )}\n            <StyledDialogContent>\n                <motion.div animate={{ opacity: 1 }} initial={{ opacity: 0 }} transition={{ delay: 0.2 }}>\n                    <Inner spacing={4}>\n                        <div>\n                            <Text variant=\"h1\">{title}</Text>\n                            {subtitle && (\n                                <Text>\n                                    <strong>{subtitle}</strong>\n                                </Text>\n                            )}\n                        </div>\n                        <Text>{description}</Text>\n                    </Inner>\n                </motion.div>\n            </StyledDialogContent>\n            {button && (\n                <DialogActions>\n                    <ButtonWrap animate={{ opacity: 1 }} initial={{ opacity: 0 }} transition={{ delay: 0.2 }}>\n                        <StyledButton onClick={onClose} component={Link} to={button.to}>\n                            {button.label}\n                        </StyledButton>\n                    </ButtonWrap>\n                </DialogActions>\n            )}\n            {!disableConfetti && (\n                <ConfettiWrap>\n                    <React.Suspense fallback={null}>\n                        <Confetti\n                            recycle={false}\n                            numberOfPieces={150}\n                            initialVelocityY={10}\n                            colors={['#b10f57', '#c4d703', '#1f9bde']}\n                        />\n                    </React.Suspense>\n                </ConfettiWrap>\n            )}\n        </Dialog>\n    )\n}\n\nconst ConfettiWrap = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n`\n\nconst ButtonWrap = styled(motion.div)`\n    display: flex;\n    width: 100%;\n`\n\nconst StyledButton = styled(Button)`\n    background: ${props => props.theme.palette.primary.contrastText};\n    color: ${props => props.theme.palette.primary.main};\n    margin-left: auto;\n    margin-right: auto;\n    &:hover,\n    &:focus-visible {\n        opacity: 0.9;\n        background: ${props => props.theme.palette.primary.contrastText};\n    }\n    &:focus-visible {\n        outline: solid 2px ${props => props.theme.palette.primary.contrastText};\n    }\n` as typeof Button\n\nconst StyledDialogContent = styled(DialogContent)`\n    padding: ${props => props.theme.spacing(8, 6)};\n`\n\nconst Inner = styled(Stack)`\n    text-align: center;\n    padding-top: 3rem;\n`\n\nconst DialogPaper = styled(Paper)`\n    overflow-y: visible;\n    color: ${props => props.theme.palette.primary.contrastText};\n    background: linear-gradient(\n        ${props => props.theme.palette.primary.dark},\n        ${props => props.theme.palette.primary.main}\n    );\n`\n\nconst ImageWrap = styled.div<{ $disablePadding: boolean }>`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    margin: 0 auto;\n    top: 0;\n    right: 0;\n    left: 0;\n    width: 6rem;\n    height: 6rem;\n    transform: translateY(-50%);\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    padding: ${props => (props.$disablePadding ? undefined : props.theme.spacing(2))};\n    box-shadow: 0 5px 5px rgba(0, 0, 0, 0.5);\n    overflow: hidden;\n\n    > img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n    }\n`\n","import React from 'react'\nimport { OnboardingAchievementUnlockedDialogData } from '../store/dialogQueueReducer'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { QueuedDialog } from './QueuedDialog'\n\ninterface OnboardingAchievementUnlockedDialogProps {\n    data: OnboardingAchievementUnlockedDialogData\n    open: boolean\n    onClose: VoidFunction\n}\n\nexport const OnboardingAchievementUnlockedDialog: React.FC<OnboardingAchievementUnlockedDialogProps> = ({\n    onClose,\n    open,\n    data,\n}) => {\n    const t = useTranslate()\n    const { imageUrl, color, title } = data.achievement\n\n    return (\n        <QueuedDialog\n            open={open}\n            onClose={onClose}\n            image={{ url: imageUrl, backgroundColor: color }}\n            title={t('onboardingMission::achievementPopUp::title')}\n            subtitle={t(title)}\n            description={t('onboardingMission::achievementPopUp::description', {\n                MissionTaskName: t(title),\n                MissionName: t('OnboardingMission::title'),\n            })}\n            button={{\n                label: t('onboardingMission::achievementPopUp::button'),\n                to: '/app/events/mylogiscool-mission#missions',\n            }}\n        />\n    )\n}\n","import { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { QueuedDialog } from './QueuedDialog'\nimport image from 'features/events/pages/onboarding/media/prize1.svg'\n\ninterface OnboardingPointsReachedDialogProps {\n    open: boolean\n    onClose: VoidFunction\n}\n\nexport const OnboardingPointsReachedDialog: React.FC<OnboardingPointsReachedDialogProps> = ({ open, onClose }) => {\n    const t = useTranslate()\n\n    return (\n        <QueuedDialog\n            open={open}\n            onClose={onClose}\n            image={{ url: image, backgroundColor: '#fff' }}\n            title={t('onboardingMission::missionUnlockedPopUp::title')}\n            description={t('onboardingMission::missionUnlockedPopUp::description')}\n        />\n    )\n}\n","import { ErrorBoundary } from 'components/ErrorBoundary'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { markNotificationAsDisplayed, readNotification } from 'lib/liveops'\nimport { useSelector } from 'lib/store'\nimport React, { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { shiftQueue } from '../store/dialogQueueActions'\nimport { QueuedDialog } from './QueuedDialog'\n// import { AttendedOpenDayDialog } from './AttendedOpenDayDialog'\nimport { OnboardingAchievementUnlockedDialog } from './OnboardingAchievementUnlockedDialog'\nimport { OnboardingPointsReachedDialog } from './OnboardingPointsReachedDialog'\n\nexport const DialogQueueManager: React.FC = () => {\n    const dialogQueue = useSelector(state => state.dialogQueue.queue)\n    const isPaused = useSelector(state => state.dialogQueue.isPaused)\n    const dispatch = useDispatch()\n    const currentDialog = isPaused ? undefined : dialogQueue[0]\n    const t = useTranslate()\n\n    const next = () => {\n        dispatch(shiftQueue())\n    }\n\n    useEffect(() => {\n        if (currentDialog) {\n            dispatch(markNotificationAsDisplayed(currentDialog.notificationId))\n            dispatch(readNotification(currentDialog.notificationId))\n        }\n    }, [currentDialog, dispatch])\n\n    return (\n        <ErrorBoundary silent>\n            {dialogQueue.map(dialogData => {\n                const key = dialogData.notificationId\n                const open = dialogData === currentDialog\n\n                switch (dialogData.type) {\n                    case 'onboarding-achievement-unlocked':\n                        return (\n                            <OnboardingAchievementUnlockedDialog\n                                key={key}\n                                open={open}\n                                onClose={next}\n                                data={dialogData}\n                            />\n                        )\n\n                    case 'onboarding-points-reached':\n                        return (\n                            <OnboardingPointsReachedDialog\n                                key={key}\n                                open={dialogData === currentDialog}\n                                onClose={next}\n                            />\n                        )\n\n                    case 'general':\n                        const variables: Record<string, string> = {}\n                        for (const key in dialogData.variables) {\n                            const value = dialogData.variables[key]\n                            variables[key] = typeof value === 'string' ? t(value) : value\n                        }\n\n                        return (\n                            <QueuedDialog\n                                key={key}\n                                title={t(dialogData.title, variables)}\n                                description={t(dialogData.body, { ...dialogData.bodyInterpolation, ...variables })}\n                                open={open}\n                                image={\n                                    dialogData.image\n                                        ? {\n                                              url: dialogData.image,\n                                              backgroundColor: dialogData.color,\n                                          }\n                                        : undefined\n                                }\n                                onClose={next}\n                                disableConfetti={dialogData.disableConfetti}\n                                button={\n                                    dialogData.button\n                                        ? { label: t(dialogData.button.label), to: dialogData.button.to }\n                                        : undefined\n                                }\n                            />\n                        )\n\n                    // case 'attended-open-day':\n                    //     return <AttendedOpenDayDialog key={key} open={dialogData === currentDialog} onClose={next} />\n\n                    default:\n                        return null\n                }\n            })}\n        </ErrorBoundary>\n    )\n}\n","import {\n    onboardingAchievements,\n    ONBOARDING_REACHED_3_POINTS_CATALOG_ITEM,\n} from 'features/events/pages/onboarding/data/onboardingData'\nimport { Notification } from 'lib/liveops/models/notification'\n// import { ATTENDED_OPEN_DAY_ITEM_ID } from 'lib/liveops/selectors'\nimport { QueuedDialogData } from '../store/dialogQueueReducer'\n\nexport const dialogFromNotification = (notification: Notification): QueuedDialogData | null => {\n    const cta = notification.message.data.payload._cta\n    if (cta?.type === 'dialog' && (cta.data.type === 'general' ? !cta.data.disablePopup : true)) {\n        return {\n            ...cta.data,\n            variables: notification.message.data.payload.variables,\n            notificationId: notification.id,\n        }\n    }\n\n    if (notification.message.data.type === 'UNLOCK_ACHIEVEMENT') {\n        if (notification.message.data.payload.achievementId === ONBOARDING_REACHED_3_POINTS_CATALOG_ITEM) {\n            return {\n                type: 'onboarding-points-reached',\n                notificationId: notification.id,\n            }\n        }\n\n        const achievement = onboardingAchievements.find(\n            achi => achi.catalogItem === notification.message.data.payload.achievementId,\n        )\n        if (achievement) {\n            return {\n                type: 'onboarding-achievement-unlocked',\n                notificationId: notification.id,\n                achievement: achievement,\n            }\n        }\n    }\n\n    return null\n}\n","import { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { pauseQueue, resumeQueue } from '..'\n\nexport const usePauseDialogQueue = () => {\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(pauseQueue())\n\n        return () => {\n            dispatch(resumeQueue())\n        }\n    }, [dispatch])\n}\n","import { CurrencyName } from 'lib/liveops/reducers/client/currency'\nimport { client } from 'redux-socket-client'\nimport { action } from 'typesafe-actions'\nimport { UPDATE_HAS_USER_THUMBNAIL } from '.'\nimport { ProjectVariant } from '../projectHelpers'\nimport {\n    DELETE_PROJECT,\n    FAVORITE_OWN_PROJECT,\n    FAVORITE_PROJECT,\n    FETCH_SUCCESS,\n    GIVE_COOKIE_REQUEST,\n    Project,\n    RENAME_PROJECT,\n    RESTORE_PROJECT,\n    UNFAVORITE_OWN_PROJECT,\n    UNFAVORITE_PROJECT,\n    UNSHARE_PROJECT,\n    UPDATE_METADATA,\n    UPDATE_DETAILS,\n    SHARE_PROJECT_WITHOUT_APPROVE,\n    UPDATE_FILE,\n} from './projectTypes'\n\nexport interface FetchSuccessPayload {\n    file: Project['file'] & { metadata?: any }\n    metadata: Omit<Project['metadata'], 'shareable' | 'isMiniQuiz'>\n}\n\nexport const fetchProjectsSucces = (projects: FetchSuccessPayload[]) => action(FETCH_SUCCESS, { projects })\n\nexport const updateFile = (id: string, updates: Partial<Project['file']>) => action(UPDATE_FILE, { id, updates })\n\nexport const updateMetadata = (id: string, metadata: Omit<FetchSuccessPayload['metadata'], 'owner'>) =>\n    action(UPDATE_METADATA, { id, metadata })\n\nconst giveCookieRequestAction = (project: string, currency: CurrencyName) =>\n    action(GIVE_COOKIE_REQUEST, {\n        project,\n        currency,\n    })\nexport const giveCookieRequest: typeof giveCookieRequestAction = client(giveCookieRequestAction)\n\nconst createPrivateHighScoreRoomAction = (project: string, name: string, expireAfterHours: number) =>\n    action('CLIENT/SCOOLCODE/CREATE_ROOM', {\n        target: project,\n        name,\n        kind: 'high-score',\n        expireAfterHours,\n    })\nexport const createPrivateHighScoreRoom: typeof createPrivateHighScoreRoomAction = client(\n    createPrivateHighScoreRoomAction,\n)\n\nconst joinHighScoreRoomAction = (room: string) =>\n    action('CLIENT/SCOOLCODE/JOIN_ROOM', {\n        room,\n        role: 'guest',\n    })\nexport const joinHighScoreRoom: typeof joinHighScoreRoomAction = client(joinHighScoreRoomAction)\n\nconst leaveHighScoreRoomAction = (room: string) =>\n    action('CLIENT/SCOOLCODE/LEAVE_ROOM', {\n        room,\n    })\nexport const leaveHighScoreRoom: typeof leaveHighScoreRoomAction = client(leaveHighScoreRoomAction)\n\nconst favoriteProjectAction = (project: string) =>\n    action(FAVORITE_PROJECT, {\n        project,\n    })\nexport const favoriteProject: typeof favoriteProjectAction = client(favoriteProjectAction)\n\nconst unfavoriteProjectAction = (project: string) => {\n    return action(UNFAVORITE_PROJECT, {\n        project,\n    })\n}\nexport const unfavoriteProject: typeof unfavoriteProjectAction = client(unfavoriteProjectAction)\n\nexport const renameProject = (id: string, field: 'name' | 'title', value: string) =>\n    action(RENAME_PROJECT, { id, field, value })\n\nexport const favoriteOwnProject = (id: string) => action(FAVORITE_OWN_PROJECT, { id })\nexport const unFavoriteOwnProject = (id: string) => action(UNFAVORITE_OWN_PROJECT, { id })\nexport const deleteProject = (id: string) => action(DELETE_PROJECT, { id })\nexport const restoreProject = (id: string) => action(RESTORE_PROJECT, { id })\n\nexport const unshareProjet = (id: string) => action(UNSHARE_PROJECT, { id })\nexport const shareProjectWithoutApprove = (id: string) => action(SHARE_PROJECT_WITHOUT_APPROVE, { id })\n\nexport const updateDetails = (id: string, details: string, variant: ProjectVariant) =>\n    action(UPDATE_DETAILS, { id, details, variant })\n\nexport const unshareProject = (id: string) => action(UNSHARE_PROJECT, { id })\nexport const updateHasUserThumbnail = (id: string) => action(UPDATE_HAS_USER_THUMBNAIL, { id })\n","import React, { createContext, useEffect, useMemo } from 'react'\nimport { api, ApiTypes, CrmUserData } from 'lib/api'\nimport { UserSettingKey, UserSettings } from 'lib/api/AccountsApi'\nimport { i18n } from 'lib/i18n'\nimport { getGrants, hasGrant, NormalizedGrantList } from 'lib/grants'\nimport { useDispatch } from 'react-redux'\nimport { completeProfile } from 'lib/liveops'\nimport { storeActionListener } from 'lib/store/store-action-listener'\nimport { GRANTS_CHANGED, USER_CHANGED } from 'lib/liveops/constants'\n\nexport type UserState = {\n    account: ApiTypes['account']\n    crm: CrmUserData\n    settings: Partial<Record<UserSettingKey, string>>\n    i18n: { country: string; language: string; locale: string }\n    grants: NormalizedGrantList\n}\n\nexport const userStateContext = createContext<UserState | undefined>(undefined)\nexport const userDispatchContext = createContext<React.Dispatch<ReducerAction> | undefined>(undefined)\n\ntype ReducerAction =\n    | {\n        type: 'INIT'\n        payload: UserState\n    }\n    | {\n        type: 'UPDATE'\n        payload: Partial<UserState>\n    }\n\nconst reducer: React.Reducer<UserState | undefined, ReducerAction> = (state, action) => {\n    if (!state) {\n        return action.type === 'INIT' ? action.payload : state\n    }\n    switch (action.type) {\n        case 'UPDATE':\n            return {\n                ...state,\n                account: { ...state.account, ...action.payload.account },\n                i18n: { ...state.i18n, ...action.payload.i18n },\n                settings: { ...state.settings, ...action.payload.settings },\n                grants: { ...state.grants, ...action.payload.grants },\n                crm: { ...state.crm, ...action.payload.crm },\n            }\n        default:\n            return state\n    }\n}\n\nexport const UserProvider: React.FC = ({ children }) => {\n    const [state, dispatch] = React.useReducer(reducer, undefined)\n    const locale = state?.i18n.locale\n\n    useRefetchGrantsOnChange(dispatch)\n    useRefetchUserOnChange(dispatch)\n\n    useEffect(() => {\n        i18n.setLocale(locale)\n    }, [locale])\n\n    return (\n        <userStateContext.Provider value={state}>\n            <userDispatchContext.Provider value={dispatch}>{children}</userDispatchContext.Provider>\n        </userStateContext.Provider>\n    )\n}\n\nexport const useUserState = () => {\n    const context = React.useContext(userStateContext)\n    if (context === undefined) {\n        throw new Error('useUserState is either used without UserProvider or before user is initialized.')\n    }\n    return context\n}\n\nexport const useUserActions = () => {\n    const reduxDispatch = useDispatch()\n    const dispatch = React.useContext(userDispatchContext)\n\n    if (dispatch === undefined) {\n        throw new Error('useUserActions must be used within a UserProvider')\n    }\n\n    return useMemo(\n        () => ({\n            init: async (): Promise<UserState> => {\n                const [account, crmData, settings, locale, grants] = await Promise.all([\n                    api.accounts.getMe(),\n                    api.accounts.getCrmData(),\n                    api.accounts.getMySettings(),\n                    api.accounts.getMyLocale(),\n                    api.accounts.getMyGrants(),\n                ])\n                dispatch({\n                    type: 'INIT',\n                    payload: {\n                        account: account.data,\n                        settings: settings.data,\n                        i18n: locale.data,\n                        grants: grants.data,\n                        crm: crmData.data,\n                    },\n                })\n                return {\n                    account: account.data,\n                    crm: crmData.data,\n                    settings: settings.data,\n                    i18n: locale.data,\n                    grants: grants.data,\n                }\n            },\n            updateUser: async (updates: Partial<ApiTypes['account']>) => {\n                if (Object.keys(updates).length > 0) {\n                    const user = await api.accounts.updateMe(updates)\n\n                    handleProfileCompleteAction(updates, user.data, reduxDispatch)\n\n                    // the api won't return an alies field if set to an\n                    // empty string so we have to handle this case\n                    if (updates.aliasPending === '') {\n                        user.data.aliasPending = ''\n                        user.data.alias = ''\n                    }\n                    if (updates.descriptionPending === '') {\n                        user.data.descriptionPending = ''\n                    }\n\n                    if (updates.uiLanguage) {\n                        const locale = await api.accounts.getMyLocale()\n                        dispatch({ type: 'UPDATE', payload: { account: user.data, i18n: locale.data } })\n                    } else {\n                        dispatch({ type: 'UPDATE', payload: { account: user.data } })\n                    }\n                }\n            },\n            updateUserSettings: async (settings: UserSettings) => {\n                for (const [key, value] of Object.entries(settings)) {\n                    await api.accounts.setMySetting(key as any, value as any)\n                }\n                dispatch({ type: 'UPDATE', payload: { settings } })\n            },\n            updateJSONUserSetting: async (key: UserSettingKey, field: string, value: string) => {\n                let newValue\n                try {\n                    const setting = await api.accounts.getMySetting(key)\n                    const parsedValue = JSON.parse(setting.data.value)\n                    newValue = {\n                        ...parsedValue,\n                        [field]: value,\n                    }\n                } catch (e: any) {\n                    if (e.response && e.response.status === 404) {\n                        newValue = {\n                            [field]: value,\n                        }\n                    } else {\n                        throw e\n                    }\n                }\n                const res = await api.accounts.setMySetting(key, JSON.stringify(newValue))\n                dispatch({ type: 'UPDATE', payload: { settings: { [key]: res.data.value } } })\n            },\n            updateCrmFields: (fields: Partial<CrmUserData>) => {\n                dispatch({ type: 'UPDATE', payload: { crm: fields } })\n            },\n        }),\n        [dispatch, reduxDispatch],\n    )\n}\n\nconst handleProfileCompleteAction = (\n    updates: Partial<ApiTypes['account']>,\n    user: ApiTypes['account'],\n    dispatch: ReturnType<typeof useDispatch>,\n) => {\n    let shouldSendAction = false\n\n    if (updates.aliasPending) {\n        if (user.descriptionPending || user.description) {\n            shouldSendAction = true\n        }\n    }\n    if (updates.descriptionPending) {\n        if (user.aliasPending || user.alias) {\n            shouldSendAction = true\n        }\n    }\n\n    if (shouldSendAction) {\n        dispatch(completeProfile())\n    }\n}\n\nexport const canUserCreateShareableProject = (user: UserState) => {\n    return !!(\n        hasGrant(user.grants)('share-project') &&\n        user.account.sharedProjectLimit &&\n        user.account.sharedProjectLimit > 0\n    )\n}\n\nexport const canUserMoveToProduction = (user: UserState) => {\n    return hasGrant(user.grants)({ product: 'edup.scoolcode.ide', feature: 'move-to-production' })\n}\n\nexport const hasUserShowAdvancedStats = (user: UserState) => {\n    return hasGrant(user.grants)({ product: 'edup.universe', feature: 'view-stats' })\n}\n\nexport const isLicensedUser = (user: UserState) => {\n    return hasGrant(user.grants)({ product: 'edup', feature: 'license-user' })\n}\n\nexport const isTrainerUser = (user: UserState) => {\n    return hasGrant(user.grants)({ product: 'edup', feature: 'trainer-user' })\n}\n\nexport const isCertifiedTrainer = (user: UserState) => {\n    return user.account.trainingCertificates && user.account.trainingCertificates.includes('certified-trainer');\n}\n\nexport const useHasShowAdvancedStats = () => {\n    const user = useUserState()\n    return user.settings['mylogiscool-show-advanced-statistics'] === 'true' && hasUserShowAdvancedStats(user)\n}\n\nexport const useHasUserShowActivityScore = () => {\n    const user = useUserState()\n    const hasShowAdvancedStats = useHasShowAdvancedStats()\n    return hasGrant(user.grants)({ product: 'edup.activity-score', feature: 'advanced-read' }) && hasShowAdvancedStats\n}\n\nexport const canUserCreateProject = (user: UserState) => canUserCreateBloxProject(user) || canUserCreateMixProject(user)\n\nexport const canUserCreateBloxProject = (user: UserState) => {\n    return hasGrant(user.grants)({ product: 'edup.scoolcode.ide', feature: 'create-project.blox' })\n}\n\nexport const canUserCreateMixProject = (user: UserState) => {\n    return (\n        hasGrant(user.grants)({ product: 'edup.scoolcode.ide', feature: 'offboarding.mix' }) ||\n        hasGrant(user.grants)({ product: 'edup.scoolcode.ide', feature: 'create-project.mix' })\n    )\n}\n\nexport const canUserCreatePythonProject = (user: UserState) => {\n    return hasGrant(user.grants)({ product: 'edup.scoolcode.ide', feature: 'language-python' })\n}\n\nexport const canUserCreateStageScriptProject = (user: UserState) => {\n    return hasGrant(user.grants)({ product: 'edup.scoolcode.ide', feature: 'language-stagescript' })\n}\n\nexport const canUnlockSecretCode = (user: UserState, secretCodeKind?: string) => {\n    const redeemGrants = getGrants(user.grants)('redeem-secret-code')\n\n    const hasValidRedeemGrant =\n        redeemGrants.filter((grant: any) =>\n            secretCodeKind\n                ? !grant.data?.kinds || grant.data.kinds.includes(secretCodeKind) // if secretcode kind given, check if it's in the grant data kinds\n                : !!!grant.data?.kinds,\n        ).length > 0 // if secretcode kind not given, check if grant has kind specified, if yes, return false.\n    return hasValidRedeemGrant\n}\n\nexport const getUserPrivateName = (account: ApiTypes['account']) => {\n    return account.aliasPending || account.alias || account.username\n}\n\nexport const getUserPublicName = (account: ApiTypes['account']) => {\n    return account?.alias || account.username\n}\n\nexport const getUserProjectLanguages = (user: UserState, languages: ApiTypes['language'][]) => {\n    let langs = [user.account.language!, 'en']\n    if (user.settings['universe-project-languages']) {\n        try {\n            langs = JSON.parse(user.settings['universe-project-languages'])\n        } catch (e) { }\n    }\n\n    function filterValidLanguages(language: string) {\n        return !!languages.find(lang => lang.code === language)\n    }\n\n    return Array.from(new Set(langs)).filter(filterValidLanguages)\n}\n\nexport const isGuestUser = (user: UserState) => {\n    return user.account.stage === 'lead'\n}\n\nexport const isRegisteredGuestUser = (user: UserState) => {\n    return user.account.stage === 'registered-lead'\n}\n\nexport const isGuestOrRegisteredGuestUser = (user: UserState) => {\n    return isGuestUser(user) || isRegisteredGuestUser(user)\n}\n\nexport const isOpenDayUser = (user: UserState) => {\n    return user.account.subStage === 'open-day'\n}\n\nconst useRefetchGrantsOnChange = (dispatch: React.Dispatch<ReducerAction>) => {\n    useEffect(() => {\n        const onGrantsChanged = () => {\n            setTimeout(() => {\n                api.accounts\n                    .getMyGrants()\n                    .then(grants => {\n                        dispatch({ type: 'UPDATE', payload: { grants: grants.data } })\n                    })\n                    .catch(e => {\n                        console.error(e)\n                    })\n            }, 150)\n        }\n\n        storeActionListener.on(GRANTS_CHANGED, onGrantsChanged)\n\n        return () => {\n            storeActionListener.removeListener(GRANTS_CHANGED, onGrantsChanged)\n        }\n    }, [dispatch])\n}\n\nconst useRefetchUserOnChange = (dispatch: React.Dispatch<ReducerAction>) => {\n    useEffect(() => {\n        const onGrantsChanged = () => {\n            setTimeout(() => {\n                api.accounts\n                    .getMe()\n                    .then(account => {\n                        dispatch({ type: 'UPDATE', payload: { account: account.data } })\n                    })\n                    .catch(e => {\n                        console.error(e)\n                    })\n            }, 150)\n        }\n\n        storeActionListener.on(USER_CHANGED, onGrantsChanged)\n\n        return () => {\n            storeActionListener.removeListener(USER_CHANGED, onGrantsChanged)\n        }\n    }, [dispatch])\n}\n","import produce from 'immer'\nimport { AnyAction, Reducer } from 'redux'\nimport { useSelector } from '.'\n\nexport interface PageState {\n    asideWidth: string\n    isAsideCollapsed: boolean\n    contentWidth: string\n    contentColumnWidth: string\n    contentColumnHightlightWidth: string\n    contentPageWidth: string\n}\n\nexport const ASIDE_WIDTH_NORMAL = '16rem'\nexport const ASIDE_WIDTH_MINI = '6rem'\n\n/* * Content width options: the column is narrower than the page width.\n    * - normal: 600px column width, 70rem page width\n    * - wide: 1200px column width, 140rem page width\n    */\nexport const CONTENT_WIDTH_NORMAL = 'normal'\nexport const CONTENT_WIDTH_WIDE = 'wide'\nexport const CONTENT_COLUMN_WIDTH_NORMAL = '600px'\nexport const CONTENT_COLUMN_WIDTH_WIDE = '1200px'\nexport const CONTENT_COLUMN_HIGHLIGHT_WIDTH_NORMAL = '800px'\nexport const CONTENT_COLUMN_HIGHLIGHT_WIDTH_WIDE = '1600px'\nexport const CONTENT_PAGE_WIDTH_NORMAL = '70rem'\nexport const CONTENT_PAGE_WIDTH_WIDE = '140rem'\n\nexport const TOGGLE_ASIDE = 'PAGE/TOGGLE_ASIDE'\nexport const SET_ASIDE_COLLAPSED = 'PAGE/SET_ASIDE_COLLAPSED'\nexport const SET_CONTENT_WIDTH = 'PAGE/SET_CONTENT_WIDTH'\n\nexport function toggleAside() {\n    return {\n        type: TOGGLE_ASIDE,\n        payload: {},\n    } as const\n}\nexport function setAsideCollapsed(value: boolean) {\n    return {\n        type: SET_ASIDE_COLLAPSED,\n        payload: value,\n    } as const\n}\n\nexport function setContentWidth(width: string) {\n    return {\n        type: SET_CONTENT_WIDTH,\n        payload: width,\n    } as const\n}\n\nconst CONTENT_WIDTH_STORAGE_KEY = '@my-logiscool/contentWidth'\n\nconst contentColumnWidthValues: Record<string, string> = {\n    normal: CONTENT_COLUMN_WIDTH_NORMAL,\n    wide: CONTENT_COLUMN_WIDTH_WIDE\n}\n\nconst contentColumnHighlighWidthValues: Record<string, string> = {\n    normal: CONTENT_COLUMN_HIGHLIGHT_WIDTH_NORMAL,\n    wide: CONTENT_COLUMN_HIGHLIGHT_WIDTH_WIDE\n}\n\nconst contentPageWidthValues: Record<string, string> = {\n    normal: CONTENT_PAGE_WIDTH_NORMAL,\n    wide: CONTENT_PAGE_WIDTH_WIDE\n}\n\nexport function storeContentWidth(width: string) {\n    window.localStorage.setItem(CONTENT_WIDTH_STORAGE_KEY, width)\n}\n\nexport function getStoredContentWidth(): string {\n    return window.localStorage.getItem(CONTENT_WIDTH_STORAGE_KEY) || 'normal'\n}\n\nexport function getContentColumnWidth(width?: string): string {\n    if (!width) {\n        width = getStoredContentWidth()\n    }\n    return contentColumnWidthValues[width] || CONTENT_COLUMN_WIDTH_NORMAL\n}\n\nexport function getContentColumnHighlighWidth(width?: string): string {\n    if (!width) {\n        width = getStoredContentWidth()\n    }\n    return contentColumnHighlighWidthValues[width] || CONTENT_COLUMN_HIGHLIGHT_WIDTH_NORMAL\n}\n\nexport function getContentPageWidth(width?: string): string {\n    if (!width) {\n        width = getStoredContentWidth()\n    }\n    return contentPageWidthValues[width] || CONTENT_PAGE_WIDTH_NORMAL\n}\n\nexport const pageReducer: Reducer<PageState, AnyAction> = (\n    state = {\n        asideWidth: ASIDE_WIDTH_NORMAL, \n        isAsideCollapsed: false,\n        contentWidth: getStoredContentWidth(),\n        contentColumnWidth: getContentColumnWidth(),\n        contentColumnHightlightWidth: getContentColumnHighlighWidth(),\n        contentPageWidth: getContentPageWidth(),\n    },\n    action,\n) => {\n    switch (action.type) {\n        case TOGGLE_ASIDE:\n            return produce(state, draft => {\n                const isCollapsed = !state.isAsideCollapsed\n                draft.isAsideCollapsed = isCollapsed\n                draft.asideWidth = isCollapsed ? ASIDE_WIDTH_MINI : ASIDE_WIDTH_NORMAL\n            })\n\n        case SET_ASIDE_COLLAPSED:\n            return produce(state, draft => {\n                const isCollapsed = action.payload\n                draft.isAsideCollapsed = isCollapsed\n                draft.asideWidth = isCollapsed ? ASIDE_WIDTH_MINI : ASIDE_WIDTH_NORMAL\n            })\n\n        case SET_CONTENT_WIDTH:\n            return produce(state, draft => {\n                draft.contentWidth = action.payload\n                draft.contentColumnWidth = getContentColumnWidth(action.payload)\n                draft.contentColumnHightlightWidth = getContentColumnHighlighWidth(action.payload)\n                draft.contentPageWidth = getContentPageWidth(action.payload)\n            })\n        \n        default:\n            return state\n    }\n}\n\nexport const useColumnWidth = () => {\n    const contentWidth = useSelector((state) => state.page.contentColumnWidth)\n    return contentWidth\n}\n\nexport const useColumnHighlightWidth = () => {\n    const contentWidth = useSelector((state) => state.page.contentColumnHightlightWidth)\n    return contentWidth\n}\n\nexport const usePageWidth = () => {\n    const contentWidth = useSelector((state) => state.page.contentPageWidth)\n    return contentWidth\n}","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { CheckCircleIcon, TimesCircleIcon, MinusCircleIcon } from 'components/icons'\nimport { Text } from 'components/Text'\nimport { Card, CardProps } from 'components/card'\nimport { useLocalisedQuizValue } from './quizHelpers'\nimport { lighten } from 'polished'\n\ntype Props = {\n    correctIndices: number[] | undefined\n    response: number | number[] | undefined\n    options: { value: 'string'; locale: 'string' }[]\n}\n\nenum ABCD {\n    A,\n    B,\n    C,\n    D,\n}\n\nexport const ChoiceResponse: React.FC<Props> = ({ correctIndices, response, options }) => {\n    const { translateQuizLocaleString } = useLocalisedQuizValue()\n\n    const isResponseIncorrect = (i: number) => {\n        return (\n            response !== undefined &&\n            ((typeof response == 'number' && response === i) ||\n                (Array.isArray(response) && response.indexOf(i) !== -1)) &&\n            correctIndices &&\n            correctIndices.indexOf(i) === -1\n        )\n    }\n\n    return (\n        <StyledCardContainer>\n            {options &&\n                options.map((option, i) => {\n                    const selectedCorrectAnswer =\n                        correctIndices?.indexOf(i) !== -1 &&\n                        (Array.isArray(response) ? response.indexOf(i) !== -1 : response === i)\n\n                    const notSelectedCorrectAnswer =\n                        correctIndices?.indexOf(i) !== -1 &&\n                        (Array.isArray(response) ? response.indexOf(i) === -1 : response !== i)\n\n                    return (\n                        <StyledCard\n                            elevation={0}\n                            $isIncorrect={isResponseIncorrect(i)}\n                            $selectedCorrectAnswer={selectedCorrectAnswer}\n                            $notSelectedCorrectAnswer={notSelectedCorrectAnswer}\n                            key={i}\n                        >\n                            <StyledCardContent>\n                                <Option variant=\"body1\">\n                                    <strong>{ABCD[i] + '. '}</strong>\n                                    {translateQuizLocaleString(option as any)}\n                                </Option>\n                                <IconContainer>\n                                    {selectedCorrectAnswer && <CheckCircleIcon />}\n                                    {notSelectedCorrectAnswer && <MinusCircleIcon />}\n                                    {isResponseIncorrect(i) && <TimesCircleIcon />}\n                                </IconContainer>\n                            </StyledCardContent>\n                        </StyledCard>\n                    )\n                })}\n        </StyledCardContainer>\n    )\n}\n\nconst IconContainer = styled.span`\n    line-height: 1;\n`\n\nconst Option = styled(Text)`\n    padding-inline-end: ${props => props.theme.spacing(4)};\n`\n\ntype StyledCardProps = CardProps & {\n    $isIncorrect?: boolean\n    $selectedCorrectAnswer?: boolean\n    $notSelectedCorrectAnswer?: boolean\n}\n\nexport const StyledCard = styled(({ $isIncorrect, $selectedCorrectAnswer, ...props }: StyledCardProps) => (\n    <Card {...props} />\n))`\n    background: ${props => {\n        if (props.$selectedCorrectAnswer) return '#43a047'\n        if (props.$isIncorrect) return '#f44336'\n        if (props.$notSelectedCorrectAnswer) return lighten(0.15, '#43a047')\n\n        return undefined\n    }};\n    border: none;\n    color: ${props =>\n        props.$selectedCorrectAnswer || props.$isIncorrect || props.$notSelectedCorrectAnswer ? '#FFF' : undefined};\n`\n\nexport const StyledCardContent = styled.div`\n    padding: ${props => props.theme.spacing(2, 3)};\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 100%;\n`\n\nexport const StyledCardContainer = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: ${props => props.theme.spacing(4)};\n    ${props => props.theme.breakpoints.down('xs')} {\n        grid-template-columns: 1fr;\n    }\n`\n","import React from 'react'\nimport { SecretCodeUnlocker } from 'features/secret-code'\nimport { Dialog, DialogErrorMessage, DialogTitle } from 'components/dialog'\nimport { createHashDialog } from 'hooks/createHashDialog'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\n\nconst [joinQuizDialogTo, JoinQuizDialogController] = createHashDialog('join-quiz')\n\nexport { joinQuizDialogTo }\n\nexport const JoinQuizDialog: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <JoinQuizDialogController>\n            {({ onClose, open }) => (\n                <Dialog onClose={onClose} open={open}>\n                    <DialogTitle>{t('quiz::join')}</DialogTitle>\n                    <ErrorBoundary fallback={<DialogErrorMessage close={onClose} />}>\n                        <SecretCodeUnlocker close={onClose} primaryLabel={t('quiz::join')} />\n                    </ErrorBoundary>\n                </Dialog>\n            )}\n        </JoinQuizDialogController>\n    )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Button } from 'components/Button'\nimport { joinQuizDialogTo } from './JoinQuizDialog'\nimport { useTranslate } from 'lib/i18n/useTranslate'\n\nexport const JoinQuizButton: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <>\n            <Button component={Link} to={joinQuizDialogTo}>\n                {t('quiz::join')}\n            </Button>\n        </>\n    )\n}\n","import React from 'react'\nimport { Modal as MuiModal, ModalProps as MuiModalProps, Backdrop as MuiBackdrop } from '@material-ui/core'\nimport styled from 'styled-components/macro'\n\ninterface ModalProps extends MuiModalProps {}\n\nexport const Modal: React.FC<ModalProps> = props => {\n    return <MuiModal BackdropComponent={Backdrop} BackdropProps={{ transitionDuration: 0 }} {...props} />\n}\n\nconst Backdrop = styled(MuiBackdrop)`\n    ${props => props.theme.extras?.dialog?.backdrop}\n`\n","import React from 'react'\nimport { Img } from 'components/Img'\nimport styled from 'styled-components/macro'\nimport { Modal } from 'components/Modal'\n\ntype Props = {\n    src: string\n    size: string\n}\n\nexport const ImageDialogue: React.FC<Props> = ({ src, size }) => {\n    const [isOpen, setOpen] = React.useState<boolean>(false)\n\n    return (\n        <>\n            <ThumbImg src={src} width={size} height={size} onClick={() => setOpen(true)} />\n            <Modal open={isOpen} onClose={() => setOpen(false)} aria-labelledby=\"quiz-image\">\n                <Paper onClick={() => setOpen(false)}>\n                    <LargeImg src={src} />\n                </Paper>\n            </Modal>\n        </>\n    )\n}\n\nconst ThumbImg = styled(Img)`\n    object-fit: cover;\n    cursor: pointer;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    ${props => props.theme.breakpoints.down('xs')} {\n        width: 100%;\n        height: auto;\n        max-height: 12rem;\n    }\n`\n\nconst Paper = styled.div`\n    height: 100%;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`\n\nconst LargeImg = styled(Img)`\n    cursor: pointer;\n    height: auto;\n    width: auto;\n    max-width: 90vw;\n    max-height: 90vh;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n`\n","import React from 'react'\nimport { CheckCircleIcon, TimesCircleIcon, MinusCircleIcon } from 'components/icons'\nimport { StyledCardContainer, StyledCard, StyledCardContent } from './ChoiceResponse'\nimport { Text } from 'components/Text'\n\ntype Props = {\n    correctValue: number | undefined\n    response: number | undefined\n}\n\nexport const NumberResponse: React.FC<Props> = ({ correctValue, response }) => {\n    const isCorrect = response === correctValue\n\n    return (\n        <StyledCardContainer>\n            {isCorrect && (\n                <StyledCard $selectedCorrectAnswer={isCorrect} $isIncorrect={!isCorrect}>\n                    <StyledCardContent>\n                        <Text variant=\"body1\">{response}</Text>\n                        {isCorrect ? <CheckCircleIcon /> : <TimesCircleIcon />}\n                    </StyledCardContent>\n                </StyledCard>\n            )}\n            {!isCorrect && (\n                <StyledCard $selectedCorrectAnswer={!isCorrect} $isIncorrect={isCorrect}>\n                    <StyledCardContent>\n                        <Text variant=\"body1\">{correctValue}</Text>\n                        <MinusCircleIcon />\n                    </StyledCardContent>\n                </StyledCard>\n            )}\n        </StyledCardContainer>\n    )\n}\n","import { ApiTypes } from 'lib/api'\nimport { ApiBase } from 'lib/api/ApiBase'\nimport { LocaleString } from './quizHelpers'\n\nexport type QuizQuestion = ApiTypes['quiz-question'] & { _id: string }\nexport type QuizInstanceWithQuestions = Omit<ApiTypes['quiz-instance'], 'questions'> & { questions: QuizQuestion[] }\nexport type QuizSessionWithInstance = Omit<ApiTypes['quiz-session'], 'instance'> & {\n    instance: QuizInstanceWithQuestions\n}\nexport type NormalizedQuizSetSessions = Record<string, { sessionId?: string; status: 'finished' | 'started' }>\nexport type QuizResult = QuizInstanceWithQuestions & {\n    userResponses: ApiTypes['quiz-response'][]\n} & ApiTypes['quiz-result']\nexport type QuizSetWithMetadata = ApiTypes['quiz-set'] & {\n    locked: boolean\n}\nexport type QuizSetWithEmbeddedTemplates = Omit<QuizSetWithMetadata, 'templates'> & {\n    templates: ApiTypes['quiz-template'][]\n}\n\nexport function isQuizsetWithEmbeddedTemplates(\n    set: QuizSetWithEmbeddedTemplates | QuizSetWithMetadata,\n): set is QuizSetWithEmbeddedTemplates {\n    return typeof set.templates[0] !== 'string'\n}\n\nexport type QuizTemplatesResults = Record<string, number>\nexport class QuizApi extends ApiBase {\n    getClassroomQuizResults = async (skip: number) => {\n        const limit = 6\n        const res = await this.client.get<ApiTypes['quiz-result'][]>(`/quiz-results/my`, {\n            params: {\n                sort: '-createdAt',\n                limit: limit,\n                skip: skip,\n                tags: 'visible-on-mylogiscool',\n                //'where[nParticipants][gt]': 1,\n            },\n        })\n\n        const totalCount = res.headers['x-total-count']\n\n        const hasMore = skip + res.data.length < parseInt(totalCount) && res.data.length === limit\n\n        return {\n            data: res.data,\n            hasLeft: hasMore ? skip + limit : false,\n        }\n    }\n\n    getLatestClassroomQuizResult = async () => {\n        return this.client.get<ApiTypes['quiz-result'][]>(`/quiz-results/my`, {\n            params: {\n                sort: '-createdAt',\n                limit: 2,\n                'where[nParticipants][gt]': 1,\n            },\n        })\n    }\n\n    getDetailedQuizResult = async (sessionId: string) => {\n        const session = await this.client.get<QuizSessionWithInstance[]>(\n            `/quiz-sessions/my?id=${sessionId}&embed=instance`,\n        )\n        const userResponse = await this.client.get<Required<ApiTypes['quiz-response'][]>>(\n            `/quiz-responses/my?session=${sessionId}`,\n        )\n\n        return {\n            ...session.data[0].instance,\n            userResponses: userResponse.data,\n        }\n    }\n\n    getQuizResult = async (sessionId: string) => {\n        const res = await this.client.get<ApiTypes['quiz-result'][]>(`/quiz-results/my?session=${sessionId}`)\n\n        return res.data[0]\n    }\n\n    getQuizTemplate = async (id: string) => {\n        const res = await this.client.get<{ id: string, internalName: string }>(`/quiz-templates/${id}`)\n        return res.data\n    }\n\n    getQuizResultsForSessions = async (sessionIds: string[]) => {\n        if (sessionIds.length === 0) {\n            return []\n        }\n\n        const res = await this.client.get<ApiTypes['quiz-result'][]>(\n            `/quiz-results/my?where[session][in]=${sessionIds.join()}`,\n        )\n\n        return res.data\n    }\n\n    getQuizSessionsForTemplates = async (templates: string[]) => {\n        const sessions = await this.client.get<Pick<ApiTypes['quiz-session'], 'template' | 'id' | 'endedAt'>[]>(\n            '/quiz-sessions/my',\n            {\n                params: {\n                    'where[template][in]': templates.join(','),\n                    fields: 'template,id,endedAt',\n                    sort: '-createdAt',\n                },\n            },\n        )\n\n        return templates.reduce<NormalizedQuizSetSessions>((acc, curr) => {\n            const session = sessions.data.find(session => session.template === curr)\n            if (session) {\n                acc[curr] = {\n                    sessionId: session.id,\n                    status: session?.endedAt ? 'finished' : 'started',\n                }\n            }\n            return acc\n        }, {})\n    }\n\n    getActiveGeneratedSessions = () => {\n        return this.client.get<\n            {\n                _id: string\n                slug: string\n                live: { questionIndex: number; nQuestions: number; name: LocaleString; nameKeys?: string[] }\n            }[]\n        >('/quiz-sessions/my-active-generated-sessions')\n    }\n\n    getQuizSetsSessions = async (quizSets: (QuizSetWithEmbeddedTemplates | QuizSetWithMetadata)[]) => {\n        const templateIds = extractTemplateIdsFromQuizSets(quizSets)\n        return this.getQuizSessionsForTemplates(templateIds)\n    }\n\n    getQuizSets = () => {\n        return this.client.get<QuizSetWithEmbeddedTemplates[]>('/quiz-sets/my')\n    }\n\n    getRecommendedQuizSets = () => {\n        return this.client.get<QuizSetWithMetadata[]>('/quiz-sets/my-recommended')\n    }\n\n    getFinishedTemplates = async (setId: string) => {\n        const response = await this.client.get<QuizTemplatesResults>('/quiz-results/finished-templates-count', {\n            params: {\n                setId,\n            },\n        })\n\n        return response.data\n    }\n}\n\nfunction extractTemplateIdsFromQuizSets(quizSets: (QuizSetWithEmbeddedTemplates | QuizSetWithMetadata)[]) {\n    return quizSets.reduce<string[]>((acc, curr) => {\n        if (!curr.templates) {\n            return acc\n        }\n        if (isQuizsetWithEmbeddedTemplates(curr)) {\n            acc = [...acc, ...curr.templates.map(t => t.id)]\n        } else {\n            acc = [...acc, ...curr.templates]\n        }\n        return acc\n    }, [])\n}\n","import { ActionCard } from 'components/action-card'\nimport { CardContent } from 'components/card'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { CheckIcon, FastForwardIcon, LeftAngleIcon, PlayIcon, RightAngleIcon } from 'components/icons'\nimport { Img } from 'components/Img'\nimport { Inline, Stack } from 'components/layout'\nimport { Loader } from 'components/Loader'\nimport { Text } from 'components/Text'\nimport { ApiTypes } from 'lib/api'\nimport React from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport styled, { css } from 'styled-components/macro'\nimport { useQuizSetResultsQuery, useQuizSetsQuery, useQuizSetSessionsQuery } from './homeQuizQueries'\nimport { Breadcrumbs } from 'components/Breadcrumbs'\nimport { useLocalisedQuizValue } from '../quizHelpers'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Theme, useMediaQuery } from '@material-ui/core'\nimport { Button } from 'components/Button'\nimport fallbackThumbnail from './fallback-thumbnail.png'\nimport { motion } from 'framer-motion'\nimport { NormalizedQuizSetSessions, QuizSetWithEmbeddedTemplates } from '../QuizApi'\nimport { LocalisationKey } from 'lib/i18n'\nimport { useGetFinishedTemplatesStats } from '../quizQueries'\nimport { useHasShowAdvancedStats } from 'contexts/UserContext'\nimport { ScrollRestoration } from 'lib/router/Scrollrestoration'\n\nexport const HomeQuizDetails: React.FC = () => {\n    const { id } = useParams<{ id: string }>()\n    const { data: quizSets, status: quizSetStatus } = useQuizSetsQuery()\n    const { data: quizSetSessions, status: quizSetSessionsStatus } = useQuizSetSessionsQuery(quizSets)\n    const t = useTranslate()\n    const set = quizSets?.find(set => set.id === id)\n\n    if (quizSetStatus === 'error' || quizSetSessionsStatus === 'error') {\n        return <ErrorMessage />\n    }\n\n    if (quizSetStatus === 'success' && (!set || set.locked)) {\n        return <ErrorMessage>{t('quiz::notFound')}</ErrorMessage>\n    }\n\n    if (!set || !quizSetSessions) {\n        return <Loader />\n    }\n\n    return <HomeQuizDetailsInner set={set} sessions={quizSetSessions} />\n}\n\ninterface HomeQuizDetailsInnerProps {\n    set: QuizSetWithEmbeddedTemplates\n    sessions: NormalizedQuizSetSessions\n}\n\nconst HomeQuizDetailsInner: React.FC<HomeQuizDetailsInnerProps> = ({ set, sessions }) => {\n    const t = useTranslate()\n    const relevantSessions = extractRelevantSessionsForSet(set, sessions)\n\n    const { data: results } = useQuizSetResultsQuery(relevantSessions)\n    const hasShowAdvancedView = useHasShowAdvancedStats()\n\n    const { data: finishedCount } = useGetFinishedTemplatesStats(set.id, hasShowAdvancedView)\n\n    return (\n        <>\n            <ScrollRestoration />\n            <Stack>\n                <Breadcrumbs>\n                    <Button variant=\"text\" component={Link} startIcon={<LeftAngleIcon />} to=\"/app/challenges/quizzes\">\n                        {t('quiz::all')}\n                    </Button>\n                </Breadcrumbs>\n                <div>\n                    <Text variant=\"h2\">{t(set.name as LocalisationKey)}</Text>\n                    {set.tags && (\n                        <Text variant=\"body2\" color=\"textSecondary\">\n                            {set.tags.map(tag => t(tag as LocalisationKey)).join(', ')}\n                        </Text>\n                    )}\n                </div>\n                <Grid>\n                    <Stack spacing={2}>\n                        <Thumbnail src={set.thumbnail || fallbackThumbnail} />\n                        <Text>{t(set.description as LocalisationKey)}</Text>\n                    </Stack>\n                    <Stack>\n                        {set.templates.map((template, i) => {\n                            const session = sessions[template.id]\n                            return (\n                                <TemplateItem\n                                    key={i}\n                                    status={session?.status}\n                                    sessionId={session?.sessionId}\n                                    score={results?.find(result => result.session === session?.sessionId)?.finalScore}\n                                    template={template}\n                                    finishedCount={\n                                        !hasShowAdvancedView ? undefined : finishedCount && finishedCount[template.id]\n                                    }\n                                />\n                            )\n                        })}\n                    </Stack>\n                </Grid>\n            </Stack>\n        </>\n    )\n}\n\ninterface TemplateItemProps {\n    status?: 'finished' | 'started'\n    score?: number\n    template: ApiTypes['quiz-template']\n    finishedCount?: number\n    sessionId?: string\n}\n\nconst TemplateItem: React.FC<TemplateItemProps> = ({ status, template, score, finishedCount, sessionId }) => {\n    const { id } = useParams<{ id: string }>()\n    const { translateQuizLocaleString } = useLocalisedQuizValue()\n    const t = useTranslate()\n    const isSmallScreen = useMediaQuery<Theme>(theme => theme.breakpoints.down('xs'))\n\n    const rootProps =\n        status === 'finished'\n            ? {\n                  type: 'link',\n                  to: `/app/challenges/quizzes/${id}/result/${sessionId}`,\n              }\n            : {\n                  type: 'link',\n                  to: `/app/quiz/${template.id}`,\n              }\n\n    return (\n        // @ts-ignore\n        <TemplateItemRoot {...rootProps}>\n            <Content>\n                <Inline display=\"flex\" alignItems=\"center\">\n                    <IconWrap>\n                        {status === 'finished' && <FinishedIcon />}\n                        {status === 'started' && <ContinueIcon />}\n                        {status === undefined && <StartIcon />}\n                    </IconWrap>\n                    <Text>\n                        {translateQuizLocaleString(template.name)}\n                        <TemplateItemMetadata>\n                            <> • </>\n                            {status === 'finished' ? (\n                                <>\n                                    <motion.span\n                                        initial={{ opacity: score === undefined ? 0 : 1 }}\n                                        animate={{ opacity: score === undefined ? 0 : 1 }}\n                                    >\n                                        {t('general::nPoints', { count: score })}\n                                    </motion.span>\n                                </>\n                            ) : (\n                                t('general::nQuestions', { count: template.questions?.length ?? 0 })\n                            )}\n                        </TemplateItemMetadata>\n                        {finishedCount !== undefined ? (\n                            <Text style={{ marginLeft: '0.5rem' }} variant=\"caption\">\n                                <strong>{finishedCount}</strong>\n                            </Text>\n                        ) : null}\n                    </Text>\n                </Inline>\n                {\n                    <ActionWrap component=\"span\" spacing={2}>\n                        {!isSmallScreen && (\n                            <span>\n                                {status === 'finished' && t('quiz::myAnswers')}\n                                {status === 'started' && t('general::continue')}\n                                {status === undefined && t('quiz::startQuiz')}\n                            </span>\n                        )}{' '}\n                        <RightAngleIcon />\n                    </ActionWrap>\n                }\n            </Content>\n        </TemplateItemRoot>\n    )\n}\n\nfunction extractRelevantSessionsForSet(set: QuizSetWithEmbeddedTemplates, sessions: NormalizedQuizSetSessions) {\n    const result: string[] = []\n    for (const [templateId, { sessionId }] of Object.entries(sessions)) {\n        if (set.templates.find(template => template.id === templateId)) {\n            if (sessionId) {\n                result.push(sessionId)\n            }\n        }\n    }\n    return result\n}\n\nconst TemplateItemMetadata = styled.span`\n    opacity: 0.5;\n`\n\nconst TemplateItemRoot = styled(ActionCard)`\n    display: block;\n    width: 100%;\n`\n\nconst IconWrap = styled.span`\n    > * {\n        vertical-align: middle;\n    }\n`\n\nconst iconBaseStyles = css`\n    font-size: 1.5rem;\n`\n\nconst FinishedIcon = styled(CheckIcon)`\n    ${iconBaseStyles}\n    color: ${props => props.theme.palette.success.main};\n`\n\nconst StartIcon = styled(PlayIcon)`\n    ${iconBaseStyles}\n    color: ${props => props.theme.palette.primary.main};\n`\n\nconst ContinueIcon = styled(FastForwardIcon)`\n    ${iconBaseStyles}\n    color: ${props => props.theme.palette.primary.main};\n`\n\nconst Content = styled(CardContent)`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(4)};\n    justify-content: space-between;\n`\n\nconst Thumbnail = styled(Img)`\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    ${props => props.theme.breakpoints.down('md')} {\n        display: block;\n        max-width: 30rem;\n    }\n    ${props => props.theme.breakpoints.down('sm')} {\n        margin-left: auto;\n        margin-right: auto;\n    }\n    ${props => props.theme.breakpoints.down('xs')} {\n        max-width: 100%;\n    }\n`\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: 4fr 5fr;\n    grid-gap: ${props => props.theme.spacing(6)};\n    ${props => props.theme.breakpoints.down('md')} {\n        grid-template-columns: 1fr;\n    }\n`\n\nconst ActionWrap = styled(Inline)`\n    display: flex;\n    flex-shrink: 0;\n    align-items: center;\n    font-weight: 600;\n    justify-content: flex-end;\n    text-align: right;\n    color: ${props => props.theme.palette.primary.main};\n`\n","import { Breadcrumbs } from 'components/Breadcrumbs'\nimport { Button } from 'components/Button'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { Stack } from 'components/layout'\nimport { Loader } from 'components/Loader'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { useParams } from 'react-router-dom'\nimport { DetailedQuizResult } from '../DetailedQuizResult'\nimport { useQuizSetsQuery } from './homeQuizQueries'\nimport { Link } from 'react-router-dom'\nimport { LocalisationKey } from 'lib/i18n'\n\ninterface HomeQuizAnswersProps {}\n\nexport const HomeQuizAnswers: React.FC<HomeQuizAnswersProps> = () => {\n    const { sessionId, setId } = useParams<{ sessionId: string; setId: string }>()\n    const { data: quizSets } = useQuizSetsQuery()\n    const set = quizSets?.find(set => set.id === setId)\n    const t = useTranslate()\n\n    if (!set) {\n        return <Loader />\n    }\n\n    return (\n        <Stack>\n            <Breadcrumbs>\n                <Button variant=\"text\" component={Link} to=\"/app/challenges/quizzes\">\n                    All Quizzes\n                </Button>\n                <Button variant=\"text\" component={Link} to={`/app/challenges/quizzes/${set.id}`}>\n                    {t(set.name as LocalisationKey)}\n                </Button>\n            </Breadcrumbs>\n            <ErrorBoundary>\n                <DetailedQuizResult sessionId={sessionId} />\n            </ErrorBoundary>\n        </Stack>\n    )\n}\n","import { Panel, PanelHeader, PanelTitle, PanelActions, PanelMoreButton } from 'components/panel'\nimport { Skeleton } from 'components/Skeleton'\nimport { PoorMansSuspenseTicker, usePoorMansSuspenseTick } from 'hooks/usePoorMansSuspense'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { HomeQuizCard } from '.'\nimport { HomeQuizGrid } from './HomeQuizGrid'\nimport { useQuizSetSessionsQuery, useRecommendedQuizSetsQuery } from './homeQuizQueries'\nimport { useHasGenerateQuizAccess } from '../quizHelpers'\nimport { GenerateQuizCard } from '../generated-quiz'\n\ninterface RecommendedHomeQuizzesProps extends PoorMansSuspenseTicker {}\n\nexport const RecommendedHomeQuizzes: React.FC<RecommendedHomeQuizzesProps> = ({ onReady }) => {\n    const t = useTranslate()\n    const { data: sets, status: setsStatus } = useRecommendedQuizSetsQuery()\n    const { data: sessions, status: sessionsStatus } = useQuizSetSessionsQuery(sets)\n    usePoorMansSuspenseTick(sessionsStatus !== 'idle' && sessionsStatus !== 'loading', onReady)\n    const hasGenerateQuizAccess = useHasGenerateQuizAccess()\n\n    if (setsStatus === 'error' || sessionsStatus === 'error' || sets?.length === 0) {\n        return null\n    }\n\n    return (\n        <Panel>\n            <PanelHeader>\n                <PanelTitle>{t('quiz::quizzes')}</PanelTitle>\n                <PanelActions>\n                    <PanelMoreButton activity=\"challenges:view-more\" to=\"/app/challenges/quizzes\">\n                        {t('quiz:moreQuizzes')}\n                    </PanelMoreButton>\n                </PanelActions>\n            </PanelHeader>\n            <HomeQuizGrid>\n                {hasGenerateQuizAccess && <GenerateQuizCard />}\n                {sets && sessions ? (\n                    (hasGenerateQuizAccess ? sets.slice(1, 3) : sets).map(set => (\n                        <HomeQuizCard\n                            key={set.id}\n                            set={{\n                                ...set,\n                                templates: set.templates.map(template => {\n                                    return {\n                                        id: template,\n                                        isFinished: sessions[template]?.status === 'finished' ? true : false,\n                                    }\n                                }),\n                            }}\n                        />\n                    ))\n                ) : (\n                    <RecommendedMiniChallengesSkeleton />\n                )}\n            </HomeQuizGrid>\n        </Panel>\n    )\n}\n\nconst RecommendedMiniChallengesSkeleton: React.FC = () => {\n    return (\n        <>\n            {new Array(3).fill(true).map((_, i) => (\n                <StyledSkeleton variant=\"rect\" key={i} />\n            ))}\n        </>\n    )\n}\n\nconst StyledSkeleton = styled(Skeleton)`\n    width: 100%;\n    height: 0;\n    padding-bottom: 87%;\n`\n","import { Dialog } from 'components/dialog'\nimport React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router'\nimport styled from 'styled-components/macro'\nimport { api } from 'lib/api'\nimport { Loader } from 'components/Loader'\nimport { Paper } from 'components/Paper'\nimport { useInvalidateQuizResults } from './home-quiz/homeQuizQueries'\nimport { useInvalidateClassroomQuizResults } from './quizQueries'\nimport { Theme, useMediaQuery } from '@material-ui/core'\nimport { runtimeEnv } from 'utils/env'\nimport { useModal } from 'lib/router/modals/modalContext'\nimport { usePauseDialogQueue } from 'features/dialog-queue'\nimport { useInvalidateGeneratedQuizSessions } from './generated-quiz/generatedQuizQueries'\n\ntype Variant = 'self-host' | 'classroom' | 'generated' | 'host'\n\ninterface QuizIframeProps {\n    variant: Variant\n}\n\nconst QuizIframe: React.FC<QuizIframeProps> = ({ variant }) => {\n    const { invalidateQuizSetResults } = useInvalidateQuizResults()\n    const { invalidateClassroomQuizResults } = useInvalidateClassroomQuizResults()\n    const { invalidateGeneratedQuizSessions } = useInvalidateGeneratedQuizSessions()\n    const isMobile = useMediaQuery<Theme>(theme => theme.breakpoints.down('xs'), { noSsr: true })\n    const { closeModal } = useModal()\n    const [hideClose, setHideClose] = React.useState(false)\n    usePauseDialogQueue()\n\n    const close = React.useCallback(() => {\n        switch (variant) {\n            case 'self-host':\n                invalidateQuizSetResults()\n                break\n            case 'classroom':\n                invalidateClassroomQuizResults()\n                break\n            case 'generated':\n                invalidateGeneratedQuizSessions()\n                break\n        }\n        closeModal()\n    }, [invalidateQuizSetResults, invalidateClassroomQuizResults, invalidateGeneratedQuizSessions, variant, closeModal])\n\n    useEffect(() => {\n        const onMessage = (event: MessageEvent) => {\n            if (event.origin !== runtimeEnv.REACT_APP_QUIZ_URL) return\n\n            if (event.data.type === 'ZOOMIN') {\n                setHideClose(true)\n            }\n\n            if (event.data.type === 'ZOOMOUT') {\n                setHideClose(false)\n            }\n        }\n\n        window.addEventListener('message', onMessage)\n\n        return () => {\n            window.removeEventListener('message', onMessage)\n        }\n    }, [])\n\n    return (\n        <Dialog\n            fullScreen={isMobile}\n            disableEscapeKeyDown\n            disableBackdropClick\n            open\n            onClose={close}\n            fullWidth\n            maxWidth=\"xl\"\n            PaperComponent={StyledPaper}\n            closeButtonProps={{ style: { color: '#fff' } }}\n            hideCloseButton={hideClose}\n        >\n            <IframeContent variant={variant} handleClose={close} />\n        </Dialog>\n    )\n}\n\ntype IframeContentProps = {\n    handleClose: () => void\n    variant: Variant\n}\n\nconst IframeContent: React.FC<IframeContentProps> = ({ handleClose, variant }) => {\n    const { id } = useParams<{ id: string }>()\n    const [status, setStatus] = useState<'loading' | 'ready'>('loading')\n\n    useEffect(() => {\n        const onMessage = (event: MessageEvent) => {\n            if (event.origin !== runtimeEnv.REACT_APP_QUIZ_URL) return\n\n            if (event.data.type === 'READY') {\n                setStatus('ready')\n            }\n\n            if (event.data.type === 'CLOSE') {\n                handleClose()\n            }\n        }\n\n        window.addEventListener('message', onMessage)\n\n        return () => {\n            window.removeEventListener('message', onMessage)\n        }\n    }, [handleClose])\n\n    const iframeUrl: string = (() => {\n        const query = `?mode=iframe&access_token=${api.accessToken}`\n        switch (variant) {\n            case 'classroom':\n                return `${runtimeEnv.REACT_APP_QUIZ_URL}/${id}${query}`\n            case 'self-host':\n                return `${runtimeEnv.REACT_APP_QUIZ_URL}/room-for/${id}${query}`\n            case 'generated':\n                return `${runtimeEnv.REACT_APP_QUIZ_URL}/self-host/${id}${query}`\n            case 'host':\n                return `${runtimeEnv.REACT_APP_QUIZ_URL}/host/${id}${query}`\n        }\n    })()\n\n    return (\n        <Root>\n            {status === 'loading' && (\n                <LoaderWrap>\n                    <Loader />\n                </LoaderWrap>\n            )}\n            <StyledIframe\n                data-testid=\"quiz-iframe\"\n                isReady={status === 'ready'}\n                src={iframeUrl}\n                title=\"Quiz\"\n                frameBorder={0}\n            />\n        </Root>\n    )\n}\n\nexport const SelfHostQuizIframe = () => {\n    return <QuizIframe variant=\"self-host\" />\n}\n\nexport const ClassroomQuizIframe = () => {\n    return <QuizIframe variant=\"classroom\" />\n}\n\nexport const GeneratedQuizIframe = () => {\n    return <QuizIframe variant=\"generated\" />\n}\n\nexport const HostQuizIframe = () => {\n    return <QuizIframe variant=\"host\" />\n}\n\nconst StyledPaper = styled(Paper)`\n    height: 100%;\n    background-color: #0e375c;\n`\n\nconst LoaderWrap = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n`\n\nconst StyledIframe = styled.iframe<{ isReady: boolean }>`\n    width: 100%;\n    height: 100%;\n    opacity: ${props => (!props.isReady ? 0 : undefined)};\n`\n\nconst Root = styled.div`\n    position: relative;\n    overflow: hidden;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n`\n","import React from 'react'\nimport { Paper as MuiPaper, PaperProps as MuiPaperProps } from '@material-ui/core'\n\ninterface PaperProps extends MuiPaperProps {}\n\nexport const Paper = React.forwardRef<any, PaperProps>((props, ref) => {\n    return <MuiPaper {...props} ref={ref} />\n})\n","import { FormLabel, TextField, TextFieldProps } from 'components/form'\nimport { Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { visuallyHidden } from 'utils/styleUtils'\n\ninterface SecretCodeInputProps extends TextFieldProps {}\n\nconst HAIR_SPACE = ' '\n\nexport const SecretCodeInput = React.forwardRef<any, SecretCodeInputProps>((props, ref) => {\n    const t = useTranslate()\n\n    return (\n        <Stack>\n            <Text>{t('secretCode::enter')}</Text>\n            <StyledLabel htmlFor=\"secret-code-input\">{t('secretCode::label')}</StyledLabel>\n            <StyledTextField\n                id=\"secret-code-input\"\n                autoFocus\n                inputProps={{ maxLength: 6 }}\n                placeholder={`${HAIR_SPACE}••••••`}\n                inputRef={ref}\n                {...props}\n            />\n        </Stack>\n    )\n})\n\nconst StyledLabel = styled(FormLabel)`\n    ${visuallyHidden}\n`\n\nconst StyledTextField = styled(TextField)`\n    font-size: 1.5rem;\n    letter-spacing: 0.5em;\n    font-weight: 600;\n\n    & input {\n        text-align: center;\n        text-transform: uppercase;\n    }\n`\n","import React, { useState } from 'react'\nimport { SecretCodeInput } from './SecretCodeInput'\nimport { useForm } from 'react-hook-form'\nimport { Collapse } from '@material-ui/core'\nimport { DialogForm, DialogSecondaryButton, DialogPrimaryButton } from 'components/dialog'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { Stack } from 'components/layout'\nimport { api } from 'lib/api'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useProcessSecretCodeRedeemResponse } from '.'\nimport { SecretCodeRedeemResponse } from './SecretCodesApi'\nimport { LocalisationKey } from 'lib/i18n'\nimport { CookieHunt } from 'features/cookie-hunt'\n\ninterface SecretCodeUnlockerProps {\n    close: VoidFunction\n    primaryLabel: string\n    customProcessor?: (response: SecretCodeRedeemResponse) => Promise<boolean>\n    helperText?: string\n}\n\nconst incorrectLengthMessage: LocalisationKey = 'secretCode::incorrectLength'\n\nexport const SecretCodeUnlocker: React.FC<SecretCodeUnlockerProps> = ({\n    close,\n    primaryLabel,\n    customProcessor,\n    helperText,\n}) => {\n    const [status, setStatus] = useState<'idle' | 'loading' | 'error'>('idle')\n    const { register, handleSubmit, errors, setError } = useForm<{ value: string }>()\n    const t = useTranslate()\n    const processSecretCodeRedeemResponse = useProcessSecretCodeRedeemResponse()\n\n    const processSecretCode = async (data: SecretCodeRedeemResponse) => {\n        if (customProcessor) {\n            const success = await customProcessor(data)\n            if (!success) {\n                const message: LocalisationKey = 'secretCode::invalidCode'\n                setError('value', { message })\n            }\n        } else {\n            processSecretCodeRedeemResponse(data, close)\n        }\n    }\n\n    const onSubmit = handleSubmit(async values => {\n        if (status !== 'loading') {\n            setStatus('loading')\n            try {\n                const { data } = await api.secretCodes.redeem(values.value)\n                if (data.success) {\n                    await processSecretCode(data)\n                } else {\n                    const message: LocalisationKey = 'secretCode::invalidCode'\n                    setError('value', { message })\n                }\n                setStatus('idle')\n            } catch (e) {\n                console.error(e)\n                setStatus('error')\n            }\n        }\n    })\n\n    return (\n        <DialogForm\n            onSubmit={onSubmit}\n            actions={\n                <>\n                    <DialogSecondaryButton onClick={close}>{t('general::cancel')}</DialogSecondaryButton>\n                    <CookieHunt name=\"secret-code-unlocker\">\n                        <DialogPrimaryButton isLoading={status === 'loading'} type=\"submit\">\n                            {primaryLabel}\n                        </DialogPrimaryButton>\n                    </CookieHunt>\n                </>\n            }\n        >\n            <Stack>\n                <Collapse unmountOnExit in={status === 'error'}>\n                    <ErrorMessage />\n                </Collapse>\n                <SecretCodeInput\n                    name=\"value\"\n                    errorText={errors.value ? t(errors.value.message as LocalisationKey) : undefined}\n                    ref={register({\n                        required: { value: true, message: incorrectLengthMessage },\n                        minLength: { value: 6, message: incorrectLengthMessage },\n                        maxLength: { value: 6, message: incorrectLengthMessage },\n                    })}\n                    helperText={helperText}\n                />\n            </Stack>\n        </DialogForm>\n    )\n}\n","import { useNotifications } from 'features/notifications'\nimport { useProjectQueryInvalidation } from 'features/projects'\nimport { useInvalidateMyChallengeSetsQuery } from 'features/scoolcode-challenge'\nimport { getIdeUrl } from 'lib/api/helpers'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { requestRooms } from 'lib/liveops'\nimport { useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router'\nimport { SecretCodeRedeemResponse } from './SecretCodesApi'\n\nexport function useProcessSecretCodeRedeemResponse() {\n    const invalidate = useProjectQueryInvalidation()\n    const history = useHistory()\n    const { notify } = useNotifications()\n    const { invalidateMyChallengeSetsQuery } = useInvalidateMyChallengeSetsQuery()\n    const t = useTranslate()\n    const dispatch = useDispatch()\n\n    return function processSecretCodeRedeemResponse(response: SecretCodeRedeemResponse, close: VoidFunction) {\n        switch (response.kind) {\n            case 'quiz': {\n                history.push(`/app/classroom-quiz/${response.quizId}`)\n                break\n            }\n            case 'scoolcode-live-room': {\n                const targetList = response.redirectUri.split('/')\n                const target = targetList[targetList.length - 1]\n                history.push(`/app/high-score/${target}?room=${response.roomId}`)\n                setTimeout(() => {\n                    dispatch(requestRooms())\n                }, 1000)\n                break\n            }\n            case 'project': {\n                const path = `/ide/${response.projectId}`\n                window.open(getIdeUrl(path))\n                invalidate('MY_PROJECTS')\n                invalidate('MY_LATEST_PROJECTS')\n                close()\n                break\n            }\n            case 'event-participation': {\n                invalidateMyChallengeSetsQuery()\n                notify(t('scChallenges::unlocked'), { variant: 'success' })\n                history.push('/app/my-projects/special-projects')\n                if (response.challengeSetId) {\n                    const idePath = `/challenge-sets/${response.challengeSetId}/challenges/1`\n                    window.open(getIdeUrl(idePath))\n                }\n                break\n            }\n            default: {\n                throw new Error('Unsupported secret code type.')\n            }\n        }\n    }\n}\n","import { ApiBase } from 'lib/api/ApiBase'\n\ninterface SecretCodeRedeemResponseBase {\n    success: boolean\n}\n\ninterface SecretCodeRedeemQuizResponse extends SecretCodeRedeemResponseBase {\n    kind: 'quiz'\n    quizId: string\n    redirectUri: string\n}\n\ninterface SecretCodeRedeemScoolcodeLiveRoomResponse extends SecretCodeRedeemResponseBase {\n    kind: 'scoolcode-live-room'\n    roomId: string\n    ownerId: string\n    redirectUri: string\n}\n\ninterface SecretCodeRedeemProjectResponse extends SecretCodeRedeemResponseBase {\n    kind: 'project'\n    projectId: string\n    redirectUri: string\n}\n\ninterface SecretCodeRedeemEventParticipationResponse extends SecretCodeRedeemResponseBase {\n    kind: 'event-participation'\n    challengeSetId?: string\n}\n\nexport type SecretCodeRedeemResponse =\n    | SecretCodeRedeemQuizResponse\n    | SecretCodeRedeemScoolcodeLiveRoomResponse\n    | SecretCodeRedeemProjectResponse\n    | SecretCodeRedeemEventParticipationResponse\n\nexport class SecretCodesApi extends ApiBase {\n    redeem = (code: string) => {\n        return this.client.post<SecretCodeRedeemResponse>('secret-codes/redeem', { code, processAt: 'backend' })\n    }\n\n    generate = async (data: { kind: string; target: string; reason: string }) => {\n        const result = await this.client.post<{ code: string }>('secret-codes', {\n            kind: data.kind,\n            target: data.target,\n            reason: data.reason,\n        })\n        return result.data\n    }\n}\n","import { AxiosInstance } from 'axios'\nimport dayjs from 'dayjs'\nimport { ApiTypes } from 'lib/api'\nimport { ApiBase } from 'lib/api/ApiBase'\nimport { MINI_QUIZ_PROJECT_TAG } from '../helpers/miniQuizHelpers'\nimport { MiniQuiz, MiniQuizTemplate } from '../types/miniQuizTypes'\n\nexport class MiniQuizApi extends ApiBase {\n    constructor(client: AxiosInstance, private getUserId: () => string | null) {\n        super(client)\n    }\n\n    getTemplates = () => {\n        return this.client.get<MiniQuizTemplate[]>(`mini-quiz-templates/my`)\n    }\n\n    getMiniQuiz = (id: string) => {\n        return this.client.get<MiniQuiz>(`files/${id}/mini-quiz`)\n    }\n\n    saveMiniQuiz = async (id: string, quiz: MiniQuiz) => {\n        return this.client.patch(`/files/${id}/mini-quiz`, quiz)\n    }\n\n    getMyMiniQuizzes = async (query: MyMiniQuizzesQuery) => {\n        const params: Record<string, any> = {\n            skip: query.skip,\n            owner: this.getUserId(),\n            limit: query.limit,\n            sort: query.sort,\n            'where[kind][in]': 'project/mix,project/blocks',\n            'where[tags][eq]': MINI_QUIZ_PROJECT_TAG,\n        }\n\n        if (query.view === 'deleted') {\n            params.deleted = true\n            params.sort = '-deletedAt'\n            params['where[deletedAt][gte]'] = dayjs().subtract(30, 'days').format()\n        } else {\n            params.deleted = false\n        }\n\n        if (query.search) {\n            params['where[name][like]'] = query.search\n        }\n\n        if (query.view === 'favorites') {\n            params.favorite = true\n        }\n\n        const res = await this.client.get<ApiTypes['file'][]>(`/files`, {\n            params,\n        })\n\n        return {\n            response: res,\n            nextSkip: res.data.length < query.limit ? null : query.skip + query.limit,\n            totalCount:\n                res.headers['x-total-count'] !== undefined ? parseInt(res.headers['x-total-count'], 10) : undefined,\n        }\n    }\n\n    createMiniQuiz = async (name: string) => {\n        const res = await this.client.post<ApiTypes['file']>('/files/mini-quiz', {\n            name,\n        })\n        return res\n    }\n}\n\nexport interface MyMiniQuizzesQuery {\n    skip: number\n    limit: number\n    view: 'all' | 'favorites' | 'deleted'\n    sort: 'name' | '-name' | 'createdAt' | '-createdAt' | 'updatedAt' | '-updatedAt'\n    search?: string\n}\n","export default __webpack_public_path__ + \"static/media/empty-state.ab2961e6.svg\";","import React from 'react'\nimport { EmptyState } from 'components/EmptyState'\nimport { useUserState } from 'contexts/UserContext'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { newProjetDialogTo, Project } from 'features/projects'\nimport { MyDeletedProjectCard } from 'features/projects/my/MyDeletedProjectCard'\nimport { useMyPendingProjectsQuery } from 'features/projects/projectQueries'\nimport { MyMiniQuizCard } from './MyMiniQuizCard'\nimport { MyMiniQuizzesQuery } from 'features/mini-quizzes/data/MiniQuizApi'\nimport { Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport styled from 'styled-components/macro'\nimport emptyStateImg from '../../media/empty-state.svg'\nimport { Button } from 'components/Button'\nimport { AddIcon } from 'components/icons'\nimport { Link } from 'react-router-dom'\nimport { Location } from 'history'\n\ninterface MyMiniQuizListProps {\n    isFiltering: boolean\n    projects: Project[] | undefined\n    view: MyMiniQuizzesQuery['view']\n}\n\nexport const MyMiniQuizList: React.FC<MyMiniQuizListProps> = ({ isFiltering, projects, view }) => {\n    const { account } = useUserState()\n    const { data: pendingProjects } = useMyPendingProjectsQuery()\n    const t = useTranslate()\n\n    if (!projects) {\n        return null\n    }\n\n    if (projects.length === 0) {\n        if (isFiltering || view !== 'all') {\n            return <EmptyState>{t('general::noResults')}</EmptyState>\n        }\n        return <MyMiniQuizListEmptyState />\n    }\n\n    return (\n        <Stack>\n            {projects.map(project => {\n                if (view === 'deleted') {\n                    return <MyDeletedProjectCard displayType=\"list\" project={project} key={project.file.id} />\n                }\n\n                return (\n                    <MyMiniQuizCard\n                        user={account}\n                        key={project.file.id}\n                        project={project}\n                        isPending={pendingProjects?.includes(project.file.id)}\n                    />\n                )\n            })}\n        </Stack>\n    )\n}\n\nconst MyMiniQuizListEmptyState: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <MyMiniQuizListEmptyStateRoot>\n            <img src={emptyStateImg} alt=\"\" width=\"300\" height=\"142\" />\n            <Text>{t('miniQuiz::noQuizzes')}</Text>\n            <Button\n                startIcon={<AddIcon />}\n                component={Link}\n                to={(location: Location) => newProjetDialogTo({ ...location, state: { type: 'mini-quiz' } })}\n            >\n                {t('miniQuiz::createFirst')}\n            </Button>\n        </MyMiniQuizListEmptyStateRoot>\n    )\n}\n\nconst MyMiniQuizListEmptyStateRoot = styled(Stack)`\n    text-align: center;\n    max-width: 55rem;\n    margin-left: auto;\n    margin-right: auto;\n    p {\n        font-weight: 600;\n    }\n    img {\n        width: 100%;\n        height: auto;\n        display: block;\n        margin-left: auto;\n        margin-right: auto;\n        max-width: 60%;\n    }\n`\n","import { InputAdornment, Option, Select, TextField } from 'components/form'\nimport { Searchicon } from 'components/icons'\nimport React, { useEffect, useState } from 'react'\nimport { DecodedValueMap, SetQuery } from 'use-query-params'\nimport { MyQuizProjectsFilterState } from './MyMiniQuizzes'\nimport { useDebounce } from 'use-debounce'\nimport styled from 'styled-components/macro'\nimport { Inline } from 'components/layout'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Card, CardContent } from 'components/card'\nimport { LocalisationKey } from 'lib/i18n'\nimport { MyMiniQuizzesQuery } from 'features/mini-quizzes/data/MiniQuizApi'\n\ninterface MyMiniQuizFiltersProps {\n    filters: DecodedValueMap<MyQuizProjectsFilterState>\n    setFilters: SetQuery<MyQuizProjectsFilterState>\n}\n\nconst sorts: MyMiniQuizzesQuery['sort'][] = ['-name', 'name', '-updatedAt', 'updatedAt', '-createdAt', 'createdAt']\nconst sortLabels: Record<MyMiniQuizzesQuery['sort'], LocalisationKey> = {\n    '-createdAt': 'general::sort::recentlyCreated',\n    createdAt: 'general::sort::lastCreated',\n    '-name': 'general::sort::abcDesc',\n    name: 'general::sort::abcAsc',\n    '-updatedAt': 'general::sort::recentlyModified',\n    updatedAt: 'general::sort::lastModified',\n}\n\nexport const MyMiniQuizFilters: React.FC<MyMiniQuizFiltersProps> = ({ filters, setFilters }) => {\n    const t = useTranslate()\n\n    return (\n        <Card elevation={1}>\n            <CardContent>\n                <Grid>\n                    <SearchWrap>\n                        <Search filters={filters} setFilters={setFilters} />\n                    </SearchWrap>\n                    <InnerGrid spacing={3}>\n                        {filters.view !== 'deleted' && (\n                            <SortSelect\n                                value={filters.sort}\n                                fullWidth={false}\n                                onChange={e => {\n                                    setFilters({ sort: e.target.value as MyMiniQuizzesQuery['sort'] }, 'replaceIn')\n                                }}\n                            >\n                                {sorts.map(sort => (\n                                    <Option key={sort} value={sort}>\n                                        {t(sortLabels[sort])}\n                                    </Option>\n                                ))}\n                            </SortSelect>\n                        )}\n                    </InnerGrid>\n                </Grid>\n            </CardContent>\n        </Card>\n    )\n}\n\nconst Search: React.FC<Pick<MyMiniQuizFiltersProps, 'filters' | 'setFilters'>> = ({ filters, setFilters }) => {\n    const t = useTranslate()\n    const [search, setSearch] = useState(filters.search)\n    const [debouncedSearch] = useDebounce(search, 500)\n\n    useEffect(() => {\n        setSearch(filters.search)\n    }, [filters.search])\n\n    useEffect(() => {\n        setFilters({ search: debouncedSearch }, 'replaceIn')\n    }, [debouncedSearch, setFilters])\n\n    return (\n        <TextField\n            fullWidth={false}\n            placeholder={t('general::search')}\n            type=\"search\"\n            startAdornment={\n                <InputAdornment position=\"start\">\n                    <Searchicon />\n                </InputAdornment>\n            }\n            value={search}\n            onChange={e => {\n                setSearch(e.target.value)\n            }}\n        />\n    )\n}\n\nconst SortSelect = styled(Select)`\n    ${props => props.theme.breakpoints.down('sm')} {\n        width: 100%;\n    }\n`\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: 1fr minmax(max-content, 1fr);\n    gap: ${props => props.theme.spacing(6)};\n    ${props => props.theme.breakpoints.down('sm')} {\n        grid-template-columns: auto;\n    }\n`\n\nconst InnerGrid = styled(Inline)`\n    display: flex;\n    justify-content: flex-end;\n`\n\nconst SearchWrap = styled(Inline)`\n    display: flex;\n    align-items: center;\n    > .MuiFormControl-root {\n        flex-grow: 1;\n    }\n`\n","import { ErrorMessage } from 'components/ErrorMessage'\nimport { useIsElementFullyVisible } from 'hooks/useIsElementFullyVisible'\nimport React, { useEffect, useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { Flex, Stack } from 'components/layout'\nimport { Loader } from 'components/Loader'\nimport { DeleteIcon, FavoriteIcon } from 'components/icons'\nimport { QueryParamConfig, QueryParamProvider, StringParam, useQueryParams, withDefault } from 'use-query-params'\nimport { Route } from 'react-router-dom'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { WrappingInline } from 'components/layout/WrappingInline'\nimport { useSelector } from 'lib/store'\nimport { useUserState } from 'contexts/UserContext'\nimport { MyMiniQuizList } from './MyMiniQuizListList'\nimport { MyMiniQuizzesQuery } from 'features/mini-quizzes/data/MiniQuizApi'\nimport { ProjectListTab } from 'features/projects/ProjectListTab'\nimport { addProjectActionListener, removeProjectActionListener } from 'features/projects/useProjectActions'\nimport { getDefaultProjectListSort } from 'features/projects'\nimport { useMyMiniQuizzesQuery } from 'features/mini-quizzes/data/miniQuizQueries'\nimport { MyMiniQuizFilters } from './MyMiniQuizFilters'\nimport { useUpdateUserSettingOnChange } from 'hooks/useUpdateUserSettingOnChange'\n\nexport interface MyQuizProjectsFilterState {\n    view: QueryParamConfig<MyMiniQuizzesQuery['view']>\n    sort: QueryParamConfig<MyMiniQuizzesQuery['sort']>\n    search: QueryParamConfig<string>\n    // fixing some weird use-query-params typing issue\n    [key: string]: any\n}\n\nexport const MyMiniQuizzes: React.FC = () => {\n    return (\n        <QueryParamProvider ReactRouterRoute={Route}>\n            <MyMiniQuizzesInner />\n        </QueryParamProvider>\n    )\n}\n\nconst MyMiniQuizzesInner = React.memo(() => {\n    const { settings } = useUserState()\n    const [filters, setFilters] = useQueryParams<MyQuizProjectsFilterState>({\n        view: withDefault<any, MyMiniQuizzesQuery['view']>(StringParam, 'all'),\n        sort: withDefault<any, MyMiniQuizzesQuery['sort']>(StringParam, getDefaultProjectListSort(settings)),\n        search: withDefault(StringParam, ''),\n    })\n    const [skipCorrection, setSkipCorrection] = useState(0)\n    const t = useTranslate()\n    const projects = useSelector(state => state.projects.all)\n\n    const query = useMyMiniQuizzesQuery({ limit: 32, ...filters }, skipCorrection)\n\n    useUpdateUserSettingOnChange('mylogiscool-project-list-sort', filters.sort)\n\n    useEffect(() => {\n        const currentDataIncludesId = (id: string) =>\n            !!query.data?.flatMap(data => data.response.data).find(project => project.id === id)\n\n        const onRemovedFromList = (id: string) => {\n            if (currentDataIncludesId(id)) {\n                setSkipCorrection(skipCorrection => skipCorrection - 1)\n            }\n        }\n\n        if (filters.view === 'all') {\n            addProjectActionListener('delete', onRemovedFromList)\n            return () => {\n                removeProjectActionListener('delete', onRemovedFromList)\n                setSkipCorrection(0)\n            }\n        }\n\n        if (filters.view === 'favorites') {\n            addProjectActionListener('delete', onRemovedFromList)\n            addProjectActionListener('unfavorite-own', onRemovedFromList)\n            return () => {\n                removeProjectActionListener('delete', onRemovedFromList)\n                removeProjectActionListener('unfavorite-own', onRemovedFromList)\n                setSkipCorrection(0)\n            }\n        }\n\n        if (filters.view === 'deleted') {\n            addProjectActionListener('restore', onRemovedFromList)\n            return () => {\n                removeProjectActionListener('restore', onRemovedFromList)\n                setSkipCorrection(0)\n            }\n        }\n    }, [query, filters.view])\n\n    const { fetchMore, status, isFetchingMore, canFetchMore } = query\n    const { ref, isFullyVisible } = useIsElementFullyVisible()\n\n    useEffect(() => {\n        if (isFullyVisible === true) {\n            fetchMore()\n        }\n    }, [isFullyVisible, fetchMore])\n\n    const isTriggerVisible = !!(status === 'success' && !isFetchingMore && canFetchMore)\n    const isFiltering = filters.search !== ''\n\n    const extractProjectsFromStore = (files: NonNullable<typeof query.data>) => {\n        return files\n            .flatMap(file => {\n                return file.response.data\n            })\n            .filter(({ id }) => id in projects)\n            .map(file => projects[file.id])\n    }\n\n    const filteredProjects = (() => {\n        if (!query.data) {\n            return undefined\n        }\n        const projects = extractProjectsFromStore(query.data)\n        if (filters.view === 'favorites') {\n            return projects.filter(project => {\n                return project.file.favorite && !project.file.deleted\n            })\n        }\n        if (filters.view === 'deleted') {\n            return projects.filter(project => {\n                return project.file.deleted\n            })\n        }\n        return projects.filter(project => {\n            return !project.file.deleted\n        })\n    })()\n\n    return (\n        <Stack spacing={5}>\n            <WrappingInline>\n                <ProjectListTab\n                    isActive={filters.view === 'all'}\n                    onClick={() => {\n                        setFilters({ view: 'all' }, 'replaceIn')\n                    }}\n                >\n                    {t('general::all')}\n                </ProjectListTab>\n                <ProjectListTab\n                    isActive={filters.view === 'favorites'}\n                    onClick={() => {\n                        setFilters({ view: 'favorites' }, 'replaceIn')\n                    }}\n                    icon={<FavoriteIcon />}\n                >\n                    {t('general::favorites')}\n                </ProjectListTab>\n                <ProjectListTab\n                    isActive={filters.view === 'deleted'}\n                    onClick={() => {\n                        setFilters({ view: 'deleted' }, 'replace')\n                    }}\n                    icon={<DeleteIcon />}\n                >\n                    {t('general::deletedItems')}\n                </ProjectListTab>\n            </WrappingInline>\n            <Stack spacing={8}>\n                <MyMiniQuizFilters filters={filters} setFilters={setFilters} />\n\n                <MyMiniQuizList view={filters.view} projects={filteredProjects} isFiltering={isFiltering} />\n            </Stack>\n\n            {status === 'error' && <ErrorMessage />}\n\n            <Flex justify=\"center\" mt={5}>\n                {(status === 'loading' || isFetchingMore) && <Loader />}\n            </Flex>\n            <LoadMoreTrigger ref={ref} isVisible={isTriggerVisible}></LoadMoreTrigger>\n        </Stack>\n    )\n})\n\nconst LoadMoreTrigger = styled.div<{ isVisible: boolean }>`\n    height: 2px;\n    display: ${props => (props.isVisible ? 'block' : 'none')};\n`\n","import { Inline } from 'components/layout'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface ProjectListTabProps {\n    isActive?: boolean\n    onClick?: VoidFunction\n    icon?: React.ReactNode\n}\n\nexport const ProjectListTab: React.FC<ProjectListTabProps> = ({ isActive, onClick, children, icon }) => {\n    return (\n        <Root isActiva={isActive} onClick={onClick}>\n            <StyledInline component=\"span\" spacing={1}>\n                {icon}\n                <span>{children}</span>\n            </StyledInline>\n        </Root>\n    )\n}\n\nconst StyledInline = styled(Inline)`\n    display: flex;\n    align-items: center;\n`\n\nconst Root = styled.button<{ isActiva?: boolean }>`\n    font-family: inherit;\n    color: ${props => (props.isActiva ? props.theme.palette.primary.main : 'inherit')};\n    text-decoration: none;\n    font-weight: 600;\n    background: none;\n    border: none;\n    cursor: pointer;\n    padding: 0;\n    font-size: ${props => props.theme.typography.body2.fontSize};\n    transition: color ${props => props.theme.transitions.duration.shorter}ms;\n    line-height: 1;\n    &:focus {\n        outline: none;\n    }\n    &:focus-visible {\n        outline: solid 1px ${props => props.theme.palette.primary.main};\n    }\n    &:hover,\n    &:focus-visible {\n        color: ${props => props.theme.palette.primary.main};\n    }\n`\n","import { UserState } from 'contexts/UserContext'\n\ntype AgeGroup = 'small' | 'big'\n\nconst AGE_GROUP_MARGIN = 12\n\nexport const isUserHunGirl = (user: UserState) => {\n    return user.account.country === 'HU' && user.crm.gender === 'f'\n}\n\nexport function getAgeGroupFromAge(age?: number): AgeGroup {\n    if (age === undefined) {\n        return 'big'\n    }\n    if (age < AGE_GROUP_MARGIN) {\n        return 'small'\n    }\n    return 'big'\n}\n\nexport const templateIdAgeGroupDict: Record<AgeGroup, string[]> = {\n    small: ['5f845c80c84e58000abc6d2a', '5f85a7ecd69a4d000979ae74', '5f86b44cc84e58000abc8780'],\n    big: ['5f8560b6c84e58000abc75a8', '5f85bc4ac84e58000abc7db1', '5f86c9dfd69a4d000979becc'],\n}\n","import { useUserState } from 'contexts/UserContext'\nimport dayjs from 'dayjs'\nimport { CrmUserData } from 'lib/api'\n\nexport const getUserAge = (crmData: CrmUserData) =>\n    crmData.birthDate ? dayjs().diff(dayjs(crmData.birthDate), 'years') : undefined\n\nexport const useGetUserAge = () => {\n    const { crm } = useUserState()\n\n    return getUserAge(crm)\n}\n","import { UserState } from 'contexts/UserContext'\nimport { isUserHunGirl, getAgeGroupFromAge, templateIdAgeGroupDict } from './helpers/aiQuizHelper'\nimport { getUserAge } from 'hooks/useGetUserAge'\nimport { QuizSetWithEmbeddedTemplates } from '../QuizApi'\nimport { isQuizsetWithEmbeddedTemplates, QuizSetWithMetadata } from '..'\n\nexport const QuizCustomIds = ['5f84619fc84e58000abc6ed6']\n\nexport type QuizCustomIdKey = typeof QuizCustomIds[number]\n\ntype CustomQuizTransformer = (\n    quizSet: QuizSetWithEmbeddedTemplates | QuizSetWithMetadata,\n    user: UserState,\n) => QuizSetWithEmbeddedTemplates | QuizSetWithMetadata\n\nexport const customQuizTransformer: Record<QuizCustomIdKey, CustomQuizTransformer> = {\n    '5f84619fc84e58000abc6ed6': (set, user) => {\n        if (isUserHunGirl(user)) {\n            set.name = 'Digigirlz - MI és fenntarthatóság kvíz'\n            set.description =\n                'Digigirlzösöknek: Érdekel a mesterséges intelligencia? Tudod, hogy mire képes ma egy AI? Készen állsz egy újabb digitális kihívásra? Próbáld ki magad legújabb Digigirlz kvízsorozatunkon!'\n        }\n\n        const age = getUserAge(user.crm)\n\n        const AgeGroup = getAgeGroupFromAge(age)\n\n        const filteredTemplates = isQuizsetWithEmbeddedTemplates(set)\n            ? set.templates.filter(template => templateIdAgeGroupDict[AgeGroup].includes(template.id))\n            : set.templates.filter(template => templateIdAgeGroupDict[AgeGroup].includes(template))\n\n        set.templates = filteredTemplates\n\n        return set\n    },\n}\n","import { UserState, useUserState } from 'contexts/UserContext'\nimport { api } from 'lib/api'\nimport { useMemo } from 'react'\nimport { useQuery, useQueryCache } from 'react-query'\nimport { QuizSetWithMetadata } from '..'\nimport { QuizSetWithEmbeddedTemplates } from '../QuizApi'\nimport { QuizCustomIds, customQuizTransformer } from './customHomeQuizTransformer'\n\nconst applyCustomTransform = (quizSet: QuizSetWithEmbeddedTemplates | QuizSetWithMetadata, user: UserState) => {\n    if (QuizCustomIds.includes(quizSet.id)) {\n        const transformer = customQuizTransformer[quizSet.id]\n        if (!transformer) {\n            return quizSet\n        }\n        return transformer(quizSet, user)\n    }\n\n    return quizSet\n}\n\nexport const useQuizSetsQuery = () => {\n    const user = useUserState()\n\n    return useQuery('quiz-sets', async () => {\n        const res = await api.quizzes.getQuizSets()\n\n        return res.data.map(set => applyCustomTransform(set, user)) as QuizSetWithEmbeddedTemplates[]\n    })\n}\n\nexport const useRecommendedQuizSetsQuery = () => {\n    const user = useUserState()\n\n    return useQuery(\n        'recommended-quiz-sets',\n        async () => {\n            const res = await api.quizzes.getRecommendedQuizSets()\n\n            return res.data.map(set => applyCustomTransform(set, user)) as QuizSetWithMetadata[]\n        },\n        { staleTime: Infinity },\n    )\n}\n\nexport const useQuizSetSessionsQuery = (quizSets?: (QuizSetWithEmbeddedTemplates | QuizSetWithMetadata)[]) => {\n    return useQuery(\n        ['quiz-sets-sessions', quizSets?.map(set => set.id)],\n        () => {\n            return api.quizzes.getQuizSetsSessions(quizSets!)\n        },\n        { enabled: !!quizSets, staleTime: Infinity },\n    )\n}\n\nexport const useQuizTemplatesSessionQuery = (templates: string[]) => {\n    return useQuery(\n        ['quiz-template-sessions', templates],\n        () => {\n            return api.quizzes.getQuizSessionsForTemplates(templates)\n        },\n        { staleTime: Infinity },\n    )\n}\n\nexport const useQuizSetResultsQuery = (sessionIds?: string[]) => {\n    return useQuery(\n        ['quiz-set-results', sessionIds],\n        () => {\n            return api.quizzes.getQuizResultsForSessions(sessionIds!)\n        },\n        { staleTime: Infinity, enabled: !!sessionIds },\n    )\n}\n\nexport const useInvalidateQuizResults = () => {\n    const queryCache = useQueryCache()\n\n    return useMemo(\n        () => ({\n            invalidateQuizSetResults: async () => {\n                await queryCache.invalidateQueries('quiz-sets-sessions')\n                queryCache.invalidateQueries('quiz-set-results')\n                queryCache.invalidateQueries('quiz-template-sessions')\n            },\n        }),\n        [queryCache],\n    )\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { Text } from 'components/Text'\nimport { transparentize } from 'polished'\n\nexport interface StatProps {\n    title: string\n    icon?: React.ReactNode\n    value?: number | string\n    color?: string\n    backgroundColor?: string\n}\n\nexport const Stat: React.FC<StatProps> = ({ title, icon, value, color, backgroundColor }) => {\n    return (\n        <Root>\n            <Title>\n                {icon && (\n                    <IconWrap $backgroundColor={backgroundColor} $color={color}>\n                        {icon}\n                    </IconWrap>\n                )}{' '}\n                <span>{title}</span>\n            </Title>\n            <Value>{value === undefined ? '–' : value}</Value>\n        </Root>\n    )\n}\n\nconst IconWrap = styled.span<{ $color?: string; $backgroundColor?: string }>`\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    background: ${props =>\n        props.$backgroundColor ?? transparentize(0.7, props.$color ?? props.theme.palette.text.primary)};\n    padding: 4px;\n    border-radius: 50%;\n    color: ${props => props.$color};\n`\n\nconst Title = styled(Text)`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(2)};\n    line-height: 1.1;\n    ${props => props.theme.breakpoints.down('sm')} {\n        flex-direction: column;\n        text-align: center;\n    }\n`\n\nconst Value = styled(Text)`\n    font-weight: 800;\n    font-size: ${props => props.theme.typography.h5.fontSize};\n    line-height: 1;\n`\n\nconst Root = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-between;\n    > * + * {\n        margin-top: ${props => props.theme.spacing(2)};\n    }\n`\n","import { Card } from 'components/card'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { Stat, StatProps } from './Stat'\n\ninterface StatCardProps extends StatProps {}\n\nexport const StatCard: React.FC<StatCardProps> = props => {\n    return (\n        <Card>\n            <Inner>\n                <Stat {...props} />\n            </Inner>\n        </Card>\n    )\n}\n\nconst Inner = styled.div`\n    padding: ${props => props.theme.spacing(4)};\n\n    ${props => props.theme.breakpoints.down('xs')} {\n        padding: ${props => props.theme.spacing(2)};\n    }\n`\n","export { api, removeTokenFromParams } from './Api'\nexport type { UserSettings } from './AccountsApi'\nexport * from './types'\nexport * from './staticTypes'\n","import { Box } from '@material-ui/core'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { BoxProps } from './'\n\ninterface WrappingInlineProps extends BoxProps {\n    spacing?: number\n}\n\nexport const WrappingInline: React.FC<WrappingInlineProps> = ({ spacing = 4, ...rest }) => {\n    return <Root spacing={spacing} {...rest} />\n}\n\nconst Root = styled(Box)<{ spacing: number }>`\n    display: flex;\n    flex-wrap: wrap;\n    margin: calc(${props => props.theme.spacing(props.spacing)} / -2);\n    > * {\n        margin: calc(${props => props.theme.spacing(props.spacing)} / 2);\n    }\n`\n","import { api } from 'lib/api'\nimport { useQuery, useQueryCache } from 'react-query'\n\nconst MY_CHALLENGE_SETS = 'my-challenge-sets'\nconst MY_CHALLENGE_SET_GROUPS = 'my-challenge-set-groups'\n\nexport function useMyChallengeSetGroupsQuery() {\n    return useQuery(MY_CHALLENGE_SET_GROUPS, () => api.scoolcodeChallenges.getMyChallengeSetGroups(), {\n        refetchOnWindowFocus: true,\n    })\n}\n\nexport function useMyChallengeSetsQuery() {\n    return useQuery(MY_CHALLENGE_SETS, () => api.scoolcodeChallenges.getMyChallengeSets(), {\n        staleTime: Infinity,\n    })\n}\n\nexport function useMiniChallengeSetsQuery(groupId?: string) {\n    return useQuery(\n        ['mini-challenge-sets', groupId],\n        async () => {\n            const data = await api.scoolcodeChallenges.getMiniChallengeSets(groupId)\n\n            return data.data.sort((a, b) => a.internalName?.localeCompare(b.internalName!) || a.index! - b.index!)\n        },\n\n        {\n            refetchOnWindowFocus: true,\n        },\n    )\n}\n\nexport function useRecommendedMiniChallengesQuery() {\n    return useQuery(\n        ['recommended-mini-challenges'],\n        async () => {\n            return api.scoolcodeChallenges.getRecommendedMiniChallengeSets()\n        },\n\n        {\n            staleTime: Infinity,\n        },\n    )\n}\n\nexport function useInvalidateMyChallengeSetsQuery() {\n    const queryCache = useQueryCache()\n\n    return {\n        invalidateMyChallengeSetsQuery: () => {\n            queryCache.invalidateQueries(MY_CHALLENGE_SETS)\n        },\n    }\n}\n\nexport function useMyOFCsets() {\n    return useQuery('ofc-challenge-sets', () => api.scoolcodeChallenges.getMyOFCsets(), {\n        staleTime: Infinity,\n    })\n}\n\nexport function useMyChallengeSetResults(challengeSetId: string) {\n    return useQuery(\n        [challengeSetId, 'challenge-set-results'],\n        () => api.scoolcodeChallenges.getMyChallengeSetResultById(challengeSetId),\n        {\n            refetchOnWindowFocus: true,\n        },\n    )\n}\n","import React from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { Badge, BadgeProps } from 'components/Badge'\n\ntype Position = 'top-left' | 'top-right' | 'bottom-right' | 'bottom-left' | 'center'\n\nexport interface ProjectCardBadgeProps extends BadgeProps {\n    position?: Position\n    component?: any\n    hoverOnly?: boolean\n    onClick?: () => void\n}\n\nexport const ProjectCardBadge: React.FC<ProjectCardBadgeProps> = ({\n    children,\n    position = 'bottom-right',\n    className,\n    component,\n    hoverOnly,\n    onClick,\n    ...rest\n}) => {\n    return (\n        <ProjectCardBadgeRoot\n            hoverOnly={hoverOnly}\n            as={component}\n            position={position}\n            onClick={() => onClick?.()}\n            className={className}\n            {...rest}\n        >\n            {children}\n        </ProjectCardBadgeRoot>\n    )\n}\n\nconst SPACING = 2\nconst positionStyleMap: Record<Position, ReturnType<typeof css>> = {\n    'top-left': css`\n        top: ${props => props.theme.spacing(SPACING)};\n        left: ${props => props.theme.spacing(SPACING)};\n    `,\n    'top-right': css`\n        top: ${props => props.theme.spacing(SPACING)};\n        right: ${props => props.theme.spacing(SPACING)};\n    `,\n    'bottom-right': css`\n        bottom: ${props => props.theme.spacing(SPACING)};\n        right: ${props => props.theme.spacing(SPACING)};\n    `,\n    'bottom-left': css`\n        bottom: ${props => props.theme.spacing(SPACING)};\n        left: ${props => props.theme.spacing(SPACING)};\n    `,\n    center: css`\n        bottom: 50%;\n        left: 50%;\n    `,\n}\n\nexport const ProjectCardBadgeRoot = styled(Badge)<{ position: Position; hoverOnly?: boolean }>`\n    position: absolute;\n    z-index: 1;\n    ${props => positionStyleMap[props.position]}\n    opacity: ${props => (props.hoverOnly ? 0 : undefined)};\n`\n","import React, { useState } from 'react'\nimport styled, { useTheme } from 'styled-components/macro'\nimport { CompositeDecorator, ContentBlock, convertFromHTML, Editor, EditorState, ContentState, CharacterMetadata } from 'draft-js'\nimport { Box } from 'components/layout'\n\nimport 'draft-js/dist/Draft.css'\nimport 'react-medium-image-zoom/dist/styles.css'\nimport { NBSP } from 'utils/styleUtils'\nimport { Tooltip } from 'components/Tooltip'\nimport { IconButton } from 'components/IconButton'\nimport { ExternalLinkIcon } from 'components/icons'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Dialog, DialogContent } from 'components/dialog'\nimport Immutable from 'immutable'\n\nconst ForceWrappedEditor = styled(Editor)`\n    white-space: pre-wrap;\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n    word-break: break-all;\n    max-width: 100%;\n    width: 100%;\n`\n\nfunction findLinkEntities(contentBlock: ContentBlock, callback: any, contentState: any) {\n    contentBlock.findEntityRanges((character: any) => {\n        const entityKey = character.getEntity()\n        return entityKey !== null && contentState.getEntity(entityKey).getType() === 'LINK'\n    }, callback)\n}\n\nfunction findImageEntities(contentBlock: ContentBlock, callback: any, contentState: any) {\n    contentBlock.findEntityRanges((character: any) => {\n        const entityKey = character.getEntity()\n        return entityKey !== null && contentState.getEntity(entityKey).getType() === 'IMAGE'\n    }, callback)\n}\n\nfunction htmlToDraftBlocks(html: string) {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, 'text/html');\n    const blocks: any[] = [];\n    const olCounters: number[] = [];\n    let entityMap: any = {};\n    \n    function removeListItems(html: string) {\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(html, 'text/html');\n        Array.from(doc.querySelectorAll('ul, ol')).forEach(list => {\n            list.remove();\n        });\n        return doc.body.innerHTML;\n    }\n\n    function traverse(node: Node, depth = 0, listType: 'ul' | 'ol' | null = null) {\n        if (node.nodeType === 1) {\n            const el = node as HTMLElement;\n            const tag = el.tagName.toUpperCase();\n\n            if (tag === 'UL' || tag === 'OL') {\n                const type = tag.toLowerCase() as 'ul' | 'ol'\n                if (type === 'ol') {\n                    // Start or continue numbering at this depth\n                    olCounters[depth] = olCounters[depth] || 1\n                }\n                Array.from(el.children).forEach(child => traverse(child, depth, type))\n                if (type === 'ol') {\n                    // Reset counter after finishing this list\n                    olCounters[depth] = 1\n                }\n            } else if (tag === 'LI') {\n                let text = ''\n                Array.from(el.childNodes).forEach(child => {\n                    if (\n                        child.nodeType === 1 &&\n                        ((child as HTMLElement).tagName === 'UL' || (child as HTMLElement).tagName === 'OL')\n                    ) {\n                        if (text.trim()) {\n                            let prefix = ''\n                            if (listType === 'ol') {\n                                prefix = `${olCounters[depth]}. `\n                                olCounters[depth]++\n                            }\n                            \n                            let t = removeListItems((child as any)?.parentNode.innerHTML)\n                            if (t.startsWith('<p>')) {\n                                    t = t.replace(/<p>/, '<p>' + prefix)\n                                }\n                            const blocksFromHTML = convertFromHTML(t)\n                            const contentBlocks = blocksFromHTML.contentBlocks.map(block => \n                                block.set('depth', depth)\n                                    .set('type', listType === 'ol' ? 'none' : 'unordered-list-item'),\n                            )\n                            blocks.push(...contentBlocks)\n                            entityMap = { ...entityMap, ...blocksFromHTML.entityMap }\n\n                            text = ''\n                        }\n                        traverse(child, depth + 1, (child as HTMLElement).tagName.toLowerCase() as 'ul' | 'ol')\n                    } else {\n                        if (child.textContent) {\n                            text += child.textContent || ''\n                        }\n                        else {\n                            if (text.trim()) {\n                                // Store the current text before parsing children\n                                let prefix = ''\n                                if (listType === 'ol') {\n                                    prefix = `${olCounters[depth]}. `\n                                    olCounters[depth]++\n                                }\n                                \n                                let t = (child as any)?.parentNode.innerHTML\n                                if (t.startsWith('<li><p>')) {\n                                    t = t.replace(/<li><p>/, '<li><p>' + prefix + ' ')\n                                }\n                                else if (t.startsWith('<p>')) {\n                                    t = t.replace(/<p>/, '<p>' + prefix + ' ')\n                                }\n                                const blocksFromHTML = convertFromHTML(t)\n                                const contentBlocks = blocksFromHTML.contentBlocks.map(block => {\n                                    const blockText = block.getText()\n                                    return block.set('depth', depth)\n                                        .set('type', blockText === '📷' \n                                            ? 'none' : \n                                            (listType === 'ol' ? 'ordered-list-item' : 'unordered-list-item'))\n                                })\n                                blocks.push(...contentBlocks)\n                                entityMap = { ...entityMap, ...blocksFromHTML.entityMap }\n\n                                text = ''\n                            }\n                        }\n                    }\n                })\n                if (text.trim()) {\n                    // If there's remaining text after processing children, add it as a block\n                    let prefix = ''\n                    if (listType === 'ol') {\n                        prefix = `${olCounters[depth]}. `\n                        olCounters[depth]++\n                    }\n                    \n                    let t = removeListItems((el as any).outerHTML)\n                    if (t.startsWith('<li><p>')) {\n                        t = t.replace(/<li><p>/, '<p>' + prefix + ' ')\n                    }\n                    else if (t.startsWith('<p>')) {\n                        t = t.replace(/<p>/, '<p>' + prefix + ' ')\n                    }\n                    const blocksFromHTML = convertFromHTML(t)\n                    const contentBlocks = blocksFromHTML.contentBlocks.map(block => \n                        block.set('depth', depth)\n                            .set('type', listType === 'ol' ? 'ordered-list-item' : 'unordered-list-item'),\n                        )\n                    blocks.push(...contentBlocks)\n                    entityMap = { ...entityMap, ...blocksFromHTML.entityMap }\n\n                    text = ''\n                }                \n            } else if (tag === 'IMG' || tag === 'A' || tag === 'P') {\n                const t = el.outerHTML || ''\n                const blocksFromHTML = convertFromHTML(t)\n                blocks.push(...blocksFromHTML.contentBlocks)\n                entityMap = { ...entityMap, ...blocksFromHTML.entityMap }\n            } else {\n                Array.from(el.childNodes).forEach(child => traverse(child, depth, listType));\n            }\n        }\n    }\n\n    traverse(doc.body, 0, null);\n    return { blocks, entityMap };\n}\n\nexport const HTMLText: React.FC<{ text: string }> = ({ text }) => {\n    const t = useTranslate()\n    const theme = useTheme()\n    const [openImage, setOpenImage] = useState<string | null>(null)\n\n    const ImageView = (props: any) => {\n        const { src } = props.contentState.getEntity(props.entityKey).getData()\n        return (\n            <HorizontalStack style={{ alignItems: 'center', justifyContent: 'left', width: '100%' }}>\n                <img\n                    src={src}\n                    alt={''}\n                    style={{ maxWidth: '90%', maxHeight: '20rem', margin: '1rem 0', cursor: 'zoom-in' }}\n                    onClick={() => setOpenImage(src)}\n                />\n                {NBSP}\n                <Tooltip title={t('general::openInNewTab')} placement=\"right\">\n                    <IconButton\n                        onClick={() => {\n                            if (src.startsWith('data:')) {\n                                // Convert data URL to Blob - this is a workaround for major browsers\n                                // that don't support opening data URLs directly in a new tab\n                                const arr = src.split(',')\n                                const mime = arr[0].match(/:(.*?);/)?.[1] || ''\n                                const bstr = atob(arr[1])\n                                let n = bstr.length\n                                const u8arr = new Uint8Array(n)\n                                while (n--) {\n                                    u8arr[n] = bstr.charCodeAt(n)\n                                }\n                                const blob = new Blob([u8arr], { type: mime })\n                                const url = URL.createObjectURL(blob)\n                                window.open(url, '_blank')\n                                // Optionally revoke the object URL after some time\n                                setTimeout(() => URL.revokeObjectURL(url), 10000)\n                            } else {\n                                window.open(src, '_blank', 'noopener,noreferrer')\n                            }\n                        }}\n                    >\n                        <ExternalLinkIcon />\n                    </IconButton>\n                </Tooltip>\n            </HorizontalStack>\n        )\n    }\n\n    const LinkView = (props: any) => {\n        const { url, linkText } = props.contentState.getEntity(props.entityKey).getData()\n        const text = linkText || props.children\n        const urlFromText = linkText ? linkText : props.children[0]?.props?.text || ''\n        if (url.length > 80 && (!text || urlFromText === url)) {\n            let shortText = url.replace(/^(https?:\\/\\/)?(www\\.)?/, '')\n            let lastLength = shortText.length\n            while (shortText.length > 80) {\n                const lastSlashIndex = shortText.lastIndexOf('/')\n                const firstSlashIndex = shortText.indexOf('/')\n                if (lastSlashIndex === -1 || firstSlashIndex === -1) {\n                    break\n                }\n                shortText = shortText.slice(0, firstSlashIndex + 1) + '...' + shortText.slice(lastSlashIndex)\n                if (shortText.length === lastLength) {\n                    // If it doesn't change, break to avoid infinite loop\n                    const onlyWithEllipse = shortText.slice(0, firstSlashIndex + 1) + '...'\n                    if (onlyWithEllipse.length < lastLength - 30) {\n                        shortText = onlyWithEllipse\n                    }\n                    break\n                }\n                lastLength = shortText.length\n            }\n\n            return (\n                <StyledLink href={url} target=\"_blank\" rel=\"noopener noreferrer\" $theme={theme}>\n                    <em>{shortText}</em>\n                </StyledLink>\n            )\n        } else {\n            return (\n                <StyledLink href={url} target=\"_blank\" rel=\"noopener noreferrer\" $theme={theme}>\n                    {text || url}\n                </StyledLink>\n            )\n        }\n    }\n    const decorator = new CompositeDecorator([\n        {\n            strategy: findLinkEntities,\n            component: LinkView,\n        },\n        {\n            strategy: findImageEntities,\n            component: ImageView,\n        },\n    ])\n\n    let state = ContentState.createFromText('')\n    try {\n        if (text) {\n            if (text.includes('<ol>')) {\n                // Use custom DOM builder for nested lists\n                const { blocks, entityMap } = htmlToDraftBlocks(text)\n                if (blocks.length > 0) {\n                    state = ContentState.createFromBlockArray(\n                        blocks.map(\n                            b => {\n                                if (b instanceof ContentBlock) {\n                                    return b\n                                }\n                                return new ContentBlock({\n                                    key: Math.random().toString(36).substr(2, 8),\n                                    type: b.type,\n                                    text: b.text,\n                                    depth: b.depth,\n                                    data: Immutable.Map(b.data),\n                                    characterList: Immutable.List(\n                                        Array(b.text.length)\n                                            .fill(0)\n                                            .map(() => CharacterMetadata.create())\n                                    ),\n                                })\n                            }\n                        ),\n                        entityMap\n                    )\n                }\n            } else {\n                const blocksFromHTML = convertFromHTML(text)\n                state = ContentState.createFromBlockArray(blocksFromHTML.contentBlocks, blocksFromHTML.entityMap)\n            }\n        }\n    } catch (e: any) {\n        console.warn(e.message)\n    }\n\n    return (\n        <>\n            <ForceWrappedEditor\n                readOnly\n                editorState={EditorState.createWithContent(state, decorator)}\n                onChange={() => {}}\n            />\n            <Dialog open={!!openImage} onClose={() => setOpenImage(null)} onClick={() => setOpenImage(null)}>\n                <DialogContent\n                    style={{\n                        position: 'fixed',\n                        top: 0,\n                        left: 0,\n                        width: '100%',\n                        height: '100%',\n                        backgroundColor: 'rgba(0, 0, 0, 0.8)', // Semi-transparent background\n                        display: 'flex',\n                        justifyContent: 'center',\n                        alignItems: 'center',\n                        zIndex: 3,\n                        cursor: 'zoom-out',\n                    }}\n                >\n                    <img\n                        src={openImage || ''}\n                        alt=\"\"\n                        style={{\n                            width: '80%',\n                            height: '80%',\n                            objectFit: 'contain',\n                            cursor: 'zoom-out',\n                        }}\n                        onClick={() => setOpenImage(null)}\n                    />\n                </DialogContent>\n            </Dialog>\n        </>\n    )\n}\n\nconst HorizontalStack = styled(Box)`\n    display: flex;\n    align-items: center;\n    gap: 0;\n    justify-content: space-between;\n    width: 100%;\n`\nconst StyledLink = styled.a<{ $theme: any }>`\n    text-decoration: none;\n    font-weight: bold;\n    color: ${props => props.$theme.palette.primary.main};\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { usePageWidth } from 'lib/store/pageReducer'\n\nexport const PageContainer: React.FC = ({ children }) => {\n    const maxWidth = usePageWidth()\n    return <Root $maxWidth={maxWidth}>{children}</Root>\n}\n\nconst Root = styled.div<{ $maxWidth: string }>`\n    margin-left: auto;\n    margin-right: auto;\n    box-sizing: content-box;\n    padding-right: ${props => props.theme.spacing(8)};\n    padding-left: ${props => props.theme.spacing(8)};\n    max-width: ${props => props.$maxWidth};\n    ${props => props.theme.breakpoints.down('xs')} {\n        padding-right: ${props => props.theme.spacing(3)};\n        padding-left: ${props => props.theme.spacing(3)};\n    }\n`\n","import { Divider } from 'components/Divider'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nexport const PopupMenuDivider: React.FC = () => {\n    return <Root />\n}\n\nconst Root = styled(Divider)`\n    margin: ${props => props.theme.spacing(2)} -${props => props.theme.spacing(2)};\n`\n","import { usePrevious } from 'hooks/usePrevious'\nimport React, { useEffect, useState } from 'react'\nimport { FieldError, useForm, ValidationRules } from 'react-hook-form'\nimport { ButtonProps } from './Button'\nimport { Dialog } from './dialog'\nimport { TextFieldProps } from './form'\n\ntype PromptStatus = 'closed' | 'open' | 'loading' | 'error'\n\nexport interface PromptDialogContext {\n    positiveButtonProps: Pick<ButtonProps, 'isLoading' | 'type'>\n    negativeButtonProps: Pick<ButtonProps, 'onClick' | 'disabled'>\n    inputProps: Pick<TextFieldProps, 'errorText' | 'ref' | 'readOnly' | 'name' | 'autoFocus'>\n    formProps: Pick<React.InsHTMLAttributes<HTMLFormElement>, 'onSubmit'>\n    status: PromptStatus\n    error: FieldError | undefined\n}\n\nexport type PromptActionResponse = { success: true } | { success: false; error: FieldError }\n\ninterface PromptProps {\n    action: (value: string) => Promise<PromptActionResponse> | PromptActionResponse\n    initialValue: string\n    dialog: (context: PromptDialogContext) => React.ReactNode\n    children: (Prompt: () => void, rest: any) => React.ReactNode\n    rules?: ValidationRules\n    onCancel?: () => void\n}\n\nexport const Prompt: React.FC<PromptProps> = ({ children, dialog, action, initialValue, rules, onCancel, ...rest }) => {\n    const [status, setStatus] = useState<PromptStatus>('closed')\n    const { register, getValues, handleSubmit, errors, setError, reset } = useForm<{ value: string }>({\n        defaultValues: {\n            value: initialValue ?? '',\n        },\n    })\n    const previousInitialValue = usePrevious(initialValue)\n\n    useEffect(() => {\n        if (previousInitialValue !== undefined && previousInitialValue !== initialValue) {\n            reset({ value: initialValue ?? '' })\n        }\n    }, [reset, initialValue, previousInitialValue])\n\n    const open = () => {\n        if (status === 'closed') {\n            setStatus('open')\n        }\n    }\n\n    const onSubmit = handleSubmit(async () => {\n        if (status !== 'open' && status !== 'error') {\n            return\n        }\n        setStatus('loading')\n        try {\n            const value = getValues('value')\n            const actionResult = await action(value)\n            if (actionResult.success) {\n                setStatus('closed')\n            } else {\n                setError('value', actionResult.error)\n                setStatus('open')\n            }\n        } catch (e) {\n            console.error(e)\n            setStatus('error')\n        }\n    })\n\n    const cancel = () => {\n        if (onCancel) {\n            onCancel()\n        }\n        if (status === 'open' || status === 'error') {\n            setStatus('closed')\n        }\n    }\n\n    const context: PromptDialogContext = {\n        positiveButtonProps: {\n            isLoading: status === 'loading',\n            type: 'submit',\n        },\n\n        negativeButtonProps: {\n            onClick: cancel,\n            disabled: status === 'loading',\n        },\n\n        error: errors.value,\n\n        inputProps: {\n            ref: register(rules),\n            readOnly: status === 'loading',\n            name: 'value',\n            autoFocus: true,\n        },\n\n        formProps: {\n            onSubmit,\n        },\n\n        status,\n    }\n\n    return (\n        <>\n            <Dialog onClose={cancel} open={status !== 'closed'}>\n                {dialog(context)}\n            </Dialog>\n            {children(open, rest)}\n        </>\n    )\n}\n","import { useRef, useEffect } from 'react'\n\nexport function usePrevious<T>(value: T) {\n    const ref = useRef<T | undefined>()\n\n    useEffect(() => {\n        ref.current = value\n    }, [value])\n\n    return ref.current\n}\n","import { Button, DeleteButton } from 'components/Button'\nimport { Collapse } from 'components/Collapse'\nimport { Confirm, ConfirmDialogContext } from 'components/Confirm'\nimport {\n    DialogSecondaryButton,\n    DialogForm,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    DialogPrimaryButton,\n} from 'components/dialog'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { TextField } from 'components/form'\nimport {\n    ShareIcon,\n    RenameIcon,\n    DuplicateIcon,\n    DeleteIcon,\n    RefreshIcon,\n    EditIcon,\n    MoveProductionIcon,\n} from 'components/icons'\nimport { Stack } from 'components/layout'\nimport { ListItemIcon } from 'components/list'\nimport { Loader } from 'components/Loader'\nimport { PopupMenu, PopupMenuList, PopupMenuItem } from 'components/popup-menu'\nimport { PopupMenuDivider } from 'components/popup-menu/PopupMenuDivider'\nimport { Prompt, PromptActionResponse, PromptDialogContext } from 'components/Prompt'\nimport { Text } from 'components/Text'\nimport { useUserState } from 'contexts/UserContext'\nimport { isMiniQuizLongEnoughToShare, isMiniQuizProject } from 'features/mini-quizzes/helpers/miniQuizHelpers'\nimport { useNotifications } from 'features/notifications'\nimport { useIncrementActivityScore } from 'hooks/useIncrementActivityScore'\nimport { getIdeUrl } from 'lib/api/helpers'\nimport { LocalisationKey } from 'lib/i18n'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { reportProject } from 'lib/liveops/actions/reportProject'\nimport { useSelector } from 'lib/store'\nimport React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { Link, useHistory } from 'react-router-dom'\nimport { getProjectActions, projectNameRules } from '.'\nimport {\n    getProjectEditLink,\n    getProjectNameValidationMessage,\n    PROJECT_NAME_NOT_UNIQUE_FIELD_ERROR,\n} from './projectHelpers'\nimport { useMyActiveIncorrectyTaggedModerationReportsQuery } from './projectQueries'\nimport { Project } from './store'\nimport { useProjectActions } from './useProjectActions'\nimport { ValidationRules } from 'react-hook-form'\n\ninterface ProjectActionsProps {\n    id: string\n    popupMenuButton?: React.ReactNode\n    onDelete?: VoidFunction\n    onDuplicate?: VoidFunction\n    isPending?: boolean\n    isInContextMenu?: boolean\n    location: 'card' | 'stripe' | 'details'\n}\n\ninterface ProjectActionsPromptProps {\n    action: (name: string) => Promise<PromptActionResponse>\n    dialog: (props: PromptDialogContext) => React.ReactNode\n    initialValue: string\n    rules?: ValidationRules\n}\n\nexport const ProjectActionsMenu: React.FC<ProjectActionsProps> = ({\n    id,\n    popupMenuButton,\n    onDelete,\n    onDuplicate,\n    isPending,\n    isInContextMenu = false,\n    location,\n}) => {\n    const t = useTranslate()\n    const projectActions = useProjectActions()\n    const project = useSelector(state => state.projects.all[id]) as Project | undefined\n    const { notify } = useNotifications()\n    // TODO: is there a performance problem with this when rendering many project cards?\n    // if there is, user should be passed as prop\n    const user = useUserState()\n    const incrementActivityScore = useIncrementActivityScore()\n    const dispatch = useDispatch()\n    const history = useHistory()\n\n    const [promptProps, setPromptProps] = useState<ProjectActionsPromptProps | null>(null)\n    const showPrompt = (props: ProjectActionsPromptProps | null) => {\n        setPromptProps(props)\n    }\n\n    const deleteProject = async () => {\n        await projectActions.deleteProject(id)\n        onDelete?.()\n    }\n\n    const unshareProject = async () => {\n        await projectActions.unshareProject(id)\n    }\n\n    const renameProject = async (name: string): Promise<PromptActionResponse> => {\n        const renameResponse = await projectActions.renameProject(id, 'name', name)\n        if (renameResponse.success) {\n            return {\n                success: true,\n            }\n        }\n        return {\n            success: false,\n            error: { type: PROJECT_NAME_NOT_UNIQUE_FIELD_ERROR },\n        }\n    }\n\n    const unshareNominatedProject = async () => {\n        await projectActions.unshareNominatedProject(id)\n    }\n\n    const moveToProduction = async (): Promise<PromptActionResponse> => {\n        const response = await projectActions.moveToProduction(project)\n\n        if (response.success) {\n            notify(t('projects::movedToProduction'), { variant: 'success' })\n            return {\n                success: true,\n            }\n        }\n        return {\n            success: false,\n            error: { type: PROJECT_NAME_NOT_UNIQUE_FIELD_ERROR },\n        }\n    }\n\n    const duplicateProject = async (name: string): Promise<PromptActionResponse> => {\n        const cloneResponse = await projectActions.duplicateProject(id, name)\n        if (cloneResponse.success) {\n            if (isMiniQuizProject(cloneResponse.project.data)) {\n                history.push(`/app/quiz-editor/${cloneResponse.project.data.id}`)\n            } else {\n                window.open(getIdeUrl(`/ide/${cloneResponse.project.data.id}`))\n            }\n            onDuplicate?.()\n            return {\n                success: true,\n            }\n        }\n        return {\n            success: false,\n            error: { type: PROJECT_NAME_NOT_UNIQUE_FIELD_ERROR },\n        }\n    }\n\n    const reportIncorrectlyTaggedProject = () => {\n        dispatch(reportProject(id, 'incorrectly-tagged'))\n    }\n\n    if (!project) {\n        return null\n    }\n\n    const actions = getProjectActions(project, isPending, user)\n\n    const MenuType = isInContextMenu ? 'div' : PopupMenuList\n\n    const editLink = getProjectEditLink(project, user)\n\n    const title = project.file.shared || isPending === true ? project.file.title || project.file.name : project.file.name\n\n    return (\n    <>\n        <PopupMenu>\n            {popupMenuButton}\n            {actions ? (\n                <MenuType>\n                    {location !== 'details' && actions.has('edit') && (\n                        <>\n                            {editLink.type === 'external' ? (\n                                <PopupMenuItem\n                                    component=\"a\"\n                                    target=\"_blank\"\n                                    href={editLink.href}\n                                    onClick={() => {\n                                        incrementActivityScore('classroom:owned-project:open')\n                                        return true\n                                    }}\n                                >\n                                    <ListItemIcon>\n                                        <EditIcon />\n                                    </ListItemIcon>\n                                    {t('general::edit')}\n                                </PopupMenuItem>\n                            ) : (\n                                <PopupMenuItem\n                                    component={Link}\n                                    to={editLink.to}\n                                    onClick={() => {\n                                        incrementActivityScore('classroom:owned-project:open')\n                                        return true\n                                    }}\n                                >\n                                    <ListItemIcon>\n                                        <EditIcon />\n                                    </ListItemIcon>\n                                    {t('general::edit')}\n                                </PopupMenuItem>\n                            )}\n                        </>\n                    )}\n                    {actions.has('rename') && (\n                        <PopupMenuItem\n                            onClick={() =>\n                                showPrompt({\n                                    action: renameProject,\n                                    dialog: props => <ProjectPromptDialog {...props} variant=\"rename\"/>,\n                                    initialValue: title,\n                                    rules: projectNameRules,\n                                })\n                            }\n                        >\n                            <ListItemIcon>\n                                <RenameIcon />\n                            </ListItemIcon>\n                            {t('general::rename')}\n                        </PopupMenuItem>\n                    )}\n                    {actions.has('duplicate') && (\n                        <PopupMenuItem\n                            onClick={() =>\n                                showPrompt({\n                                    action: duplicateProject,\n                                    dialog: props => <ProjectPromptDialog {...props} variant=\"clone\" />,\n                                    initialValue: title + ' clone',\n                                    rules: projectNameRules,\n                                })\n                            }\n                        >\n                            <ListItemIcon>\n                                <DuplicateIcon />\n                            </ListItemIcon>\n                            {t('general::duplicate')}\n                        </PopupMenuItem>\n                    )}\n                    {actions.has('delete') && (\n                        <PopupMenuItem\n                            onClick={() =>\n                                showPrompt({\n                                    action: async () => {\n                                        await deleteProject()\n                                        return { success: true }\n                                    },\n                                    dialog: props => (\n                                        <Confirm\n                                            action={deleteProject}\n                                            dialog={props => (\n                                                <ProjectConfirmDialog\n                                                    projectName={project.file.name}\n                                                    variant=\"delete\"\n                                                    {...props}\n                                                />\n                                            )}\n                                            {...props}\n                                            onCancel={() => showPrompt(null)}\n                                        >\n                                            {(prompt) => {\n                                                return <>{prompt()}</>\n                                            }}\n                                        </Confirm>\n                                    ),\n                                    initialValue: '',\n                                    rules: undefined,\n                                })\n                            }\n                        >\n                            <ListItemIcon>\n                                <DeleteIcon />\n                            </ListItemIcon>\n                            {t('general::delete')}\n                        </PopupMenuItem>\n                    )}\n                    {actions.has('move-to-production') && (\n                        <PopupMenuItem\n                            onClick={() =>\n                                showPrompt({\n                                    action: moveToProduction,\n                                    dialog: props => <ProjectPromptDialog {...props} variant=\"move-production\" />,\n                                    initialValue: title,\n                                    rules: projectNameRules,\n                                })\n                            }\n                        >\n                            <ListItemIcon>\n                                <MoveProductionIcon />\n                            </ListItemIcon>\n                            {t('projects::moveToProduction')}\n                        </PopupMenuItem>\n                    )}\n                    <SecondaryActionsWrap>\n                        {actions.has('share-new-version') && (\n                            <PopupMenuItem\n                                disabledTooltip={\n                                    project.metadata.isMiniQuiz && !isMiniQuizLongEnoughToShare(project)\n                                        ? t('miniQuiz::errors::atLeastFiveQuestions')\n                                        : undefined\n                                }\n                                component={Link}\n                                to={{ pathname: `/app/share-project/${project.file.id}` }}\n                            >\n                                <ListItemIcon>\n                                    <RefreshIcon />\n                                </ListItemIcon>\n                                {t('projects::shareNewVersion')}\n                            </PopupMenuItem>\n                        )}\n                        {actions.has('share-new-version-contest') && (\n                            <PopupMenuItem\n                                component={Link}\n                                to={{\n                                    pathname: `/app/events/trainer-contest-2021/nominate/share-contest-project/${project.file.id}`,\n                                }}\n                            >\n                                <ListItemIcon>\n                                    <RefreshIcon />\n                                </ListItemIcon>\n                                {t('projects::shareNewVersion')}\n                            </PopupMenuItem>\n                        )}\n                        {actions.has('unshare') && (\n                            <PopupMenuItem\n                                onClick={() =>\n                                    showPrompt({\n                                        action: async () => {\n                                            await deleteProject()\n                                            return { success: true }\n                                        },\n                                        dialog: props => (\n                                            <Confirm\n                                                action={() => {\n                                                    unshareProject()\n                                                    showPrompt(null)\n                                                }}\n                                                dialog={props => (\n                                                    <ProjectConfirmDialog\n                                                        projectName={project.file.name}\n                                                        variant=\"unshare\"\n                                                        {...props}\n                                                    />\n                                                )}\n                                                onCancel={() => showPrompt(null)}\n                                            >\n                                                {(prompt) => {\n                                                    return <>{prompt()}</>\n                                                }}\n                                            </Confirm>\n                                        ),\n                                        initialValue: '',\n                                        rules: undefined,\n                                    })\n                                }\n                            >\n                                <ListItemIcon>\n                                    <DeleteIcon />\n                                </ListItemIcon>\n                                {t('projects::unshare')}\n                            </PopupMenuItem>\n                        )}\n                        {actions.has('unshare-nominated') && (\n                            <PopupMenuItem\n                                onClick={() =>\n                                    showPrompt({\n                                        action: async () => {\n                                            await unshareNominatedProject()\n                                            return { success: true }\n                                        },\n                                        dialog: props => (\n                                            <Confirm\n                                                action={() => {\n                                                    unshareNominatedProject()\n                                                    showPrompt(null)\n                                                }}\n                                                dialog={props => (\n                                                    <ProjectUnnominateDialog\n                                                        projectName={project.file.name}\n                                                        variant=\"unnominate\"\n                                                        {...props}\n                                                    />\n                                                )}\n                                                onCancel={() => showPrompt(null)}\n                                            >\n                                                {prompt => {\n                                                    return <>{prompt()}</>\n                                                }}\n                                            </Confirm>\n                                        ),\n                                        initialValue: '',\n                                        rules: undefined,\n                                    })\n                                }\n                            >\n                                <ListItemIcon>\n                                    <ShareIcon />\n                                </ListItemIcon>\n                                {t('projects::unshareNominated')}\n                            </PopupMenuItem>\n                        )}\n                        {actions.has('share') && (\n                            <PopupMenuItem\n                                disabledTooltip={\n                                    project.metadata.isMiniQuiz && !isMiniQuizLongEnoughToShare(project)\n                                        ? t('miniQuiz::errors::atLeastFiveQuestions')\n                                        : undefined\n                                }\n                                component={Link}\n                                to={{ pathname: `/app/share-project/${project.file.id}` }}\n                            >\n                                <ListItemIcon>\n                                    <ShareIcon />\n                                </ListItemIcon>\n                                {t('projects::share')}\n                            </PopupMenuItem>\n                        )}\n                        {actions.has('report-incorrect-tag') && (\n                            <PopupMenuItem\n                                onClick={() =>\n                                    showPrompt({\n                                        action: async () => {\n                                            await reportIncorrectlyTaggedProject()\n                                            return { success: true }\n                                        },\n                                        dialog: props => (\n                                            <Confirm\n                                                dialogProps={{ fullWidth: true }}\n                                                action={() => {\n                                                    reportIncorrectlyTaggedProject()\n                                                    showPrompt(null)\n                                                }}\n                                                keepOpenAfterSuccess\n                                                dialog={props => <IncorrectlyTaggedDialog projectId={id} {...props} />}\n                                                onCancel={() => showPrompt(null)}\n                                            >\n                                                {(prompt) => {\n                                                    return <>{prompt()}</>\n                                                }}\n                                            </Confirm>\n                                        ),\n                                        initialValue: '',\n                                        rules: undefined,\n                                    })\n                                }\n                            >\n                                <ListItemIcon>\n                                    <ShareIcon />\n                                </ListItemIcon>\n                                {t('projects::share')}\n                            </PopupMenuItem>\n                        )}\n                    </SecondaryActionsWrap>\n                </MenuType>\n            ) : (\n                <PopupMenuList>\n                    <Loader size=\"1rem\" />\n                </PopupMenuList>\n            )}\n        </PopupMenu>\n        {promptProps && (\n        <Prompt\n            action={(value) => {\n                const result = promptProps.action(value)\n                showPrompt(null)\n                return result\n            }}\n            dialog={promptProps.dialog}\n            initialValue={promptProps.initialValue}\n            rules={promptProps.rules}\n            onCancel={() => showPrompt(null)}\n        >\n            {(prompt) => {\n                return <>{prompt()}</>\n            }}\n        </Prompt>)}\n    </>)\n}\n\nconst ProjectConfirmDialog: React.FC<ConfirmDialogContext & { variant: 'delete' | 'unshare'; projectName: string }> = ({\n    status,\n    positiveButtonProps,\n    negativeButtonProps,\n    variant,\n    projectName,\n}) => {\n    const t = useTranslate()\n\n    return (\n        <>\n            <DialogTitle>{variant === 'delete' ? t('projects::delete') : t('projects::unshareProject')}</DialogTitle>\n            <DialogContent>\n                <Stack>\n                    <Text>\n                        {variant === 'delete'\n                            ? t('projects::deleteConfirm', { name: projectName })\n                            : t('projects::unshareConfirm')}\n                    </Text>\n                    <Collapse in={status === 'error'}>\n                        <ErrorMessage />\n                    </Collapse>\n                </Stack>\n            </DialogContent>\n            <DialogActions>\n                <DialogSecondaryButton {...negativeButtonProps}>{t('general::cancel')}</DialogSecondaryButton>\n                <DeleteButton\n                    data-testid=\"project-confirm-positive-button\"\n                    color=\"default\"\n                    startIcon={variant === 'delete' ? <DeleteIcon /> : undefined}\n                    {...positiveButtonProps}\n                >\n                    {variant === 'delete' ? t('general::delete') : t('projects::unshare')}\n                </DeleteButton>\n            </DialogActions>\n        </>\n    )\n}\n\nconst SecondaryActionsWrap: React.FC = ({ children }) => {\n    const isEmpty = React.Children.toArray(children).every(child => !child)\n\n    if (isEmpty) {\n        return null\n    }\n\n    return (\n        <>\n            <PopupMenuDivider />\n            {children}\n        </>\n    )\n}\n\nconst IncorrectlyTaggedDialog: React.FC<ConfirmDialogContext & { projectId: string }> = ({\n    status,\n    positiveButtonProps,\n    negativeButtonProps,\n    projectId,\n}) => {\n    const t = useTranslate()\n    const isProjectAlreadyReported = useIsProjectAlreadyReportedForIncorrectTagging(projectId)\n\n    const body = (() => {\n        if (isProjectAlreadyReported.status === 'error') {\n            return <ErrorMessage />\n        }\n\n        if (isProjectAlreadyReported.status === 'loading') {\n            return <Loader />\n        }\n\n        if (isProjectAlreadyReported.value === true) {\n            return <Text>{t('classroomShareDialog::alreadyReported')}</Text>\n        }\n\n        if (status === 'success') {\n            return <Text>{t('classroomShareDialog::success1')}</Text>\n        }\n\n        return (\n            <Stack>\n                <Text>\n                    <strong>{t('classroomShareDialog::description1')}</strong>\n                </Text>\n                <Text>{t('classroomShareDialog::description3')}</Text>\n                <Button variant=\"text\" {...positiveButtonProps}>\n                    {t('classroomShareDialog::action1')}\n                </Button>\n                <Collapse in={status === 'error'}>\n                    <ErrorMessage />\n                </Collapse>\n            </Stack>\n        )\n    })()\n\n    return (\n        <>\n            <DialogTitle>{t('projects::shareProject')}</DialogTitle>\n            <DialogContent>{body}</DialogContent>\n            <DialogActions>\n                <DialogSecondaryButton {...negativeButtonProps}>{t('general::close')}</DialogSecondaryButton>\n            </DialogActions>\n        </>\n    )\n}\n\nconst ProjectUnnominateDialog: React.FC<ConfirmDialogContext & { variant: 'unnominate'; projectName: string }> = ({\n    status,\n    positiveButtonProps,\n    negativeButtonProps,\n}) => {\n    const t = useTranslate()\n\n    return (\n        <>\n            <DialogTitle>{t('projects::unshareNominated')}</DialogTitle>\n            <DialogContent>\n                <Stack>\n                    <Text>{t('projects::confirmunshareNominated')}</Text>\n                    <Collapse in={status === 'error'}>\n                        <ErrorMessage />\n                    </Collapse>\n                </Stack>\n            </DialogContent>\n            <DialogActions>\n                <DialogSecondaryButton {...negativeButtonProps}>{t('general::cancel')}</DialogSecondaryButton>\n                <DeleteButton data-testid=\"project-confirm-positive-button\" color=\"default\" {...positiveButtonProps}>\n                    {t('projects::unshareNominated')}\n                </DeleteButton>\n            </DialogActions>\n        </>\n    )\n}\n\ntype ProjectPromptDialogVariant = 'rename' | 'clone' | 'move-production'\n\nconst ProjectPromptDialog: React.FC<PromptDialogContext & { variant: ProjectPromptDialogVariant }> = ({\n    status,\n    positiveButtonProps,\n    negativeButtonProps,\n    formProps,\n    inputProps,\n    variant,\n    error,\n}) => {\n    const t = useTranslate()\n\n    const title: Record<ProjectPromptDialogVariant, LocalisationKey | string> = {\n        rename: t('projects::rename'),\n        clone: t('projects::duplicate'),\n        'move-production': t('projects::moveToProduction'),\n    }\n\n    const confirmBtn: Record<ProjectPromptDialogVariant, LocalisationKey | string> = {\n        rename: t('general::rename'),\n        clone: t('general::duplicate'),\n        'move-production': t('general::move'),\n    }\n\n    return (\n        <>\n            <DialogTitle>{title[variant]}</DialogTitle>\n            <DialogForm\n                {...formProps}\n                actions={\n                    <>\n                        <DialogSecondaryButton {...negativeButtonProps}>{t('general::cancel')}</DialogSecondaryButton>\n                        <DialogPrimaryButton {...positiveButtonProps}>{confirmBtn[variant]}</DialogPrimaryButton>\n                    </>\n                }\n            >\n                <Stack>\n                    {variant !== 'move-production' && (\n                        <TextField {...inputProps} errorText={getProjectNameValidationMessage(error, t)} />\n                    )}\n                    <Collapse in={status === 'error'}>\n                        <ErrorMessage />\n                    </Collapse>\n                </Stack>\n            </DialogForm>\n        </>\n    )\n}\n\nconst useIsProjectAlreadyReportedForIncorrectTagging = (projectId: string) => {\n    const { data: moderationReports, status: moderationQueryStatus } =\n        useMyActiveIncorrectyTaggedModerationReportsQuery()\n\n    if (moderationQueryStatus === 'error') {\n        return { status: 'error' } as const\n    }\n\n    if (!moderationReports) {\n        return { status: 'loading' } as const\n    }\n\n    if (moderationReports.data.find(report => report.target === projectId)) {\n        return { status: 'ready', value: true } as const\n    } else {\n        return { status: 'ready', value: false } as const\n    }\n}\n","import { REQUEST_INVENTORY, REQUEST_LEADERBOARD } from '../constants'\nimport { client } from 'redux-socket-client'\n\nexport const loadInventory = client(() => ({\n    type: REQUEST_INVENTORY,\n    payload: {},\n    subscribe: true,\n}))\n\nexport const loadLeaderboard = client((group: string, stat: string) => ({\n    type: REQUEST_LEADERBOARD,\n    payload: { group, stat },\n    subscribe: true,\n}))\n","import { client } from 'redux-socket-client'\nimport {\n    REQUEST_LEADERBOARD,\n    REQUEST_SCORE_LIST,\n    REQUEST_STATISTICS,\n    DISABLE_ALL_LEADERBOARDS_FOR_PROJECT,\n    INCREMENT_ACTIVITY_SCORE,\n    SET_LEADERBOARD_LENGTH,\n    REQUEST_ROOMS,\n} from '../constants'\n\nconst statistics = [\n    { group: 'Seasons/DigitalMission', stat: 'season-point' },\n    { group: 'Seasons/DigitalMission:2021', stat: 'season-point' },\n    { group: 'Seasons/DigitalMission:2021', stat: 'cookie-received' },\n    { group: 'Seasons/DigitalMission:2021', stat: 'cookie-given' },\n    { group: 'Seasons/DigitalMission:2021', stat: 'followings' },\n    { group: 'Seasons/DigitalMission:2021', stat: 'trainer-followings' },\n    { group: 'Seasons/DigitalMission:2021', stat: 'completed-mini-challenges' },\n    { group: '@SYSTEM', stat: 'weekly-high-score-trophy-gold' },\n    { group: '@SYSTEM', stat: 'weekly-high-score-trophy-silver' },\n    { group: '@SYSTEM', stat: 'weekly-high-score-trophy-bronze' },\n    { group: '@SYSTEM', stat: 'weekly-high-score-trophy-platinum' },\n    { group: '@SYSTEM', stat: 'cookie-treasures-collected' },\n    { group: 'Seasons/DigitalMission:2021', stat: 'weekly-top100-presence' },\n    { group: 'Seasons/DigitalMission:2021', stat: 'view-given' },\n    { group: 'Seasons/DigitalMission:2021', stat: 'feed-votes' },\n    { group: 'Seasons/DigitalMission:2021', stat: 'cookie-treasures-collected' },\n    { group: 'Seasons/DigitalMission:2021', stat: 'trainer-contest-cookie-given' },\n    { group: '@SYSTEM/TotalCurrency', stat: 'cookie-received' },\n    { group: '@SYSTEM/TotalCurrency', stat: 'golden-cookie-received' },\n    { group: '@SYSTEM', stat: 'like-received' },\n    { group: '@SYSTEM', stat: 'view-received' },\n    { group: '@SYSTEM', stat: 'view-given' },\n    { group: '@SYSTEM', stat: 'followings' },\n    { group: '@SYSTEM', stat: 'trainer-followings' },\n    { group: '@SYSTEM', stat: 'quizzes-finished' },\n    { group: '@SYSTEM', stat: 'high-score-game-participation' },\n    { group: '@SYSTEM', stat: 'completed-mini-challenges' },\n    { group: '@SYSTEM', stat: 'public-view-received' },\n    { group: '@SYSTEM/TotalCurrency', stat: 'cookie-given' },\n    { group: 'OpenDayOnboarding', stat: 'points' },\n    { group: 'quiz-stats', stat: 'sessions/generated' },\n    { group: 'quiz-stats', stat: 'total-responses/generated' },\n    { group: 'quiz-stats', stat: 'correct-responses/generated' },\n] as const\n\ntype Statistic<T extends { group: string; stat: string }> = T extends any ? `${T['group']}:${T['stat']}` : never\nexport type StatisticName = Statistic<typeof statistics[number]>\n\nexport const requestCommonStats = client(() => ({\n    type: REQUEST_STATISTICS,\n    payload: {\n        statistics,\n    },\n    subscribe: true,\n}))\n\nexport const requestStats = client((stats: { group: string; stat: string }[]) => ({\n    type: REQUEST_STATISTICS,\n    payload: {\n        statistics: stats,\n    },\n    subscribe: true,\n}))\n\nexport const incrementActivityScore = client((activity: string) => ({\n    type: INCREMENT_ACTIVITY_SCORE,\n    payload: {\n        activity,\n    },\n}))\n\nexport const requestQuizStats = client(() => ({\n    type: REQUEST_STATISTICS,\n    payload: {\n        statistics: [\n            { group: 'quiz-stats', stat: 'correct-responses/classroom' },\n            { group: 'quiz-stats', stat: 'correct-responses/self-host' },\n            { group: 'quiz-stats', stat: 'total-responses/classroom' },\n            { group: 'quiz-stats', stat: 'total-responses/self-host' },\n            { group: 'quiz-stats', stat: 'sessions/classroom' },\n            { group: 'quiz-stats', stat: 'sessions/self-host' },\n        ],\n    },\n    subscribe: true,\n}))\n\nexport const requestScoreList = client((project: string) => ({\n    type: REQUEST_SCORE_LIST,\n    payload: {\n        project,\n    },\n}))\n\nexport const enableLeaderboard = client((group: string, stat: string, version?: string) => ({\n    type: REQUEST_LEADERBOARD,\n    subscribe: true,\n    payload: {\n        group,\n        stat,\n        version,\n    },\n}))\n\nexport const enableProjectLeaderboard = (project: string, stat: string, room?: string) => {\n    const roomStatPrefix = room ? `@ROOM/${room}:` : ''\n    return enableLeaderboard(`${roomStatPrefix}@PROJECT/${project}:score`, stat, room ? undefined : 'latest')\n}\n\nexport const setLeaderboardLength = client((project: string, stat: string, length: number, room?: string) => {\n    const roomStatPrefix = room ? `@ROOM/${room}:` : ''\n    return {\n        type: SET_LEADERBOARD_LENGTH,\n        payload: {\n            group: `${roomStatPrefix}@PROJECT/${project}:score`,\n            stat,\n            length,\n            version: room ? undefined : 'latest',\n        },\n    }\n})\n\nexport const disableAllLeaderboardsForProject = (projectId: string) => ({\n    type: DISABLE_ALL_LEADERBOARDS_FOR_PROJECT,\n    payload: {\n        projectId,\n    },\n})\n\nexport const disableLeaderboard = client((group: string, stat: string, version?: string) => ({\n    type: REQUEST_LEADERBOARD,\n    unsubscribe: true,\n    payload: {\n        group,\n        stat,\n        version,\n    },\n}))\n\nexport const enableQuizTemplateLeaderboard = client((templateId: string) => ({\n    type: REQUEST_LEADERBOARD,\n    subscribe: true,\n    payload: {\n        group: `quiz/template/total-score`,\n        stat: templateId,\n    },\n}))\n\nexport const disableQuizTemplateLeaderboard = client((templateId: string) => ({\n    type: REQUEST_LEADERBOARD,\n    unsubscribe: true,\n    payload: {\n        group: `quiz/template/total-score`,\n        stat: templateId,\n    },\n}))\n\nexport const requestRooms = client(() => ({\n    type: REQUEST_ROOMS,\n}))\n","import { client } from 'redux-socket-client'\nimport {\n    CREATE_SUBSCRIPTION,\n    READ_NOTIFICATIONS,\n    REQUEST_NOTIFICATIONS,\n    REQUEST_WELCOME,\n    READ_NOTIFICATION,\n    MARK_NOTIFICATION_AS_DISPLAYED,\n    MARK_ALL_NOTIFICATION_AS_DISPLAYED,\n} from '../constants'\n\nexport const subscribeToWebPush = client((subscriptionObject: any, channel: string = 'universe_launch_2019') => ({\n    type: CREATE_SUBSCRIPTION,\n    payload: { provider: 'webpush', channel, subscriptionObject },\n    subscribe: true,\n}))\n\nexport const loadNotifications = client((channel: string = 'universe_launch_2019') => ({\n    type: REQUEST_NOTIFICATIONS,\n    payload: { channel },\n    subscribe: true,\n}))\n\nexport const requestWelcomeNotification = client(() => ({\n    type: REQUEST_WELCOME,\n    payload: {\n        sendEmpty: true,\n    },\n}))\n\nexport const readNotifications = client((channel: string = 'universe_launch_2019') => ({\n    type: READ_NOTIFICATIONS,\n    payload: { channel },\n}))\n\nexport const readNotification = client((id: string) => ({\n    type: READ_NOTIFICATION,\n    payload: { id },\n}))\n\nexport const markNotificationAsDisplayed = client((id: string) => ({\n    type: MARK_NOTIFICATION_AS_DISPLAYED,\n    payload: { id },\n}))\n\nexport const markAllNotificationAsDisplayed = client((channel: string = 'universe_launch_2019') => ({\n    type: MARK_ALL_NOTIFICATION_AS_DISPLAYED,\n    payload: { channel },\n}))\n","import { COMPLETE_PROFILE, CHANGED_PROFILE_PICTURE } from '../constants'\nimport { client } from 'redux-socket-client'\n\nexport const completeProfile = client(() => ({\n    type: COMPLETE_PROFILE,\n}))\n\nexport const changedProfilePicture = client(() => ({\n    type: CHANGED_PROFILE_PICTURE,\n}))\n","import React, { useEffect } from 'react'\n\nexport const ScrollRestoration: React.FC = () => {\n    useEffect(() => {\n        window.scrollTo(0, 0)\n    }, [])\n\n    return null\n}\n","export * from './data/GroupsApi'\nexport * from './types/groupTypes'\nexport * from './groupQueries'\nexport * from './components'\n","import React, {useCallback, useReducer, useState} from 'react'\nimport {managementContext, ManagementModalEntry} from '../helpers/managementContext'\nimport {registerManagementModal} from \"./ManagementModal\";\nimport {MultiEditStepManagementModalContent} from \"./MultiEditStep\";\nimport {MutationTaskManagementModalContent} from \"./MutationTask\";\n\nexport type ManagementVariables = Record<string, any>;\nexport interface SetManagementVariableAction {\n    type: 'set'\n    key: string\n    value: any\n}\nexport interface SetManagementVariablesAction {\n    type: 'setAll'\n    value?: any\n}\nexport interface ResetManagementVariablesAction {\n    type: 'reset'\n}\n\nexport type ManagementVariableAction = SetManagementVariableAction | SetManagementVariablesAction | ResetManagementVariablesAction;\n\nconst variablesReducer: React.Reducer<ManagementVariables, ManagementVariableAction> = (state, action) => {\n    switch (action.type) {\n        case 'set':\n            return {\n                ...state,\n                [action.key]: action.value\n            }\n        case 'setAll':\n            return {\n                ...state,\n                ...action.value\n            }\n        case 'reset':\n            return {}\n        default:\n            throw new Error(`Unknown action type: ${(action as any).type}`)\n    }\n}\n\ninterface OpenOrUpdateManagementModalAction {\n    type: 'open'|'update'\n    key: string\n    kind: string\n    data: any\n}\n\ninterface CloseOrWidenManagementModalAction {\n    type: 'close'|'widen'\n    key: string\n}\n\nexport type ManagementModalAction = OpenOrUpdateManagementModalAction | CloseOrWidenManagementModalAction;\n\nconst modalStackReducer: React.Reducer<ManagementModalEntry<any>[], ManagementModalAction> = (state, action) => {\n    switch (action.type) {\n        case 'open':\n            return [\n                ...state,\n                {\n                    key: action.key,\n                    kind: action.kind,\n                    data: action.data\n                }\n            ]\n        case 'update':\n            return state.map(entry => {\n                if (entry.key === action.key) {\n                    return {\n                        ...entry,\n                        kind: action.kind,\n                        data: action.data,\n                        wide: false\n                    }\n                }\n                return entry\n            })\n        case 'widen':\n            return state.map(entry => {\n                if (entry.key === action.key) {\n                    return {\n                        ...entry,\n                        wide: true\n                    }\n                }\n                return entry\n            })\n        case 'close':\n            return state.filter(entry => entry.key !== action.key)\n        default:\n            throw new Error(`Unknown action type: ${(action as any).type}`)\n    }\n}\n\nexport const ManagementContextProvider: React.FC = ({children}) => {\n    const [enabled, setEnabled] = useState(false)\n    const [variables, dispatchVariablesAction] = useReducer(variablesReducer, {})\n    const [modalStack, dispatchModalStackAction] = useReducer(modalStackReducer, [])\n\n    const openModal = useCallback((key: string, kind: string, data: any) => {\n        dispatchModalStackAction({\n            type: 'open',\n            key,\n            kind,\n            data\n        })\n    }, [dispatchModalStackAction])\n    const updateModal = useCallback((key: string, kind: string, data: any) => {\n        dispatchModalStackAction({\n            type: 'update',\n            key,\n            kind,\n            data\n        })\n    }, [dispatchModalStackAction])\n    const closeModal = useCallback((key: string) => {\n        dispatchModalStackAction({\n            type: 'close',\n            key\n        })\n    }, [dispatchModalStackAction])\n    const widenModal = useCallback((key: string) => {\n        dispatchModalStackAction({\n            type: 'widen',\n            key\n        })\n    }, [dispatchModalStackAction])\n\n    return (\n        <managementContext.Provider\n            value={{\n                enabled,\n                setEnabled,\n                variables,\n                dispatchVariablesAction,\n                modalStack,\n                openModal,\n                updateModal,\n                widenModal,\n                closeModal\n            }}\n        >\n            {children}\n        </managementContext.Provider>\n    )\n}\n\nregisterManagementModal('multiedit-step', MultiEditStepManagementModalContent);\nregisterManagementModal('mutation-task', MutationTaskManagementModalContent);","import React, { useState } from 'react'\nimport { ButtonProps } from './Button'\nimport { Dialog, DialogProps } from './dialog'\n\ntype ConfirmStatus = 'closed' | 'open' | 'loading' | 'error' | 'success'\n\nexport interface ConfirmDialogContext {\n    positiveButtonProps: {\n        onClick: ButtonProps['onClick']\n    }\n    negativeButtonProps: {\n        onClick: ButtonProps['onClick']\n    }\n    status: ConfirmStatus\n}\n\ninterface ConfirmProps {\n    action: () => Promise<void> | void\n    dialog: (context: ConfirmDialogContext) => React.ReactNode\n    children: (confirm: () => void, rest: any) => React.ReactNode\n    dialogProps?: Partial<DialogProps>\n    keepOpenAfterSuccess?: boolean\n    onCancel?: () => void\n}\n\nexport const Confirm: React.FC<ConfirmProps> = ({\n    children,\n    dialog,\n    action,\n    dialogProps,\n    keepOpenAfterSuccess,\n    onCancel,\n    ...rest\n}) => {\n    const [status, setStatus] = useState<ConfirmStatus>('closed')\n\n    const open = () => {\n        if (status === 'closed') {\n            setStatus('open')\n        }\n    }\n\n    const confirm = async () => {\n        if (status === 'open' || status === 'error') {\n            setStatus('loading')\n            try {\n                await action()\n                if (keepOpenAfterSuccess) {\n                    setStatus('success')\n                } else {\n                    setStatus('closed')\n                }\n            } catch (e) {\n                console.error(e)\n                setStatus('error')\n            }\n        }\n    }\n\n    const deny = () => {\n        if (onCancel) {\n            onCancel()\n        }\n        if (status === 'open' || status === 'error' || status === 'success') {\n            setStatus('closed')\n        }\n    }\n\n    const positiveButtonProps = {\n        onClick: confirm,\n        isLoading: status === 'loading',\n    }\n\n    const negativeButtonProps = {\n        onClick: deny,\n        disabled: status === 'loading',\n    }\n\n    return (\n        <>\n            <Dialog onClose={deny} open={status !== 'closed'} {...dialogProps}>\n                {dialog({ status, positiveButtonProps, negativeButtonProps })}\n            </Dialog>\n            {children(open, rest)}\n        </>\n    )\n}\n","import { AxiosInstance, AxiosResponse } from 'axios'\nimport dayjs from 'dayjs'\nimport { MINI_QUIZ_PROJECT_TAG } from 'features/mini-quizzes'\nimport { api, ApiTypes, PrimaryKind } from 'lib/api'\nimport { removeTokenFromParams } from 'lib/api/Api'\nimport { ApiBase } from 'lib/api/ApiBase'\nimport { View } from './discover/DiscoverProjects'\nimport {\n    cacheBustThumbnail,\n    deserializeProjectLabel,\n    isCustomProjectLabel,\n    ProjectVariant,\n    serializeProjectLabel,\n} from './projectHelpers'\nimport { ProjectLabel } from './store'\nimport { ProjectLanguage } from './createProjectFormData'\n\nexport const CLASSROOM_PROJECT_TAG = 'classroom'\nexport const SHAREABLE_TRAINERCONTEST_PROJECT_TAG = 'trainerContest2021'\n\ninterface CreateEmptyProjectParams {\n    name: string\n    type: 'blox' | 'mix'\n    palette?: string\n    template?: string\n    language?: ProjectLanguage\n    labels?: ProjectLabel[]\n    timesheet?: string\n}\n\nconst typeRecord: Record<'blox' | 'mix', string> = {\n    blox: 'project/blocks',\n    mix: 'project/mix',\n}\n\nexport class ProjectsApi extends ApiBase {\n    constructor(client: AxiosInstance, private getUserId: () => string | null) {\n        super(client)\n    }\n\n    getBlockGalleries = async () => {\n        const res = await this.client.get<Pick<ApiTypes['block-gallery'], 'id' | 'name' | 'language'>[]>(\n            'block-galleries/my',\n        )\n        res.data.sort((a, b) => (a.name && b.name ? a.name?.localeCompare(b.name) : 0))\n        return res\n    }\n\n    createEmptyProject = ({ name, type, palette, labels, language, timesheet }: CreateEmptyProjectParams) => {\n        if (type === 'blox' && palette === undefined) {\n            throw new Error(`Palette must be defined if type is 'blox'.`)\n        }\n\n        return this.client.post<ApiTypes['file']>('/files/create-project', {\n            name,\n            kind: typeRecord[type],\n            blockPalette: palette,\n            labels,\n            language,\n            timesheet,\n        })\n    }\n\n    cloneProject = (name: string, type: 'blox' | 'mix', sourceId: string, palette?: string) => {\n        const typeRecord: Record<'blox' | 'mix', string> = {\n            blox: 'project/blocks',\n            mix: 'project/mix',\n        }\n\n        return this.client.post<ApiTypes['file']>('/files/create-project', {\n            name,\n            kind: typeRecord[type],\n            blockPalette: palette,\n            template: sourceId,\n            createMode: 'foreign-project-clone',\n        })\n    }\n\n    getProject = (id: string) => {\n        return this.client.get<ApiTypes['file']>(`files/${id}`)\n    }\n\n    getProjectWithEmbeddedOwner = (id: string) => {\n        type FileWithEmbeddedOwner = Omit<ApiTypes['file'], 'owner'> & { owner: ApiTypes['account'] }\n        return this.client.get<FileWithEmbeddedOwner>(`files/${id}`, { params: { embed: 'owner' } })\n    }\n\n    getMyPendingProjects = async () => {\n        return this.client.get<ApiTypes['file'][]>('/files/mypending')\n    }\n\n    getMyShareableProjects = async (type: 'normal' | 'mini-quiz') => {\n        const params: Record<string, any> = {\n            owner: this.getUserId(),\n            'where[kind][in]': 'project/mix,project/blocks',\n            deleted: false,\n            sort: '-updatedAt',\n            shared: false,\n        }\n\n        if (type === 'mini-quiz') {\n            params['where[tags][elemMatch]'] = { $eq: MINI_QUIZ_PROJECT_TAG, $ne: CLASSROOM_PROJECT_TAG }\n        } else {\n            params['where[tags][nin]'] = `${CLASSROOM_PROJECT_TAG},${MINI_QUIZ_PROJECT_TAG}`\n        }\n\n        return this.client.get<ApiTypes['file'][]>('/files', {\n            params,\n        })\n    }\n\n    updateProjectData = async (id: string, title: string, details: string, shareSpecial?: string) => {\n        const res = await api.projects.getProjectData(id, 'normal')\n        const newProjectData = {\n            ...res.data,\n            details,\n            title,\n            shareSpecial,\n        }\n        const blob = new Blob([JSON.stringify(newProjectData)], {\n            type: 'application/json',\n        })\n        const formData = new FormData()\n        formData.append('id', id)\n        formData.append('file', blob)\n        return this.client.post(`/files/replace`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data',\n            },\n        })\n    }\n\n    updateProjectDetails = async (id: string, details: string, variant: ProjectVariant) => {\n        const res = await api.projects.getProjectData(id, variant)\n        const newProjectData = {\n            ...res.data,\n            details,\n        }\n        const blob = new Blob([JSON.stringify(newProjectData)], {\n            type: 'application/json',\n        })\n        const formData = new FormData()\n        formData.append('id', id)\n        formData.append('file', blob)\n        return this.client.post(`/files/replace`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data',\n            },\n        })\n    }\n\n    updateMetadata = async (id: string, metadata: Pick<ApiTypes['file'], 'metadata'>) => {\n        return this.client.patch(`/files/${id}`, metadata)\n    }\n\n    moveToProduction = async (id: string) => this.client.post(`/files/${id}/move-to-production`)\n\n    updateProjectThumbnail = async (id: string, base64image: string) => {\n        const file = await fetch(base64image)\n        const blob = await file.blob()\n        const formData = new FormData()\n        formData.append('file', blob)\n        const res = await this.client.put(`/files/${id}/thumbnail`, formData)\n        cacheBustThumbnail(id)\n        return res\n    }\n\n    shareProject = async (id: string) => {\n        return this.client.post(`/files/${id}/share`)\n    }\n\n    unshareProject = async (id: string) => {\n        return this.client.delete(`/files/${id}/share`)\n    }\n\n    getMyProjects = async (query: MyProjectsQuery) => {\n        const params: Record<string, any> = {\n            skip: query.skip,\n            owner: this.getUserId(),\n            limit: query.limit,\n            sort: query.sort,\n        }\n\n        if (query.palette) {\n            params['metadata.palette'] = query.palette\n        }\n\n        if (query.language) {\n            params['metadata.language'] = query.language\n            params['where[kind][eq]'] = query.kind === 'blox' ? 'invalid' : 'project/mix'\n        } else {\n            if (query.kind === 'blox') {\n                params['where[kind][eq]'] = 'project/blocks'\n            } else if (query.kind === 'mix') {\n                params['where[kind][eq]'] = 'project/mix'\n            } else {\n                params['where[kind][in]'] = 'project/mix,project/blocks'\n            }\n        }\n\n        if (query.view === 'deleted') {\n            params.sort = '-deletedAt'\n            params['where[deletedAt][gte]'] = dayjs().subtract(30, 'days').format()\n        }\n\n        if (query.search) {\n            params['where[name][like]'] = query.search\n        }\n\n        if (query.view === 'all' || query.view === 'deleted' || query.view === 'favorites') {\n            params['where[tags][ne]'] = MINI_QUIZ_PROJECT_TAG\n        }\n\n        params.deleted = query.view === 'deleted'\n\n        if (query.view === 'favorites') {\n            params.favorite = true\n        }\n\n        if (query.view === 'community') {\n            params['where[tags][nin]'] = `${CLASSROOM_PROJECT_TAG},${MINI_QUIZ_PROJECT_TAG}`\n        }\n        if (query.view === 'classroom') {\n            params['where[tags][elemMatch]'] = { $eq: CLASSROOM_PROJECT_TAG, $ne: MINI_QUIZ_PROJECT_TAG }\n        }\n\n        if (query.labels && query.labels.length > 0) {\n            params['where[labels][elemMatch]'] = { $or: query.labels.map(serializeProjectLabel) }\n        }\n\n        const res = await this.client.get<ApiTypes['file'][]>(`/files`, {\n            params,\n        })\n\n        return {\n            response: res,\n            nextSkip: res.data.length < query.limit ? null : query.skip + query.limit,\n            totalCount:\n                res.headers['x-total-count'] !== undefined ? parseInt(res.headers['x-total-count'], 10) : undefined,\n        }\n    }\n\n    getSharedProjects = async (query: GetSharedProjectsQuery) => {\n        const params: Record<string, any> = {\n            limit: query.limit ?? 100,\n            deleted: false,\n            shared: true,\n            skip: query.skip,\n            pattern: query.pattern,\n            owner: query.owner,\n            sort: query.sort,\n            'request-total-count': query['request-total-count'],\n            'where[kind][in]': 'project/blocks,project/mix',\n            access_token: '', // no need of token for this endpoint\n        }\n\n        if (query.ids) {\n            if (query.ids.length) {\n                params['where[id][in]'] = query.ids.join()\n            } else {\n                // if ids array is empty let's just send a fake axios response\n                // because the api can't handle that\n                const response: AxiosResponse<FilterSharedByOwnerOrTitleResponse> = {\n                    data: [],\n                    headers: {\n                        'x-total-count': 0,\n                    },\n                    status: 200,\n                    statusText: '',\n                    config: {},\n                }\n                return response\n            }\n        }\n\n        if (query.languages) {\n            params['where[lang][in]'] = query.languages.join()\n        }\n\n        if (query.type === 'mini-quiz') {\n            params['tags'] = MINI_QUIZ_PROJECT_TAG\n        } else if (query.type === 'normal') {\n            params['where[tags][ne]'] = MINI_QUIZ_PROJECT_TAG\n        }\n\n        if (query.view === 'only-trainers') {\n            params['where[owner_primaryKind][ne]'] = 'student'\n        }\n\n        if (query.palette) {\n            params['metadata.palette'] = query.palette\n        }\n\n        if (query.language) {\n            params['metadata.language'] = query.language\n            params['where[kind][eq]'] = query.kind === 'blox' ? 'invalid' : 'project/mix'\n        } else {\n            if (query.kind === 'blox') {\n                params['where[kind][eq]'] = 'project/blocks'\n            } else if (query.kind === 'mix') {\n                params['where[kind][eq]'] = 'project/mix'\n            } else {\n                params['where[kind][in]'] = 'project/mix,project/blocks'\n            }\n        }\n\n        if (query.labels && query.labels.length > 0) {\n            params['where[labels][elemMatch]'] = { $or: query.labels.map(serializeProjectLabel) }\n        }\n\n        return this.client.get<FilterSharedByOwnerOrTitleResponse>('/files/filter-shared-by-owner-or-title', {\n            params,\n        })\n    }\n\n    getRecommendedProjects = (type: 'coding' | 'mini-quiz', languages: string[]) => {\n        return this.client.get<FilterSharedByOwnerOrTitleResponse>('/files/recommended-projects', {\n            params: {\n                type,\n                languages: languages.join(','),\n            },\n        })\n    }\n\n    getMyFavoriteProjects = () => {\n        return this.client.get<Pick<ApiTypes['like'], 'file'>[]>('/likes', {\n            params: {\n                user: this.getUserId(),\n                fields: 'file',\n            },\n        })\n    }\n\n    getProjectsForDiscovery = async (query: DiscoverProjectsQuery) => {\n        const { days, sort, ...getSharedProjectsQuery } = query\n        const normalizedSort = (() => {\n            if (query.sort === '-daysViewedCount') {\n                if (query.days < 0) {\n                    return '-viewedCount'\n                }\n                return `${query.sort}_${days}`\n            }\n            return query.sort\n        })()\n\n        const res = await this.getSharedProjects({\n            sort: `${normalizedSort},-id`,\n            ...getSharedProjectsQuery,\n        })\n\n        return {\n            response: res,\n            nextSkip: res.data.length < query.limit ? null : query.skip + query.limit,\n            totalCount:\n                res.headers['x-total-count'] !== undefined ? parseInt(res.headers['x-total-count'], 10) : undefined,\n        }\n    }\n\n    getMyViewedFiles = async (files: string[]) => {\n        const res = await this.client.get<ApiTypes['fileview'][]>('/fileviews/my', {\n            params: {\n                'where[file][in]': files.join(','),\n                fields: 'file',\n            },\n        })\n        const normalizeViewedFiles = (viewedFiles: ApiTypes['fileview'][]) =>\n            Array.from(new Set(viewedFiles.map(({ file }) => file)))\n\n        return normalizeViewedFiles(res.data)\n    }\n\n    getCommunityProjectDetails = async (id: string, variant: ProjectVariant) => {\n        const [fileData, cookied, favorited] = await Promise.all([\n            this.getProjectData(id, variant),\n            this.isProjectCookied(id),\n            this.isProjectFavorited(id),\n        ])\n        return {\n            fileData,\n            cookied,\n            favorited,\n        }\n    }\n\n    getClassromProjectDetails = async (id: string) => {\n        const fileData = await this.getProjectData(id, 'normal')\n        return {\n            fileData,\n        }\n    }\n\n    isProjectFavorited = async (id: string) => {\n        const res = await this.client.get<any[]>('likes', {\n            params: {\n                file: id,\n                fields: 'id',\n                limit: 1,\n                user: this.getUserId(),\n            },\n        })\n\n        return res.data.length > 0\n    }\n\n    private isProjectCookied = async (id: string) => {\n        const res = await this.client.get<any[]>('cookies/my', {\n            params: {\n                file: id,\n                fields: 'id,currency',\n            },\n        })\n        const normal = !!res.data.find(cookie => cookie.currency === 'cookie')\n        const golden = !!res.data.find(cookie => cookie.currency === 'golden-cookie')\n\n        return { normal, golden }\n    }\n\n    getSharedProjectsOfUser = (owner: string) => {\n        return this.getSharedProjects({\n            owner,\n            type: 'both',\n        })\n    }\n\n    private getProjectData = (id: string, variant: ProjectVariant) => {\n        let url = `files/${id}/data`\n\n        if (variant !== 'normal') {\n            url = url + `?variant=${variant}`\n        }\n\n        return this.client.get<{ details?: string }>(url, { params: removeTokenFromParams() })\n    }\n\n    deleteProject = (id: string) => {\n        return this.client.patch(`files/${id}`, {\n            deleted: true,\n            deletedAt: dayjs().format(),\n        })\n    }\n\n    restoreProject = (id: string) => {\n        return this.client.patch(`files/${id}`, {\n            deleted: false,\n            deletedAt: null,\n        })\n    }\n\n    renameProject = (id: string, field: 'name' | 'title', value: string) => {\n        return this.client.patch(`files/${id}`, {\n            [field]: value,\n        })\n    }\n\n    favoriteOwnProject(id: string) {\n        return this.client.patch(`files/${id}`, {\n            favorite: true,\n        })\n    }\n\n    unFavoriteOwnProject(id: string) {\n        return this.client.patch(`files/${id}`, {\n            favorite: false,\n        })\n    }\n\n    updateProjectLang = (id: string, lang: string) => {\n        return this.client.patch(`files/${id}`, {\n            lang,\n        })\n    }\n\n    duplicateProject = async (sourceId: string, name?: string) => {\n        return this.client.post<ApiTypes['file']>('/files/create-project', {\n            template: sourceId,\n            name,\n            createMode: 'own-project-clone',\n        })\n    }\n\n    isProjectNameUnique = async (name: string) => {\n        const { data } = await this.client.get(`/files`, {\n            params: {\n                owner: this.getUserId(),\n                'where[kind][in]': 'project/mix,project/blocks',\n                deleted: false,\n                name,\n                fields: 'name',\n            },\n        })\n        return data.length === 0\n    }\n\n    isProductionUserProjectsNameUnique = async (name: string) => {\n        const { data } = await this.client.get(`/files`, {\n            params: {\n                owner: '56c337e4ebf655db226bebe1',\n                'where[kind][in]': 'project/mix,project/blocks',\n                deleted: false,\n                name,\n                fields: 'name',\n            },\n        })\n        return data.length === 0\n    }\n\n    incrementProjectViewCount = (projectId: string, isPublic?: boolean) => {\n        return this.client.post(`files/${projectId}/notifyviewed`, { isPublic })\n    }\n\n    getMyActiveIncorrectlyTaggedModerationReports = () => {\n        return this.client.get<ApiTypes['moderation-report'][]>(`moderation-reports/my`, {\n            params: {\n                reason: 'incorrectly-tagged',\n                'where[status][in]': 'created,in-review',\n            },\n        })\n    }\n\n    getMyCustomProjectLabels = async () => {\n        const labels = await this.client.get<ProjectLabel[]>(`files/my-project-labels`)\n        return labels.data.filter(isCustomProjectLabel).map(deserializeProjectLabel) ?? []\n    }\n\n    updateProjectLabels = (id: string, labels: ProjectLabel[]) => {\n        return this.client.patch(`files/${id}`, {\n            labels,\n        })\n    }\n}\n\ninterface GetSharedProjectsQuery {\n    sort?: string\n    skip?: number\n    pattern?: string\n    limit?: number\n    languages?: string[]\n    owner?: string\n    ids?: string[]\n    view?: View\n    type: 'normal' | 'mini-quiz' | 'both'\n    // Advanced filters\n    kind?: '' | 'mix' | 'blox'\n    language?: '' | ProjectLanguage\n    palette?: string\n    labels?: string[]\n    'request-total-count'?: boolean\n}\n\nexport interface DiscoverProjectsQuery {\n    sort: string\n    skip: number\n    pattern: string\n    limit: number\n    languages: string[]\n    days: number\n    ids?: string[]\n    view?: View\n    type: 'normal' | 'mini-quiz'\n    // Advanced filters\n    kind?: '' | 'mix' | 'blox'\n    language?: '' | ProjectLanguage\n    palette?: string\n    labels?: string[]\n    'request-total-count'?: boolean\n}\nexport interface MyProjectsQuery {\n    skip: number\n    limit: number\n    language: '' | ProjectLanguage\n    view: 'all' | 'favorites' | 'deleted' | 'community' | 'classroom'\n    sort: 'name' | '-name' | 'createdAt' | '-createdAt' | 'updatedAt' | '-updatedAt'\n    search?: string\n    kind?: '' | 'mix' | 'blox'\n    palette?: string\n    labels?: string[]\n}\n\nexport type FilterSharedByOwnerOrTitleResponse = (ApiTypes['file'] & {\n    owner_alias?: string\n    owner_profileImage?: string\n    owner_primaryKind?: PrimaryKind\n    owner_trainingCertificates?: string[]\n    owner_username: string\n    cookied: boolean\n    goldenCookied: boolean\n})[]\n","export default __webpack_public_path__ + \"static/media/profiller.541c7aab.svg\";","export default __webpack_public_path__ + \"static/media/projectExplorer.b5b03958.svg\";","export default __webpack_public_path__ + \"static/media/follower.cfba7b5f.svg\";","export default __webpack_public_path__ + \"static/media/cookieContributor.33ea0bb0.svg\";","export default __webpack_public_path__ + \"static/media/trainerFollower.d2b26d5a.svg\";","export default __webpack_public_path__ + \"static/media/cookieHunter.45aac20b.svg\";","export default __webpack_public_path__ + \"static/media/questExplorer.9f464e15.svg\";","export default __webpack_public_path__ + \"static/media/miniQuestExplorer.16b9e7fe.svg\";","export default __webpack_public_path__ + \"static/media/highScoreHero.26f12039.svg\";","export default __webpack_public_path__ + \"static/media/quizExplorer.8962a5bb.svg\";","import profillerImg from '../media/badges/profiller.svg'\nimport projectExplorerImg from '../media/badges/projectExplorer.svg'\nimport followCollectorImg from '../media/badges/follower.svg'\nimport cookieContributorImg from '../media/badges/cookieContributor.svg'\nimport trainerFollowerImg from '../media/badges/trainerFollower.svg'\nimport cookieHunterImg from '../media/badges/cookieHunter.svg'\nimport questExplorerImg from '../media/badges/questExplorer.svg'\nimport miniQuestExplorerImg from '../media/badges/miniQuestExplorer.svg'\nimport highScoreExplorerImg from '../media/badges/highScoreHero.svg'\nimport quizExplorerImg from '../media/badges/quizExplorer.svg'\nimport { StatisticName } from 'lib/liveops'\nimport { UserState } from 'contexts/UserContext'\nimport { runtimeEnv } from 'utils/env'\nimport { InventoryState } from 'lib/liveops/reducers/client/inventory'\nimport { hasGrant } from 'lib/grants'\nimport { LinkProps } from 'react-router-dom'\nimport { avatarBrowserDialogTo } from 'features/avatar'\nimport { getAppVariant } from 'lib/app-variant'\n\nexport interface OnboardingAchievementDefinition {\n    title: string\n    description: string\n    tooltip?: string\n    imageUrl: string\n    catalogItem: string\n    color: string\n    isLocked?: (user: UserState) => boolean\n    progress?: {\n        statName: StatisticName\n        required: number\n    }\n    linkTo?: LinkProps['to']\n}\n\nexport const onboardingAchievements: Array<OnboardingAchievementDefinition> = [\n    {\n        title: 'onboardingMission::achivements::ProFiller::name',\n        description: 'onboardingMission::achivements::ProFiller::description01',\n        catalogItem: '6123a2314b2cb6d8dc516654',\n        imageUrl: profillerImg,\n        color: '#c9efff',\n        linkTo: avatarBrowserDialogTo,\n    },\n    {\n        title: 'onboardingMission::achievements::QuizExplorer::title',\n        description: 'onboardingMission::achievements::QuizExplorer::description01',\n        imageUrl: quizExplorerImg,\n        catalogItem: '6123a2adf409cf76226418ad',\n        color: '#d6f5ed',\n        linkTo: '/app/challenges/quizzes',\n    },\n    {\n        title: 'onboardingMission::achievements::HighscoreExplorer::name',\n        description: 'onboardingMission::achievements::HighscoreExplorer::description',\n        imageUrl: highScoreExplorerImg,\n        catalogItem: '6123a2d5f409cf69866418f7',\n        color: '#fff9db',\n        progress: {\n            statName: '@SYSTEM:high-score-game-participation',\n            required: 2,\n        },\n        linkTo: '/app/challenges/high-score',\n    },\n    {\n        title: 'onboardingMission::achievements::QuestExplorer::name',\n        description: 'onboardingMission::achievements::QuestExplorer::description',\n        imageUrl: questExplorerImg,\n        catalogItem: '61f023d200b8a94c018f2c21',\n        color: '#d6f5ea',\n        linkTo: '/app/challenges/coding-challenges',\n    },\n    {\n        title: 'onboardingMission::achievements::MiniQuestExplorer::name',\n        description: 'onboardingMission::achievements::MiniQuestExplorer::description',\n        imageUrl: miniQuestExplorerImg,\n        catalogItem: '6123a2bdf409cf05ec6418c9',\n        color: '#f8e3c1',\n        progress: {\n            statName: '@SYSTEM:completed-mini-challenges',\n            required: 2,\n        },\n        linkTo: '/app/challenges/mini-quests',\n    },\n    {\n        title: 'onboardingMission::achievements::CookieHunter::name',\n        description: 'onboardingMission::achievement::CookieHunter::description',\n        imageUrl: cookieHunterImg,\n        catalogItem: '6123a2e2cb9d56e691a795c9',\n        color: '#fff9db',\n        progress: {\n            statName: '@SYSTEM:cookie-treasures-collected',\n            required: 2,\n        },\n    },\n    {\n        title: 'onboardingMission::achivements::ProjectExplorer::name',\n        description: 'onboardingMission::achievements::ProjectExplorer::description',\n        imageUrl: projectExplorerImg,\n        catalogItem: '6123a264cb9d5651bea794e8',\n        color: '#dbefff',\n        isLocked: user =>\n            !(getAppVariant(user) === 'normal' || hasGrant(user.grants)('limited-app.view-community-projects')),\n        progress: {\n            statName: '@SYSTEM:view-given',\n            required: 2,\n        },\n        linkTo: '/app/community/discover',\n    },\n    {\n        title: 'onboardingMission::achivements::CookieContributor::name',\n        description: 'onboardingMission::achivements::CookieContributor::description',\n        imageUrl: cookieContributorImg,\n        catalogItem: '6123a279f409cf7a66641851',\n        color: '#eedcd7',\n        isLocked: user =>\n            !(getAppVariant(user) === 'normal' || hasGrant(user.grants)('limited-app.view-community-projects')),\n        progress: {\n            statName: '@SYSTEM/TotalCurrency:cookie-given',\n            required: 2,\n        },\n        linkTo: '/app/community/discover',\n    },\n    {\n        title: 'onboardingMission::achievements::Follower::title',\n        description: 'onboardingMission::achievements::Follower::description',\n        imageUrl: followCollectorImg,\n        catalogItem: '6123a292f409cf93b6641878',\n        color: '#e1f1d8',\n        isLocked: ({ grants }) => !hasGrant(grants)('follow-users'),\n        progress: {\n            statName: '@SYSTEM:followings',\n            required: 2,\n        },\n        linkTo: '/app/community/discover',\n    },\n    {\n        title: 'onboardingMission::achievement::TrainerFollower::name',\n        description: 'onboardingMission::achievements::TrainerFan::description',\n        imageUrl: trainerFollowerImg,\n        catalogItem: '6123a29ea3bcb760ad027436',\n        color: '#a6c9ea',\n        isLocked: ({ grants }) => !hasGrant(grants)('follow-users'),\n        progress: {\n            statName: '@SYSTEM:trainer-followings',\n            required: 2,\n        },\n        linkTo: '/app/community/discover?view=only-trainers',\n    },\n]\n\nexport const ONBOARDING_REACHED_3_POINTS_CATALOG_ITEM = '61f00e13bc74a8c345db1601'\n\nexport interface OnboardingAchievementData extends Omit<OnboardingAchievementDefinition, 'isLocked'> {\n    isLocked: boolean\n}\n\nexport const getOnboardingAchievements = (user: UserState, inventory: InventoryState): OnboardingAchievementData[] => {\n    return onboardingAchievements\n        .map(achievement => {\n            if (achievement.isLocked) {\n                if (inventory?.find(item => item.item === achievement.catalogItem)) {\n                    return {\n                        ...achievement,\n                        isLocked: false,\n                    }\n                }\n                return {\n                    ...achievement,\n                    isLocked: achievement.isLocked(user),\n                }\n            }\n            return {\n                ...achievement,\n                isLocked: false,\n            }\n        })\n        .sort((a, b) => (a.isLocked === b.isLocked ? 0 : a.isLocked ? 1 : -1))\n}\n\nexport const ONBOARDING_ENABLED = runtimeEnv.REACT_APP_ONBOARDING_ENABLED === 'true'\n","import { useEffect } from 'react'\n\nconst PREFIX = `MyLogiscool – `\n\nexport function useTitle(title?: string) {\n    useEffect(() => {\n        if (title) {\n            document.title = ''\n            document.title = PREFIX + title\n        }\n    }, [title])\n}\n","import React from 'react'\nimport { Location } from 'history'\nimport { useHistory, useLocation } from 'react-router-dom'\n\ninterface createHashDialogOptions {\n    useLocationState?: boolean\n}\n\nexport function createHashDialog(id: string, options?: createHashDialogOptions) {\n    interface ControllerProps {\n        children: (context: { open: boolean; onClose: () => void }) => React.ReactNode\n    }\n\n    function useDialog() {\n        const location = useLocation()\n        const history = useHistory()\n\n        return {\n            open: location.hash === `#${id}`,\n            onClose: () => {\n                const newLocation = { ...location, hash: undefined }\n                if (options?.useLocationState === true) {\n                    newLocation.state = undefined\n                }\n                history.replace(newLocation)\n            },\n        }\n    }\n\n    const Controller: React.FC<ControllerProps> = ({ children }) => {\n        const { open, onClose } = useDialog()\n\n        return <>{children({ open, onClose })}</>\n    }\n\n    const createTo = ({ search, state }: Location) => {\n        const to: Partial<Location> = {\n            hash: id,\n            search,\n        }\n\n        if (options?.useLocationState === true) {\n            to.state = state\n        }\n\n        return to\n    }\n\n    return [createTo, Controller] as const\n}\n","import * as React from 'react'\nimport ReactDOM from 'react-dom'\nimport './certificates.css'\nimport { useSelector } from 'lib/store'\nimport { isDmWinner } from './certificateHelpers'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { LocalisationKey } from 'lib/i18n'\nimport { api } from 'lib/api'\nexport interface PdfTemplateProps {\n    school: string\n    finishedAt: string\n    name: string\n    locale: string\n    id: string\n    translations: {\n        name: string\n        items: string\n        blurb: string\n        duringThisCourse: string\n        duringThisWorkshop: string\n    }\n}\nexport const PdfTemplateBlox: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"blox\" {...props}></TemplateBase>\n}\n\nexport const PdfTemplateMix: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"mix\" {...props}></TemplateBase>\n}\n\nexport const PdfTemplateUnity: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBaseText variant=\"unity\" {...props} />\n}\n\nexport const PdfTemplatePython: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBaseText variant=\"python\" {...props} />\n}\n\nexport const PdfTemplateGodot: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBaseText variant=\"godot\" {...props} />\n}\n\nexport const PdfTemplateRoblox: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBaseText variant=\"roblox\" {...props} />\n}\n\nexport const PdfTemplateRobloxMultiverse: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"RobloxMultiverse\" {...props} />\n}\n\nexport const PdfTemplateDevMaster: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBaseText variant=\"devMaster\" {...props} />\n}\n\nexport const PdfTemplateRobot: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"robot\" {...props} />\n}\n\nexport const PdfTemplateRobotPrime: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"robotPrime\" {...props} />\n}\n\nexport const PdfTemplateVideo: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"video\" {...props} />\n}\n\nexport const PdfTemplateDesign: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"design\" {...props} />\n}\n\nexport const PdfTemplateMinecraft: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"minecraft\" {...props} />\n}\n\nexport const PdfTemplateMinecraftMaze: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"MinecraftMaze\" {...props} />\n}\n\nexport const PdfTemplateMinecraftMovie: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"MinecraftMovie\" {...props} />\n}\n\nexport const PdfTemplateRpg: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"rpg\" {...props} />\n}\n\nexport const PdfTemplateAi: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"ai\" {...props} />\n}\n\nexport const PdfTemplateDigitalDiscovery: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"digitalDiscovery\" {...props} />\n}\n\nexport const PdfTemplateAiPython: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"aiPython\" {...props} />\n}\n\nexport const PdfTemplateAiBasic: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"aiBasic\" {...props} />\n}\n\nexport const PdfTemplateCourseGenerativeAi: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"courseGenAI\" {...props} />\n}\n\nexport const PdfTemplateCampGenerativeAi: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"campGenAI\" {...props} />\n}\n\nexport const PdfTemplateOpenDay: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateSpecial variant=\"openday\" {...props} />\n}\n\nexport const PdfTemplateDigitalMission: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateSpecial variant=\"digitalmission\" {...props} />\n}\n\nexport const PdfTemplateDigitalMission2021: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateSpecial variant=\"digitalMission2021\" {...props} />\n}\n\nexport const PdfTemplateDigitalMission2022: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateSpecial variant=\"digitalMission2022\" {...props} />\n}\n\nexport const PdfTemplateDigitalMission2023: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateSpecial variant=\"digitalMission2023\" {...props} />\n}\n\nexport const PdfTemplateDigitalMission2024: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateSpecial variant=\"digitalMission2024\" {...props} />\n}\n\nexport const PdfTemplateScoolerMission: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateSpecial variant=\"scoolerMission\" {...props} />\n}\n\nexport const PdfTemplateWorkshop3d: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateWorkshop variant=\"workshop3d\" {...props}></PdfTemplateWorkshop>\n}\n\nexport const PdfTemplateCourse3d: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateWorkshop variant=\"course3DDesign\" {...props}></PdfTemplateWorkshop>\n}\n\nexport const PdfTemplateCamp3d: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"camp3DDesign\" {...props}></TemplateBase>\n}\n\nexport const PdfTemplateWorkshopApp: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateWorkshop variant=\"workshopApp\" {...props}></PdfTemplateWorkshop>\n}\n\nexport const PdfTemplateCourseApp: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateWorkshop variant=\"courseAppCreation\" {...props}></PdfTemplateWorkshop>\n}\n\nexport const PdfTemplateWorkshopIllustration: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateWorkshop variant=\"workshopIllustration\" {...props}></PdfTemplateWorkshop>\n}\n\nexport const PdfTemplateCourseIllustration: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateWorkshop variant=\"courseDigitalIllustration\" {...props}></PdfTemplateWorkshop>\n}\n\nexport const PdfTemplateCampIllustration: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"campDigitalIllustration\" {...props}></TemplateBase>\n}\n\nexport const PdfTemplateWorkshopMinecraft: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateWorkshop variant=\"workshopMinecraft\" {...props}></PdfTemplateWorkshop>\n}\n\nexport const PdfTemplateCourseMinecraftModding: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"courseMinecraftModding\" {...props} />\n}\n\nexport const PdfTemplateCampMinecraftModding: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"campMinecraftModding\" {...props} />\n}\n\nexport const PdfTemplateWorkshopImagicharm: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateWorkshop variant=\"workshopImagicharm\" {...props}></PdfTemplateWorkshop>\n}\n\nexport const PdfTemplateCourseImagicharm: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateWorkshop variant=\"courseImagiCharm\" {...props}></PdfTemplateWorkshop>\n}\n\nexport const PdfTemplateCampImagicharm: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"campImagiCharm\" {...props}></TemplateBase>\n}\n\nexport const PdfTemplateCampApp: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"campAppCreation\" {...props}></TemplateBase>\n}\n\nexport const PdfTemplateCampChallengeDay: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateSpecial variant=\"campChallengeDay\" {...props}></PdfTemplateSpecial>\n}\n\nexport const PdfTemplateExplorerJuniorSpike: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"explorerJuniorSpike\" {...props} />\n}\n\nexport const PdfTemplateExplorerJuniorWedo: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"explorerJuniorWedo\" {...props} />\n}\n\nexport const PdfTemplateExplorerJuniorBeebot: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"explorerJuniorBeebot\" {...props} />\n}\n\nexport const PdfTemplateExplorerCreative: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"explorerCreative\" {...props} />\n}\n\nexport const PdfTemplateExplorerGamer: React.FC<PdfTemplateProps> = props => {\n    return <TemplateBase variant=\"explorerGamer\" {...props} />\n}\n\nexport const PdfTemplateTrainingCertificate: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateSpecial variant=\"training\" {...props} />\n}\n\nconst TemplateBase: React.FC<PdfTemplateProps & { variant: FrameType }> = ({\n    translations,\n    school,\n    name,\n    finishedAt,\n    variant,\n    locale,\n    id,\n}) => {\n    const bottom = (() => {\n        if (variant === 'blox') {\n            return '75mm'\n        }\n        if (variant === 'aiBasic' || variant === 'aiPython') {\n            return '90mm'\n        }\n        return '85mm'\n    })()\n    return ReactDOM.createPortal(\n        <div className=\"templateWrap\">\n            <div id={id} className=\"templateRoot\" style={{ fontFamily: getFontFamily(locale) }}>\n                <img className=\"templateFrame\" src={getFrameSrc(variant, locale)} alt=\"\" />\n                <div className=\"templateText\">\n                    <div\n                        className=\"templateName\"\n                        style={{ width: variant === 'blox' ? '260mm' : '400mm', ...nameStyles(name) }}\n                    >\n                        {name}\n                    </div>\n                    <div\n                        className=\"templateBlurp\"\n                        dangerouslySetInnerHTML={{ __html: translations.blurb }}\n                        style={{ marginTop: variant === 'aiPython' ? '20mm' : undefined }}\n                    ></div>\n                    <div className=\"templateListWrap\">\n                        <img src={`/certificate/lsc_line.png`} alt=\"lsc_line\" className=\"templateListLine\" />\n                        <div className=\"templateList\">\n                            <div>{translations.duringThisCourse}</div>\n                            <ul dangerouslySetInnerHTML={{ __html: translations.items }}></ul>\n                        </div>\n                        <img\n                            src={`/certificate/lsc_line.png`}\n                            alt=\"lsc_line\"\n                            className=\"templateListLine\"\n                            style={{ marginTop: '10mm' }}\n                        />\n                    </div>\n                </div>\n                <div\n                    style={{\n                        bottom: bottom,\n                        ...dateStyles(school, finishedAt),\n                    }}\n                    className=\"templateDate\"\n                >\n                    {school}, {finishedAt}\n                </div>\n            </div>\n        </div>,\n        document.body,\n    )\n}\n\nconst TemplateBaseText: React.FC<\n    PdfTemplateProps & { variant: 'unity' | 'godot' | 'roblox' | 'python' | 'devMaster' }\n> = ({ translations, school, name, finishedAt, variant, locale, id }) => {\n    return ReactDOM.createPortal(\n        <div className=\"templateWrap\">\n            <div\n                id={id}\n                className=\"templateRoot\"\n                style={{ color: variant === 'roblox' ? '#004069' : '#030402', fontFamily: getFontFamily(locale) }}\n            >\n                <img\n                    className=\"templateFrame\"\n                    src={getFrameSrc(variant === 'roblox' ? 'roblox' : 'text', locale)}\n                    alt=\"\"\n                />\n                <div className=\"templateText\" style={{ top: variant === 'roblox' ? '180mm' : '160mm' }}>\n                    <div className=\"templateName\" style={nameStyles(name)}>\n                        {name}\n                    </div>\n                    <div\n                        className=\"templateBlurp\"\n                        style={{ marginTop: '10pt' }}\n                        dangerouslySetInnerHTML={{ __html: translations.blurb }}\n                    ></div>\n                    <img src={`/certificate/${variant}.png`} style={{ height: '30mm', marginTop: '10mm' }} alt=\"\" />\n                    <div className=\"templateListWrap\">\n                        <img src={`/certificate/lsc_line.png`} alt=\"lsc_line\" className=\"templateListLine\" />\n                        <div className=\"templateList\">\n                            <div>{translations.duringThisCourse}</div>\n                            <ul dangerouslySetInnerHTML={{ __html: translations.items }}></ul>\n                        </div>\n                        <img\n                            src={`/certificate/lsc_line.png`}\n                            alt=\"lsc_line\"\n                            className=\"templateListLine\"\n                            style={{ marginTop: '10mm' }}\n                        />\n                    </div>\n                </div>\n                <div\n                    style={{ bottom: variant === 'roblox' ? '75mm' : '85mm', ...dateStyles(school, finishedAt) }}\n                    className=\"templateDate\"\n                >\n                    {school}, {finishedAt}\n                </div>\n            </div>\n        </div>,\n        document.body,\n    )\n}\n\nexport const PdfTemplateA0: React.FC<PdfTemplateProps> = ({ translations, finishedAt, school, name, locale, id }) => {\n    return ReactDOM.createPortal(\n        <div className=\"templateWrap\">\n            <div id={id} className=\"templateRoot\" style={{ fontFamily: getFontFamily(locale) }}>\n                <img className=\"templateFrame\" src={getFrameSrc('a0', locale)} alt=\"\" />\n                <div style={{ top: '140mm' }} className=\"templateText\">\n                    <div className=\"templateName\" style={nameStyles(name)}>\n                        {name}\n                    </div>\n                    <div className=\"templateBlurp\" dangerouslySetInnerHTML={{ __html: translations.blurb }}></div>\n                    <div className=\"templateListWrap\">\n                        <img src={`/certificate/lsc_line.png`} alt=\"lsc_line\" className=\"templateListLine\" />\n                        <div className=\"templateList\">\n                            <div>{translations.duringThisCourse}</div>\n                            <ul dangerouslySetInnerHTML={{ __html: translations.items }}></ul>\n                        </div>\n                        <img\n                            src={`/certificate/lsc_line.png`}\n                            alt=\"lsc_line\"\n                            className=\"templateListLine\"\n                            style={{ marginTop: '10mm' }}\n                        />\n                    </div>\n                </div>\n                <div\n                    className=\"templateDate\"\n                    style={{ left: '210mm', width: 'auto', bottom: '100mm', ...dateStyles(school, finishedAt) }}\n                >\n                    {school}, <div>{finishedAt}</div>\n                </div>\n            </div>\n        </div>,\n        document.body,\n    )\n}\n\nexport const PdfTemplateKodu: React.FC<PdfTemplateProps> = ({ translations, finishedAt, school, name, locale, id }) => {\n    return ReactDOM.createPortal(\n        <div className=\"templateWrap\">\n            <div id={id} className=\"templateRoot\" style={{ fontFamily: getFontFamily(locale) }}>\n                <img className=\"templateFrame\" src={getFrameSrc('kodu', locale)} alt=\"\" />\n                <div style={{ top: '140mm' }} className=\"templateText\">\n                    <div className=\"templateName\" style={nameStyles(name)}>\n                        {name}\n                    </div>\n                    <div className=\"templateBlurp\" dangerouslySetInnerHTML={{ __html: translations.blurb }}></div>\n                    <div className=\"templateListWrap\">\n                        <img src={`/certificate/lsc_line.png`} alt=\"lsc_line\" className=\"templateListLine\" />\n                        <div className=\"templateList\">\n                            <div>{translations.duringThisCourse}</div>\n                            <ul dangerouslySetInnerHTML={{ __html: translations.items }}></ul>\n                        </div>\n                        <img\n                            src={`/certificate/lsc_line.png`}\n                            alt=\"lsc_line\"\n                            className=\"templateListLine\"\n                            style={{ marginTop: '10mm' }}\n                        />\n                    </div>\n                </div>\n                <div\n                    className=\"templateDate\"\n                    style={{ left: '210mm', width: 'auto', bottom: '100mm', ...dateStyles(school, finishedAt) }}\n                >\n                    {school}, <div>{finishedAt}</div>\n                </div>\n            </div>\n        </div>,\n        document.body,\n    )\n}\n\nexport const PdfTemplateBizniscool: React.FC<PdfTemplateProps> = ({\n    translations,\n    school,\n    name,\n    finishedAt,\n    locale,\n    id,\n}) => {\n    const t = useTranslate()\n\n    const blurb = t('certificate::blurb::bizniscool', { name })\n\n    return ReactDOM.createPortal(\n        <div className=\"templateWrap\">\n            <div id={id} className=\"templateRoot\" style={{ fontFamily: getFontFamily(locale) }}>\n                <img className=\"templateFrame\" src={getFrameSrc('bizniscool', locale)} alt=\"\" />\n                <div className=\"templateText\" style={{ top: '115mm' }}>\n                    <div\n                        className={`templateBlurp bizniscoolBlurb ${name.length > 22 && 'bizniscoolBlurbLongName'}`}\n                        dangerouslySetInnerHTML={{ __html: blurb }}\n                    ></div>\n                    <div className=\"templateListWrap\">\n                        <img src={`/certificate/lsc_line.png`} alt=\"lsc_line\" className=\"templateListLine\" />\n                        <div className=\"templateList\">\n                            <div>{translations.duringThisCourse}</div>\n                            <ul dangerouslySetInnerHTML={{ __html: translations.items }}></ul>\n                        </div>\n                        <img\n                            src={`/certificate/lsc_line.png`}\n                            alt=\"lsc_line\"\n                            className=\"templateListLine\"\n                            style={{ marginTop: '10mm' }}\n                        />\n                    </div>\n                </div>\n                <div className=\"templateDate\" style={dateStyles(school, finishedAt)}>\n                    {school}, {finishedAt}\n                </div>\n            </div>\n        </div>,\n        document.body,\n    )\n}\n\nexport const PdfTemplateSpecial: React.FC<\n    PdfTemplateProps & {\n        variant:\n        | 'openday'\n        | 'digitalmission'\n        | 'digitalMission2021'\n        | 'digitalMission2022'\n        | 'digitalMission2023'\n        | 'digitalMission2024'\n        | 'scoolerMission'\n        | 'campChallengeDay'\n        | 'training'\n    }\n> = ({ translations, finishedAt, school, variant, name, locale, id }) => {\n    const t = useTranslate()\n\n    const isWinnerDetails = useSelector(isDmWinner)\n\n    const blurb =\n        variant === 'digitalmission' && isWinnerDetails\n            ? t(`certificate::blurb::digitalmissionWinners::${isWinnerDetails.metadata.prize}` as LocalisationKey)\n            : translations.blurb\n\n    return ReactDOM.createPortal(\n        <div className=\"templateWrap\">\n            <div\n                id={id}\n                className=\"templateRoot\"\n                style={{ color: variant === 'openday' ? 'black' : undefined, fontFamily: getFontFamily(locale) }}\n            >\n                <img\n                    className=\"templateFrame\"\n                    src={getFrameSrc(variant === 'digitalmission' ? 'digitalmissionWinners' : variant, locale)}\n                    alt=\"\"\n                />\n                <div style={{ top: ['openday', 'training'].includes(variant) ? '210mm' : '240mm' }} className=\"templateText\">\n                    <div className=\"templateName\" style={nameStyles(name)}>\n                        {name}\n                    </div>\n                    <div\n                        style={{ marginTop: '15pt', maxWidth: '250mm' }}\n                        className=\"templateBlurp\"\n                        dangerouslySetInnerHTML={{ __html: blurb }}\n                    ></div>\n                </div>\n                {variant === 'openday' && (\n                    <div\n                        className=\"templateDate\"\n                        style={{ bottom: '170mm', color: 'black', ...dateStyles(school, finishedAt) }}\n                    >\n                        {finishedAt}\n                    </div>\n                )}\n                {!isWinnerDetails && variant === 'digitalmission' && (\n                    <div className=\"templateDate\" style={{ bottom: '150mm', fontSize: '40pt' }}>\n                        Logiscool, {finishedAt}\n                    </div>\n                )}\n                {variant === 'training' && (\n                    <div>\n                        <div className=\"templateDate\" style={{ bottom: '190mm', fontSize: '32pt', fontStyle: 'normal', fontWeight: 400 }}>\n                            Issue Date:\n                        </div>\n                        <div className=\"templateDate\" style={{ bottom: '170mm', fontSize: '38pt', fontStyle: 'normal', }}>\n                            {finishedAt}\n                        </div>\n                        <div className=\"templateDate\" style={{ bottom: '150mm', fontSize: '32pt', fontStyle: 'normal', fontWeight: 400 }}>\n                            Issued by:\n                        </div>\n                        <div className=\"templateDate\" style={{ bottom: '130mm', fontSize: '38pt', fontStyle: 'normal', }}>\n                            {school || 'Logiscool'}\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>,\n        document.body,\n    )\n}\n\nconst PdfTemplateWorkshop: React.FC<PdfTemplateProps & { variant: FrameType }> = ({\n    translations,\n    school,\n    name,\n    finishedAt,\n    variant,\n    locale,\n    id,\n}) => {\n    return ReactDOM.createPortal(\n        <div className=\"templateWrap\">\n            <div id={id} className=\"templateRoot\" style={{ fontFamily: getFontFamily(locale) }}>\n                <img className=\"templateFrame\" src={getFrameSrc(variant, locale)} alt=\"\" />\n                <div className=\"templateText\" style={{ top: '180mm' }}>\n                    <div className=\"templateName\" style={nameStyles(name)}>\n                        {name}\n                    </div>\n                    <div\n                        className=\"templateBlurp\"\n                        style={{ maxWidth: '240mm' }}\n                        dangerouslySetInnerHTML={{ __html: translations.blurb }}\n                    ></div>\n                    <div className=\"templateListWrap\" style={{ marginTop: '20mm' }}>\n                        <img src={`/certificate/lsc_line.png`} alt=\"lsc_line\" className=\"templateListLine\" />\n                        <div className=\"templateList\">\n                            <div>{translations.duringThisWorkshop}</div>\n                            <ul dangerouslySetInnerHTML={{ __html: translations.items }}></ul>\n                        </div>\n                        <img\n                            src={`/certificate/lsc_line.png`}\n                            alt=\"lsc_line\"\n                            className=\"templateListLine\"\n                            style={{ marginTop: '10mm' }}\n                        />\n                    </div>\n                </div>\n                <div className=\"templateDate\" style={dateStyles(school, finishedAt)}>\n                    {school}, {finishedAt}\n                </div>\n            </div>\n        </div>,\n        document.body,\n    )\n}\n\nexport const dateStyles = (school: string, finishedAt: string): React.CSSProperties => {\n    const isLong = school.length + finishedAt.length > 38\n    return {\n        fontSize: isLong ? '32pt' : '40pt',\n    }\n}\n\nexport const nameStyles = (name: string): React.CSSProperties => {\n    const isLong = name.length > 22\n    return {\n        fontSize: isLong ? '55pt' : '74pt',\n    }\n}\n\nexport const getFontFamily = (locale: string) => {\n    try {\n        if (new Intl.Locale(locale).language === 'bg') {\n            return 'Roboto, sans-serif'\n        }\n    } catch (e) {\n        console.error(e)\n    }\n    return 'Raleway, sans-serif'\n}\n\ntype FrameType =\n    | 'blox'\n    | 'mix'\n    | 'a0'\n    | 'text'\n    | 'robot'\n    | 'robotPrime'\n    | 'video'\n    | 'design'\n    | 'minecraft'\n    | 'courseMinecraftModding'\n    | 'campMinecraftModding'\n    | 'MinecraftMaze'\n    | 'MinecraftMovie'\n    | 'kodu'\n    | 'ai'\n    | 'aiPython'\n    | 'aiBasic'\n    | 'courseGenAI'\n    | 'campGenAI'\n    | 'rpg'\n    | 'bizniscool'\n    | 'roblox'\n    | 'RobloxMultiverse'\n    | 'openday'\n    | 'digitalmission'\n    | 'digitalmissionWinners'\n    | 'workshop3d'\n    | 'course3DDesign'\n    | 'camp3DDesign'\n    | 'workshopApp'\n    | 'courseAppCreation'\n    | 'campAppCreation'\n    | 'workshopIllustration'\n    | 'courseDigitalIllustration'\n    | 'campDigitalIllustration'\n    | 'workshopMinecraft'\n    | 'digitalDiscovery'\n    | 'digitalMission2021'\n    | 'digitalMission2022'\n    | 'digitalMission2023'\n    | 'digitalMission2024'\n    | 'scoolerMission'\n    | 'workshopImagicharm'\n    | 'courseImagiCharm'\n    | 'campImagiCharm'\n    | 'campChallengeDay'\n    | 'explorerJuniorSpike'\n    | 'explorerJuniorWedo'\n    | 'explorerJuniorBeebot'\n    | 'explorerCreative'\n    | 'explorerGamer'\n    | 'training'\n\nconst getFrameSrc = (type: FrameType, locale: string) => {\n    return `${api.baseUrl}/certificates/frame-image-for-kind?kind=${type}&locale=${locale}`\n}\n","import { TrainerIcon, MedalIcon } from 'components/icons'\nimport { Tooltip } from 'components/Tooltip'\nimport { ApiTypes } from 'lib/api'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface UserBadgeProps {\n    user: ApiTypes['account']\n    className?: string\n}\n\nexport const UserBadge: React.FC<UserBadgeProps> = ({ user, ...rest }) => {\n    const t = useTranslate()\n\n    if (user.primaryKind === 'developer' || user.primaryKind === 'trainer' || user.primaryKind === 'contributor') {\n        return (\n            <>\n                <Tooltip title={t('general::instructor')}>\n                    <span>\n                        <StyledTrainerIcon {...rest} />\n                    </span>\n                </Tooltip>\n                {user.trainingCertificates && user.trainingCertificates.includes('certified-trainer') &&\n                    <Tooltip title={t('general::certified')}>\n                        <span>\n                            <StyledMedalIcon {...rest} />\n                        </span>\n                    </Tooltip>\n                }\n            </>\n        )\n    }\n\n    return null\n}\n\nconst StyledTrainerIcon = styled(TrainerIcon)`\n    vertical-align: middle;\n    margin: 0;\n    /* color: ${props => props.theme.palette.primary.main}; */\n`\nconst StyledMedalIcon = styled(MedalIcon)`\n    vertical-align: middle;\n    margin: 0;\n    max-height: 0.7em;\n    /* color: ${props => props.theme.palette.primary.main}; */\n`\n","import { EditIcon } from 'components/icons'\nimport { AvatarBrowserDialog, avatarBrowserDialogTo, AvatarProps, CurrentUserAvatar } from 'features/avatar'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { visuallyHidden } from 'utils/styleUtils'\n\nexport const EditableAvatar: React.FC<Omit<AvatarProps, 'src'>> = props => {\n    const t = useTranslate()\n\n    return (\n        <>\n            <Root>\n                <CurrentUserAvatar {...props} />\n                <Overlay to={avatarBrowserDialogTo}>\n                    <Label>{t('settings::changeProfilePicture')}</Label>\n                    <EditIcon color=\"#fff\" />\n                </Overlay>\n            </Root>\n            <AvatarBrowserDialog />\n        </>\n    )\n}\n\nconst Label = styled.span`\n    ${visuallyHidden}\n`\n\nconst Overlay = styled(Link)`\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: rgba(0, 0, 0, 0.4);\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    font-size: ${props => props.theme.typography.h3.fontSize};\n    transition: opacity ${props => props.theme.transitions.duration.short}ms;\n    opacity: 0;\n    &:hover,\n    &:focus-visible {\n        opacity: 1;\n    }\n`\n\nconst Root = styled.div`\n    position: relative;\n`\n","import { Stack, WrappingInline } from 'components/layout'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { Inline } from 'components/layout'\nimport { ApiTypes } from 'lib/api'\nimport { Avatar } from 'features/avatar'\nimport { createAvatarUrl } from 'features/avatar'\nimport { Skeleton } from 'components/Skeleton'\nimport { Text } from 'components/Text'\nimport { LocationIcon } from 'components/icons'\nimport { getUserPrivateName, getUserPublicName, useHasShowAdvancedStats } from 'contexts/UserContext'\nimport { UserBadge } from './UserBadge'\nimport { EditableAvatar } from './EditableAvatar'\n\ntype ProfileCardProps = {\n    user: ApiTypes['account']\n    defaultSchool?: string\n    follow: React.ReactNode\n    isOwn: boolean\n}\n\nexport const ProfileCard: React.FC<ProfileCardProps> = ({ user, children, follow, isOwn, defaultSchool }) => {\n    const name = isOwn ? getUserPrivateName(user) : getUserPublicName(user)\n    const hasShowAdvancedStats = useHasShowAdvancedStats()\n\n    return (\n        <Root>\n            <Inner spacing={6}>\n                <div>\n                    {isOwn ? (\n                        <EditableAvatar size=\"large\" />\n                    ) : (\n                        <Avatar size=\"large\" src={createAvatarUrl(user.profileImage)} />\n                    )}\n                </div>\n                <Stack>\n                    <div>\n                        <Username variant=\"h3\" component=\"h2\">\n                            <WrappingInline spacing={1} alignItems=\"center\">\n                                <Inline spacing={1}>\n                                    <span>{name}</span> {<UserBadge user={user} />}\n                                </Inline>\n                                {!isOwn && hasShowAdvancedStats && (\n                                    <Username component=\"span\" color=\"textSecondary\">\n                                        ({user.username})\n                                    </Username>\n                                )}\n                            </WrappingInline>\n                        </Username>\n\n                        {!!defaultSchool && (\n                            <Text variant=\"caption\">\n                                <StyledLocationIcon /> {defaultSchool}\n                            </Text>\n                        )}\n                    </div>\n                    <Description>{isOwn ? user.descriptionPending || user.description : user.description}</Description>\n                    {follow}\n                </Stack>\n            </Inner>\n            {children}\n        </Root>\n    )\n}\n\nexport const ProfileCardSkeleton: React.FC = () => {\n    return (\n        <Root>\n            <Inner spacing={6}>\n                <Skeleton variant=\"rect\" width=\"8rem\" height=\"8rem\"></Skeleton>\n                <Stack flexGrow=\"1\">\n                    <Skeleton height=\"2rem\" width=\"8rem\"></Skeleton>\n                    <Skeleton></Skeleton>\n                    <Skeleton></Skeleton>\n                </Stack>\n            </Inner>\n        </Root>\n    )\n}\n\nconst Inner = styled(Inline)`\n    display: flex;\n    align-items: flex-start;\n`\n\nconst Username = styled(Text)`\n    line-height: 1.2;\n    word-break: break-word;\n` as typeof Text\n\nconst Description = styled(Text)`\n    word-break: break-word;\n    white-space: pre-line;\n`\n\nconst Root = styled.div`\n    width: 100%;\n    max-width: 40rem;\n`\n\nconst StyledLocationIcon = styled(LocationIcon)`\n    vertical-align: middle;\n    color: ${props => props.theme.palette.text.hint};\n`\n","import { EmptyState } from 'components/EmptyState'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { Loader } from 'components/Loader'\nimport { PublicProjectCard } from 'features/projects'\nimport { ApiTypes } from 'lib/api'\nimport { useSelector } from 'lib/store'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { useSharedProjectsQuery } from 'features/projects'\nimport { canUserCreateShareableProject, useUserState } from 'contexts/UserContext'\nimport { PoorMansSuspenseTicker, usePoorMansSuspenseTick } from 'hooks/usePoorMansSuspense'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Stack } from 'components/layout'\nimport { GhostIcon, ProjectIcon, WizardHatIcon } from 'components/icons'\nimport { opacify, transparentize } from 'polished'\nimport { useMiniQuizAccessLevel } from 'features/mini-quizzes/helpers/miniQuizHelpers'\nimport { PublicMiniQuizCard } from 'features/mini-quizzes'\nimport { Panel, PanelActions, PanelHeader, PanelMoreButton, PanelTitle } from 'components/panel'\n\ninterface SharedProjectListProps extends PoorMansSuspenseTicker {\n    user: ApiTypes['account']\n    isOwn?: boolean\n}\n\nexport const SharedProjectList: React.FC<SharedProjectListProps> = props => {\n    const { user, onReady, isOwn } = props\n    const allProjects = useSelector(state => state.projects.all)\n    const { data: results, status } = useSharedProjectsQuery(user.id)\n    const t = useTranslate()\n\n    usePoorMansSuspenseTick(status !== 'loading', onReady)\n    if (status === 'error') {\n        return <ErrorMessage />\n    }\n\n    if (!results) {\n        return <Loader />\n    }\n\n    const projects = results.data.map(({ id }) => allProjects[id]).filter(project => !!project)\n\n    const normalProjects = projects.filter(project => !project.metadata.isMiniQuiz)\n    const miniQuizzes = projects.filter(project => project.metadata.isMiniQuiz)\n\n    if (isOwn && projects.length === 0) {\n        return <SharedProjectListEmptyState />\n    }\n\n    return (\n        <>\n            {normalProjects.length > 0 && (\n                <Panel>\n                    <PanelHeader>\n                        <PanelTitle>{t('projects::sharedProjects')}</PanelTitle>\n                        {isOwn && (\n                            <PanelActions>\n                                <PanelMoreButton to=\"/app/community/share-project\">\n                                    {t('projects::manageSharedProjects')}\n                                </PanelMoreButton>\n                            </PanelActions>\n                        )}\n                    </PanelHeader>\n                    <Grid>\n                        {normalProjects.map(project => (\n                            <PublicProjectCard key={project.file.id} project={project} user={user} />\n                        ))}\n                    </Grid>\n                </Panel>\n            )}\n            {miniQuizzes.length > 0 && (\n                <Panel>\n                    <PanelHeader>\n                        <PanelTitle>{t('miniQuiz::sharedQuizzes')}</PanelTitle>\n                        {isOwn && (\n                            <PanelActions>\n                                <PanelMoreButton to=\"/app/community/share-project#quizzes\">\n                                    {t('miniQuiz::manageSharedQuizzes')}\n                                </PanelMoreButton>\n                            </PanelActions>\n                        )}\n                    </PanelHeader>\n                    <Stack>\n                        {miniQuizzes.map(project => (\n                            <PublicMiniQuizCard key={project.file.id} project={project} user={user} />\n                        ))}\n                    </Stack>\n                </Panel>\n            )}\n        </>\n    )\n}\n\ntype EmptyStateVariant = 'project' | 'mini-quiz'\n\nconst SharedProjectListEmptyState: React.FC = () => {\n    const t = useTranslate()\n    const user = useUserState()\n    const canShareProject = canUserCreateShareableProject(user)\n    const canShareMiniQuiz = useMiniQuizAccessLevel() === 'full'\n\n    if (!canShareProject && !canShareMiniQuiz) {\n        return null\n    }\n\n    const variant: EmptyStateVariant = canShareProject ? 'project' : 'mini-quiz'\n\n    const titles: Record<EmptyStateVariant, string> = {\n        project: 'projects::sharedProjects',\n        'mini-quiz': 'miniQuiz::projects',\n    }\n    const buttonLabels: Record<EmptyStateVariant, string> = {\n        project: 'projects::shareProject',\n        'mini-quiz': 'miniQuiz::shareMiniQuiz',\n    }\n    const descriptions: Record<EmptyStateVariant, string> = {\n        project: 'projects::shareEmptyState',\n        'mini-quiz': 'projects::shareEmptyStateQuiz',\n    }\n    const gridComponents: Record<EmptyStateVariant, React.FC> = {\n        project: Grid,\n        'mini-quiz': Stack,\n    }\n    const GridComponent = gridComponents[variant]\n\n    return (\n        <Panel>\n            <PanelHeader>\n                <PanelTitle>{t(titles[variant])}</PanelTitle>\n                <PanelActions>\n                    <PanelMoreButton to=\"/app/community/share-project\">{t(buttonLabels[variant])}</PanelMoreButton>\n                </PanelActions>\n            </PanelHeader>\n            <Stack>\n                <EmptyState>{t(descriptions[variant])}</EmptyState>\n                <GridComponent>\n                    <EmptyStateItem $variant={variant}>\n                        <ProjectIcon />\n                    </EmptyStateItem>\n                    <EmptyStateItem $variant={variant}>\n                        <WizardHatIcon />\n                    </EmptyStateItem>\n                    <EmptyStateItem $variant={variant}>\n                        <GhostIcon />\n                    </EmptyStateItem>\n                </GridComponent>\n            </Stack>\n        </Panel>\n    )\n}\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(18rem, 1fr));\n    gap: ${props => props.theme.spacing(6)};\n`\n\nconst EmptyStateItem = styled.div<{ $variant: EmptyStateVariant }>`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: ${props => (props.$variant === 'project' ? '4rem' : '2rem')};\n    height: ${props => (props.$variant === 'project' ? '12.5rem' : '4.5rem')};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    border: solid 2px ${props => transparentize(0.96, opacify(1, props.theme.palette.text.primary))};\n    background-color: ${props => transparentize(0.96, opacify(1, props.theme.palette.text.primary))};\n    color: ${props => transparentize(0.88, opacify(1, props.theme.palette.text.primary))};\n`\n","import { FavoriteIcon, ViewIcon } from 'components/icons'\nimport { Loader } from 'components/Loader'\nimport { StatCard } from 'components/stat'\nimport { currencyStyles } from 'features/projects/currencyStyles'\nimport { PoorMansSuspenseTicker, usePoorMansSuspenseTick } from 'hooks/usePoorMansSuspense'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useSelector } from 'lib/store'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { useUserStatisticQuery } from './useUserStatisticQuery'\n\ninterface MyStatsProps extends PoorMansSuspenseTicker {}\n\nexport const MyProfilStats: React.FC<MyStatsProps> = ({ onReady }) => {\n    const cookies = useSelector(state => state.client.statistics['@SYSTEM/TotalCurrency:cookie-received'])\n    const goldenCookies = useSelector(state => state.client.statistics['@SYSTEM/TotalCurrency:golden-cookie-received'])\n    const views = useSelector(state => state.client.statistics['@SYSTEM:view-received'])\n    const publicViews = useSelector(state => state.client.statistics['@SYSTEM:public-view-received'])\n    const favorites = useSelector(state => state.client.statistics['@SYSTEM:like-received'])\n\n    const isReady = [cookies, views, favorites, publicViews, goldenCookies].every(stat => stat !== undefined)\n\n    usePoorMansSuspenseTick(isReady, onReady)\n\n    if (!isReady) {\n        return <Loader />\n    }\n\n    return (\n        <ProfileStats\n            cookies={cookies!}\n            goldenCookies={goldenCookies!}\n            views={views! + publicViews!}\n            favorites={favorites!}\n        />\n    )\n}\n\ninterface UserProfilStatsProps extends PoorMansSuspenseTicker {\n    userId: string\n}\n\nexport const UserProfilStats: React.FC<UserProfilStatsProps> = ({ onReady, userId }) => {\n    const { data: userStat, status: userStatStatus } = useUserStatisticQuery(userId)\n\n    usePoorMansSuspenseTick(userStatStatus !== 'loading', onReady)\n\n    return (\n        <ProfileStats\n            cookies={userStat?.totalCookiesReceived ?? 0}\n            goldenCookies={userStat?.totalGoldenCookiesReceived ?? 0}\n            views={(userStat?.totalViewsReceived ?? 0) + (userStat?.totalPublicViewsReceived ?? 0)}\n            favorites={userStat?.totalLikesReceived ?? 0}\n        />\n    )\n}\n\ninterface ProfileStatsProps {\n    cookies: number\n    goldenCookies: number\n    views: number\n    favorites: number\n}\n\nconst ProfileStats: React.FC<ProfileStatsProps> = ({ cookies, goldenCookies, views, favorites }) => {\n    const t = useTranslate()\n\n    const hasNoStats = [cookies, goldenCookies, views, favorites].every(stat => stat === 0)\n\n    if (hasNoStats) {\n        return null\n    }\n\n    return (\n        <Grid>\n            <StatCard\n                backgroundColor={currencyStyles['golden-cookie'].colors.background.light}\n                title={t('profile::receivedGoldenCookies')}\n                icon={<CookieImage src={currencyStyles['golden-cookie'].icon.colored} />}\n                value={goldenCookies}\n            />\n            <StatCard\n                backgroundColor={currencyStyles.cookie.colors.background.light}\n                title={t('profile::receivedCookies')}\n                icon={<CookieImage src={currencyStyles.cookie.icon.colored} />}\n                value={cookies}\n            />\n            <StatCard\n                color=\"#2d2add\"\n                title={t('profile::projectFavorites')}\n                icon={<FavoriteIcon fontSize=\"1.2em\" />}\n                value={favorites}\n            />\n            <StatCard\n                color=\"#2cc51e\"\n                title={t('profile::projectViews')}\n                icon={<ViewIcon fontSize=\"1.2em\" />}\n                value={views}\n            />\n        </Grid>\n    )\n}\n\nconst CookieImage = styled.img`\n    width: 1.2em;\n`\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(6rem, 1fr));\n    gap: ${props => props.theme.spacing(4)};\n`\n","import { CampIcon } from 'components/icons'\nimport { Panel, PanelHeader, PanelTitle } from 'components/panel'\nimport { Text } from 'components/Text'\nimport { useDateFormat } from 'hooks/useDateFormat'\nimport { CrmUserData } from 'lib/api'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface ProfileSubjectsProps {\n    crmData: CrmUserData\n}\n\nexport const ProfileSubjects: React.FC<ProfileSubjectsProps> = ({ crmData }) => {\n    const { formatDate } = useDateFormat('year-month')\n\n    if (!(crmData.subjectData?.completed && crmData.subjectData.completed.length > 0)) {\n        return null\n    }\n\n    return (\n        <Panel>\n            <PanelHeader>\n                <PanelTitle>Subjects</PanelTitle>\n            </PanelHeader>\n            <StyledUl>\n                {[...crmData.subjectData.completed].reverse().map(subject => (\n                    // @ts-ignore Component prop typing not working\n                    <Item key={subject.submission_id} component=\"li\" $isCurrent={subject.state === 'accepted'}>\n                        {subject.subject_key} {subject.format === 'camp' && <CampIcon />}{' '}\n                        <span>(End date: {formatDate(new Date(subject.endDate))})</span>\n                    </Item>\n                ))}\n            </StyledUl>\n        </Panel>\n    )\n}\n\nconst Item = styled(Text)<{ $isCurrent: boolean }>`\n    font-weight: ${props => (props.$isCurrent ? 800 : undefined)};\n`\n\nconst StyledUl = styled.ul`\n    list-style: none;\n    padding: 0;\n    margin-bottom: 0;\n`\n","import { Dialog, DialogActions, DialogContent, DialogPrimaryButton, DialogTitle } from 'components/dialog'\nimport { Text } from 'components/Text'\nimport { isGuestUser, useUserState } from 'contexts/UserContext'\nimport dayjs from 'dayjs'\nimport { useOnboardingManager } from 'features/onboarding'\nimport { useIsFirstRender } from 'hooks/useIsFirstRender'\nimport { getPasswordChangeOrCreateUrl } from 'lib/auth'\nimport { LocalisationKey } from 'lib/i18n'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React, { createContext, useContext, useCallback, useState, useEffect } from 'react'\n\nconst DISPLAY_INTERVAL_MINUTES = 60\n\ntype Variant = 'login' | 'activity'\n\ninterface SecureAccountPopupState {\n    displaySecureAccountPopup: (variant: Variant) => void\n}\n\nconst secureAccountPopupContext = createContext<SecureAccountPopupState | undefined>(undefined)\n\nexport const SecureAccountPopupPrivder: React.FC = ({ children }) => {\n    const user = useUserState()\n    const isEnabled = isGuestUser(user)\n\n    if (!isEnabled) {\n        return (\n            <secureAccountPopupContext.Provider value={{ displaySecureAccountPopup: noop }}>\n                {children}\n            </secureAccountPopupContext.Provider>\n        )\n    }\n\n    return <SecureAccountPopupPrivderInner>{children}</SecureAccountPopupPrivderInner>\n}\n\nconst SecureAccountPopupPrivderInner: React.FC = ({ children }) => {\n    const user = useUserState()\n    const [variant, setVariant] = useState<Variant | null>(null)\n    const isFirstRender = useIsFirstRender()\n    const { isOpen: isOnboardingOpen } = useOnboardingManager()\n\n    const { hasBeenDisplayedInNMinutes, updateLastDisplayed } = useLastDisplayed(user.account.id)\n\n    const displaySecureAccountPopup: SecureAccountPopupState['displaySecureAccountPopup'] = useCallback(\n        variant => {\n            if (hasBeenDisplayedInNMinutes(DISPLAY_INTERVAL_MINUTES)) {\n                return\n            }\n            setVariant(variant)\n            updateLastDisplayed()\n        },\n        [updateLastDisplayed, hasBeenDisplayedInNMinutes],\n    )\n\n    useEffect(() => {\n        if (isFirstRender && !isOnboardingOpen) {\n            displaySecureAccountPopup('login')\n        }\n    }, [displaySecureAccountPopup, isFirstRender, isOnboardingOpen])\n\n    return (\n        <secureAccountPopupContext.Provider value={{ displaySecureAccountPopup }}>\n            {children}\n            {variant !== null && (\n                <SecureYourAccountDialog\n                    variant={variant}\n                    onClose={() => {\n                        setVariant(null)\n                    }}\n                />\n            )}\n        </secureAccountPopupContext.Provider>\n    )\n}\n\ninterface SecureYourAccountDialogProps {\n    variant: Variant\n    onClose: VoidFunction\n}\n\nconst SecureYourAccountDialog: React.FC<SecureYourAccountDialogProps> = ({ variant, onClose }) => {\n    const t = useTranslate()\n    const user = useUserState()\n\n    const titleByVariant: Record<Variant, LocalisationKey> = {\n        login: 'secureAccountModal::title',\n        activity: 'secureAccountModal::title2',\n    }\n\n    const descriptionByVariant: Record<Variant, LocalisationKey> = {\n        login: 'secureAccountModal::description',\n        activity: 'secureAccountModal::description2',\n    }\n\n    return (\n        <Dialog maxWidth=\"xs\" fullWidth open={true} onClose={onClose}>\n            <DialogTitle>{t(titleByVariant[variant])}</DialogTitle>\n            <DialogContent>\n                <Text>{t(descriptionByVariant[variant])}</Text>\n            </DialogContent>\n            <DialogActions>\n                <DialogPrimaryButton component=\"a\" fullWidth href={getPasswordChangeOrCreateUrl(user)}>\n                    {t('settings::addPassword')}\n                </DialogPrimaryButton>\n            </DialogActions>\n        </Dialog>\n    )\n}\n\nconst LAST_DISPLAYED_KEY = '@my-logiscool/secure-your-account-last-displayed'\n\nconst useLastDisplayed = (userId: string) => {\n    const [lastDisplayedByUserId, setLastDisplayedByUserId] = useState<Record<string, string>>(() => {\n        try {\n            const stored = localStorage.getItem(LAST_DISPLAYED_KEY)\n            if (stored) {\n                return JSON.parse(stored)\n            }\n            return {}\n        } catch (e) {\n            return {}\n        }\n    })\n\n    const updateLastDisplayed = useCallback(() => {\n        setLastDisplayedByUserId(value => ({\n            ...value,\n            [userId]: dayjs().toISOString(),\n        }))\n    }, [userId])\n\n    const hasBeenDisplayedInNMinutes = useCallback(\n        (minutes: number) => {\n            const lastDisplayed = lastDisplayedByUserId[userId]\n\n            if (!lastDisplayed) {\n                return false\n            }\n\n            const lastDisplayedDate = dayjs(lastDisplayed)\n            if (!lastDisplayedDate.isValid()) {\n                return false\n            }\n\n            const displayedMinutesAgo = dayjs().diff(dayjs(lastDisplayed), 'minutes')\n            return displayedMinutesAgo < minutes\n        },\n        [lastDisplayedByUserId, userId],\n    )\n\n    useEffect(() => {\n        if (Object.entries(lastDisplayedByUserId).length !== 0) {\n            localStorage.setItem(LAST_DISPLAYED_KEY, JSON.stringify(lastDisplayedByUserId))\n        }\n    }, [lastDisplayedByUserId])\n\n    return {\n        hasBeenDisplayedInNMinutes,\n        updateLastDisplayed,\n    }\n}\n\nexport const useSecureAccountPopup = () => {\n    const context = useContext(secureAccountPopupContext)\n\n    if (context === undefined) {\n        throw new Error(`'useSecureAccountPopup' must be used within 'SecureAccountPopupPrivder'`)\n    }\n\n    return context\n}\n\nconst noop = () => {}\n","import { useRef } from 'react'\n\nexport function useIsFirstRender() {\n    const isFirst = useRef(true)\n\n    if (isFirst.current) {\n        isFirst.current = false\n\n        return true\n    }\n\n    return isFirst.current\n}\n","export default __webpack_public_path__ + \"static/media/en.a1567bff.jpg\";","export default __webpack_public_path__ + \"static/media/default.3f7e20db.png\";","export default __webpack_public_path__ + \"static/media/bg-BG.8c813a82.jpg\";","export default __webpack_public_path__ + \"static/media/cz-CZ.e0d59ef5.jpg\";","export default __webpack_public_path__ + \"static/media/de-CH.66f593e0.jpg\";","export default __webpack_public_path__ + \"static/media/de-DE.9b3ce27b.jpg\";","export default __webpack_public_path__ + \"static/media/en.654a5656.jpg\";","export default __webpack_public_path__ + \"static/media/es-ES.fe9142ed.jpg\";","export default __webpack_public_path__ + \"static/media/es-MX.fe9142ed.jpg\";","export default __webpack_public_path__ + \"static/media/hu-HU.35ced4ac.jpg\";","export default __webpack_public_path__ + \"static/media/ro-RO.5683f428.jpg\";","export default __webpack_public_path__ + \"static/media/fr-BE.94ff0415.jpg\";","export default __webpack_public_path__ + \"static/media/es-CO.e094ca8b.jpg\";","export default __webpack_public_path__ + \"static/media/1.0a0590ed.jpg\";","export default __webpack_public_path__ + \"static/media/2.62edc760.jpg\";","export default __webpack_public_path__ + \"static/media/3.02140420.jpg\";","export default __webpack_public_path__ + \"static/media/4.8c6a7c58.jpg\";","export default __webpack_public_path__ + \"static/media/5.048be3fe.jpg\";","export default __webpack_public_path__ + \"static/media/6.24fb1b04.jpg\";","import React from 'react'\nimport Slider from 'react-slick'\nimport styled from 'styled-components/macro'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport img1 from '../media/slider/1.jpg'\nimport img2 from '../media/slider/2.jpg'\nimport img3 from '../media/slider/3.jpg'\nimport img4 from '../media/slider/4.jpg'\nimport img5 from '../media/slider/5.jpg'\nimport img6 from '../media/slider/6.jpg'\nimport { Text } from 'components/Text'\nimport { LeftAngleIcon, RightAngleIcon } from 'components/icons'\nimport { Paper } from 'components/Paper'\n\nexport const OpenDayCarousel: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <Root>\n            <Slider\n                autoplaySpeed={4000}\n                speed={1000}\n                autoplay\n                prevArrow={\n                    <Arrow>\n                        <LeftAngleIcon />\n                    </Arrow>\n                }\n                nextArrow={\n                    <Arrow>\n                        <RightAngleIcon />\n                    </Arrow>\n                }\n            >\n                <CarouselItem\n                    backgroundColor=\"#043556\"\n                    color=\"#fff\"\n                    text={t('OpendayWhatsnew::Whyus::content2')}\n                    image={img2}\n                />\n                <CarouselItem\n                    backgroundColor=\"#fff\"\n                    color=\"#000\"\n                    text={t('OpendayWhatsnew::Whyus::content1')}\n                    image={img1}\n                />\n                <CarouselItem\n                    backgroundColor=\"#91b329\"\n                    color=\"#fff\"\n                    text={t('OpendayWhatsnew::Whyus::content6')}\n                    image={img6}\n                />\n                <CarouselItem\n                    backgroundColor=\"#dee6e7\"\n                    color=\"#000\"\n                    text={t('OpendayWhatsnew::Whyus::content4')}\n                    image={img4}\n                />\n                <CarouselItem\n                    backgroundColor=\"#043556\"\n                    color=\"#fff\"\n                    text={t('OpendayWhatsnew::Whyus::content3')}\n                    image={img3}\n                />\n                <CarouselItem\n                    backgroundColor=\"#fff\"\n                    color=\"#000\"\n                    text={t('OpendayWhatsnew::Whyus::content5')}\n                    image={img5}\n                />\n            </Slider>\n        </Root>\n    )\n}\n\ninterface CarouselItemProps {\n    text: string\n    image: string\n    backgroundColor: string\n    color: string\n}\n\nconst CarouselItem: React.FC<CarouselItemProps> = ({ text, image, color, backgroundColor }) => {\n    return (\n        <ItemRoot color={color} backgroundColor={backgroundColor}>\n            <ItemImgWrap backgroundColor={backgroundColor}>\n                <ItemImg src={image} alt=\"\" />\n            </ItemImgWrap>\n            <ItemText variant=\"h1\">{text}</ItemText>\n        </ItemRoot>\n    )\n}\n\nconst ItemImgWrap = styled.div<{ backgroundColor: string }>`\n    position: relative;\n    &:after {\n        content: '';\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 20%;\n        height: 100%;\n        background: linear-gradient(to right, transparent, ${props => props.backgroundColor});\n    }\n`\n\nconst Arrow = styled.button`\n    background: none;\n    border: none;\n    font-size: ${props => props.theme.typography.h1.fontSize};\n    color: ${props => props.theme.palette.text.primary};\n`\n\nconst ItemImg = styled.img`\n    max-width: 100%;\n`\n\nconst ItemText = styled(Text)`\n    padding: ${props => props.theme.spacing(4, 10, 4, 0)};\n    text-align: right;\n`\n\nconst ItemRoot = styled(Paper)<{ backgroundColor: string; color: string }>`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    align-items: center;\n    background-color: ${props => props.backgroundColor};\n    color: ${props => props.color};\n    overflow: hidden;\n    margin-left: ${props => props.theme.spacing(4)};\n    margin-right: ${props => props.theme.spacing(4)};\n`\n\nconst Root = styled.div`\n    .slick-slider {\n        margin-left: -${props => props.theme.spacing(4)};\n        margin-right: -${props => props.theme.spacing(4)};\n        position: relative;\n        display: block;\n        box-sizing: border-box;\n        user-select: none;\n        touch-action: pan-y;\n    }\n\n    .slick-list {\n        position: relative;\n        display: block;\n        overflow: hidden;\n        margin: 0;\n        padding: 0;\n        border-radius: ${props => props.theme.shape.borderRadius}px;\n        padding-bottom: 2px;\n    }\n    .slick-list:focus {\n        outline: none;\n    }\n    .slick-list.dragging {\n        cursor: pointer;\n        cursor: hand;\n    }\n\n    .slick-slider .slick-track,\n    .slick-slider .slick-list {\n        transform: translate3d(0, 0, 0);\n    }\n\n    .slick-track {\n        position: relative;\n        top: 0;\n        left: 0;\n        display: block;\n        margin-left: auto;\n        margin-right: auto;\n    }\n    .slick-track:before,\n    .slick-track:after {\n        display: table;\n        content: '';\n    }\n    .slick-track:after {\n        clear: both;\n    }\n    .slick-loading .slick-track {\n        visibility: hidden;\n    }\n    .slick-slide {\n        display: none;\n        float: left;\n        height: 100%;\n        min-height: 1px;\n    }\n    .slick-slide img {\n        display: block;\n    }\n    .slick-slide.slick-loading img {\n        display: none;\n    }\n    .slick-slide.dragging img {\n        pointer-events: none;\n    }\n    .slick-initialized .slick-slide {\n        display: block;\n    }\n    .slick-loading .slick-slide {\n        visibility: hidden;\n    }\n    .slick-arrow.slick-hidden {\n        display: none;\n    }\n\n    .slick-prev,\n    .slick-next {\n        position: absolute;\n        top: 50%;\n        display: block;\n        cursor: pointer;\n        ${props => props.theme.breakpoints.down('md')} {\n            display: none !important;\n        }\n    }\n    .slick-prev {\n        left: 0;\n        transform: translate(-100%, -50%);\n    }\n\n    .slick-next {\n        right: 0;\n        transform: translate(100%, -50%);\n    }\n`\n","import { Card, CardContent } from 'components/card'\nimport { Stack } from 'components/layout'\nimport { useUserState } from 'contexts/UserContext'\nimport Block01ImageEn from '../media/block_01/en.jpg'\nimport Block02Image from '../media/block_02/default.png'\nimport React from 'react'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Text } from 'components/Text'\nimport styled from 'styled-components/macro'\nimport Block03Image_bg_BG from '../media/block_03/bg-BG.jpg'\nimport Block03Image_cz_CZ from '../media/block_03/cz-CZ.jpg'\nimport Block03Image_de_CH from '../media/block_03/de-CH.jpg'\nimport Block03Image_de_DE from '../media/block_03/de-DE.jpg'\nimport Block03Image_en from '../media/block_03/en.jpg'\nimport Block03Image_es_ES from '../media/block_03/es-ES.jpg'\nimport Block03Image_es_MX from '../media/block_03/es-MX.jpg'\nimport Block03Image_hu_HU from '../media/block_03/hu-HU.jpg'\nimport Block03Image_ro_RO from '../media/block_03/ro-RO.jpg'\nimport Block03Image_fr_BE from '../media/block_03/fr-BE.jpg'\nimport Block03Image_es_CO from '../media/block_03/es-CO.jpg'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { MeetingList } from 'features/meetings'\nimport { PoorMansSuspenseRenderer, usePoorMansSuspense } from 'hooks/usePoorMansSuspense'\nimport { OpenDayCarousel } from './OpenDayCarousel'\n\nexport const OpenDayWelcome: React.FC = () => {\n    const user = useUserState()\n    const t = useTranslate()\n    const locale = user.i18n.locale\n    const { isReady, tick } = usePoorMansSuspense(1)\n\n    const contentBlock03Image = imageBlock03[locale] ?? Block03Image_en\n\n    return (\n        <PoorMansSuspenseRenderer isReady={isReady}>\n            <Stack spacing={8}>\n                <Stack maxWidth={800} margin=\"0 auto\" spacing={8}>\n                    <ErrorBoundary silent>\n                        <MeetingList onReady={tick} />\n                    </ErrorBoundary>\n                    <ContentBlock01>\n                        <CardContent>\n                            <Stack spacing={4}>\n                                <Text\n                                    dangerouslySetInnerHTML={{ __html: t('OpendayWhatsnew::Welcome::title') }}\n                                    variant=\"h1\"\n                                    component=\"h3\"\n                                ></Text>\n                                <Text>{t('OpendayWhatsnew::Welcome::content1')}</Text>\n                            </Stack>\n                        </CardContent>\n                        <Image width=\"1920\" height=\"1080\" loading=\"lazy\" src={Block01ImageEn} />\n                    </ContentBlock01>\n                    <ContentBlock02>\n                        <Image loading=\"lazy\" src={Block02Image} />\n                        <CardContent>\n                            <Stack spacing={4}>\n                                <Text\n                                    dangerouslySetInnerHTML={{\n                                        __html: t('OpendayWhatsnew::Extraordinaryschool::title'),\n                                    }}\n                                    variant=\"h1\"\n                                    component=\"h3\"\n                                />\n                                <Text\n                                    dangerouslySetInnerHTML={{\n                                        __html: t('OpendayWhatsnew::Extraordinaryschool::content1'),\n                                    }}\n                                />\n                            </Stack>\n                        </CardContent>\n                    </ContentBlock02>\n                    <OpenDayCarousel />\n                    <ContentBlock03>\n                        <CardContent>\n                            <Text\n                                dangerouslySetInnerHTML={{ __html: t('OpendayWhatsnew::Trainers::title') }}\n                                variant=\"h1\"\n                                component=\"h3\"\n                            />\n                        </CardContent>\n                        <Image loading=\"lazy\" src={contentBlock03Image} />\n                    </ContentBlock03>\n                </Stack>\n            </Stack>\n        </PoorMansSuspenseRenderer>\n    )\n}\n\nconst imageBlock03: Record<string, string> = {\n    'bg-BG': Block03Image_bg_BG,\n    'cz-CZ': Block03Image_cz_CZ,\n    'de-CH': Block03Image_de_CH,\n    'de-DE': Block03Image_de_DE,\n    'es-ES': Block03Image_es_ES,\n    'es-MX': Block03Image_es_MX,\n    'hu-HU': Block03Image_hu_HU,\n    'en-US': Block03Image_en,\n    'ro-RO': Block03Image_ro_RO,\n    'fr-BE': Block03Image_fr_BE,\n    'es-CO': Block03Image_es_CO,\n}\n\nconst Image = styled.img`\n    max-width: 100%;\n    background-color: ${props => props.theme.palette.divider};\n    display: block;\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n`\n\nconst ContentBlock01 = styled(Card)`\n    display: flex;\n    flex-direction: column;\n`\n\nconst ContentBlock03 = styled(Card)`\n    display: flex;\n    flex-direction: column;\n`\n\nconst ContentBlock02 = styled(Card)`\n    display: grid;\n    grid-template-columns: 1fr 2fr;\n    grid-gap: ${props => props.theme.spacing(4)};\n\n    ul {\n        margin: 0;\n        padding-left: ${props => props.theme.spacing(4)};\n    }\n\n    li:nth-of-type(n + 1)::marker {\n        color: #249ddf;\n    }\n    li:nth-of-type(n + 2)::marker {\n        color: #c4d706;\n    }\n    li:nth-of-type(n + 3)::marker {\n        color: #ae0550;\n    }\n\n    ${props => props.theme.breakpoints.down('xs')} {\n        display: flex;\n        flex-direction: column;\n    }\n`\n","export default __webpack_public_path__ + \"static/media/open-day-email.0833a9c4.svg\";","import React from 'react'\nimport { Alert } from '@material-ui/lab'\n\nexport const SuccessMessage: React.FC = ({ children }) => {\n    return <Alert severity=\"success\">{children}</Alert>\n}\n","import { Button, ButtonProps } from 'components/Button'\nimport { Dialog, DialogForm, DialogPrimaryButton, DialogSecondaryButton, DialogTitle } from 'components/dialog'\nimport { TextField } from 'components/form'\nimport { Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport illustrationImg from '../media/open-day-email.svg'\nimport React, { useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { isGuestOrRegisteredGuestUser, useUserState } from 'contexts/UserContext'\nimport { useForm } from 'react-hook-form'\nimport { api } from 'lib/api'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { SuccessMessage } from 'components/SuccessMessage'\n\ntype AskForOpenDayButtonVariant = 'classroom' | 'general' | 'coding'\n\ninterface AskForOpenDayButtonProps {\n    buttonProps?: ButtonProps\n    variant?: AskForOpenDayButtonVariant\n    onClose?: VoidFunction\n}\n\nexport const AskForOpenDayButton: React.FC<AskForOpenDayButtonProps> = ({\n    buttonProps,\n    onClose,\n    variant = 'general',\n}) => {\n    const [isOpen, setIsOpen] = useState(false)\n    const t = useTranslate()\n    const user = useUserState()\n    const isGuestOrRegisteredGuest = isGuestOrRegisteredGuestUser(user)\n\n    if (!isGuestOrRegisteredGuest) {\n        return null\n    }\n\n    return (\n        <>\n            <Button\n                onClick={() => {\n                    setIsOpen(true)\n                }}\n                {...buttonProps}\n            >\n                {t(titleByVariant[variant])}\n            </Button>\n            {isOpen && (\n                <AskForOpenDayDialog\n                    variant={variant}\n                    onClose={() => {\n                        onClose?.()\n                        setIsOpen(false)\n                    }}\n                />\n            )}\n        </>\n    )\n}\n\ninterface AskForOpenDayDialogProps {\n    onClose: VoidFunction\n    variant: AskForOpenDayButtonVariant\n}\n\nconst AskForOpenDayDialog: React.FC<AskForOpenDayDialogProps> = ({ onClose, variant }) => {\n    const t = useTranslate()\n    const { handleSubmit, register } = useForm<{ email: string }>()\n    const [status, setStatus] = useState<'idle' | 'loading' | 'error' | 'success'>('idle')\n\n    const onSubmit = handleSubmit(async ({ email }) => {\n        if (status !== 'loading') {\n            setStatus('loading')\n            try {\n                await api.accounts.updateLeadEmail(email)\n                setStatus('success')\n            } catch (e) {\n                console.error(e)\n                setStatus('error')\n            }\n        }\n    })\n\n    return (\n        <Dialog maxWidth=\"sm\" fullWidth open={true} onClose={onClose}>\n            <DialogTitle>{t(titleByVariant[variant])}</DialogTitle>\n            <DialogForm\n                onSubmit={onSubmit}\n                actions={\n                    status === 'success' ? null : (\n                        <>\n                            <DialogSecondaryButton onClick={onClose}>{t('general::cancel')}</DialogSecondaryButton>\n                            <DialogPrimaryButton isLoading={status === 'loading'} type=\"submit\">\n                                {t('general::submit')}\n                            </DialogPrimaryButton>\n                        </>\n                    )\n                }\n            >\n                <Stack>\n                    {status === 'success' ? (\n                        <SuccessMessage>{t('openDayDialog::thankYou')}</SuccessMessage>\n                    ) : (\n                        <>\n                            <Illustration width=\"200\" height=\"160\" src={illustrationImg} alt=\"\" />\n                            <Text>{t(descriptionByVariant[variant])}</Text>\n                            <TextField\n                                ref={register()}\n                                autoFocus\n                                label={t('general::parentemail')}\n                                name=\"email\"\n                                type=\"email\"\n                                inputProps={{ maxLength: 100, required: true }}\n                            />\n                        </>\n                    )}\n                    {status === 'error' && <ErrorMessage />}\n                </Stack>\n            </DialogForm>\n        </Dialog>\n    )\n}\n\nconst Illustration = styled.img`\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n`\n\nconst titleByVariant: Record<AskForOpenDayButtonVariant, string> = {\n    classroom: 'openDayDialog::classroom::title',\n    general: 'openDayDialog::general::title',\n    coding: 'openDayDialog::generalAndCoding::title',\n}\n\nconst descriptionByVariant: Record<AskForOpenDayButtonVariant, string> = {\n    classroom: 'openDayDialog::classroom::description',\n    general: 'openDayDialog::generalAndCoding::description',\n    coding: 'openDayDialog::generalAndCoding::description',\n}\n","import { Card, CardContent } from 'components/card'\nimport { LockIcon } from 'components/icons'\nimport { Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { createProjectThumbnailUrl } from 'features/projects'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { AskForOpenDayButton } from './AskForOpenDayButton'\n\ninterface LimitedProjectModalContentProps {\n    id: string\n}\n\nexport const LimitedProjectModalContent: React.FC<LimitedProjectModalContentProps> = ({ id }) => {\n    const t = useTranslate()\n\n    return (\n        <Root>\n            <Thumbnail src={createProjectThumbnailUrl(id, 'production')} alt=\"\" />\n            <Overlay>\n                <CardContent>\n                    <Stack spacing={6} display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n                        <Stack spacing={2} display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n                            <StyledLockIcon />\n                            <Text variant=\"h3\">{t('onboarding::limitedproject::title')}</Text>\n                            <Text>{t('onboarding::limitedproject::description')} </Text>\n                        </Stack>\n                        <AskForOpenDayButton variant=\"coding\" />\n                    </Stack>\n                </CardContent>\n            </Overlay>\n        </Root>\n    )\n}\n\nconst StyledLockIcon = styled(LockIcon)`\n    font-size: ${props => props.theme.typography.h1.fontSize};\n    opacity: 0.2;\n`\n\nconst Overlay = styled(Card)`\n    position: absolute;\n    max-width: 35rem;\n    text-align: center;\n`\n\nconst Thumbnail = styled.img`\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n    filter: blur(5px) brightness(0.7);\n`\n\nconst Root = styled.div`\n    position: relative;\n    overflow: hidden;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`\n","export default __webpack_public_path__ + \"static/media/locked-bg.6c1d3edd.jpg\";","import { Button } from 'components/Button'\nimport { Card, CardContent } from 'components/card'\nimport { SecretCodeUnlocker } from 'features/secret-code'\nimport { createHashDialog } from 'hooks/createHashDialog'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Dialog, DialogTitle } from 'components/dialog'\nimport { useMyChallengeSetsQuery } from 'features/scoolcode-challenge/data/scoolcodeChallengeQueries'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { Loader } from 'components/Loader'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { ApiTypes } from 'lib/api'\nimport lockedBgImg from '../media/locked-bg.jpg'\nimport styled from 'styled-components/macro'\nimport { Text } from 'components/Text'\nimport { TextBody } from 'components/layout/TextBody'\nimport { PlayIcon, UnlockIcon } from 'components/icons'\nimport { PoorMansSuspenseTicker, usePoorMansSuspenseTick } from 'hooks/usePoorMansSuspense'\nimport { getIdeUrl } from 'lib/api/helpers'\n\nconst [unlockProjectTo, UnlockProjectController] = createHashDialog('unlock-project')\n\nconst OPEN_DAY_CHALLENGE_SETS = [\n    '5d7b9f748eaaff001d2ff3fc',\n    '5d9461d2057622001cb7fd73',\n    '5d9470f29c8710001d8be729',\n    '5fbe672dae37a100087a4349',\n    '612ddbd67cd882fd5498a64b',\n    '612de28b7cd882244d98a651',\n    '612769f730fd7b3cbf008bab',\n    '65a11d68b4e021a30fc57e9b',\n    '68948cf0802fc7701e61539b'\n]\n\nfunction isOpenDayChallengeSet(set: ApiTypes['challenge-set']) {\n    return OPEN_DAY_CHALLENGE_SETS.includes(set.id)\n}\n\ninterface OpenDayChallengeProps extends PoorMansSuspenseTicker {}\n\nexport const OpenDayChallenge: React.FC<OpenDayChallengeProps> = ({ onReady }) => {\n    const { data: challengeSets, status, refetch } = useMyChallengeSetsQuery()\n    usePoorMansSuspenseTick(status === 'success', onReady)\n    const t = useTranslate()\n\n    if (status === 'error') {\n        return <ErrorMessage />\n    }\n\n    if (!challengeSets) {\n        return <Loader />\n    }\n\n    const challengeSet = challengeSets.data\n        .filter(s => !s.locked)\n        .filter(isOpenDayChallengeSet)[0]\n\n    return (\n        <Card>\n            <Grid>\n                <CardContent>\n                    <TextBody>\n                        <Text variant=\"h1\" component=\"h3\">\n                            {t('OpendayClassroom::Openday::title')}\n                        </Text>\n                        <Text>{t('OpendayClassroom::Openday::description')}</Text>\n                    </TextBody>\n                </CardContent>\n\n                {challengeSet ? (\n                    <ProjectRoot as=\"a\" href={getChallengeSetUrl(challengeSet)} target=\"_blank\" rel=\"noreferrer\">\n                        <ProjectOverlay>\n                            <Button startIcon={<PlayIcon />}>{t('projects::openProject')}</Button>\n                        </ProjectOverlay>\n                        <ProjectImg src={challengeSet.coverUrl} />\n                    </ProjectRoot>\n                ) : (\n                    <>\n                        <ProjectRoot to={unlockProjectTo}>\n                            <ProjectOverlay>\n                                <Button startIcon={<UnlockIcon />}>{t('projects::unlockProject')}</Button>\n                            </ProjectOverlay>\n                            <ProjectImg src={lockedBgImg} />\n                        </ProjectRoot>\n                        <UnlockProjectController>\n                            {context => (\n                                <Dialog {...context}>\n                                    <DialogTitle>{t('projects::unlockProject')}</DialogTitle>\n                                    <SecretCodeUnlocker\n                                        primaryLabel={t('projects::unlockProject')}\n                                        close={context.onClose}\n                                        customProcessor={async () => {\n                                            const res = await refetch()\n                                            const challengeSet = res && res.data.filter(isOpenDayChallengeSet)[0]\n                                            if (!challengeSet) {\n                                                return false\n                                            }\n                                            window.open(getChallengeSetUrl(challengeSet))\n                                            context.onClose()\n                                            return true\n                                        }}\n                                    />\n                                </Dialog>\n                            )}\n                        </UnlockProjectController>\n                    </>\n                )}\n            </Grid>\n        </Card>\n    )\n}\n\nconst getChallengeSetUrl = (challengeSet: ApiTypes['challenge-set']) =>\n    getIdeUrl(`/challenge-sets/${challengeSet.id}/challenges/1`)\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: ${props => props.theme.spacing(6)};\n    ${props => props.theme.breakpoints.down('sm')} {\n        grid-template-columns: auto;\n        grid-gap: ${props => props.theme.spacing(4)};\n    }\n`\n\nconst ProjectRoot = styled(Link)`\n    display: block;\n    position: relative;\n    overflow: hidden;\n`\n\nconst ProjectImg = styled.img.attrs({\n    width: 1136,\n    height: 640,\n})`\n    display: block;\n    max-width: 100%;\n    height: 100%;\n    object-fit: cover;\n    background-color: ${props => props.theme.palette.divider};\n`\n\nconst ProjectOverlay = styled.div`\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(35, 35, 35, 0.85);\n`\n","export default __webpack_public_path__ + \"static/media/en.cd19506f.jpg\";","import React from 'react'\nimport { OpenDayChallenge } from './OpenDayChallenge'\nimport { Stack } from 'components/layout'\nimport styled from 'styled-components/macro'\nimport { Card, CardContent } from 'components/card'\nimport { Text } from 'components/Text'\nimport Block04ImageEn from '../media/block_04/en.jpg'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { canUnlockSecretCode, useUserState } from 'contexts/UserContext'\nimport { PoorMansSuspenseRenderer, usePoorMansSuspense } from 'hooks/usePoorMansSuspense'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { MeetingList } from 'features/meetings'\n\nexport const OpenDayClassroom: React.FC = () => {\n    const t = useTranslate()\n    const user = useUserState()\n    const lang = user.i18n.language\n    const { isReady, tick } = usePoorMansSuspense(2)\n    const image = imageBlock04[lang] ?? Block04ImageEn\n    const canUnlockSecret = canUnlockSecretCode(user, 'event-participation')\n\n    return (\n        <PoorMansSuspenseRenderer isReady={isReady}>\n            <Stack spacing={8}>\n                <ErrorBoundary silent>\n                    <MeetingList onReady={tick} />\n                </ErrorBoundary>\n                {canUnlockSecret && <OpenDayChallenge onReady={tick} />}\n                <ContentBlock03>\n                    <CardContent>\n                        <Text\n                            dangerouslySetInnerHTML={{ __html: t('OpendayClassroom::Topics::title') }}\n                            variant=\"h1\"\n                            component=\"h3\"\n                        />\n                    </CardContent>\n                    <Image width=\"1920\" height=\"1634\" loading=\"lazy\" src={image} />\n                </ContentBlock03>\n            </Stack>\n        </PoorMansSuspenseRenderer>\n    )\n}\n\nconst imageBlock04: Record<string, string> = {\n    hu: Block04ImageEn,\n}\n\nconst ContentBlock03 = styled(Card)`\n    display: flex;\n    flex-direction: column;\n`\n\nconst Image = styled.img`\n    background-color: ${props => props.theme.palette.divider};\n    display: block;\n    object-fit: cover;\n    max-width: 100%;\n    width: 100%;\n    height: 100%;\n`\n","export default __webpack_public_path__ + \"static/media/blob-1.bea410db.png\";","export default __webpack_public_path__ + \"static/media/blob-2.42b04b22.png\";","export default __webpack_public_path__ + \"static/media/blob-3.368968ec.png\";","import { Button } from 'components/Button'\nimport { ForwardIcon } from 'components/icons'\nimport { Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { Link, LinkProps } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport blob1Img from '../media/blob-1.png'\nimport blob2Img from '../media/blob-2.png'\nimport blob3Img from '../media/blob-3.png'\n\nexport const GuestWelcomeHero: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <Root>\n            <Blob\n                title={t('guestWelcomeCtas::title01')}\n                img={blob1Img}\n                to=\"/app/events/mylogiscool-mission\"\n                button={<BlobButton backgroundColor=\"#a50050\" color=\"#fff\" top=\"60%\" />}\n            />\n            <Blob\n                title={t('guestWelcomeCtas::title02')}\n                img={blob2Img}\n                to=\"/app/challenges\"\n                button={<BlobButton backgroundColor=\"#c4d600\" color=\"#000\" top=\"30%\" />}\n            />\n            <Blob\n                title={t('guestWelcomeCtas::title03')}\n                img={blob3Img}\n                to=\"/app/community\"\n                button={<BlobButton backgroundColor=\"#009add\" color=\"#fff\" top=\"60%\" />}\n            />\n        </Root>\n    )\n}\n\ninterface BlobProps {\n    title: string\n    img: string\n    button: React.ReactNode\n    to: LinkProps['to']\n}\n\nconst Blob: React.FC<BlobProps> = ({ title, img, button, to }) => {\n    return (\n        <BlobRoot to={to}>\n            <BlobInner>\n                <BlobImgWrap>\n                    {button}\n                    <BlobImg src={img} />\n                </BlobImgWrap>\n                <Title variant=\"h3\">{title}</Title>\n            </BlobInner>\n        </BlobRoot>\n    )\n}\n\ninterface BlobButtonProps {\n    top: string\n    backgroundColor: string\n    color: string\n}\n\nconst BlobButton: React.FC<BlobButtonProps> = ({ top, backgroundColor, color }) => {\n    const t = useTranslate()\n\n    return (\n        <BlobButtonRoot style={{ top }} endIcon={<ForwardIcon />} $backgroundColor={backgroundColor} $color={color}>\n            {t('guestWelcomeCtas::button')}\n        </BlobButtonRoot>\n    )\n}\n\nconst Title = styled(Text)`\n    line-height: 1.3;\n    max-width: 15ch;\n    ${props => props.theme.breakpoints.down('sm')} {\n        max-width: none;\n    }\n`\n\nconst BlobButtonRoot = styled(Button)<{ $backgroundColor: string; $color: string }>`\n    position: absolute;\n    right: 0;\n    font-weight: 800;\n    &,\n    &:hover,\n    &:focus-visible {\n        filter: none;\n        box-shadow: ${props => props.theme.shadows[4]};\n        background: ${props => props.$backgroundColor};\n        color: ${props => props.$color};\n    }\n`\n\nconst BlobImgWrap = styled.div`\n    position: relative;\n`\n\nconst BlobImg = styled.img`\n    max-width: 100%;\n`\n\nconst Root = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(18rem, 1fr));\n    align-items: flex-start;\n    grid-column-gap: ${props => props.theme.spacing(4)};\n    grid-row-gap: ${props => props.theme.spacing(10)};\n`\n\nconst BlobInner = styled(Stack)`\n    position: relative;\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n`\n\nconst BlobRoot = styled(Link)`\n    display: block;\n    color: inherit;\n    text-decoration: none;\n    transition: filter ${props => props.theme.transitions.duration.standard}ms;\n    &:hover,\n    &:focus-visible {\n        filter: brightness(0.9);\n\n        ${BlobButtonRoot} {\n            transform: translateX(5px);\n        }\n    }\n`\n","export default __webpack_public_path__ + \"static/media/space-bg.c4e1dcb0.jpg\";","import React from 'react'\nimport styled from 'styled-components/macro'\nimport bgImg from '../media/space-bg.jpg'\n\nexport const GuestWelcomePageWrapper: React.FC = ({ children }) => {\n    return <Root>{children}</Root>\n}\n\nconst Root = styled.div`\n    background-image: url(${bgImg});\n    background-size: cover;\n    background-attachment: fixed;\n    min-height: 100%;\n    padding: ${props => props.theme.spacing(8, 0, 8, 0)};\n    color: #fff;\n`\n","import { Card } from 'components/card'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface GuestCommunityCloudItemProps {\n    image: string\n}\n\nexport const GuestCommunityCloudItem: React.FC<GuestCommunityCloudItemProps> = ({ children, image }) => {\n    return (\n        <Root>\n            <Badge src={image} /> <span>{children}</span>\n        </Root>\n    )\n}\n\nconst Badge = styled.img`\n    width: 2rem;\n    height: 2rem;\n    object-fit: contain;\n    transform: scale(1.25);\n`\n\nconst Root = styled(Card)`\n    background-color: #fff;\n    color: rgba(0, 0, 0, 0.87);\n    display: inline-grid;\n    grid-template-columns: auto 1fr;\n    grid-gap: ${props => props.theme.spacing(2)};\n    align-items: center;\n    padding-inline-end: ${props => props.theme.spacing(4)};\n    overflow: visible;\n    font-weight: 600;\n    margin: 0.2rem;\n`\n","export default __webpack_public_path__ + \"static/media/bg.dd429fa6.svg\";","export default __webpack_public_path__ + \"static/media/title-bg.f2b36700.svg\";","export default __webpack_public_path__ + \"static/media/logirobi.0bb31613.png\";","import { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { GuestCommunityCloudItem } from './GuestCommunityCloudItem'\nimport badge1Img from '../media/badge-1.png'\nimport badge2Img from '../media/badge-2.png'\nimport badge3Img from '../media/badge-3.png'\nimport badge4Img from '../media/badge-4.png'\nimport badge5Img from '../media/badge-5.png'\nimport badge6Img from '../media/badge-6.png'\nimport badge7Img from '../media/badge-7.png'\nimport bgImg from '../media/bg.svg'\nimport titleBgImg from '../media/title-bg.svg'\nimport logiRobiImg from '../media/logirobi.png'\nimport { Stack } from 'components/layout'\nimport { Text } from 'components/Text'\n\nexport const GuestCommunityCloud: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <Stack spacing={4}>\n            <TitleWrap>\n                <Title variant=\"h1\">{t('guestCommunity::title')}</Title>\n            </TitleWrap>\n            <CloudWrap>\n                <Shadow />\n                <Background src={bgImg} width={826} height={322} />\n                <Inner spacing={6}>\n                    <Row>\n                        <GuestCommunityCloudItem image={badge1Img}>\n                            {t('guestCommunity::bubble01')}\n                        </GuestCommunityCloudItem>\n                        <GuestCommunityCloudItem image={badge2Img}>\n                            {t('guestCommunity::bubble02')}\n                        </GuestCommunityCloudItem>\n                    </Row>\n                    <Row>\n                        <GuestCommunityCloudItem image={badge3Img}>\n                            {t('guestCommunity::bubble03')}\n                        </GuestCommunityCloudItem>\n                    </Row>\n                    <Row>\n                        <GuestCommunityCloudItem image={badge4Img}>\n                            {t('guestCommunity::bubble04')}\n                        </GuestCommunityCloudItem>\n                        <GuestCommunityCloudItem image={badge5Img}>\n                            {t('guestCommunity::bubble05')}\n                        </GuestCommunityCloudItem>\n                    </Row>\n                    <Row>\n                        <GuestCommunityCloudItem image={badge6Img}>\n                            {t('guestCommunity::bubble06')}\n                        </GuestCommunityCloudItem>\n                        <GuestCommunityCloudItem image={badge7Img}>\n                            {t('guestCommunity::bubble07')}\n                        </GuestCommunityCloudItem>\n                    </Row>\n                </Inner>\n                <LogiRobi src={logiRobiImg} />\n            </CloudWrap>\n        </Stack>\n    )\n}\n\nconst Shadow = styled.div`\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: ${props => (props.theme.palette.type === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.15)')};\n    filter: blur(50px);\n    border-radius: 50%;\n    z-index: -1;\n`\n\nconst LogiRobi = styled.img`\n    position: absolute;\n    right: -8rem;\n    bottom: 0;\n\n    @media (max-width: 1350px) {\n        width: 7rem;\n        right: -2rem;\n    }\n\n    @media (max-width: 1100px) {\n        width: 5rem;\n        right: 0;\n        bottom: 2rem;\n    }\n\n    @media (max-width: 960px) {\n        display: none;\n    }\n`\n\nconst Row = styled.div`\n    display: flex;\n    justify-content: space-around;\n`\n\nconst Title = styled(Text)`\n    max-width: 30ch;\n    font-weight: 900;\n`\n\nconst TitleWrap = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    min-height: 25vh;\n    padding-top: 2.5rem;\n    padding-bottom: 2.5rem;\n    text-align: center;\n    background-image: url(${titleBgImg});\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: top center;\n`\n\nconst Background = styled.img`\n    display: block;\n    width: 100%;\n    height: auto;\n`\n\nconst Inner = styled(Stack)`\n    position: absolute;\n    left: 0;\n    right: 0;\n`\n\nconst CloudWrap = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    max-width: 800px;\n    margin-left: auto;\n    margin-right: auto;\n`\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAxCAYAAACYq/ofAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE7mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgNzkuYjBmOGJlOSwgMjAyMS8xMi8wOC0xOToxMToyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjIgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMi0wMy0wOFQxMToxMTo1OSswMTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjItMDMtMDhUMTE6MzY6MzQrMDE6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMDMtMDhUMTE6MzY6MzQrMDE6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjFjMGZjY2FmLTdjN2ItNzE0NC1iMTFiLTM5N2UzYmYzYTc5OCIgeG1wTU06RG9jdW1lbnRJRD0i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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE7mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgNzkuYjBmOGJlOSwgMjAyMS8xMi8wOC0xOToxMToyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjIgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMi0wMy0wOFQxMToxMjowNSswMTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjItMDMtMDhUMTE6NDE6MjErMDE6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMDMtMDhUMTE6NDE6MjErMDE6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhlYjllOTkxLWJkMmQtNmY0OS05NzJiLWFhMWU0ZTg3YjFkNCIgeG1wTU06RG9jdW1lbnRJRD0i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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAADhu0ooAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE7mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgNzkuYjBmOGJlOSwgMjAyMS8xMi8wOC0xOToxMToyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjIgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMi0wMy0wOFQxMToxMjowOCswMTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjItMDMtMDhUMTE6NDA6MTgrMDE6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMDMtMDhUMTE6NDA6MTgrMDE6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmY1MTA4N2FhLWQ5YWMtYWI0Ny04YjRmLWY5OTVkOWY2NGUzZiIgeG1wTU06RG9jdW1lbnRJRD0i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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import { LockIcon } from 'components/icons'\nimport React, { useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { Stack } from './layout'\nimport { Tooltip } from './Tooltip'\n\ninterface ContentLockedProps {\n    isLocked?: boolean\n    iconSize?: Size\n    message?: React.ReactNode\n    className?: string\n    tooltip?: string\n    dialog?: (props: { open: boolean; onClose: VoidFunction }) => React.ReactElement\n}\n\nexport const ContentLocked: React.FC<ContentLockedProps> = ({\n    isLocked,\n    message,\n    iconSize = 'small',\n    className,\n    children,\n    tooltip,\n    dialog,\n}) => {\n    const [isDialogOpen, setIsDialogOpen] = useState(false)\n\n    const wrappedChildren = (\n        <Wrapper\n            className={className}\n            onClick={() => {\n                setIsDialogOpen(true)\n            }}\n        >\n            <Overlay>\n                <Stack spacing={3} textAlign=\"center\">\n                    <StyledLockedIcon $size={iconSize} />\n                    {message}\n                </Stack>\n            </Overlay>\n            {children}\n        </Wrapper>\n    )\n\n    if (isLocked)\n        return (\n            <>\n                {tooltip ? <Tooltip title={tooltip}>{wrappedChildren}</Tooltip> : wrappedChildren}\n                {dialog &&\n                    dialog({\n                        open: isDialogOpen,\n                        onClose: () => {\n                            setIsDialogOpen(false)\n                        },\n                    })}\n            </>\n        )\n\n    return <>{children}</>\n}\n\nconst Overlay = styled.div`\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: rgba(11, 18, 34, 0.03);\n    color: #fff;\n    padding: ${props => props.theme.spacing(4)};\n`\n\nconst Wrapper = styled.button`\n    display: block;\n    width: 100%;\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    background: none;\n    border: none;\n    > *:not(${Overlay}) {\n        filter: grayscale(1) contrast(0.4);\n    }\n`\n\nconst StyledLockedIcon = styled(LockIcon)<{ $size: Size }>`\n    width: ${props => sizeMap[props.$size]};\n    height: auto;\n`\n\ntype Size = 'tiny' | 'small' | 'medium' | 'big' | 'large' | 'fullHeight'\n\nconst sizeMap: Record<Size, string> = {\n    tiny: '1.75rem',\n    small: '3rem',\n    medium: '6rem',\n    big: '7.5rem',\n    large: '8rem',\n    fullHeight: '100%',\n}\n","import { ContentLocked } from 'components/ContentLocked'\nimport { DialogPrimaryButton, Dialog, DialogTitle, DialogContent, DialogActions } from 'components/dialog'\nimport { Text } from 'components/Text'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { PartialRecord } from 'utils/typeUtils'\nimport { AskForOpenDayButton } from './AskForOpenDayButton'\n\ninterface LockedChallengeOverlayProps {\n    isLocked: boolean\n    grant: string | undefined\n    className?: string\n}\n\nexport const LockedChallengeOverlay: React.FC<LockedChallengeOverlayProps> = ({\n    children,\n    className,\n    grant,\n    isLocked,\n}) => {\n    const t = useTranslate()\n    const tooltip = grant ? t(grantDefintions[grant]?.tooltip) : undefined\n    const dialogVariant = grant ? grantDefintions[grant]?.dialogVariant : undefined\n\n    return (\n        <ContentLocked\n            isLocked={isLocked}\n            className={className}\n            tooltip={tooltip}\n            dialog={dialogVariant ? props => <LockedChallengeDialog variant={dialogVariant} {...props} /> : undefined}\n        >\n            {children}\n        </ContentLocked>\n    )\n}\n\nconst grantDefintions: PartialRecord<string, { tooltip: string; dialogVariant: DialogVariant }> = {\n    'edup.universe/content.challenges.onboarding-points': {\n        tooltip: 'onboardingMission::achievements::unlockContent',\n        dialogVariant: 'onboarding-mission',\n    },\n    'edup.universe/content.challenges.open-day-participation': {\n        tooltip: 'onboardingMission::achievements::unlockText',\n        dialogVariant: 'open-day',\n    },\n}\n\ntype DialogVariant = 'onboarding-mission' | 'open-day'\n\ninterface LockedChallengeDialogProps {\n    open: boolean\n    onClose: VoidFunction\n    variant: DialogVariant\n}\n\nexport const LockedChallengeDialog: React.FC<LockedChallengeDialogProps> = ({ open, onClose, variant }) => {\n    const t = useTranslate()\n\n    const textByVariant: Record<DialogVariant, string> = {\n        'onboarding-mission': 'onboardingMission::achievements::unlockContent',\n        'open-day': 'onboardingMission::achievements::unlockText',\n    }\n\n    const actionByVariant: Record<DialogVariant, React.ReactNode> = {\n        'onboarding-mission': (\n            <DialogPrimaryButton component={Link} to=\"/app/events/mylogiscool-mission\" fullWidth>\n                {t('OnboardingMission::GoToMissionButton')}\n            </DialogPrimaryButton>\n        ),\n        'open-day': <AskForOpenDayButton buttonProps={{ fullWidth: true }} onClose={onClose} />,\n    }\n\n    return (\n        <Dialog open={open} onClose={onClose} maxWidth=\"xs\" fullWidth>\n            <DialogTitle>{t('general::contentLocked')}</DialogTitle>\n            <DialogContent>\n                <Text>{t(textByVariant[variant])}</Text>\n            </DialogContent>\n            <DialogActions>{actionByVariant[variant]}</DialogActions>\n        </Dialog>\n    )\n}\n\nexport const LockedChallengeOverlayWithBorderRadius = styled(LockedChallengeOverlay)`\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n`\n","import React from 'react'\nimport { Drawer } from '@material-ui/core'\nimport styled from 'styled-components/macro'\nimport { Stack } from 'components/layout'\nimport { customScrollbar } from 'utils/styleUtils'\nimport {ManagementModalEntry} from \"../helpers/managementContext\";\nimport {Text} from \"../../../components/Text\";\nexport interface ManagementModalContentProps<TData> {\n    modal: ManagementModalEntry<TData>\n}\n\nexport type ManagementModalContentComponent<TData> = React.ElementType<ManagementModalContentProps<TData>>;\n\nconst MANAGEMENT_MODAL_WIDTH_NUMBER = 24\nconst MANAGEMENT_MODAL_WIDE_WIDTH_NUMBER = 54\nconst MODALS: Record<string, ManagementModalContentComponent<any>> = {};\n\nexport const registerManagementModal: <TData>(kind: string, component: ManagementModalContentComponent<TData>) => void = (kind, component) => {\n    MODALS[kind] = MODALS[kind] || component\n}\n\nconst MissingModalContentComponent: React.FC<ManagementModalContentProps<any>> = ({ modal }) => {\n    return (\n        <Stack spacing={5} margin={4}>\n            <h2>Missing modal content component for {modal.kind}</h2>\n            <pre>{JSON.stringify(modal, null, 2)}</pre>\n        </Stack>\n    )\n}\n\nexport const ManagementModal: React.FC<{ modal: ManagementModalEntry<any>, level?: number }> = ({ modal, level = 0 }) => {\n    const BASE_WIDTH = modal.wide ? MANAGEMENT_MODAL_WIDE_WIDTH_NUMBER : MANAGEMENT_MODAL_WIDTH_NUMBER;\n    const ContentComponent = MODALS[modal.kind] || MissingModalContentComponent;\n\n    return (\n        <StyledDrawerModal width={BASE_WIDTH - level} variant=\"permanent\" anchor=\"right\" PaperProps={{\n            elevation: 8\n        }}>\n            <Stack spacing={5} margin={4}>\n                <ContentComponent modal={modal} />\n            </Stack>\n        </StyledDrawerModal>\n    )\n}\n\nconst StyledDrawerModal = styled(Drawer)<{ width: number }>`\n        width: ${props => props.width}rem;\n        & .MuiPaper-root {\n            width: ${props => props.width}rem;\n            ${customScrollbar}\n        }\n    `;\n\nexport const ManagementModalTitle: React.FC<{ title: string, subTitle?: string }> = ({ title, subTitle }) => {\n    return (<>\n        <Text variant={\"h2\"} style={{ textTransform: \"capitalize\" }}>\n            {title}\n        </Text>\n        {subTitle && <Text variant={\"subtitle1\"} style={{ marginTop: 2 }}>{subTitle}</Text>}\n    </>)\n}","import React from 'react'\nimport { ProjectModalContent } from './ProjectModalContent'\nimport { ProjectModalHeader } from './ProjectModalHeader'\nimport { Text } from 'components/Text'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { NBSP } from 'utils/styleUtils'\ninterface ProjectModalErrorProps {\n    error: 'GENERAL' | 'NOT_FOUND'\n}\n\nexport const ProjectModalError: React.FC<ProjectModalErrorProps> = ({ error }) => {\n    if (error === 'NOT_FOUND') {\n        return (\n            <>\n                <ProjectModalHeader>\n                    <Text variant=\"h3\">Project not found</Text>\n                </ProjectModalHeader>\n                <ProjectModalContent></ProjectModalContent>\n            </>\n        )\n    }\n\n    return (\n        <>\n            <ProjectModalHeader>\n                <Text variant=\"h3\">{NBSP}</Text>\n            </ProjectModalHeader>\n            <ProjectModalContent>\n                <ErrorMessage />\n            </ProjectModalContent>\n        </>\n    )\n}\n","import { createOauthClient } from '@logiscool/react-oauth'\nimport { isGuestUser, UserState } from 'contexts/UserContext'\nimport { runtimeEnv } from 'utils/env'\n\nexport const auth = createOauthClient({\n    apiUrl: runtimeEnv.REACT_APP_API_URL as string,\n    oauthUrl: runtimeEnv.REACT_APP_OAUTH_URL as string,\n    clientId: 'universe-profile',\n    clientSecret: 'dLe1jekyHvWhTGOCKaPYpS2nLl53QMZYPQVajYFAIcQSCtdOFMZmJi8qPJbG',\n    redirectUrl: window.location.origin + '/auth/scoolcode',\n    redirectToAuthorizeUrl: false,\n})\n\nexport const getPasswordChangeOrCreateUrl = (user: UserState) => {\n    const aliasQueryParam = user.account.alias ? `&alias=${user.account.alias}` : ''\n\n    if (isGuestUser(user)) {\n        return `${runtimeEnv.REACT_APP_OAUTH_URL}/create-password?id=${user.account.id}&returnTo=${window.location}${aliasQueryParam}`\n    }\n    return `${runtimeEnv.REACT_APP_OAUTH_URL}/change-password?returnTo=${window.location}${aliasQueryParam}`\n}\n\nexport type AuthStatus = 'loading' | 'logged-in' | 'logged-out' | 'error'\n","import React from 'react'\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom'\nimport { auth } from './auth'\nimport { FullScreenLoader } from 'components/FullScreenLoader'\n\ntype AuthFlowProps = {\n    onSucces: (token: string) => void\n    onReceiverFail: () => void\n    onSenderFail: () => void\n}\n\nexport const AuthFlow: React.FC<AuthFlowProps> = ({ onSucces, onReceiverFail, onSenderFail }) => {\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route\n                    exact\n                    path=\"/auth/scoolcode\"\n                    render={() => (\n                        <auth.OauthReceiver\n                            onStatusChange={status => {\n                                if (status.name === 'error') {\n                                    onReceiverFail()\n                                }\n                            }}\n                        >\n                            {status => {\n                                if (status.name === 'done') {\n                                    return <Redirect to={status.origin}></Redirect>\n                                }\n                                return <FullScreenLoader />\n                            }}\n                        </auth.OauthReceiver>\n                    )}\n                ></Route>\n                <Route\n                    path=\"/\"\n                    render={() => (\n                        <auth.OauthSender\n                            onStatusChange={status => {\n                                if (status.name === 'has-valid-token') {\n                                    onSucces(status.token)\n                                }\n                                if (status.name === 'no-valid-token') {\n                                    onSenderFail()\n                                }\n                            }}\n                        >\n                            {() => <FullScreenLoader />}\n                        </auth.OauthSender>\n                    )}\n                ></Route>\n            </Switch>\n        </BrowserRouter>\n    )\n}\n","import { Card } from 'components/card'\nimport { Inline } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { ellipsis } from 'polished'\nimport React from 'react'\nimport { Link, LinkProps } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { actionablePaperStyles } from 'utils/styleUtils'\n\ninterface ProjectStripeProps {\n    title: string\n    thumbnailUrl: string\n    metadata?: React.ReactNode\n    actions?: React.ReactNode\n    tags?: React.ReactNode\n    to?: LinkProps['to']\n    favorite?: React.ReactNode\n}\n\nexport const ProjectStripe: React.FC<ProjectStripeProps> = ({\n    title,\n    actions,\n    to,\n    metadata,\n    tags,\n    thumbnailUrl,\n    favorite,\n}) => {\n    return (\n        <Root $hasLink={!!to}>\n            <Inner>\n                <InnerWrap spacing={3}>\n                    <Thumbnail loading=\"lazy\" width=\"640\" height=\"360\" src={thumbnailUrl} />\n                    {favorite}\n                    <Title>\n                        <strong>{title}</strong>\n                    </Title>\n                    {tags}\n                </InnerWrap>\n                {metadata && (\n                    <MetaWrap $hideBorder={!actions} spacing={4}>\n                        {metadata}\n                    </MetaWrap>\n                )}\n                {to === undefined ? null : <StyledLink to={to} />}\n            </Inner>\n            <Inline spacing={4} display=\"flex\" alignItems=\"center\" textAlign=\"right\">\n                {actions}\n            </Inline>\n        </Root>\n    )\n}\n\nconst MetaWrap = styled(Inline)<{ $hideBorder?: boolean }>`\n    display: flex;\n    align-items: center;\n    text-align: right;\n    padding-right: ${props => props.theme.spacing(6)};\n    border-right: ${props => (props.$hideBorder ? undefined : `1px solid ${props.theme.palette.divider}`)};\n`\n\nconst Title = styled(Text)`\n    ${ellipsis()};\n`\n\nconst InnerWrap = styled(Inline)`\n    display: flex;\n    align-items: center;\n`\n\nconst Inner = styled.div`\n    position: relative;\n    display: grid;\n    grid-template-columns: minmax(0, 1fr) auto;\n    grid-gap: ${props => props.theme.spacing(4)};\n    justify-content: space-between;\n    align-items: center;\n    ${props => props.theme.breakpoints.down('xs')} {\n        grid-gap: ${props => props.theme.spacing(2)};\n    }\n`\n\nconst StyledLink = styled(Link)`\n    color: inherit;\n    text-decoration: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n`\n\nconst Thumbnail = styled.img`\n    max-width: 7rem;\n    height: auto;\n    background-color: ${props => props.theme.palette.divider};\n    ${props => props.theme.breakpoints.down('xs')} {\n        max-width: 5.5rem;\n    }\n`\n\nconst Root = styled(Card)<{ $hasLink: boolean }>`\n    ${props => (props.$hasLink ? actionablePaperStyles : undefined)}\n\n    display: grid;\n    grid-template-columns: 1fr auto;\n    align-items: center;\n    padding: ${props => props.theme.spacing(0, 4, 0, 0)};\n    grid-gap: ${props => props.theme.spacing(6)};\n    ${props => props.theme.breakpoints.down('xs')} {\n        grid-gap: ${props => props.theme.spacing(2)};\n    }\n    position: relative;\n`\n","import { createContext, useContext } from 'react'\n\ntype ProjectDetailsState = {\n    open: (event: any) => void\n    close: () => void\n    anchorEl: HTMLElement | null\n}\n\nexport const popupMenuContext = createContext<ProjectDetailsState | undefined>(undefined)\n\nexport const usePopupMenuContext = () => {\n    const context = useContext(popupMenuContext)\n\n    if (context === undefined) {\n        throw new Error('usePopupMenuContext must be used within a PopupMenuProvider')\n    }\n\n    return context\n}\n","import React from 'react'\nimport { InputAdornment as MuiInputAdornment, InputAdornmentProps as MuiInputAdornmentProps } from '@material-ui/core'\n\ninterface InputAdornmentProps extends MuiInputAdornmentProps {}\n\nexport const InputAdornment: React.FC<InputAdornmentProps> = props => {\n    return <MuiInputAdornment {...props} />\n}\n","import React from 'react'\nimport { FormControlProps as MuiFormControlProps, FormControl as MuiFormControl } from '@material-ui/core'\nimport styled from 'styled-components/macro'\n\ninterface FormControlProps extends MuiFormControlProps {}\n\nexport const FormControl: React.FC<FormControlProps> = props => {\n    return <StyledFormControl {...props} />\n}\n\nconst StyledFormControl = styled(MuiFormControl)`\n    .MuiOutlinedInput-notchedOutline {\n        border-color: ${props => props.theme.palette.divider};\n    }\n    .MuiOutlinedInput-multiline,\n    input,\n    .MuiSelect-root {\n        padding: ${props => props.theme.spacing(4, 5)};\n    }\n    .MuiSelect-root {\n        padding-right: ${props => props.theme.spacing(8)};\n    }\n    > * + * {\n        margin-top: ${props => props.theme.spacing(1)};\n    }\n`\n","import { FormHelperText as MuiFormHelperText } from '@material-ui/core'\nimport styled from 'styled-components/macro'\n\nexport const FormHelperText = styled(MuiFormHelperText)`\n    font-size: inherit;\n`\n","import styled from 'styled-components/macro'\n\nexport const FormLabel = styled.label`\n    display: inline-block;\n    font-weight: 600;\n`\n","import React, { createContext, forwardRef, useContext } from 'react'\nimport {\n    Checkbox,\n    MenuItem,\n    MenuItemProps,\n    Select as MuiSelect,\n    SelectProps as MuiSelectProps,\n} from '@material-ui/core'\nimport styled from 'styled-components/macro'\nimport { FormControl, FormLabel } from 'components/form'\nimport { FormHelperText } from './FormHelperText'\nimport { Paper } from 'components/Paper'\nimport { Inline } from 'components/layout'\nimport { Text } from 'components/Text'\n\nconst selectContext = createContext<{ value: unknown; multiple?: boolean } | undefined>(undefined)\n\ninterface SelectProps extends MuiSelectProps {\n    errorText?: string\n}\n\nexport const Select = forwardRef<any, SelectProps>(\n    ({ label, fullWidth = true, errorText, className, ...rest }, ref) => {\n        return (\n            <selectContext.Provider value={{ value: rest.value, multiple: rest.multiple }}>\n                <FormControl fullWidth={fullWidth} className={className}>\n                    {label && <FormLabel htmlFor={rest.id}>{label}</FormLabel>}\n                    <StyledSelect\n                        MenuProps={{ PaperProps: { component: MenuPaper } }}\n                        error={!!errorText}\n                        variant=\"outlined\"\n                        inputRef={ref}\n                        {...rest}\n                    />\n                    {errorText && <FormHelperText error>{errorText}</FormHelperText>}\n                </FormControl>\n            </selectContext.Provider>\n        )\n    },\n)\n\nexport const Option: React.FC<MenuItemProps> = ({ children, button, ...rest }) => {\n    const context = useContext(selectContext)\n\n    if (!context) {\n        throw new Error('Option must be used within a Select.')\n    }\n\n    return (\n        <StyledMenuItem {...rest}>\n            {context.multiple && <StyledCheckbox color=\"primary\" checked={rest.selected} />} {children}\n        </StyledMenuItem>\n    )\n}\n\nexport const ImageSelectOptionWrap: React.FC<{ label: string; image: React.ReactNode }> = ({ label, image }) => {\n    return (\n        <Inline display=\"flex\" alignItems=\"center\">\n            {image}\n            <Text>{label}</Text>\n        </Inline>\n    )\n}\n\nconst StyledCheckbox = styled(Checkbox)`\n    padding: 0;\n    margin-inline-end: ${props => props.theme.spacing(2)};\n`\n\nconst MenuPaper = styled(Paper)`\n    box-shadow: ${props => props.theme.shadows[3]};\n    padding: ${props => props.theme.spacing(2)};\n`\n\nconst StyledSelect = styled(MuiSelect)`\n    background-color: ${props => props.theme.palette.background.paper};\n    .MuiSelect-root {\n        background: none;\n    }\n`\n\nconst StyledMenuItem = styled(MenuItem)`\n    padding: ${props => props.theme.spacing(3)};\n    margin: ${props => props.theme.spacing(1, 0)};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n`\n\nexport const ImageSelect = styled(Select)`\n    .MuiSelect-select {\n        padding: ${props => props.theme.spacing(2)};\n    }\n`\n\nexport const ImageSelectOption = styled(Option)`\n    padding: 0.5rem;\n`\n","import React, { createContext, useContext } from 'react'\nimport { FormControl, FormLabel } from 'components/form'\nimport styled from 'styled-components/macro'\nimport { transparentize } from 'polished'\nimport { Stack, Box } from 'components/layout'\nimport { visuallyHidden } from 'utils/styleUtils'\nimport { WrappingInline } from 'components/layout/WrappingInline'\n\ninterface SelectBoxProps {\n    value?: string\n    onChange?: (value: string) => void\n    name?: string\n    disabled?: boolean\n    label?: string\n    onClick?: (value?: string) => void\n}\n\nconst SelectBoxContext = createContext<SelectBoxProps | undefined>(undefined)\n\nexport const SelectBox: React.FC<SelectBoxProps> = ({\n    children,\n    value,\n    name,\n    onChange,\n    disabled,\n    label,\n    onClick,\n    ...rest\n}) => {\n    return (\n        <SelectBoxContext.Provider value={{ value, onChange, name, disabled, onClick }}>\n            <Root {...rest}>\n                <StyledFormControl>\n                    {label && <FormLabel as=\"legend\">{label}</FormLabel>}\n                    <div>\n                        <WrappingInline>{children}</WrappingInline>\n                    </div>\n                </StyledFormControl>\n            </Root>\n        </SelectBoxContext.Provider>\n    )\n}\n\nconst StyledFormControl = styled(FormControl)`\n    width: 100%;\n`\n\nconst Root = styled.fieldset`\n    margin: 0;\n    padding: 0;\n    border: none;\n`\n\ntype SelectBoxItemProps = {\n    icon?: JSX.Element\n    value: string\n    fullWidth?: boolean\n    className?: string\n    innerClassName?: string\n    direction?: 'column' | 'row'\n}\n\nexport const SelectBoxItem: React.FC<SelectBoxItemProps> = ({\n    value,\n    children,\n    icon,\n    fullWidth,\n    innerClassName,\n    direction = 'column',\n    ...props\n}) => {\n    const context = useSelectBoxContext()\n\n    return (\n        <ItemLabel fullwidth={fullWidth} {...props}>\n            <input\n                type=\"radio\"\n                checked={value === context.value}\n                value={value}\n                disabled={context.disabled}\n                name={context.name}\n                onChange={e => {\n                    context.onChange?.(e.target.value)\n                }}\n                onClick={() => {\n                    context.onClick?.(context.value)\n                }}\n            />\n            <ItemInner $direction={direction} spacing={direction === 'column' ? 2 : 0} className={innerClassName}>\n                {icon && (\n                    <Box lineHeight=\"0\" fontSize=\"3rem\">\n                        {icon}\n                    </Box>\n                )}\n                <Box fontSize=\"1rem\">{children}</Box>\n            </ItemInner>\n        </ItemLabel>\n    )\n}\n\nexport function useSelectBoxContext() {\n    const context = useContext(SelectBoxContext)\n\n    if (!context) {\n        throw new Error('useSelectBoxContext must be used within a SelectBox.')\n    }\n\n    return context\n}\n\nconst ItemLabel = styled.label<{ fullwidth?: boolean }>`\n    display: inline-flex;\n    flex: ${props => (props.fullwidth ? 1 : undefined)};\n    input {\n        ${visuallyHidden}\n    }\n`\n\nconst ItemInner = styled(Stack)<{ $direction: 'row' | 'column' }>`\n    display: flex;\n    flex-direction: ${props => props.$direction};\n    justify-content: center;\n    gap: ${props => (props.$direction === 'row' ? props.theme.spacing(4) : undefined)};\n    align-items: center;\n    text-align: center;\n    width: 100%;\n    padding: ${props => props.theme.spacing(2)};\n    background-color: ${props => props.theme.palette.background.paper};\n    border: solid 1px;\n    border-color: ${props => props.theme.palette.divider};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    color: ${props => transparentize(0.3, props.theme.palette.text.primary)};\n    cursor: pointer;\n    &:hover {\n        border-color: ${props => props.theme.palette.text.secondary};\n    }\n    input:focus-visible + & {\n        outline: solid 1px ${props => props.theme.palette.primary.main};\n    }\n    input:checked + & {\n        background-color: ${props => transparentize(0.9, props.theme.palette.primary.main)};\n        border-color: ${props => props.theme.palette.primary.main};\n        box-shadow: 0 0 0 1px ${props => props.theme.palette.primary.main};\n        color: ${props => props.theme.palette.primary.main};\n    }\n`\n","import React, { forwardRef } from 'react'\nimport { SwitchProps as MuiSwitchProps, Switch as MuiSwitch } from '@material-ui/core'\nimport { FormLabel, FormHelperText } from 'components/form'\n\ninterface SwitchProps extends MuiSwitchProps {\n    label?: string\n    helperText?: string\n    errorText?: string\n}\n\nexport const Switch = forwardRef<any, SwitchProps>(({ id, label, helperText, errorText, ...rest }, ref) => {\n    return (\n        <div>\n            <MuiSwitch color=\"primary\" id={rest.name} inputRef={ref} {...rest} />\n            {label && <FormLabel htmlFor={rest.name}>{label}</FormLabel>}\n            {errorText && <FormHelperText error>{errorText}</FormHelperText>}\n            {helperText && <FormHelperText>{helperText}</FormHelperText>}\n        </div>\n    )\n})\n","import { OutlinedInput } from '@material-ui/core'\nimport styled from 'styled-components/macro'\n\nexport const Input = styled(OutlinedInput)`\n    background-color: ${props => props.theme.palette.background.paper};\n    line-height: 1.5;\n`\n","import React, { forwardRef } from 'react'\nimport { InputProps } from '@material-ui/core'\nimport styled from 'styled-components/macro'\nimport { FormControl, FormHelperText, FormLabel } from 'components/form'\nimport { visuallyHidden } from 'utils/styleUtils'\nimport { Input } from './Input'\n\nexport interface TextFieldProps extends InputProps {\n    label?: React.ReactNode\n    helperText?: React.ReactNode\n    visuallyHiddenLabel?: React.ReactNode\n    helperTextBefore?: React.ReactNode\n    errorText?: React.ReactNode\n}\n\nexport const TextField = forwardRef<any, TextFieldProps>(\n    (\n        {\n            label,\n            value,\n            helperText,\n            errorText,\n            fullWidth = true,\n            error,\n            helperTextBefore,\n            visuallyHiddenLabel,\n            ...rest\n        },\n        ref,\n    ) => {\n        return (\n            <FormControl fullWidth={fullWidth}>\n                {label && <FormLabel htmlFor={rest.name}>{label}</FormLabel>}\n                {visuallyHiddenLabel && (\n                    <VisuallyHiddenLabel htmlFor={rest.name}>{visuallyHiddenLabel}</VisuallyHiddenLabel>\n                )}\n                {helperTextBefore && <FormHelperText>{helperTextBefore}</FormHelperText>}\n                <Input error={!!errorText} inputRef={ref} value={value} id={rest.name} {...rest} />\n                {errorText && <FormHelperText error>{errorText}</FormHelperText>}\n                {helperText && <FormHelperText>{helperText}</FormHelperText>}\n            </FormControl>\n        )\n    },\n)\n\nconst VisuallyHiddenLabel = styled(FormLabel)`\n    ${visuallyHidden}\n`\n","import {\n    Checkbox as MuiCheckBox,\n    CheckboxProps as MuiCheckBoxProps,\n    FormControlLabel as MuiFormControlLabel,\n} from '@material-ui/core'\nimport styled from 'styled-components/macro'\nimport React from 'react'\nimport { FormHelperText } from './FormHelperText'\n\ninterface CheckBoxProps extends MuiCheckBoxProps {\n    label?: string\n    helperText?: string\n    errorText?: string\n}\n\nexport const CheckBox: React.FC<CheckBoxProps> = ({ label, helperText, errorText, ...rest }) => {\n    return (\n        <div>\n            <MuiFormControlLabel\n                control={\n                    // @ts-ignore component prop typing is not working correctly\n                    <StyledCheckbox {...rest} color=\"inherit\" />\n                }\n                label={label}\n            />\n            {errorText && <FormHelperText error>{errorText}</FormHelperText>}\n            {helperText && <FormHelperText>{helperText}</FormHelperText>}\n        </div>\n    )\n}\n\nconst StyledCheckbox = styled(MuiCheckBox)`\n    color: ${props => props.theme.palette.primary.main};\n`\n","import React from 'react'\nimport { HighScoreGame } from './highScoreGames'\nimport styled, { css } from 'styled-components/macro'\nimport { useTranslate } from 'lib/i18n/useTranslate'\n\ninterface HighScoreGameThumbnailProps {\n    game: HighScoreGame\n    className?: string\n}\n\nexport const HighScoreGameThumbnail: React.FC<HighScoreGameThumbnailProps> = ({ game, className }) => {\n    const t = useTranslate()\n\n    return (\n        <>\n            {game.thumbnail.kind === 'video' ? (\n                <Video playsInline autoPlay muted loop src={game.thumbnail.src} className={className} />\n            ) : (\n                <Image width=\"586\" height=\"324\" src={game.thumbnail.src} alt={t(game.title)} className={className} />\n            )}\n        </>\n    )\n}\n\nconst mediaStyles = css`\n    width: 100%;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    transition: all ${props => props.theme.transitions.duration.standard}ms;\n    background-color: ${props => props.theme.palette.divider};\n    filter: grayscale(0.2);\n`\n\nconst Image = styled.img`\n    ${mediaStyles}\n    height: auto;\n`\n\nconst Video = styled.video`\n    ${mediaStyles}\n    aspect-ratio: 640 / 360;\n`\n","import { ActionCard } from 'components/action-card'\nimport { Card } from 'components/card'\nimport React from 'react'\nimport { useContext } from 'react'\nimport { LinkProps } from 'react-router-dom'\nimport styled, { css } from 'styled-components/macro'\n\ninterface AchievementCardProps {\n    to?: LinkProps['to']\n    isAcquired: boolean\n}\n\ninterface AchievementCardContextState {\n    isAcquired: boolean\n}\n\nconst achievementCardContext = React.createContext<AchievementCardContextState | undefined>(undefined)\n\nexport const useAchievementCardContext = () => {\n    const state = useContext(achievementCardContext)\n\n    if (state === undefined) {\n        throw new Error(\"'useAchievementCardContext' must be used within an 'AchievementCard'.\")\n    }\n\n    return state\n}\n\nexport const AchievementCard: React.FC<AchievementCardProps> = ({ to, children, isAcquired }) => {\n    return (\n        <achievementCardContext.Provider value={{ isAcquired }}>\n            {to ? (\n                <StyledActionCard type=\"link\" to={to}>\n                    {children}\n                </StyledActionCard>\n            ) : (\n                <StyledCard>{children}</StyledCard>\n            )}\n        </achievementCardContext.Provider>\n    )\n}\n\nconst cardStyles = css`\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    min-height: 350px;\n`\n\nconst StyledCard = styled(Card)`\n    ${cardStyles}\n`\n\nconst StyledActionCard = styled(ActionCard)`\n    ${cardStyles}\n    &:hover,\n    &:focus-visible {\n        img {\n            transform: scale(1.05);\n        }\n    }\n` as typeof ActionCard\n","import { CardContent } from 'components/card'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface AchievementCardContentProps {}\n\nexport const AchievementCardContent: React.FC<AchievementCardContentProps> = ({ children }) => {\n    return <Root>{children}</Root>\n}\n\nconst Root = styled(CardContent)`\n    text-align: center;\n`\n","import { Text } from 'components/Text'\nimport { transparentize } from 'polished'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { useAchievementCardContext } from './AchievementCard'\n\ninterface AchievementCardDescriptionProps {}\n\nexport const AchievementCardDescription: React.FC<AchievementCardDescriptionProps> = ({ children }) => {\n    const { isAcquired } = useAchievementCardContext()\n\n    return (\n        <Root variant=\"body1\" $isAcquired={isAcquired}>\n            {children}\n        </Root>\n    )\n}\n\nconst Root = styled(Text)<{ $isAcquired: boolean }>`\n    color: ${props =>\n        props.$isAcquired\n            ? props.theme.palette.text.primary\n            : transparentize(props.theme.palette.type === 'light' ? 0.3 : 0.6, props.theme.palette.text.primary)};\n`\n","import { Text } from 'components/Text'\nimport { transparentize } from 'polished'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nexport const AchievementCardFooterText: React.FC = ({ children }) => {\n    return <Root variant=\"subtitle2\">{children}</Root>\n}\n\nconst Root = styled(Text)`\n    margin-block-start: auto;\n    color: ${props =>\n        transparentize(props.theme.palette.type === 'light' ? 0.3 : 0.6, props.theme.palette.text.primary)};\n    font-weight: 800;\n    padding-bottom: ${props => props.theme.spacing(4)};\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { useAchievementCardContext } from './AchievementCard'\n\ninterface AchievementCardImageProps {\n    src: string\n}\n\nexport const AchievementCardImage: React.FC<AchievementCardImageProps> = ({ src }) => {\n    const { isAcquired } = useAchievementCardContext()\n\n    return <Img $isAcquired={isAcquired} src={src} />\n}\n\nconst Img = styled.img<{ $isAcquired: boolean }>`\n    height: 6rem;\n    width: 6rem;\n    filter: ${props =>\n        props.$isAcquired\n            ? 'drop-shadow(0 0.2rem 0.25rem rgba(0, 0, 0, 0.5))'\n            : `brightness(0) invert(${props.theme.palette.type === 'dark' ? 0.5 : 0.2})`};\n    transition: all 0.1s;\n`\n","import { transparentize, desaturate } from 'polished'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { useAchievementCardContext } from './AchievementCard'\n\ninterface AchievementCardImageWrapProps {\n    bgColor: string\n}\n\nexport const AchievementCardImageWrap: React.FC<AchievementCardImageWrapProps> = ({ bgColor, children }) => {\n    const { isAcquired } = useAchievementCardContext()\n\n    return (\n        <Root $isAcquired={isAcquired} $bgcolor={bgColor}>\n            {children}\n        </Root>\n    )\n}\n\nconst Root = styled.div<{ $bgcolor: string; $isAcquired: boolean }>`\n    height: 10rem;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    background-color: ${props =>\n        props.$isAcquired\n            ? transparentize(props.theme.palette.type === 'dark' ? 0.8 : 0, props.$bgcolor)\n            : desaturate(\n                  1,\n                  transparentize(props.theme.palette.type === 'dark' ? 0.8 : 0, props.theme.palette.grey[600]),\n              )};\n    width: 100%;\n`\n","import { Text } from 'components/Text'\nimport { darken, transparentize } from 'polished'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { useAchievementCardContext } from './AchievementCard'\n\ninterface AchievementCardPointsProps {\n    bgColor: string\n}\n\nexport const AchievementCardPoints: React.FC<AchievementCardPointsProps> = ({ bgColor, children }) => {\n    const { isAcquired } = useAchievementCardContext()\n\n    return (\n        <Root $isAcquired={isAcquired} $bgColor={bgColor}>\n            {children}\n        </Root>\n    )\n}\n\nconst Root = styled(Text)<{ $isAcquired: boolean; $bgColor: string }>`\n    font-weight: 800;\n    position: absolute;\n    bottom: 0;\n    left: 50%;\n    padding: ${props => props.theme.spacing(1, 4)};\n    background-color: ${props =>\n        props.$isAcquired\n            ? props.theme.palette.type === 'light'\n                ? darken(0.2, props.$bgColor)\n                : props.theme.palette.primary.dark\n            : props.theme.palette.background.paper};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    transform: translate(-50%, 50%);\n    color: ${props =>\n        props.$isAcquired\n            ? props.theme.palette.text.primary\n            : transparentize(props.theme.palette.type === 'light' ? 0.3 : 0.6, props.theme.palette.text.primary)};\n    box-shadow: ${props =>\n        props.$isAcquired && props.theme.palette.type === 'light' ? props.theme.shadows[1] : undefined};\n`\n","import { Text } from 'components/Text'\nimport { transparentize } from 'polished'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { useAchievementCardContext } from './AchievementCard'\n\ninterface AchievementCardTitleProps {}\n\nexport const AchievementCardTitle: React.FC<AchievementCardTitleProps> = ({ children }) => {\n    const { isAcquired } = useAchievementCardContext()\n    return (\n        <Root variant=\"h3\" $isAcquired={isAcquired}>\n            {children}\n        </Root>\n    )\n}\n\nconst Root = styled(Text)<{ $isAcquired: boolean }>`\n    margin-block-start: ${props => props.theme.spacing(4)};\n    color: ${props =>\n        props.$isAcquired\n            ? props.theme.palette.text.primary\n            : transparentize(props.theme.palette.type === 'light' ? 0.3 : 0.6, props.theme.palette.text.primary)};\n`\n","import React from 'react'\nimport { ButtonProps as MuiButtonProps, Button as MuiButton, ButtonTypeMap } from '@material-ui/core'\nimport styled, { css } from 'styled-components/macro'\nimport { Loader } from './Loader'\nimport { OverridableComponent } from '@material-ui/core/OverridableComponent'\nimport { desaturate, transparentize } from 'polished'\n\ntype ExtraProps = {\n    isLoading?: boolean\n    alignLeft?: boolean\n}\n\nexport type ButtonProps = MuiButtonProps<any, ExtraProps>\n\nexport const Button = React.forwardRef(\n    (\n        { isLoading, alignLeft, children, disabled, variant = 'contained', color = 'primary', ...rest }: ButtonProps,\n        ref,\n    ) => {\n        const Root = variantMap[variant]\n\n        return (\n            <Root\n                ref={ref}\n                disableElevation\n                disabled={isLoading ? true : disabled}\n                variant={variant}\n                color={color}\n                {...rest}\n            >\n                <ChildrenWrap isLoading={isLoading} alignLeft={alignLeft}>\n                    {children}\n                </ChildrenWrap>\n                {isLoading && <StyledLoader size=\"1em\" />}\n            </Root>\n        )\n    },\n) as OverridableComponent<ButtonTypeMap<ExtraProps>>\n\nconst VERTICAL_SPACING = 2\nconst HORIZONTAL_SPACING = 4\nconst buttonStyles = css`\n    transition: all ${props => props.theme.transitions.duration.short}ms;\n    text-transform: none;\n    font-weight: 600;\n    padding: ${props => props.theme.spacing(VERTICAL_SPACING, HORIZONTAL_SPACING)};\n    &:focus-visible {\n        outline: solid 1px ${props => props.theme.palette.primary.main};\n    }\n`\n\nconst TextButton = styled(MuiButton)`\n    ${buttonStyles}\n    padding: 0;\n    background: none;\n    border-radius: 0;\n    border-bottom: solid 1px transparent;\n    &:hover,\n    &:focus-visible {\n        background: none;\n        filter: brightness(0.8);\n    }\n    ${props => props.theme.extras?.textButton?.(props.color)}\n`\n\nconst OutlinedButton = styled(MuiButton)`\n    ${buttonStyles}\n    /* border correction */\n    padding: calc(${props => props.theme.spacing(VERTICAL_SPACING)} - 1px) calc(${props =>\n        props.theme.spacing(HORIZONTAL_SPACING)} - 1px)\n`\n\nconst containedStyles: Record<NonNullable<ButtonProps['color']>, ReturnType<typeof css> | undefined> = {\n    default: css`\n        &:hover,\n        &:focus-visible {\n            filter: brightness(1.1);\n        }\n    `,\n    inherit: undefined,\n    primary: css`\n        background: linear-gradient(\n            to right bottom,\n            ${props => props.theme.palette.primary.main},\n            ${props => props.theme.palette.primary.dark}\n        );\n        &.Mui-disabled {\n            background: ${props => desaturate(1, transparentize(0.9, props.theme.palette.primary.main))};\n        }\n        &:hover,\n        &:focus-visible {\n            filter: brightness(1.1);\n        }\n    `,\n    secondary: undefined,\n}\n\nconst ContainedButton = styled(MuiButton)`\n    ${buttonStyles}\n    ${props => containedStyles[props.color!]}\n    .MuiButton-iconSizeMedium > *:first-child {\n        font-size: 1.5em;\n    }\n    ${props => props.theme.extras?.containedButton?.(props.color)}\n`\n\nconst variantMap: Record<\n    NonNullable<ButtonProps['variant']>,\n    typeof TextButton | typeof ContainedButton | typeof OutlinedButton\n> = {\n    text: TextButton,\n    contained: ContainedButton,\n    outlined: OutlinedButton,\n}\n\nconst ChildrenWrap = styled.span<{ isLoading?: boolean; alignLeft?: boolean }>`\n    opacity: ${props => (props.isLoading ? 0 : 1)};\n    width: 100%;\n    display: flex;\n    justify-content: ${props => (props.alignLeft ? 'left' : 'center')};\n    align-items: ${props => (props.alignLeft ? 'left' : 'center')};\n`\n\nconst StyledLoader = styled(Loader)`\n    position: absolute;\n`\n\nexport const DeleteButton = styled(Button)`\n    color: ${props => props.theme.palette.error.contrastText};\n    background: ${props => props.theme.palette.error.main};\n    &:hover,\n    &:focus-visible {\n        color: ${props => props.theme.palette.error.contrastText};\n        background: ${props => props.theme.palette.error.dark};\n        filter: none;\n    }\n`\n","import React, {createContext, useCallback, useContext} from 'react'\nimport {ManagementVariableAction} from \"../components/ManagementContextProvider\";\n\nexport interface ManagementModalEntry<TData> {\n    key: string\n    kind: string\n    data: TData\n    wide?: boolean\n}\n\ninterface ManagementContextState {\n    enabled: boolean\n    modalStack: ManagementModalEntry<any>[]\n    setEnabled: (value: boolean) => void\n    variables: Record<string, any>\n    dispatchVariablesAction: React.Dispatch<ManagementVariableAction>\n    openModal: <TData>(key: string, kind: string, data: TData) => void\n    updateModal: <TData>(key: string, kind: string, data: TData) => void\n    widenModal: (key: string) => void\n    closeModal: (key: string) => void\n}\n\nexport const managementContext = createContext<ManagementContextState | undefined>(undefined)\n\nexport const useManagementContext = () => {\n    const state = useContext(managementContext)\n\n    if (state === undefined) {\n        throw new Error(\"'useManagementContext' must be used within a 'Page'.\")\n    }\n\n    return state\n}\nexport const useManagementVariable: <T>(key: string, fallbackValue?: T) => [ T, (value: T) => void ] = (key, fallbackValue) => {\n    const state = useContext(managementContext)\n\n    const setVariable = useCallback((value: any) => {\n        if (state === undefined) {\n            throw new Error(\"'useManagementVariable' must be used within a 'Page'.\")\n        }\n\n        state.dispatchVariablesAction({\n            type: 'set',\n            key,\n            value\n        })\n    }, [key, state]);\n\n    if (state === undefined) {\n        throw new Error(\"'useManagementVariable' must be used within a 'Page'.\")\n    }\n\n    return [ state.variables[key] || fallbackValue, setVariable ]\n}\n","import { useSelector } from 'lib/store'\n\nexport function useEventsData() {\n    return useSelector(state => state.events)\n}\n","import { Inline } from 'components/layout'\nimport { MenuIcon } from 'components/icons'\nimport { Img } from 'components/Img'\nimport React from 'react'\nimport styled, { useTheme } from 'styled-components/macro'\nimport LogiscoolLogo from 'media/images/logiscool-logo.png'\nimport LogiscoolLogoWhite from 'media/images/logiscool-logo-white.png'\nimport { Link } from 'react-router-dom'\nimport { IconButton } from 'components/IconButton'\nimport { NotificationButton } from 'features/notifications'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\n\ntype PageMobileHeaderProps = {\n    onMenuButtonClick: () => void\n}\n\nexport const PageMobileHeader: React.FC<PageMobileHeaderProps> = ({ onMenuButtonClick }) => {\n    const theme = useTheme()\n\n    return (\n        <Root component=\"header\">\n            <Inline display=\"flex\" alignItems=\"center\">\n                <IconButton color=\"inherit\" onClick={onMenuButtonClick}>\n                    <MenuIcon />\n                </IconButton>\n                <LogoLink to=\"/app\">\n                    <Img\n                        display=\"block\"\n                        maxWidth=\"7rem\"\n                        src={theme.extras?.logoType === 'white' ? LogiscoolLogoWhite : LogiscoolLogo}\n                    ></Img>\n                </LogoLink>\n            </Inline>\n            <ErrorBoundary silent>\n                <NotificationButton />\n            </ErrorBoundary>\n        </Root>\n    )\n}\n\nconst LogoLink = styled(Link)`\n    /* improve visual alignment */\n    margin-top: 4px;\n`\n\nconst Root = styled(Inline)`\n    position: sticky;\n    top: 0;\n    z-index: ${props => props.theme.zIndex.appBar};\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: ${props => props.theme.spacing(2, 3)};\n    background-color: ${props => props.theme.palette.background.paper};\n    box-shadow: ${props => props.theme.shadows[3]};\n    ${props => props.theme.extras?.mobileHeader?.root}\n`\n","import React from 'react'\nimport { Drawer } from '@material-ui/core'\nimport styled from 'styled-components/macro'\nimport { Stack } from 'components/layout'\nimport {\n    CloseIcon,\n    ManageIcon,\n} from 'components/icons'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { Divider } from 'components/Divider'\nimport { customScrollbar } from 'utils/styleUtils'\nimport {IconButton} from \"components/IconButton\";\nimport {PageTitle} from \"components/page/PageTitle\";\nimport {useManagementContext} from \"../index\";\n\nexport const MANAGEMENT_PANE_WIDTH = '25rem'\n\nexport const ManagementPane: React.FC = ({ children }) => {\n    return (\n        <StyledDrawer variant=\"permanent\" anchor=\"right\">\n            <ManagementPaneHeader />\n            <StyledDivider />\n            <Stack spacing={5} mb={4}>\n                {children}\n            </Stack>\n        </StyledDrawer>\n    )\n}\n\nconst ManagementPaneHeader: React.FC = () => {\n    const { setEnabled } = useManagementContext()\n\n    return (\n        <Stack spacing={5} mb={4}>\n            <HeaderWrap>\n                <PageTitle icon={<ManageIcon />}>Manage Mode</PageTitle>\n                <ErrorBoundary silent>\n                    <CloseButtonWrap>\n                        <IconButton onClick={() => setEnabled(false)}>\n                            <CloseIcon />\n                        </IconButton>\n                    </CloseButtonWrap>\n                </ErrorBoundary>\n            </HeaderWrap>\n        </Stack>\n    )\n}\n\nconst CloseButtonWrap = styled.div`\n    position: relative;\n    padding-left: ${props => props.theme.spacing(4)};\n    &:after {\n        content: '';\n        position: absolute;\n        top: 50%;\n        left: 0;\n        transform: translateY(-50%);\n        width: 1px;\n        height: 35px;\n        background-color: ${props => props.theme.palette.divider};\n        ${props => props.theme.extras?.pageAside?.dividers}\n    }\n`\n\nconst HeaderWrap = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: ${props => props.theme.spacing(2, 4, 0, 6)};\n`\n\nconst StyledDrawer = styled(Drawer)`\n    width: ${MANAGEMENT_PANE_WIDTH};\n    & .MuiPaper-root {\n        width: ${MANAGEMENT_PANE_WIDTH};\n        ${customScrollbar}\n    }\n`\n\nconst StyledDivider = styled(Divider)`\n    ${props => props.theme.extras?.pageAside?.dividers}\n`\n","import React, { useCallback, useContext } from 'react'\nimport { Drawer, Theme, useMediaQuery, useTheme } from '@material-ui/core'\nimport { auth } from 'lib/auth'\nimport { Link, NavLink } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { getUserPrivateName, useUserState } from 'contexts/UserContext'\nimport { CurrentUserAvatar } from 'features/avatar'\nimport { Flex, Inline, Stack } from 'components/layout'\nimport {\n    ProjectIcon,\n    HomeIcon,\n    LogOutIcon,\n    SettingsIcon,\n    TrophyIcon,\n    UserIcon,\n    CommunityIcon,\n    EventsIcon,\n    GamePadIcon,\n    ClassroomIcon,\n} from 'components/icons'\nimport LogiscoolLogo from 'media/images/logiscool-logo.png'\nimport LogiscoolLogoWhite from 'media/images/logiscool-logo-white.png'\nimport { List, ListItem, ListItemIcon } from 'components/list'\nimport { Text } from 'components/Text'\nimport { Box } from 'components/layout'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { NotificationButton } from 'features/notifications'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { FloatingBadge } from 'components/FloatingBadge'\nimport { useSelector } from 'lib/store'\nimport { getUnreadFeedEntryCount } from 'features/feed'\nimport { Divider } from 'components/Divider'\nimport { UserBadge } from 'features/profile'\nimport { customScrollbar } from 'utils/styleUtils'\nimport { CookieHunt } from 'features/cookie-hunt'\nimport { useAppVariantContent } from 'lib/app-variant'\nimport { runtimeEnv } from 'utils/env'\nimport { AvatarSize } from 'features/avatar/Avatar'\nimport { useEventsData } from 'features/events/useEventsData'\nimport { useHasGrant } from '../../lib/grants'\nimport { toggleAside } from '../../lib/store/pageReducer'\nimport { useDispatch } from 'react-redux'\nimport { Tooltip } from 'components/Tooltip'\nimport { InClassModeConfirmProvider } from 'features/classroom'\n\ntype PageAsideProps = {\n    isMobileMenuOpen: boolean\n    onCloseMobileMenu: () => void\n    isMobile: boolean\n}\ntype HeightVariant = 'normal' | 'small' | 'extra-small'\nconst asideContext = React.createContext<{\n    height: HeightVariant\n    mini: boolean\n    toggleMini: () => void\n}>({ height: 'normal', mini: true, toggleMini: () => {} })\n\nexport const PageAside: React.FC<PageAsideProps> = ({ isMobileMenuOpen, onCloseMobileMenu, isMobile }) => {\n    const isSmallHeight = useMediaQuery<Theme>('@media (min-height: 601px) and (max-height: 700px)', { noSsr: true })\n    const isExtraSmallHeight = useMediaQuery<Theme>('@media (max-height: 600px)', { noSsr: true })\n\n    const height: HeightVariant = React.useMemo(() => {\n        if (!isMobile) {\n            if (isSmallHeight) {\n                return 'small'\n            }\n            if (isExtraSmallHeight) {\n                return 'extra-small'\n            }\n        }\n        return 'normal'\n    }, [isMobile, isExtraSmallHeight, isSmallHeight])\n\n    const theme = useTheme()\n    const mini = useSelector(state => state.page.isAsideCollapsed) && !isMobile\n    const asideWidth = useSelector(state => state.page.asideWidth)\n    const dispatch = useDispatch()\n    const toggleMini = useCallback(() => {\n        dispatch(toggleAside())\n    }, [dispatch])\n\n    return (\n        <StyledDrawer\n            $asideWidth={asideWidth}\n            variant={isMobile ? 'temporary' : 'permanent'}\n            open={isMobileMenuOpen}\n            onClose={onCloseMobileMenu}\n        >\n            <asideContext.Provider value={{ height, mini, toggleMini }}>\n                <PageAsideHeader isMobile={isMobile} />\n                <PageAsideMenu />\n            </asideContext.Provider>\n            <ErrorBoundary silent>{theme.extras?.pageAside?.extraComponent}</ErrorBoundary>\n        </StyledDrawer>\n    )\n}\n\nconst avatarHeightMap: Record<HeightVariant, AvatarSize> = {\n    normal: 'medium',\n    small: 'medium',\n    'extra-small': 'small-plus',\n}\n\nconst spacingHeightMap: Record<HeightVariant, number> = {\n    normal: 5,\n    small: 3,\n    'extra-small': 2,\n}\n\nconst marginHeightMap: Record<HeightVariant, number> = {\n    normal: 4,\n    small: 2,\n    'extra-small': 1,\n}\n\nconst PageAsideHeader: React.FC<{ isMobile: boolean }> = ({ isMobile }) => {\n    const { account } = useUserState()\n    const theme = useTheme()\n    const { height, mini } = useContext(asideContext)\n\n    return (\n        <Stack spacing={spacingHeightMap[height]} mb={marginHeightMap[height]}>\n            <PageAsideLogoWrap>\n                {!isMobile && !mini && (\n                    <>\n                        <Link to=\"/app\">\n                            <Logo\n                                src={theme.extras?.logoType === 'white' ? LogiscoolLogoWhite : LogiscoolLogo}\n                                alt=\"Logiscool\"\n                            />\n                        </Link>\n                        <ErrorBoundary silent>\n                            <NotificationButtonWrap>\n                                <NotificationButton />\n                            </NotificationButtonWrap>\n                        </ErrorBoundary>\n                    </>\n                )}\n            </PageAsideLogoWrap>\n\n            <Flex direction=\"column\" align=\"center\" pl={4} pr={4}>\n                <CookieHunt name=\"aside-avatar\">\n                    <Link to={`/app/user/${account.username}`}>\n                        <CurrentUserAvatar size={mini ? 'small' : avatarHeightMap[height] ?? 'big'} />\n                    </Link>\n                </CookieHunt>\n                {!mini && (\n                    <Box textAlign=\"center\" mt={2}>\n                        <StyledLink to={`/app/user/${account.username}`}>\n                            <Username variant={mini || height === 'extra-small' ? 'h4' : 'h3'} component=\"span\">\n                                <Inline spacing={2}>\n                                    <span>{getUserPrivateName(account)}</span>\n                                    <UserBadge user={account} />\n                                </Inline>\n                            </Username>\n                        </StyledLink>\n                    </Box>\n                )}\n                {account.userNbr && (\n                    <Box textAlign=\"center\">\n                        <UserNumber component=\"span\">@{account.userNbr}</UserNumber>\n                    </Box>\n                )}\n            </Flex>\n        </Stack>\n    )\n}\n\nconst LogoutButton: React.FC<{ action: () => Promise<void> | void }> = ({ action }) => {\n    const t = useTranslate()\n    return (\n        <SecondaryButton icon={<LogOutIcon />} onClick={action}>\n            {t('general::logout')}\n        </SecondaryButton>\n    )\n}\n\nconst PageAsideMenu = () => {\n    const t = useTranslate()\n    const { appVariantContent } = useAppVariantContent()\n    const hasGrant = useHasGrant()\n    const hasNewsAreaGrant = hasGrant('area.news')\n    const hasCurriculumAreaGrant = hasGrant('area.classroom.curriculum')\n    const hasMyGroupsAreaGrant = hasGrant('area.classroom.my-groups')\n    const hasTimetableAreaGrant = hasGrant('area.classroom.timetable')\n    const hasMyProjectsAreaGrant = hasGrant('area.my-projects')\n    const hasCommunityAreaGrant = hasGrant('area.community')\n    const hasChallengesAreaGrant = hasGrant('area.challenges')\n    const hasEventsAreaGrant = hasGrant('area.events')\n\n    return (\n        <>\n            <StyledList style={{ flex: 1 }}>\n                {hasNewsAreaGrant &&\n                    appVariantContent({\n                        normal: <PageAsideNewsMenuItem />,\n                        guest: <PageAsideWelcomeMenuItem />,\n                        'open-day': <PageAsideWelcomeMenuItem />,\n                    })}\n                {appVariantContent({\n                    normal: (\n                        <>\n                            {hasMyProjectsAreaGrant && <PageAsideMyProjectsMenuItem />}\n                            {(hasTimetableAreaGrant || hasCurriculumAreaGrant) && <PageAsideClassroomMenuItem />}\n                            {!hasTimetableAreaGrant && !hasCurriculumAreaGrant && hasMyGroupsAreaGrant && (\n                                <PageAsideMyGroupsMenuItem />\n                            )}\n                            <PageAsideProfileMenuItem />\n                            {hasCommunityAreaGrant && <PageAsideCommunityMenuItem />}\n                            {hasChallengesAreaGrant && <PageAsideChallengesMenuItem />}\n                            {hasEventsAreaGrant && <PageAsideEventMenuItem />}\n                        </>\n                    ),\n                    'open-day': (\n                        <>\n                            {hasMyProjectsAreaGrant && <PageAsideOpenDayMenuItem />}\n                            <PageAsideProfileMenuItem />\n                            {hasCommunityAreaGrant && <PageAsideCommunityMenuItem />}\n                            {hasChallengesAreaGrant && <PageAsideChallengesMenuItem />}\n                            {hasEventsAreaGrant && <PageAsideEventMenuItem />}\n                        </>\n                    ),\n                    guest: (\n                        <>\n                            {hasChallengesAreaGrant && <PageAsideChallengesMenuItem />}\n                            {hasCommunityAreaGrant && <PageAsideCommunityMenuItem />}\n                            {runtimeEnv.REACT_APP_ONBOARDING_ENABLED && <PageAsideEventMissionMenuItem />}\n                        </>\n                    ),\n                })}\n            </StyledList>\n            <StyledDivider />\n            <StyledList>\n                <SecondaryButton icon={<SettingsIcon />} to=\"/app/settings\">\n                    {t('settings::label')}\n                </SecondaryButton>\n                <InClassModeConfirmProvider action={auth.logout} ActionWrapper={LogoutButton} />\n            </StyledList>\n        </>\n    )\n}\n\nconst PageAsideWelcomeMenuItem: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <PageAsideMenuItem icon={<HomeIcon />} to=\"/app/welcome\">\n            {t('welcome::title')}\n        </PageAsideMenuItem>\n    )\n}\n\nconst PageAsideCommunityMenuItem: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <PageAsideMenuItem icon={<CommunityIcon />} to=\"/app/community\">\n            {t('community::title')}\n        </PageAsideMenuItem>\n    )\n}\n\nconst PageAsideChallengesMenuItem: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <PageAsideMenuItem icon={<TrophyIcon />} to=\"/app/challenges\">\n            {t('challenges::title')}\n        </PageAsideMenuItem>\n    )\n}\n\nconst PageAsideEventMissionMenuItem: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <PageAsideMenuItem icon={<GamePadIcon />} to=\"/app/events/mylogiscool-mission\">\n            {t('OnboardingMission::title')}\n        </PageAsideMenuItem>\n    )\n}\n\nconst PageAsideProfileMenuItem: React.FC = () => {\n    const t = useTranslate()\n    const { account } = useUserState()\n\n    return (\n        <PageAsideMenuItem icon={<UserIcon />} to={`/app/user/${account.username}`}>\n            {t('profile::myProfile')}\n        </PageAsideMenuItem>\n    )\n}\n\nconst PageAsideMyProjectsMenuItem: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <PageAsideMenuItem icon={<ProjectIcon />} to=\"/app/my-projects\">\n            {t('projects::my')}\n        </PageAsideMenuItem>\n    )\n}\n\nconst PageAsideOpenDayMenuItem: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <PageAsideMenuItem icon={<ClassroomIcon />} to=\"/app/open-day\">\n            {t('open-day::title')}\n        </PageAsideMenuItem>\n    )\n}\n\nconst PageAsideClassroomMenuItem: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <PageAsideMenuItem icon={<ClassroomIcon />} to=\"/app/classroom\">\n            {t('classroom::title')}\n        </PageAsideMenuItem>\n    )\n}\n\nconst PageAsideMyGroupsMenuItem: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <PageAsideMenuItem icon={<ClassroomIcon />} to=\"/app/classroom/groups\">\n            {t('classroom::groups::groups-participation')}\n        </PageAsideMenuItem>\n    )\n}\n\nconst PageAsideEventMenuItem: React.FC = () => {\n    const t = useTranslate()\n    const { hasEventsGrant } = useEventsData()\n\n    if (!hasEventsGrant) {\n        return null\n    }\n\n    return (\n        <PageAsideMenuItem icon={<EventsIcon />} to=\"/app/events\">\n            <Box component=\"span\" pr={3}>\n                {t('events::title')}\n            </Box>\n        </PageAsideMenuItem>\n    )\n}\n\nconst PageAsideNewsMenuItem: React.FC = () => {\n    const t = useTranslate()\n    const unreadCount = useSelector(getUnreadFeedEntryCount)\n\n    return (\n        <PageAsideMenuItem icon={<HomeIcon />} to=\"/app/welcome\">\n            <FloatingBadge active={unreadCount > 0} title={`${unreadCount}`}>\n                <Box component=\"span\" pr={3}>\n                    {t('news::title')}\n                </Box>\n            </FloatingBadge>\n        </PageAsideMenuItem>\n    )\n}\n\ninterface PageAsideMenuItemProps {\n    icon: React.ReactElement\n    to?: string\n    onClick?: () => void\n    className?: string\n}\n\nconst PageAsideMenuItem: React.FC<PageAsideMenuItemProps> = ({ children, to, onClick, icon, className }) => {\n    const { height, mini } = useContext(asideContext)\n\n    const body = (\n        <>\n            <StyledListItemIcon $height={height}>{icon}</StyledListItemIcon>\n            {!mini && children}\n        </>\n    )\n\n    let item\n    if (to) {\n        item = (\n            <StyledListItem\n                mini={mini}\n                $height={height}\n                className={className}\n                component={NavLink}\n                activeClassName=\"Mui-selected\"\n                to={to}\n                onClick={onClick}\n            >\n                {body}\n            </StyledListItem>\n        )\n    } else {\n        item = (\n            <StyledListItem mini={mini} $height={height} className={className} onClick={onClick}>\n                {body}\n            </StyledListItem>\n        )\n    }\n\n    if (mini) {\n        return (\n            <Tooltip title={<>{children}</>} placement=\"right\">\n                <div>{item}</div>\n            </Tooltip>\n        )\n    }\n\n    return item\n}\n\nconst NotificationButtonWrap = styled.div`\n    position: relative;\n    padding-left: ${props => props.theme.spacing(4)};\n    &:after {\n        content: '';\n        position: absolute;\n        top: 50%;\n        left: 0;\n        transform: translateY(-50%);\n        width: 1px;\n        height: 35px;\n        background-color: ${props => props.theme.palette.divider};\n        ${props => props.theme.extras?.pageAside?.dividers}\n    }\n`\n\nconst PageAsideLogoWrap = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: ${props => props.theme.spacing(2, 4, 0, 6)};\n`\n\nconst Logo = styled.img`\n    display: block;\n    max-width: 6.7rem;\n`\n\nconst StyledLink = styled(Link)`\n    color: inherit;\n    text-decoration: none;\n`\n\nconst Username = styled(Text)`\n    word-break: break-word;\n    font-weight: 800;\n` as typeof Text\n\nconst UserNumber = styled(Text)`\n    word-break: break-all;\n    opacity: 0.7;\n    font-weight: 600;\n    ${props => props.theme.extras?.pageAside?.secondary}\n` as typeof Text\n\nconst StyledListItem = styled(ListItem)<{ $height: HeightVariant; mini?: boolean }>`\n    word-break: break-word;\n    padding-left: ${props => (props.mini ? '1.4rem' : undefined)};\n    /* TODO: types */\n    font-size: ${props => {\n        if (props.$height === 'small') {\n            return '0.9rem'\n        }\n        if (props.$height === 'extra-small') {\n            return '0.8rem'\n        }\n    }};\n    padding-top: ${props => {\n        if (props.$height === 'small') {\n            return '0.6rem'\n        }\n        if (props.$height === 'extra-small') {\n            return '0.5rem'\n        }\n    }};\n    padding-bottom: ${props => {\n        if (props.$height === 'small') {\n            return '0.6rem'\n        }\n        if (props.$height === 'extra-small') {\n            return '0.5rem'\n        }\n    }};\n    ${(props: { theme: Theme }) => props.theme.extras?.pageAside?.listItemAndNotificationButton}\n`\n\nconst SecondaryButton = styled(PageAsideMenuItem)`\n    color: ${props => props.theme.palette.text.secondary};\n    ${props => props.theme.extras?.pageAside?.secondary}\n`\n\nconst StyledList = styled(List)`\n    padding: ${props => props.theme.spacing(0, 4)};\n`\n\nconst StyledListItemIcon = styled(ListItemIcon)<{ $height: HeightVariant }>`\n    color: inherit;\n    svg {\n        font-size: ${props => (props.$height === 'extra-small' ? '1.1rem' : undefined)};\n    }\n`\n\nconst StyledDrawer = styled(Drawer)<{ $asideWidth: string }>`\n    width: ${props => props.$asideWidth};\n    & .MuiPaper-root {\n        width: ${props => props.$asideWidth};\n        ${props => props.theme.extras?.pageAside?.paper};\n        ${customScrollbar}\n        &::-webkit-scrollbar-track {\n            ${props => props.theme.extras?.pageAside?.paper};\n        }\n    }\n`\n\nconst StyledDivider = styled(Divider)`\n    ${props => props.theme.extras?.pageAside?.dividers}\n`\n","import { Theme, useMediaQuery, useTheme } from '@material-ui/core'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { BirthdayConfetti, BirthdayFooter, BirthdayGerland, BIRTHDAY_ENABLED } from 'features/birthday'\nimport { ScrollRestoration } from 'lib/router/Scrollrestoration'\nimport React, { useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { PageMobileHeader } from './PageMobileHeader'\nimport { MANAGEMENT_PANE_WIDTH, ManagementPane } from '../../features/management/components/ManagementPane'\nimport { ManagementModal } from '../../features/management/components/ManagementModal'\nimport { useManagementContext } from '../../features/management'\nimport { useSelector } from 'lib/store'\nimport { PageAside } from './PageAside'\n\nexport const MOBILE_MENU_BREAKPOINT = 'sm'\n\ninterface PageProps {\n    hideFooter?: boolean\n    managementChildren?: React.ReactNode\n}\n\nexport const Page: React.FC<PageProps> = ({ hideFooter, children, managementChildren }) => {\n    const { enabled: managementModeEnabled, modalStack: managementModalStack } = useManagementContext()\n    const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false)\n    const isMobileMenu = useMediaQuery<Theme>(theme => theme.breakpoints.down(MOBILE_MENU_BREAKPOINT), { noSsr: true })\n    const theme = useTheme()\n    const asideWidth = useSelector(state => state.page.asideWidth)\n\n    return (\n        <>\n            <ScrollRestoration />\n            <Root isMobileMenu={isMobileMenu} isManagementMode={managementModeEnabled} $asideWidth={asideWidth}>\n                {isMobileMenu && (\n                    <PageMobileHeader\n                        onMenuButtonClick={() => {\n                            setIsMobileMenuOpen(flag => !flag)\n                        }}\n                    />\n                )}\n                <PageAside\n                    isMobileMenuOpen={isMobileMenuOpen}\n                    isMobile={isMobileMenu}\n                    onCloseMobileMenu={() => {\n                        setIsMobileMenuOpen(false)\n                    }}\n                />\n                <main>{children}</main>\n                {managementModeEnabled && (\n                    <>\n                        <ManagementPane>{managementChildren}</ManagementPane>\n                        {managementModalStack.map((modal, i) => (\n                            <ManagementModal key={modal.key} modal={modal} level={i} />\n                        ))}\n                    </>\n                )}\n                {!hideFooter && (\n                    <Footer>{BIRTHDAY_ENABLED ? <BirthdayFooter /> : theme.extras?.page?.footerImage}</Footer>\n                )}\n                {BIRTHDAY_ENABLED && (\n                    <ErrorBoundary silent>\n                        <BirthdayConfetti />\n                        <BirthdayGerland />\n                    </ErrorBoundary>\n                )}\n            </Root>\n        </>\n    )\n}\n\nconst Root = styled.div<{ isMobileMenu: boolean; isManagementMode: boolean; $asideWidth?: string }>`\n    display: ${props => (props.isMobileMenu ? 'flex' : 'grid')};\n    flex-direction: ${props => (props.isMobileMenu ? 'column' : undefined)};\n    grid-template-columns: ${props => props.$asideWidth} minmax(0, 1fr) ${props =>\n            props.isManagementMode ? MANAGEMENT_PANE_WIDTH : 0};\n    min-height: 100%;\n`\n\nconst Footer = styled.footer`\n    grid-column: 2;\n    display: flex;\n    align-items: flex-end;\n    flex: 1;\n`\n","import React, { forwardRef } from 'react'\nimport { Card as MuiCard, CardProps as MuiCardProps } from '@material-ui/core'\nimport styled from 'styled-components/macro'\n\nexport interface CardProps extends MuiCardProps {}\n\nexport const Card = forwardRef<any, CardProps>((props, ref) => {\n    return <Root elevation={1} {...props} ref={ref} />\n})\n\nconst Root = styled(MuiCard)`\n    border: none;\n`\n","import React from 'react'\nimport { CardContent as MuiCardContent, CardContentProps as MuiCardContentProps } from '@material-ui/core'\nimport styled from 'styled-components/macro'\n\ninterface CardContentProps extends MuiCardContentProps {}\n\nexport const CardContent: React.FC<CardContentProps> = props => {\n    return <Root {...props} />\n}\n\nconst Root = styled(MuiCardContent)`\n    &,\n    &:last-child {\n        padding: ${props => props.theme.spacing(4)};\n    }\n`\n","import React from 'react'\nimport { CardHeader as MuiCardHeader, CardHeaderTypeMap } from '@material-ui/core'\nimport styled from 'styled-components/macro'\n\ntype CardHeaderProps = CardHeaderTypeMap['props'] & {\n    style?: React.CSSProperties\n}\n\nexport const CardHeader: React.FC<CardHeaderProps> = props => {\n    return <Root {...props} />\n}\n\nconst Root = styled(MuiCardHeader)`\n    padding: ${props => props.theme.spacing(4)};\n`\n","import { LinearProgress } from '@material-ui/core'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface LinearLoaderProps {\n    className?: string\n}\n\nexport const LinearLoader: React.FC<LinearLoaderProps> = props => {\n    return <Root variant=\"indeterminate\" color=\"primary\" {...props} />\n}\n\nconst Root = styled(LinearProgress)`\n    border-radius: 5px;\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport LogiscoolLogo from 'media/images/logiscool-logo.png'\nimport { Img } from './Img'\nimport { Box, Stack } from 'components/layout'\nimport { LinearLoader } from 'components/LinearLoader'\n\nexport const FullScreenLoader: React.FC = () => {\n    return (\n        <Root>\n            <Stack spacing={3}>\n                <Img width=\"13rem\" src={LogiscoolLogo} />\n                <Box ml=\"auto\" mr=\"auto\" maxWidth=\"50%\">\n                    <LinearLoader />\n                </Box>\n            </Stack>\n        </Root>\n    )\n}\n\nconst Root = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    background-color: ${props => props.theme.palette.background.default};\n`\n","import { InventoryItem } from 'lib/liveops/models'\nimport { createContext, useContext } from 'react'\nimport {ActivityEvent, NormalizedActivityEvent} from '../types/activityEventTypes'\nimport { useSubscribeToActivityEventPoints } from './useSubscribeToActivityEventPoints'\nimport {Dayjs} from \"dayjs\";\n\nexport type FakeDateInfo = [string, Dayjs]\n\ninterface ActivityEventContextState {\n    event: NormalizedActivityEvent\n    rawEvent: ActivityEvent\n    relatedEvents: ActivityEvent[]\n    points: ReturnType<typeof useSubscribeToActivityEventPoints>\n    hasEnded: boolean\n    certificateInventoryItem: InventoryItem | undefined\n    hideSubEventRibbons: boolean\n    relatedEventSlugs: string[]\n    fakeDate: FakeDateInfo|null\n    setFakeDate: (date: FakeDateInfo|null) => void\n    fakePoints: number|null\n    setFakePoints: (value: number|null) => void\n    currentFakeDate: Dayjs|undefined\n}\n\nexport const activityEventContext = createContext<ActivityEventContextState | undefined>(undefined)\n\nexport const useActivityEventContext = () => {\n    const state = useContext(activityEventContext)\n\n    if (state === undefined) {\n        throw new Error(\"'useActivityEventContext' must be used within an 'ActivityEventDetails'.\")\n    }\n\n    return state\n}\n","import { Grant, GrantFeature, useHasGrant } from 'lib/grants'\nimport * as React from 'react'\n\ninterface Props {\n    grant: Grant | GrantFeature\n    fallback?: React.ReactNode\n}\n\nexport const Authorize: React.FC<Props> = ({ children, grant, fallback }) => {\n    const hasGrant = useHasGrant()\n    if (grant === undefined) {\n        return <>{children}</>\n    }\n\n    return <>{hasGrant(grant) ? children : fallback || null}</>\n}\n","import React, { useContext } from 'react'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Button } from 'components/Button'\nimport { Stack } from 'components/layout'\nimport { FormControl, FormLabel, TextField } from 'components/form'\nimport { api } from 'lib/api'\nimport { useUserState } from 'contexts/UserContext'\nimport MoodRating from './elements/MoodRating'\nimport { Dialog, DialogActions, DialogContent, DialogTitle } from 'components/dialog'\nimport { Text } from 'components/Text'\nimport { InClassContext } from './InClassModeCard'\nimport { setFeedbackModal } from '../../store'\n\nexport interface FeedbackModalProps {\n    timesheet: string\n    lessonType: string\n    lessonIndex: number\n    lessonLength: number\n    courseType: string\n    progress: number\n    numberOfStudents: number\n}\n\nexport const FeedbackModal: React.FC<FeedbackModalProps> = props => {\n    const t = useTranslate()\n    const user = useUserState()\n    const [status, setStatus] = React.useState<'idle' | 'loading' | 'success' | 'error'>('idle')\n    const [studentRatingValue, setStudentRatingValue] = React.useState<number | null>(null)\n    const [trainerRatingValue, setTrainerRatingValue] = React.useState<number | null>(null)\n    const [commentValue, setCommentValue] = React.useState<string | null>(null)\n    const isFilled = studentRatingValue !== null && trainerRatingValue !== null\n    const {\n        state: { feedbackModalOpen },\n        dispatch,\n    } = useContext(InClassContext)\n\n    async function submitFeedback() {\n        setStatus('loading')\n        try {\n            await api.groups.submitTimesheetFeedback({\n                school: user.crm.lastSchoolId,\n                timesheet: props.timesheet,\n                studentsRating: studentRatingValue,\n                teachersRating: trainerRatingValue,\n                comment: commentValue,\n                lessonLength: props.lessonLength,\n                lessonType: props.lessonType,\n                lessonIndex: props.lessonIndex,\n                courseType: props.courseType,\n                progress: props.progress,\n                endClass: true,\n                numberOfStudents: props.numberOfStudents,\n                status: !commentValue ? 'resolved' : 'waiting',\n            })\n            close()\n        } catch (e) {\n            console.error(e)\n            setStatus('error')\n            return\n        }\n    }\n\n    function close() {\n        setStudentRatingValue(null)\n        setTrainerRatingValue(null)\n        setCommentValue(null)\n        setStatus('idle')\n        dispatch(setFeedbackModal(false))\n    }\n\n    return (\n        <Dialog open={feedbackModalOpen} disableBackdropClick={true} hideCloseButton={true}>\n            <DialogTitle>{t('timesheet.feedbackModal.trainersFeedback')}</DialogTitle>\n            <DialogContent>\n                <Stack spacing={4}>\n                    <Text>{t('timesheet.feedbackModal.subtitle')}</Text>\n                    <FormControl>\n                        <FormLabel>{t('timesheet.feedbackModal.trainerSatisfaction')}</FormLabel>\n                        <MoodRating\n                            value={trainerRatingValue}\n                            name=\"teachers-rating-modal\"\n                            onChange={(_, v) => setTrainerRatingValue(v)}\n                        />\n                    </FormControl>\n                    <FormControl>\n                        <FormLabel>{t('timesheet.feedbackModal.studentSatisfaction')}</FormLabel>\n                        <MoodRating\n                            value={studentRatingValue}\n                            name=\"students-rating\"\n                            onChange={(_, v) => setStudentRatingValue(v)}\n                        />\n                    </FormControl>\n                    <TextField\n                        readOnly={status === 'loading'}\n                        label={t(`timesheet.feedbackModal.comments`)}\n                        multiline\n                        name=\"feedback-comments\"\n                        rows={4}\n                        value={commentValue || ''}\n                        inputProps={{ maxLength: 500 }}\n                        onChange={e => {\n                            setCommentValue(e.target.value)\n                        }}\n                    ></TextField>\n                </Stack>\n            </DialogContent>\n            <DialogActions>\n                <Button disabled={status === 'loading'} variant=\"outlined\" onClick={close}>\n                    {t('timesheet.feedbackModal.skipButton')}\n                </Button>\n                <Button isLoading={status === 'loading'} disabled={!isFilled} onClick={submitFeedback}>\n                    {t('timesheet.feedbackModal.submit')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n","import { Card, CardContent } from 'components/card'\nimport React, { useContext, useEffect, useMemo, useState } from 'react'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Button } from 'components/Button'\nimport { Text } from 'components/Text'\nimport { Stack } from 'components/layout'\nimport { CalendarEntryEventData, Timesheet } from '../../types/groupTypes'\nimport { FeedbackModal } from './FeedbackModal'\nimport { Option, Select } from 'components/form'\nimport styled from 'styled-components/macro'\nimport { Box, DialogActions, DialogContent, DialogTitle, Fab, Theme, useMediaQuery } from '@material-ui/core'\nimport { useSelector } from 'lib/store'\nimport { useDispatch } from 'react-redux'\nimport {\n    setCalendarEvent,\n    toggleEnabled,\n    groupCompleted,\n    groupIncomplete,\n    toggleEntry,\n    InClassReducerState,\n    setFeedbackModal,\n    setUrl,\n} from '../../store'\nimport {\n    ProgressBar,\n    ProgressBarCenteredText,\n    ProgressBarIndicator,\n    ProgressBarTick,\n    ProgressBarTrack,\n} from 'components/progress-bar'\nimport { Tooltip } from 'components/Tooltip'\n//import { StatusIconGreen, StatusIconRed, StatusIconYellow } from 'components/icons'\nimport { Link, useHistory, useLocation } from 'react-router-dom'\nimport { Confirm } from 'components/Confirm'\nimport { DialogPrimaryButton, DialogSecondaryButton } from 'components/dialog'\nimport { MeetingIcon } from 'components/icons'\nimport dayjs from 'dayjs'\n\nconst HorizontalStack = styled(Box)<{ spacing: number }>`\n    display: flex;\n    gap: ${props => props.theme.spacing(props.spacing)};\n`\n\nconst HorizontalStackStart = styled(Box)<{ spacing: number }>`\n    display: flex;\n    gap: ${props => props.theme.spacing(props.spacing)};\n    justify-content: flex-start;\n    align-items: center;\n`\n\nconst SmallProgressBarTrack = styled(ProgressBarTrack)`\n    height: 1.5rem;\n`\n\nconst HorizontalSubHeader = styled(Text)<{ $opacity: number }>`\n    opacity: ${props => props.$opacity};\n    text-wrap: nowrap;\n    display: flex;\n    flex-direction: row;\n`\n\nconst InClassFab = styled(Fab)`\n    position: fixed;\n    bottom: 2rem;\n    right: 2rem;\n    z-index: 2;\n`\n\nexport interface InClassContextValue {\n    state: InClassReducerState\n    dispatch: ReturnType<typeof useDispatch>\n}\n\nexport const InClassContext = React.createContext<InClassContextValue>({\n    state: {\n        enabled: false,\n        feedbackModalOpen: false,\n        startTime: 0,\n        version: 0,\n        totalDuration: 0,\n        entryGroupCounters: [],\n        entryGroupDurations: [],\n        entryCheckboxes: [],\n        groupCheckboxes: [],\n    },\n    dispatch: () => ({} as any),\n})\n\nexport const useInClassContext = (index: number, entryIndex?: number) => {\n    const context = useContext(InClassContext)\n    const location = useLocation()\n    if (!context) {\n        throw new Error('useInClassContext must be used within a InClassContextProvider')\n    }\n\n    const isInClassMode = context.state.enabled && context.state.url === location.pathname\n    const isGroupCompleted =\n        (isInClassMode &&\n            context.state.entryCheckboxes[index]?.some(e => e.active) &&\n            context.state.entryCheckboxes[index]?.every(\n                entry => entry.value || (context.state.entryCheckboxes[index].length > 1 && !entry.active),\n            )) ??\n        false\n    const groupChecked = context.state.groupCheckboxes?.[index] ?? false\n    const entryChecked =\n        typeof entryIndex !== 'undefined' ? context.state.entryCheckboxes?.[index]?.[entryIndex]?.value ?? false : false\n    const isMakeUp = context.state.calendarEvent?.type === 'makeup'\n\n    return useMemo(() => {\n        return {\n            isInClassMode: isInClassMode && !isMakeUp,\n            isGroupCompleted: groupChecked || isGroupCompleted,\n            isEntryCompleted: entryChecked || isGroupCompleted,\n            isMakeUp,\n            hasMultipleEntries: context.state.entryGroupCounters[index] > 1,\n\n            toggleGroup: () => {\n                if (groupChecked) {\n                    context.dispatch(groupIncomplete(index))\n                } else {\n                    context.dispatch(groupCompleted(index))\n                }\n            },\n\n            toggleEntry: () => {\n                if (entryChecked) {\n                    context.dispatch(toggleEntry(index, entryIndex!, false))\n                } else {\n                    context.dispatch(toggleEntry(index, entryIndex!, true))\n                }\n            },\n        }\n    }, [isInClassMode, isGroupCompleted, isMakeUp, groupChecked, entryChecked, context, index, entryIndex])\n}\n\nconst useTimeCalculation = () => {\n    const { state } = useContext(InClassContext)\n    const [elapsedTime, setElapsedTime] = useState(state.enabled ? Date.now() - state.startTime : 0)\n\n    useEffect(() => {\n        if (!state.enabled) return\n        const timer = setInterval(() => {\n            setElapsedTime(Date.now() - state.startTime)\n        }, 1000)\n        return () => clearInterval(timer)\n    }, [state.startTime, state.enabled])\n\n    const estimatedElapsedTime = state.entryCheckboxes.reduce((total, group, index) => {\n        const groupSum = group.reduce((groupTotal, entry) => {\n                return groupTotal + (entry.value ? entry.duration : 0)\n            }, 0)\n        if (groupSum > state.entryGroupDurations[index]) {\n            return total + state.entryGroupDurations[index]\n        }\n        return total + groupSum\n    }, 0)\n    \n    const estimatedTime = state.totalDuration - estimatedElapsedTime\n    const elapsedSeconds = Math.round(elapsedTime / 1000)\n    const elapsedMinutes = Math.round(elapsedTime / 60000)\n    const isElapsedInRange =\n        elapsedMinutes >= Math.round(estimatedTime * 0.1) && elapsedMinutes <= Math.round(estimatedTime * 0.9)\n    const isEndingSoon =\n        elapsedMinutes > Math.round(state.totalDuration * 0.9) ||\n        estimatedElapsedTime > Math.round(state.totalDuration * 0.9)\n\n    return {\n        elapsedTime,\n        elapsedSeconds,\n        elapsedMinutes,\n        estimatedElapsedTime,\n        estimatedTime,\n        isElapsedInRange,\n        isEndingSoon,\n    }\n}\n\nconst ElapsedTimeFab: React.FC<{ state: InClassReducerState; dispatch: ReturnType<typeof useDispatch> }> = ({\n    state,\n    dispatch,\n}) => {\n    const t = useTranslate()\n    const [elapsedSeconds, setElapsedSeconds] = useState(0)\n\n    useEffect(() => {\n        if (!state.enabled) return\n        const timer = setInterval(() => {\n            const elapsedTime = Date.now() - state.startTime\n            setElapsedSeconds(Math.round(elapsedTime / 1000))\n        }, 1000)\n        return () => clearInterval(timer)\n    }, [state.startTime, state.enabled])\n\n    const location = useLocation()\n    if (state.url === location.pathname || !state.enabled) return null\n\n    return (\n        <Link to={state.url || ''}>\n            <Tooltip title={t('classroom::backToSession')} placement=\"left\">\n                <InClassFab color=\"primary\" size=\"large\">\n                    {`${Math.floor(elapsedSeconds / 60)\n                        .toString()\n                        .padStart(2, '0')}:${(elapsedSeconds % 60).toString().padStart(2, '0')}`}\n                </InClassFab>\n            </Tooltip>\n        </Link>\n    )\n}\n\nexport const InClassModeContextProvider: React.FC = ({ children }) => {\n    const state = useSelector(state => state.inClass)\n    const dispatch = useDispatch()\n    const value = useMemo(() => ({ state, dispatch }), [state, dispatch])\n\n    return (\n        <InClassContext.Provider value={value}>\n            {children}\n            <ElapsedTimeFab state={state} dispatch={dispatch} />\n        </InClassContext.Provider>\n    )\n}\n\nexport interface InClassModeCardProps {\n    calendarEvent: CalendarEntryEventData\n    timesheet: Timesheet\n    timesheetId: string\n    lessonType: string\n    lessonIndex: number\n    courseType: string\n    numberOfStudents: number\n    horizontalLayout?: boolean\n}\n\nexport const InClassModeCard: React.FC<InClassModeCardProps> = ({\n    horizontalLayout,\n    timesheet,\n    timesheetId,\n    calendarEvent,\n    ...feedback\n}) => {\n    const t = useTranslate()\n    const { state, dispatch } = useContext(InClassContext)\n    const StackComponent = horizontalLayout ? HorizontalStack : Stack\n    const isMobile = useMediaQuery<Theme>(theme => theme.breakpoints.down('xs'), { noSsr: true })\n    const calendarEvents = useMemo(() => [calendarEvent], [calendarEvent])\n\n    const {\n        elapsedTime,\n        elapsedSeconds,\n        elapsedMinutes,\n        estimatedElapsedTime,\n        estimatedTime,\n        isElapsedInRange,\n        isEndingSoon,\n    } = useTimeCalculation()\n\n    // Set the calendar event when the component mounts\n    useEffect(() => {\n        if (calendarEvent) {\n            dispatch(setCalendarEvent(calendarEvent))\n        }\n    }, [dispatch, calendarEvent])\n\n    const location = useLocation()\n\n    /*const status = useMemo(() => {\n        if(elapsedMinutes >= estimatedElapsedTime-7.5 && elapsedMinutes <= estimatedElapsedTime+7.5) {\n            return {\n                icon: <StatusIconGreen color=\"#4CAF50\" />,\n                label: \"classroom::timeStatus::onTime\"\n            }\n        }\n        else if(elapsedMinutes >= estimatedElapsedTime-15 && elapsedMinutes <= estimatedElapsedTime+15) {\n            return {\n                icon: <StatusIconYellow color=\"#dfa13b\" />,\n                label: (elapsedMinutes > estimatedElapsedTime) ? \"classroom::timeStatus::slow\" : \"classroom::timeStatus::fast\"\n            }\n        }\n        else {\n            return {\n                icon: <StatusIconRed color=\"#F44336\" />,\n                label: (elapsedMinutes > estimatedElapsedTime) ? \"classroom::timeStatus::verySlow\" : \"classroom::timeStatus::veryFast\"\n            }\n        }\n    }, [elapsedMinutes, estimatedElapsedTime])*/\n\n    if (horizontalLayout && !elapsedTime && !isMobile) {\n        return null\n    }\n\n    const isMakeUp = calendarEvent.type === 'makeup'\n    const onlineMeetingUrl =\n        calendarEvent &&\n        calendarEvent.online &&\n        (calendarEvent as any)['onlineMeeting.hidden'] !== true &&\n        (calendarEvent as any)['onlineMeeting.url']\n    const isPast = dayjs().isAfter(calendarEvent.endTime)\n    \n    let contentPart = (\n        <StackComponent spacing={3} alignItems=\"center\" justifyContent=\"space-between\">\n            {state.enabled && (\n                <StackComponent spacing={horizontalLayout ? 3 : 1} alignItems=\"flex-start\" justifyContent=\"flex-end\">\n                    <Stack spacing={0}>\n                        {!horizontalLayout && <SessionHeader calendarEvents={calendarEvents} sessionEnabled={true} />}\n                        <Text style={{ marginBottom: horizontalLayout ? '.15rem' : undefined }}>\n                            {t('timesheet.elapsedTime')}\n                        </Text>\n                        <HorizontalStackStart spacing={0} style={{ /*marginLeft: '-.4rem',*/ marginTop: '-.4rem' }}>\n                            {/*<Tooltip title={t(status.label)}>\n                                <IconButton size=\"small\">\n                                    {status.icon}\n                                </IconButton>\n                            </Tooltip>*/}\n                            <Text\n                                variant={horizontalLayout ? 'h4' : 'h3'}\n                                style={\n                                    {\n                                        /* marginLeft: '-.2rem'*/\n                                    }\n                                }\n                            >\n                                {`${Math.floor(elapsedSeconds / 60)\n                                    .toString()\n                                    .padStart(2, '0')}:${(elapsedSeconds % 60).toString().padStart(2, '0')}`}\n                            </Text>\n                        </HorizontalStackStart>\n                    </Stack>\n                    {!isMakeUp && (\n                        <Stack spacing={0}>\n                            <Text>{t('timesheet.estimatedRemainingTime')}</Text>\n                            <ProgressBar\n                                value={estimatedElapsedTime}\n                                max={state.totalDuration}\n                                ticks={<>{isElapsedInRange && <ProgressBarTick requiredValue={elapsedMinutes} />}</>}\n                            >\n                                <SmallProgressBarTrack>\n                                    <ProgressBarIndicator />\n                                    <ProgressBarCenteredText>\n                                        {t('common.minutes.mynext', { duration: Math.round(estimatedTime) })}\n                                    </ProgressBarCenteredText>\n                                </SmallProgressBarTrack>\n                            </ProgressBar>\n                        </Stack>\n                    )}\n                </StackComponent>\n            )}\n            {!state.enabled && (\n                <>\n                    <SessionHeader calendarEvents={calendarEvents} sessionEnabled={false} />\n                </>\n            )}\n            {!horizontalLayout && (\n                <Box display=\"flex\" width=\"100%\" alignItems=\"center\">\n                    {(!horizontalLayout || !state.enabled) && (!isPast || state.enabled) && (\n                        <Button\n                            variant={!state.enabled || isEndingSoon ? 'contained' : 'outlined'}\n                            onClick={() => {\n                                if (!state.enabled) {\n                                    dispatch(setUrl(location.pathname))\n                                    dispatch(setCalendarEvent(calendarEvent))\n                                }\n                                dispatch(toggleEnabled({ timesheet }))\n                            }}\n                        >\n                            {state.enabled\n                                ? t(horizontalLayout ? 'timesheet.endButton' : 'timesheet.endClassButton', {\n                                      defaultValue: 'End',\n                                  })\n                                : t('timesheet.startClassButton')}\n                        </Button>\n                    )}\n                    {onlineMeetingUrl && !isPast && !state.enabled && (\n                        <Tooltip title={t('meeting::label')}>\n                            <Button\n                                variant=\"contained\"\n                                component=\"a\"\n                                href={onlineMeetingUrl}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                style={{ marginLeft: 'auto' }}\n                            >\n                                &nbsp;\n                                <MeetingIcon style={{ fontSize: 22 }} />\n                                &nbsp;\n                            </Button>\n                        </Tooltip>\n                    )}\n                </Box>\n            )}\n        </StackComponent>\n    )\n\n    if (horizontalLayout) {\n        contentPart = <Box padding={2}>{contentPart}</Box>\n    } else {\n        contentPart = (\n            <Card>\n                <CardContent>{contentPart}</CardContent>\n            </Card>\n        )\n    }\n\n    return (\n        <>\n            {contentPart}\n            {!horizontalLayout && (\n                <FeedbackModal {...feedback} lessonLength={elapsedTime} progress={0} timesheet={timesheetId} />\n            )}\n        </>\n    )\n}\n\nexport const EndLessonButtonEntry: React.FC = () => {\n    const t = useTranslate()\n    const { state, dispatch } = useContext(InClassContext)\n\n    const { isEndingSoon } = useTimeCalculation()\n\n    if (!state.enabled) {\n        return null\n    }\n\n    return (\n        <Card>\n            <CardContent style={{ textAlign: 'center' }}>\n                <Button\n                    variant={!state.enabled || isEndingSoon ? 'contained' : 'outlined'}\n                    onClick={() => {\n                        dispatch(toggleEnabled({}))\n                    }}\n                >\n                    {t('timesheet.endClassButton')}\n                </Button>\n            </CardContent>\n        </Card>\n    )\n}\n\nconst SessionHeader: React.FC<{ calendarEvents: CalendarEntryEventData[]; sessionEnabled: boolean }> = ({\n    calendarEvents,\n    sessionEnabled,\n}) => {\n    const t = useTranslate()\n    const { state, dispatch } = useContext(InClassContext)\n\n    if (calendarEvents.length === 1) {\n        const g = calendarEvents[0]\n        return (\n            <Stack spacing={0}>\n                <Text\n                    style={sessionEnabled ? { fontWeight: 600 } : undefined}\n                    color={sessionEnabled ? 'primary' : undefined}\n                >\n                    {g.group_name || g.sessionType || g.subject_key}\n                </Text>\n                <HorizontalSubHeader variant=\"body2\" $opacity={1}>\n                    {g.type === 'makeup' && (\n                        <>\n                            <Text variant=\"body2\" color=\"primary\">\n                                {t('timesheet.makeup')}\n                            </Text>\n                            {!state.enabled && (\n                                <>\n                                    &nbsp;•&nbsp;\n                                    {g.startTime.format('HH:mm')}-{g.endTime.format('HH:mm')}\n                                </>\n                            )}\n                        </>\n                    )}\n                    {g.type !== 'makeup' && !state.enabled && (\n                        <>\n                            {g.startTime.format('HH:mm')}-{g.endTime.format('HH:mm')}\n                            &nbsp;•&nbsp;\n                            {t('classroom::lesson-index', { lessonIndex: g.lesson })}\n                        </>\n                    )}\n                </HorizontalSubHeader>\n            </Stack>\n        )\n    }\n\n    return (\n        <Select\n            onChange={e => {\n                const evt = calendarEvents.find(g => g._id === e.target.value)\n                if (evt) {\n                    dispatch(setCalendarEvent(evt))\n                }\n            }}\n            value={state.sessionId || ''}\n        >\n            {calendarEvents.map(g => (\n                <Option key={g._id} value={g._id}>\n                    <Stack spacing={0}>\n                        <Text>{g.group_name || g.sessionType || g.subject_key}</Text>\n                        <HorizontalSubHeader variant=\"body2\" $opacity={1}>\n                            {g.type === 'makeup' && (\n                                <>\n                                    <Text variant=\"body2\" color=\"primary\">\n                                        {t('timesheet.makeup')}\n                                    </Text>\n                                    &nbsp;•&nbsp;\n                                </>\n                            )}\n                            {g.startTime.format('HH:mm')}-{g.endTime.format('HH:mm')}\n                            &nbsp;•&nbsp;\n                            {t('classroom::lesson-index', { lessonIndex: g.lesson })}\n                        </HorizontalSubHeader>\n                    </Stack>\n                </Option>\n            ))}\n        </Select>\n    )\n}\n\nconst ConfirmDialog: React.FC<{\n    action: () => Promise<void> | void\n    ActionWrapper: React.FC<{ action: () => Promise<void> | void }>\n    state: InClassReducerState\n    dispatch: ReturnType<typeof useDispatch>\n}> = ({ action, ActionWrapper, state, dispatch, children }) => {\n    const t = useTranslate()\n    const history = useHistory()\n\n    const handleBackToSession = () => {\n        if (state.url) {\n            history.push(state.url)\n        }\n    }\n\n    const handleLogout = () => {\n        dispatch(toggleEnabled({}))\n        dispatch(setFeedbackModal(false))\n        action()\n    }\n\n    return (\n        <>\n            {state.enabled && (\n                <Confirm\n                    action={action}\n                    dialog={props => (\n                        <>\n                            <DialogTitle {...props}>{t('general::logout')}</DialogTitle>\n                            <DialogContent>\n                                <Stack>\n                                    {t('classroom::logout-confirm')}\n                                    <br />\n                                    <LessonText>\n                                        {state.calendarEvent?.group_name ||\n                                            state.calendarEvent?.sessionType ||\n                                            state.calendarEvent?.subject_key}\n                                    </LessonText>\n                                    <LessonText variant=\"body2\" color=\"primary\">\n                                        {t('classroom::lesson-index', { lessonIndex: state.calendarEvent?.lesson })}\n                                    </LessonText>\n                                </Stack>\n                            </DialogContent>\n                            <DialogActions>\n                                <DialogSecondaryButton onClick={handleLogout}>\n                                    {t('classroom::logout-button')}\n                                </DialogSecondaryButton>\n                                <DialogPrimaryButton\n                                    onClick={() => {\n                                        handleBackToSession()\n                                        props.negativeButtonProps.onClick()\n                                    }}\n                                >\n                                    {t('classroom::backToSession')}\n                                </DialogPrimaryButton>\n                            </DialogActions>\n                        </>\n                    )}\n                >\n                    {confirm => <ActionWrapper action={confirm} />}\n                </Confirm>\n            )}\n            {!state.enabled && <ActionWrapper action={action} />}\n        </>\n    )\n}\n\nconst LessonText = styled(Text)`\n    display: flex;\n    flex-shrink: 0;\n    align-items: center;\n    font-weight: 600;\n    justify-content: center;\n    text-align: center;\n    color: ${props => props.theme.palette.primary.main};\n    line-height: 0.8;\n`\n\nexport const InClassModeConfirmProvider: React.FC<{\n    action: () => Promise<void> | void\n    ActionWrapper: React.FC<{ action: () => Promise<void> | void }>\n}> = ({ action, ActionWrapper }) => {\n    const state = useSelector(state => state.inClass)\n    const dispatch = useDispatch()\n\n    return <ConfirmDialog action={action} ActionWrapper={ActionWrapper} state={state} dispatch={dispatch} />\n}\n","import { createStore, applyMiddleware, combineReducers, Middleware } from 'redux'\nimport { sharedStoreMiddleware } from 'redux-socket-client'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport { liveopsMiddleware, sharedReducer, clientReducer } from 'lib/liveops'\nimport { projectReducer } from 'features/projects'\nimport { feedReducer } from 'features/feed'\nimport { storeActionListenerMiddleware } from 'lib/store/store-action-listener/storeActionListenerMiddleware'\nimport { isLiveopsRecording } from 'lib/recording/recordingDevToolUtils'\nimport { dialogQueueReducer } from 'features/dialog-queue'\nimport { eventsReducer } from 'features/events'\nimport { pageReducer } from './pageReducer'\nimport { inClassReducer, curriculumReducer } from 'features/classroom/store'\n\nexport const sharedStoreRecorderMiddleware: Middleware =\n    ({ dispatch, getState }) =>\n    next =>\n    action => {\n        if (\n            isLiveopsRecording() &&\n            action.payload &&\n            action.payload.type &&\n            action.payload.type.startsWith('CLIENT/')\n        ) {\n            if (!window.records) window.records = []\n            const payloadCopy = { ...action.payload }\n            delete payloadCopy.socket\n            window.records.push({ timestamp: Date.now(), action: payloadCopy })\n        }\n        next(action)\n    }\n\nexport interface StoreState {\n    client: ReturnType<typeof clientReducer>\n    shared: ReturnType<typeof sharedReducer>\n    projects: ReturnType<typeof projectReducer>\n    feed: ReturnType<typeof feedReducer>\n    events: ReturnType<typeof eventsReducer>\n    dialogQueue: ReturnType<typeof dialogQueueReducer>\n    page: ReturnType<typeof pageReducer>\n    inClass: ReturnType<typeof inClassReducer>\n    curriculum: ReturnType<typeof curriculumReducer>\n}\n\nconst reducer = combineReducers<StoreState>({\n    shared: sharedReducer,\n    client: clientReducer,\n    projects: projectReducer,\n    feed: feedReducer,\n    events: eventsReducer,\n    dialogQueue: dialogQueueReducer,\n    page: pageReducer,\n    inClass: inClassReducer,\n    curriculum: curriculumReducer,\n})\n\nexport const store = createStore(\n    reducer,\n    composeWithDevTools(\n        applyMiddleware(\n            sharedStoreMiddleware({ clientFirst: false }),\n            sharedStoreRecorderMiddleware,\n            liveopsMiddleware,\n            storeActionListenerMiddleware,\n        ),\n    ),\n)\n","import { Middleware } from 'redux'\nimport { storeActionListener } from './StoreActionListener'\n\nexport const storeActionListenerMiddleware: Middleware = () => next => action => {\n    storeActionListener.emit(action)\n    next(action)\n}\n","import React from 'react'\nimport { Provider } from 'react-redux'\nimport { store } from './store'\n\nexport const StoreProvider: React.FC = ({ children }) => {\n    return <Provider store={store}>{children}</Provider>\n}\n","import { createSelectorHook } from 'react-redux'\nimport { StoreState } from './store'\n\nexport const useSelector = createSelectorHook<StoreState>()\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVoAAABhCAYAAACXm2msAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFFmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuMTY0NzUzLCAyMDIxLzAyLzE1LTExOjUyOjEzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTAzLTEwVDEzOjM5OjA2KzAxOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wNC0yOFQyMjozNzoyNiswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wNC0yOFQyMjozNzoyNiswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyYWRhODNmOS0xY2RkLWJm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\"","import { Text } from 'components/Text'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nexport const ProjectModalDescription: React.FC = ({ children }) => {\n    return <Root>{children}</Root>\n}\n\nconst Root = styled(Text)`\n    white-space: pre-line;\n    word-break: break-word;\n`\n","import { Button } from 'components/Button'\nimport { Card, CardContent } from 'components/card'\nimport { Inline } from 'components/layout'\nimport { Text } from 'components/Text'\nimport dayjs from 'dayjs'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { Meeting } from '../types/meetingTypes'\n\ninterface MeetingItemProps {\n    meeting: Meeting\n}\n\nexport const MeetingItem: React.FC<MeetingItemProps> = ({ meeting }) => {\n    const t = useTranslate()\n\n    return (\n        <Card data-testid=\"meeting-item\">\n            <StyledCardContent>\n                <Inner spacing={6}>\n                    <Inline display=\"flex\">\n                        {meeting.time && (\n                            <Text component=\"time\">\n                                <strong>{dayjs.utc(meeting.time).format('HH:mm')}</strong>\n                            </Text>\n                        )}\n                        <Label>{meeting.label || t('meeting::label')}</Label>\n                    </Inline>\n                    <ButtonWrap>\n                        <Button component=\"a\" href={meeting.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                            {t('meeting::join')}\n                        </Button>\n                    </ButtonWrap>\n                </Inner>\n            </StyledCardContent>\n        </Card>\n    )\n}\n\nconst ButtonWrap = styled.div`\n    flex-shrink: 0;\n    ${props => props.theme.breakpoints.down('xs')} {\n        margin-top: ${props => props.theme.spacing(4)};\n        margin-left: 0;\n        margin-right: 0;\n        > * {\n            width: 100%;\n        }\n    }\n`\n\nconst Label = styled(Text)`\n    word-break: break-all;\n`\n\nconst StyledCardContent = styled(CardContent)`\n    display: flex;\n    align-items: center;\n    height: 100%;\n`\n\nconst Inner = styled(Inline)`\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    ${props => props.theme.breakpoints.down('xs')} {\n        display: block;\n    }\n`\n","import { Box } from 'components/layout'\nimport { Loader } from 'components/Loader'\nimport { Panel, PanelTitle } from 'components/panel'\nimport { useUserState } from 'contexts/UserContext'\nimport { PoorMansSuspenseTicker, usePoorMansSuspenseTick } from 'hooks/usePoorMansSuspense'\nimport { api } from 'lib/api'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { useQuery } from 'react-query'\nimport styled from 'styled-components/macro'\nimport { MeetingItem } from './MeetingItem'\nimport { useColumnWidth } from 'lib/store/pageReducer'\n\ninterface MeetingListProps extends PoorMansSuspenseTicker {}\n\nexport const MeetingList: React.FC<MeetingListProps> = ({ onReady }) => {\n    const t = useTranslate();\n    const user = useUserState();\n    const { data: meetings, status } = useQuery('meetings', () => api.meetings.getTodaysMeetings(user.account.primaryKind), {\n        staleTime: 5 * 60 * 1000,\n    })\n    usePoorMansSuspenseTick(status !== 'loading', onReady)\n    const maxWidth = useColumnWidth()\n\n    if (status === 'error') {\n        return null\n    }\n\n    if (!meetings) {\n        return <Loader />\n    }\n\n    if (meetings.length === 0) {\n        return null\n    }\n\n    return (\n        <Box maxWidth={maxWidth} marginLeft=\"auto\" marginRight=\"auto\">\n            <Panel>\n                <PanelTitle>{t('meeting::meetingsToday')}</PanelTitle>\n                <div>\n                    <Grid>\n                        {meetings.map(meeting => (\n                            <MeetingItem meeting={meeting} />\n                        ))}\n                    </Grid>\n                </div>\n            </Panel>\n        </Box>\n    )\n}\n\nconst Grid = styled.div`\n    display: grid;\n    grid-gap: ${props => props.theme.spacing(3)};\n`\n","import dayjs from 'dayjs'\nimport { ApiBase } from 'lib/api/ApiBase'\nimport { Meeting } from '../types/meetingTypes'\n\nexport class MeetingsApi extends ApiBase {\n    getTodaysMeetings = async (userKind:string|undefined) => {\n        if (userKind !== 'student') {\n            return [];\n        }\n\n        const res = await this.client.get<Meeting[]>('accounts/me/meetings-v2')\n        const today = new Date().getDay()\n\n        return res.data\n            .filter(meeting => (meeting.daysOfWeek || []).includes(today))\n            .sort((a, b) => (dayjs.utc(a.time).isBefore(b.time!) ? -1 : 1))\n    }\n}\n","import { Box } from '@material-ui/core'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface TextBodyProps {\n    dangerouslySetInnerHTML?: { __html: string }\n}\n\nexport const TextBody: React.FC<TextBodyProps> = ({ children, dangerouslySetInnerHTML }) => {\n    // eslint-disable-next-line react/no-danger-with-children\n    return <Root dangerouslySetInnerHTML={dangerouslySetInnerHTML}>{children}</Root>\n}\n\nconst Root = styled(Box)`\n    font-size: ${props => props.theme.typography.body1.fontSize};\n    font-weight: ${props => props.theme.typography.body1.fontWeight};\n    line-height: ${props => props.theme.typography.body1.lineHeight};\n\n    h3 {\n        font-size: ${props => props.theme.typography.h3.fontSize};\n        font-weight: ${props => props.theme.typography.h3.fontWeight};\n        line-height: ${props => props.theme.typography.h3.lineHeight};\n    }\n\n    h4 {\n        font-size: ${props => props.theme.typography.h4.fontSize};\n        font-weight: ${props => props.theme.typography.h4.fontWeight};\n        line-height: ${props => props.theme.typography.h4.lineHeight};\n    }\n\n    > * {\n        margin-top: 0;\n        margin-bottom: 0;\n    }\n\n    > * + * {\n        margin-block-start: 1rem;\n    }\n\n    > * + p,\n    > * + ul,\n    > * + li {\n        margin-block-start: 0.75rem;\n    }\n\n    > * + h3 {\n        margin-block-start: 2rem;\n    }\n\n    a {\n        color: ${props => props.theme.palette.primary.main};\n    }\n\n    img {\n        border-radius: ${props => props.theme.shape.borderRadius}px;\n        max-width: 100%;\n    }\n`\n","import { IconButton } from 'components/IconButton'\nimport { FavoriteIcon, FavoriteOutlineIcon } from 'components/icons'\nimport { Tooltip } from 'components/Tooltip'\nimport React from 'react'\nimport { Project } from '../store'\nimport { useProjectActions } from '../useProjectActions'\nimport styled from 'styled-components/macro'\nimport { ProjectCardBadge } from './ProjectCardBadge'\nimport { useUserState } from 'contexts/UserContext'\nimport { useTranslate } from 'lib/i18n/useTranslate'\n\ninterface ProjectCardFavoriteBadgeProps {\n    project: Project\n    inList?: boolean\n}\n\nexport const ProjectCardFavoriteBadge: React.FC<ProjectCardFavoriteBadgeProps> = ({ project, inList = false }) => {\n    const { toggleProjectFavorite } = useProjectActions()\n    const { account } = useUserState()\n    const t = useTranslate()\n\n    const isFavorited = project.file.owner === account.id ? !!project.file.favorite : !!project.metadata.favorited\n\n    const body = (\n        <Tooltip title={t('projects::favorite')}>\n            <ProjectFavoriteButtonRoot $isFavorited={isFavorited} inList={inList}>\n                {isFavorited ? (\n                    <FavoriteIcon data-testid=\"favoritedIcon\" />\n                ) : (\n                    <FavoriteOutlineIcon data-testid=\"favoriteIcon\" />\n                )}\n            </ProjectFavoriteButtonRoot>\n        </Tooltip>\n    )\n\n    if (inList) {\n        return <Wrap onClick={() => toggleProjectFavorite(project)}>{body}</Wrap>\n    }\n\n    return (\n        <ProjectCardBadge position=\"top-left\" component={Wrap} onClick={() => toggleProjectFavorite(project)}>\n            {body}\n        </ProjectCardBadge>\n    )\n}\n\nconst Wrap = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 2;\n`\n\nconst ProjectFavoriteButtonRoot = styled(IconButton)<{ $isFavorited: boolean; inList: boolean }>`\n    width: 100%;\n    padding: 0;\n    vertical-align: text-top;\n    color: ${props => {\n        if (props.inList) {\n            return props.$isFavorited ? props.theme.palette.primary.main : props.theme.palette.text.hint\n        }\n        return props.$isFavorited ? props.theme.palette.primary.main : 'rgba(160, 160, 160, 0.35)'\n    }};\n    &:hover {\n        background: none;\n    }\n`\n","import React from 'react'\nimport Menu from '@material-ui/core/Menu'\nimport styled from 'styled-components/macro'\n\ninterface MyCustomRightClickMenuProps {\n    menu: React.ReactNode\n}\n\nexport const MyCustomRightClickMenu: React.FC<MyCustomRightClickMenuProps> = ({ children, menu }) => {\n    const [contextMenu, setContextMenu] = React.useState<{\n        mouseX: number\n        mouseY: number\n    } | null>(null)\n\n    const handleContextMenu = (event: React.MouseEvent) => {\n        event.preventDefault()\n        setContextMenu(\n            contextMenu === null\n                ? {\n                      mouseX: event.clientX - 2,\n                      mouseY: event.clientY - 4,\n                  }\n                : null,\n        )\n    }\n\n    const handleClose = () => {\n        setContextMenu(null)\n    }\n\n    return (\n        <div onContextMenu={handleContextMenu}>\n            {children}\n            <StyledMenu\n                open={contextMenu !== null}\n                onClose={handleClose}\n                anchorReference=\"anchorPosition\"\n                anchorPosition={\n                    contextMenu !== null ? { top: contextMenu.mouseY, left: contextMenu.mouseX } : undefined\n                }\n            >\n                {menu}\n            </StyledMenu>\n        </div>\n    )\n}\n\nconst StyledMenu = styled(Menu)`\n    .MuiMenu-list {\n        padding: ${props => props.theme.spacing(2)};\n    }\n`\n","import { EventDefinition } from 'features/events/types/eventTypes'\nimport { ActivityEventWithGroupInfo } from '../types/activityEventTypes'\n\nexport const activityEventToEventDefinition = (\n    event: ActivityEventWithGroupInfo,\n    hasShowAdvancedStats: boolean,\n): EventDefinition => {\n    return {\n        slug: event.slug,\n        groupSlug: event.group,\n        thumbnail: event.thumbnail,\n        title: event.titleKey,\n        closedTitle: event.closedTitleKey || event.titleKey,\n        ongoing: !event.closed || (!!event.hasGroupInfo && (event.closedCount || 0) < (event.groupCount || 0)),\n        banner: {\n            image: event.banner,\n            text: hasShowAdvancedStats ? event.slug : event.bannerTitleKey,\n        },\n        hasGroupInfo: event.hasGroupInfo,\n        closedCount: event.closedCount,\n        groupCount: event.groupCount,\n    }\n}\n\nexport const getTotalStatGroupForActivityEvent = (slug: string) => `ActivityEvent/${slug}`\n","export default __webpack_public_path__ + \"static/media/birthday-footer.8331c51f.webp\";","import React from 'react'\nimport styled from 'styled-components/macro'\nimport image from '../media/birthday-footer.webp'\n\nexport const BirthdayFooter: React.FC = () => {\n    return <Root width=\"3644\" height=\"587\" src={image} />\n}\nconst Root = styled.img`\n    display: block;\n    bottom: 0;\n    max-width: 100%;\n    height: auto;\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nconst Confetti = React.lazy(() => import('react-confetti'))\n\nexport const BirthdayConfetti: React.FC = () => {\n    return (\n        <ConfettiWrap>\n            <React.Suspense fallback={null}>\n                <Confetti\n                    recycle={false}\n                    numberOfPieces={150}\n                    initialVelocityY={10}\n                    colors={['#009cdf', '#e94e1b', '#e5007d']}\n                />\n            </React.Suspense>\n        </ConfettiWrap>\n    )\n}\n\nconst ConfettiWrap = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: ${props => props.theme.zIndex.drawer + 1};\n    pointer-events: none;\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { opacify } from 'polished'\nimport { useMediaQuery, Theme } from '@material-ui/core'\nimport { MOBILE_MENU_BREAKPOINT } from 'components/page/Page'\n\nexport const BirthdayGerland: React.FC = () => {\n    const isMobileMenu = useMediaQuery<Theme>(theme => theme.breakpoints.down(MOBILE_MENU_BREAKPOINT), { noSsr: true })\n\n    return isMobileMenu ? <MobileGerland /> : <DesktopGerland />\n}\n\nconst DesktopGerland: React.FC = () => {\n    return (\n        <Root>\n            <svg\n                id=\"R\\xE9teg_1\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n                viewBox=\"0 0 5442.5 250\"\n                xmlSpace=\"preserve\"\n            >\n                <path d=\"M0,0c0,0,1554,81.7,2721.3,81.7S5442.5,0,5442.5,0\" />\n                <polygon points=\"162.4,101.7 220.6,12 113.7,6.4 \" />\n                <polygon points=\"407.5,113.1 464.9,22.8 358,18.3 \" />\n                <polygon points=\"652.2,124.5 709.4,34.1 602.5,29.8 \" />\n                <polygon points=\"896.9,133.9 953.9,43.3 847,39.3 \" />\n                <polygon points=\"1141.7,143.3 1198.4,52.5 1091.4,48.8 \" />\n                <polygon points=\"1386.3,150.7 1442.9,59.9 1336,56.3 \" />\n                <polygon points=\"1631.4,158.1 1687.2,66.8 1580.2,64.1 \" />\n                <polygon points=\"1876.4,164.5 1931.6,72.8 1824.6,70.8 \" />\n                <polygon points=\"2121,169.9 2176.1,78.2 2069.2,76.2 \" />\n                <polygon points=\"2365.5,173.2 2420.7,81.6 2313.7,79.6 \" />\n                <polygon points=\"2611.2,175.6 2664.7,83 2557.7,83 \" />\n                <polygon points=\"2831.1,176 2777.6,83.3 2884.6,83.3 \" />\n                <polygon points=\"3076.6,172.6 3021.7,80.7 3128.7,79.1 \" />\n                <polygon points=\"3322,169.2 3265.9,78 3372.9,75.1 \" />\n                <polygon points=\"3566.6,163.8 3510.5,72.7 3617.4,69.7 \" />\n                <polygon points=\"3811.6,157.4 3754.8,66.7 3861.8,62.9 \" />\n                <polygon points=\"4057.2,150 3998.9,60.2 4105.8,54.7 \" />\n                <polygon points=\"4301.7,141.6 4243.5,51.8 4350.4,46.3 \" />\n                <polygon points=\"4546.3,133.2 4488.1,43.4 4594.9,37.9 \" />\n                <polygon points=\"4790.9,123.8 4732.6,34.1 4839.5,28.5 \" />\n                <polygon points=\"5035.4,113.4 4977.2,23.7 5084.1,18.1 \" />\n                <polygon points=\"5280,102.1 5221.8,12.3 5328.6,6.7 \" />\n            </svg>\n        </Root>\n    )\n}\n\nconst MobileGerland: React.FC = () => {\n    return (\n        <Root>\n            <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n                viewBox=\"0 0 2267.7 283.5\"\n                xmlSpace=\"preserve\"\n            >\n                <path d=\"M0,0c0,0,934.4,66.9,1133.9,66.9S2267.7,0,2267.7,0\" />\n                <polygon points=\"110.5,102 168.8,12.3 61.9,6.7 \" />\n                <polygon points=\"396.5,122.4 454.7,32.6 347.8,27 \" />\n                <polygon points=\"682.4,140.7 740.7,50.9 633.8,45.3 \" />\n                <polygon points=\"968.3,156 1026.6,66.2 919.7,60.6 \" />\n                <polygon points=\"2113.9,102.7 2055.7,12.9 2162.5,7.3 \" />\n                <polygon points=\"1828,123 1769.7,33.2 1876.6,27.6 \" />\n                <polygon points=\"1542,141.3 1483.8,51.5 1590.7,46 \" />\n                <polygon points=\"1256.1,156.6 1197.8,66.8 1304.7,61.3 \" />\n            </svg>\n        </Root>\n    )\n}\n\nconst Root = styled.div`\n    position: absolute;\n    top: -0.9rem;\n    left: 0;\n    right: 0;\n    width: 100%;\n    margin: 0 auto;\n    max-width: 1600px;\n    z-index: ${props => props.theme.zIndex.drawer + 1};\n    pointer-events: none;\n    fill: #009cdf;\n    path {\n        fill: none;\n        stroke: ${props => opacify(0.1, props.theme.palette.divider)};\n        stroke-width: 3;\n        stroke-miterlimit: 10;\n    }\n    polygon {\n        filter: drop-shadow(0 4px 7px rgba(0, 0, 0, 0.35));\n    }\n    polygon:nth-of-type(2n) {\n        fill: #e94e1b;\n    }\n    polygon:nth-of-type(3n) {\n        fill: #e5007d;\n    }\n`\n","export const BIRTHDAY_ENABLED = false\n","import React from 'react'\nimport { Tabs as MuiTabs, TabsProps as MuiTabsProps } from '@material-ui/core'\nimport styled from 'styled-components/macro'\n\ninterface TabsProps extends MuiTabsProps<any> {}\n\nexport const Tabs: React.FC<TabsProps> = props => {\n    return <Root indicatorColor=\"primary\" {...props} />\n}\n\nconst Root = styled(MuiTabs)`\n    .MuiTabs-indicator {\n        display: flex;\n        justify-content: center;\n        background-color: transparent;\n        height: 4px;\n        background-color: ${props => props.theme.palette.primary.main};\n        border-radius: 10px;\n        ${props => props.theme.extras?.tabs?.indicator}\n    }\n`\n","import React from 'react'\nimport { Tab as MuiTab, TabProps as MuiTabProps, TabTypeMap } from '@material-ui/core'\nimport { OverridableComponent } from '@material-ui/core/OverridableComponent'\nimport styled from 'styled-components/macro'\nimport { LockIcon } from 'components/icons'\nimport { Tooltip } from 'components/Tooltip'\n\ntype ExtraProps = {\n    locked?: boolean\n    tooltip?: string\n}\n\nexport type TabProps = MuiTabProps<any, ExtraProps>\n\nexport const Tab: OverridableComponent<TabTypeMap<ExtraProps>> = ({\n    locked,\n    label,\n    disabled,\n    tooltip,\n    ...props\n}: TabProps) => {\n    return (\n        <Tooltip title={tooltip || ''}>\n            <Root\n                style={{ pointerEvents: 'auto' }}\n                disabled={locked ? true : disabled}\n                label={\n                    <>\n                        {locked ? (\n                            <span>\n                                <LockIcon /> {label}\n                            </span>\n                        ) : (\n                            <span>{label}</span>\n                        )}\n                    </>\n                }\n                tabIndex={0}\n                {...props}\n            />\n        </Tooltip>\n    )\n}\n\nconst Root = styled(MuiTab)`\n    opacity: 1;\n    min-width: auto;\n    text-transform: none;\n    font-weight: 600;\n    transition: ${props =>\n        props.theme.transitions.create('background-color', { duration: props.theme.transitions.duration.shortest })};\n    border-radius: ${props => props.theme.shape.borderRadius}px ${props => props.theme.shape.borderRadius}px 0 0;\n    &:focus-visible,\n    &:hover {\n        background-color: ${props => props.theme.palette.action.hover};\n    }\n    &.Mui-selected {\n        color: ${props => props.theme.palette.primary.main};\n    }\n    &.Mui-disabled {\n        opacity: 1;\n        color: ${props => props.theme.palette.text.disabled};\n    }\n    & + * {\n        margin: ${props => props.theme.spacing(0, 2)};\n    }\n\n    ${props => props.theme.extras?.tabs?.tab}\n`\n","import styled from 'styled-components/macro'\nimport React from 'react'\n\ninterface EventDetailsBannerProps {\n    src?: string\n}\n\nexport const EventDetailsBanner: React.FC<EventDetailsBannerProps> = ({ src }) => {\n    return <Root width={1600} height={400} src={src} />\n}\n\nexport const Root = styled.img`\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    max-width: 100%;\n    height: auto;\n    background-color: ${props => props.theme.palette.divider};\n`\n","import { Text } from 'components/Text'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface EventDetailsTitleProps {}\n\nexport const EventDetailsTitle: React.FC<EventDetailsTitleProps> = ({ children }) => {\n    return <Root variant=\"h2\">{children}</Root>\n}\n\nconst Root = styled(Text)`\n    text-align: center;\n`\n","import { Box, Stack } from 'components/layout'\nimport React from 'react'\nimport { EventDefinition } from '../types/eventTypes'\nimport { EventDetailsBreadcrumb } from './details/EventDetailsBreadcrumb'\nimport { EventDetailsBanner } from './details/EventDetailsBanner'\nimport { useTitle } from 'hooks/useTitle'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { EventDetailsTitle } from './details/EventDetailsTitle'\nimport { ScrollRestoration } from 'lib/router/Scrollrestoration'\nimport { EventDetailsContent } from './details/EventDetailsContent'\nimport { PageContainer } from 'components/page/PageContainer'\nimport styled from 'styled-components/macro'\nimport { LocalisationKey } from 'lib/i18n'\nimport {ManagableEventDefinition} from \"../types/eventTypesV2\";\n\ninterface EventsDetailsBaseProps {\n    event: EventDefinition|ManagableEventDefinition\n    tabs?: React.ReactNode\n}\n\nexport const EventDetailsBase: React.FC<EventsDetailsBaseProps> = ({ children, event, tabs }) => {\n    const t = useTranslate()\n\n    useTitle(t(event.title as LocalisationKey))\n\n    return (\n        <Box pt={8} pb={8}>\n            <ScrollRestoration />\n            <Stack>\n                <PageContainer>\n                    <Stack>\n                        {event.hideBreadCrumb ? null : <EventDetailsBreadcrumb />}\n                        <Stack spacing={6}>\n                            <EventDetailsTitle>{t(event.title as LocalisationKey)}</EventDetailsTitle>\n                            {event.detailsBanner && <EventDetailsBanner src={event.detailsBanner} />}\n                        </Stack>\n                    </Stack>\n                </PageContainer>\n\n                {tabs && (\n                    <TabsWrap>\n                        <PageContainer>\n                            <EventDetailsContent>{tabs}</EventDetailsContent>\n                        </PageContainer>\n                    </TabsWrap>\n                )}\n\n                <div>\n                    <PageContainer>\n                        <Stack spacing={6}>{children}</Stack>\n                    </PageContainer>\n                </div>\n            </Stack>\n        </Box>\n    )\n}\n\nconst TabsWrap = styled.div`\n    border-bottom: solid 1px ${props => props.theme.palette.divider};\n`\n","import { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { formatDate, getCertificateTranslations, getSubjectInfo } from './certificateHelpers'\nimport { FinishedSubject } from './certificateTypes'\n\ninterface PdfGeneratorProps {\n    subject: FinishedSubject\n    fullName: string\n    userCountry?: string\n    onSuccess: (blob: Blob, imgData: string) => void\n    onError: (code: 'NO_COURSE_INFO' | 'GENERAL') => void\n    locale?: string\n    language: string\n}\n\nexport const PdfGenerator: React.FC<PdfGeneratorProps> = ({\n    subject,\n    fullName,\n    onSuccess,\n    onError,\n    locale,\n    language,\n    userCountry\n}) => {\n    const t = useTranslate()\n    const id = React.useRef(generateId())\n\n    const subjectInfo = React.useMemo(() => getSubjectInfo(subject.key, subject.type), [subject.key, subject.type])\n\n    React.useEffect(() => {\n        let ignore = false\n        if (subjectInfo) {\n            generatePdf(id.current)\n                .then(({ blob, imgData }) => {\n                    if (!ignore) {\n                        onSuccess(blob, imgData)\n                    }\n                })\n                .catch(e => {\n                    if (!ignore) {\n                        console.error(e)\n                        onError('GENERAL')\n                    }\n                })\n        } else {\n            onError('NO_COURSE_INFO')\n        }\n\n        return () => {\n            ignore = true\n        }\n    }, [onError, onSuccess, subjectInfo])\n\n    if (!subjectInfo) {\n        return null\n    }\n\n    const translations = getCertificateTranslations(t, subjectInfo)\n\n    const finishedAt = formatDate(subject.lastDay, language)\n\n    const school = (() => {\n        if (userCountry && countriesUsingPortalScoolName.includes(userCountry)) {\n            return subject.school_portalName || subject.school_name\n        }\n        return subject.school_name\n    })()\n\n    return (\n        <subjectInfo.template\n            translations={translations}\n            school={school}\n            finishedAt={finishedAt}\n            name={fullName}\n            id={id.current}\n            locale={locale ?? language}\n        />\n    )\n}\n\nexport const generatePdf = async (id: string) => {\n    const html2canvas = (await import('html2canvas')).default\n    const jsPDF = (await import('jspdf')).default\n    const canvas = await html2canvas(document.querySelector(`#${id}`) as any, {\n        scrollY: 0,\n        useCORS: true,\n    })\n    const imgData = canvas.toDataURL('image/jpeg')\n    const pdf = new jsPDF('portrait', 'mm', 'a4')\n    pdf.addImage(imgData, 'PNG', 0, 0, 210, 297)\n    const blob = pdf.output('blob') as Blob\n    return { blob, imgData }\n}\n\nexport const generateId = () =>\n    Math.random()\n        .toString(36)\n        .replace(/[^a-z]+/g, '')\n        .substr(2, 10)\n\nconst countriesUsingPortalScoolName: string[] = ['BG']\n","import { StoreState } from 'lib/store'\nimport { FeedType } from '../types/feedTypes'\n\nexport function getUnreadFeedEntryCountByType(state: StoreState, feedType: FeedType) {\n    return state.feed[feedType].entries.filter(entry => entry.metadata.unread).length\n}\n\nexport function getUnreadFeedEntryCount(state: StoreState) {\n    return getUnreadFeedEntryCountByType(state, 'community') + getUnreadFeedEntryCountByType(state, 'trainer')\n}\n\nexport function getFeedEntryById(state: StoreState, id: string) {\n    return (\n        state.feed.community.entries.find(entry => entry._id === id) ??\n        state.feed.trainer.entries.find(entry => entry._id === id)\n    )\n}\n","export const MIX_PALETTE_ID = '5ae3295447aece9e40f9f063'\nexport const PYTHON_PALETTE_ID = '6388627ec17cc36c90694d2a'\nexport const SHAREABLE_GALLERY_ID = '5cffa107dbe77981858d4b25'\n\nexport type ProjectType = 'blox' | 'mix'\nexport type ProjectLanguage = 'stagescript' | 'python'\n","import { Loader } from 'components/Loader'\nimport { PageContent } from 'components/page'\nimport React from 'react'\n\nexport const EventLoader: React.FC = () => {\n    return (\n        <PageContent>\n            <Loader />\n        </PageContent>\n    )\n}\n","import { isGuestOrRegisteredGuestUser, isOpenDayUser, UserState, useUserState } from 'contexts/UserContext'\nimport { useCallback } from 'react'\nimport { Optional } from 'utils/typeUtils'\n\nexport type AppVariant = 'normal' | 'guest' | 'open-day'\n\nexport type AppVariantRecord<T> = Optional<Record<AppVariant, T>, 'guest' | 'open-day'>\n\nexport const getAppVariant = (user: UserState): AppVariant => {\n    if (user.account.stage === 'user') {\n        return isOpenDayUser(user) ? 'open-day' : 'normal'\n    }\n    if (isGuestOrRegisteredGuestUser(user)) {\n        return 'guest'\n    }\n    throw new Error('Unsupported user type.')\n}\n\nconst useAppVariant = () => {\n    const user = useUserState()\n    return getAppVariant(user)\n}\n\nexport const useAppVariantContent = () => {\n    const appVariant = useAppVariant()\n\n    const appVariantContent = useCallback(\n        <T>(variants: AppVariantRecord<T>) => {\n            if (appVariant in variants) {\n                return variants[appVariant]!\n            }\n            return variants['normal']\n        },\n        [appVariant],\n    )\n\n    return {\n        appVariantContent,\n    }\n}\n","export * from './grants'\n","import React from 'react'\nimport { Breadcrumbs as MuiBreadcrumbs } from '@material-ui/core'\nimport { RightAngleIcon } from './icons'\n\nexport const Breadcrumbs: React.FC = props => {\n    return <MuiBreadcrumbs separator={<RightAngleIcon fontSize=\"small\" />} {...props} />\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface FloatingBadgeProps {\n    title: string | number\n    active?: boolean\n    className?: string\n}\n\nexport const FloatingBadge: React.FC<FloatingBadgeProps> = ({ children, title, className, active = true }) => {\n    return (\n        <Root className={className}>\n            {active && <Badge>{title}</Badge>}\n            {children}\n        </Root>\n    )\n}\n\nconst Root = styled.div`\n    position: relative;\n`\n\nconst Badge = styled.div`\n    position: absolute;\n    top: 0;\n    right: -3px;\n    z-index: 1;\n    font-size: 0.75rem;\n    background-color: #f4d003;\n    color: #2d3057;\n    border-radius: 5px;\n    transform: translateY(-55%) rotate(8deg);\n    padding: 3px 6px;\n    font-weight: 800;\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface EmbeddedVideoProps {\n    type: 'youtube' | 'vimeo'\n    id: string\n    autoPlay?: boolean\n}\n\nexport const EmbeddedVideo = React.forwardRef<any, EmbeddedVideoProps>(({ id, autoPlay, type }, ref) => {\n    const body = (() => {\n        switch (type) {\n            case 'youtube':\n                return (\n                    <iframe\n                        ref={ref}\n                        src={`https://www.youtube.com/embed/${id}${autoPlay ? '?autoplay=1' : ''}`}\n                        title=\"YouTube video player\"\n                        frameBorder=\"0\"\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                        allowFullScreen\n                    />\n                )\n            case 'vimeo':\n                return (\n                    <iframe\n                        ref={ref}\n                        src={`https://player.vimeo.com/video/${id}${autoPlay ? '?autoplay=1' : ''}`}\n                        title=\"Vimeo video player\"\n                        frameBorder=\"0\"\n                        allow=\"autoplay; fullscreen; picture-in-picture\"\n                        allowFullScreen\n                    />\n                )\n        }\n    })()\n\n    return <Root>{body}</Root>\n})\n\nconst Root = styled.div`\n    position: relative;\n    padding-bottom: 56.25%; /* 16:9 */\n    height: 0;\n    background-color: ${props => props.theme.palette.divider};\n    iframe {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n    }\n`\n","import { ThemeOptions } from '@material-ui/core'\nimport { Grant, GrantFeature } from 'lib/grants'\n\nconst spacing = {\n    0: 0,\n    1: 0.25,\n    2: 0.5,\n    3: 0.75,\n    4: 1,\n    5: 1.25,\n    6: 1.5,\n    7: 1.75,\n    8: 2,\n    9: 2.5,\n    10: 3,\n    11: 4,\n    12: 5,\n}\n\nconst themeBase: ThemeOptions = {\n    spacing: factor => `${spacing[factor as keyof typeof spacing]}rem`,\n    typography: {\n        fontFamily: 'Poppins, sans-serif',\n        h1: { fontSize: '2.125rem', fontWeight: 800, lineHeight: 1.235 },\n        h2: { fontSize: '1.5rem', fontWeight: 600, lineHeight: 1.334 },\n        h3: { fontSize: '1.25rem', fontWeight: 800, lineHeight: 1.6 },\n        h4: { fontSize: '1rem', fontWeight: 600, lineHeight: 1.3 },\n        h5: { fontWeight: 600 },\n        h6: { fontWeight: 800 },\n        body1: { lineHeight: 1.7 },\n    },\n    shape: {\n        borderRadius: 16,\n    },\n    props: {\n        MuiButtonBase: {\n            disableRipple: true,\n        },\n    },\n}\n\nexport type ThemeThumbnail =\n    | {\n          base: string\n          primary: string\n          aside: string\n          asideContent: string\n          baseContent?: string\n      }\n    | React.FC\n\n// TODO: do a deep merge if neccesary\nexport function createTheme(\n    thumbnail: ThemeThumbnail,\n    options: Omit<ThemeOptions, 'spacing' | 'typography' | 'shape' | 'props'>,\n    grantRequiredToDisplay?: (Grant | GrantFeature)[],\n) {\n    return {\n        thumbnail,\n        data: {\n            ...themeBase,\n            ...options,\n        },\n        grantRequiredToDisplay,\n    }\n}\n","import { css } from 'styled-components/macro'\nimport { createTheme } from '../createTheme'\n\nexport const light1 = createTheme(\n    { base: '#fafafa', aside: '#243070', primary: '#2878f0', asideContent: '#5160b0' },\n    {\n        palette: {\n            background: {\n                default: '#f5f5fb',\n            },\n            primary: {\n                main: '#2878f0',\n            },\n            text: {\n                disabled: '#a2a2a3',\n            },\n        },\n        extras: {\n            themeColorMeta: '#243070',\n            logoType: 'white',\n\n            pageHeader: {\n                root: css`\n                    background-color: #fff;\n                `,\n            },\n            mobileHeader: {\n                root: css`\n                    background-color: #243070;\n                    color: white;\n                `,\n            },\n            pageAside: {\n                paper: css`\n                    background: linear-gradient(#243070, #242e6d);\n                    color: white;\n                    border-right: none;\n                `,\n                secondary: css`\n                    color: #6d7ac2;\n                `,\n                listItemAndNotificationButton: css`\n                    &:hover,\n                    &:focus-visible {\n                        background-color: rgba(0, 0, 0, 0.1);\n                    }\n                    &.Mui-selected,\n                    &.Mui-selected:hover {\n                        color: #00bcff;\n                    }\n                `,\n            },\n        },\n    },\n)\n","import { css } from 'styled-components/macro'\nimport { createTheme } from '../createTheme'\n\nexport const light5 = createTheme(\n    { base: '#fafafa', aside: '#920b4c', primary: '#dc076f', asideContent: '#b56d6d' },\n    {\n        palette: {\n            background: {\n                default: '#f5f5fb',\n            },\n            primary: {\n                main: '#dc076f',\n            },\n            text: {\n                disabled: '#a2a2a3',\n            },\n        },\n        extras: {\n            themeColorMeta: '#a50050',\n            logoType: 'white',\n\n            pageHeader: {\n                root: css`\n                    background-color: #fff;\n                `,\n            },\n            mobileHeader: {\n                root: css`\n                    background-color: #a50050;\n                    color: white;\n                `,\n            },\n            pageAside: {\n                paper: css`\n                    background: linear-gradient(#844242, #920b4c);\n                    color: white;\n                    border-right: none;\n                `,\n                secondary: css`\n                    color: #c26d86;\n                `,\n                listItemAndNotificationButton: css`\n                    &:hover,\n                    &:focus-visible {\n                        background-color: rgba(0, 0, 0, 0.1);\n                    }\n                    &.Mui-selected,\n                    &.Mui-selected:hover {\n                        color: #ff63af;\n                    }\n                `,\n            },\n        },\n    },\n)\n","import { css } from 'styled-components/macro'\nimport { createTheme } from '../createTheme'\n\nexport const light6 = createTheme(\n    { base: '#fafafa', aside: '#388e3c', primary: '#388e3c', asideContent: '#61b865' },\n    {\n        palette: {\n            background: {\n                default: '#f5f5fb',\n            },\n            primary: {\n                main: '#388e3c',\n            },\n            text: {\n                disabled: '#a2a2a3',\n            },\n        },\n        extras: {\n            themeColorMeta: '#256d35',\n            logoType: 'white',\n\n            pageHeader: {\n                root: css`\n                    background-color: #fff;\n                `,\n            },\n            mobileHeader: {\n                root: css`\n                    background-color: #256d35;\n                    color: white;\n                `,\n            },\n            notificationCount: {\n                root: css`\n                    background-color: ${props => props.theme.palette.primary.light};\n                `,\n            },\n            pageAside: {\n                paper: css`\n                    background: linear-gradient(#16904c, #256d35);\n                    color: white;\n                    border-right: none;\n                `,\n                secondary: css`\n                    color: #7ab387;\n                `,\n                listItemAndNotificationButton: css`\n                    &:hover,\n                    &:focus-visible {\n                        background-color: rgba(0, 0, 0, 0.1);\n                    }\n                    &.Mui-selected,\n                    &.Mui-selected:hover {\n                        background-color: rgba(0, 0, 0, 0.1);\n                        color: #7dd9a5;\n                    }\n                `,\n            },\n        },\n    },\n)\n","import { createTheme } from '../createTheme'\n\nexport const light4 = createTheme(\n    { base: '#fafafa', aside: '#fff', primary: '#1f9bde', asideContent: '#ccc' },\n    {\n        palette: {\n            background: {\n                default: '#f5f5fb',\n            },\n            primary: {\n                main: '#1f9bde',\n            },\n        },\n    },\n)\n","import { createTheme } from '../createTheme'\n\nexport const light3 = createTheme(\n    { base: '#fafafa', aside: '#fff', primary: '#a50050', asideContent: '#ccc' },\n    {\n        palette: {\n            background: {\n                default: '#f5f5fb',\n            },\n            primary: {\n                main: '#a50050',\n            },\n        },\n    },\n)\n","import { createTheme } from '../createTheme'\n\nexport const light2 = createTheme(\n    { base: '#fafafa', aside: '#fff', primary: '#388e3c', asideContent: '#ccc' },\n    {\n        palette: {\n            background: {\n                default: '#f5f5fb',\n            },\n            primary: {\n                main: '#388e3c',\n            },\n        },\n    },\n)\n","import { css } from 'styled-components/macro'\nimport { createTheme } from '../createTheme'\n\nexport const dark1 = createTheme(\n    { base: '#14181f', aside: '#14181f', primary: '#1a9ff0', asideContent: '#333', baseContent: '#333' },\n    {\n        palette: {\n            text: { primary: '#c0c2c9', secondary: '#868992' },\n            type: 'dark',\n            background: {\n                default: '#14181f',\n                paper: '#24243a',\n            },\n            primary: { main: '#1a9ff0', dark: '#0816a9', contrastText: '#fff' },\n        },\n        extras: {\n            logoType: 'white',\n            themeColorMeta: '#06090f',\n            pageAside: {\n                paper: css`\n                    background: #14181f;\n                `,\n            },\n            dialog: {\n                backdrop: css`\n                    background: rgb(34 44 52 / 87%);\n                `,\n                projectDialogPaper: css`\n                    background: #06090f;\n                `,\n            },\n            actionablePaper: {\n                root: css`\n                    &:hover,\n                    &:focus-visible {\n                        background-color: ${props => props.theme.palette.background.paper};\n                        filter: brightness(1.1);\n                    }\n                `,\n            },\n            containedButton: color => {\n                if (color === 'default') {\n                    return css`\n                        background-color: #1d1d23;\n                        color: #95949d;\n                        &:hover,\n                        &:focus-visible {\n                            background-color: #19191b;\n                        }\n                    `\n                }\n                if (color === 'primary') {\n                    return css`\n                        &.Mui-disabled {\n                            background: #212121;\n                        }\n                    `\n                }\n            },\n        },\n    },\n)\n","import { css } from 'styled-components/macro'\nimport { createTheme } from '../createTheme'\n\nexport const dark2 = createTheme(\n    { base: '#14181f', aside: '#14181f', primary: '#d41b6f', asideContent: '#333', baseContent: '#333' },\n    {\n        palette: {\n            text: { primary: '#c0c2c9', secondary: '#868992' },\n            type: 'dark',\n            background: {\n                default: '#14181f',\n                paper: '#24243a',\n            },\n            primary: { main: '#d41b6f' },\n        },\n        extras: {\n            logoType: 'white',\n            themeColorMeta: '#06090f',\n            pageAside: {\n                paper: css`\n                    background: #14181f;\n                `,\n            },\n            dialog: {\n                backdrop: css`\n                    background: rgb(34 44 52 / 87%);\n                `,\n                projectDialogPaper: css`\n                    background: #06090f;\n                `,\n            },\n            actionablePaper: {\n                root: css`\n                    &:hover,\n                    &:focus-visible {\n                        background-color: ${props => props.theme.palette.background.paper};\n                        filter: brightness(1.1);\n                    }\n                `,\n            },\n            containedButton: color => {\n                if (color === 'default') {\n                    return css`\n                        background-color: #1d1d23;\n                        color: #95949d;\n                        &:hover,\n                        &:focus-visible {\n                            background-color: #19191b;\n                        }\n                    `\n                }\n                if (color === 'primary') {\n                    return css`\n                        &.Mui-disabled {\n                            background: #212121;\n                        }\n                    `\n                }\n            },\n        },\n    },\n)\n","import { css } from 'styled-components/macro'\nimport { createTheme } from '../createTheme'\n\nexport const dark3 = createTheme(\n    { base: '#14181f', aside: '#14181f', primary: '#84e928', asideContent: '#333', baseContent: '#333' },\n    {\n        palette: {\n            text: { primary: '#c0c2c9', secondary: '#868992' },\n            type: 'dark',\n            background: {\n                default: '#14181f',\n                paper: '#24243a',\n            },\n            primary: { main: '#84e928' },\n        },\n        extras: {\n            logoType: 'white',\n            themeColorMeta: '#06090f',\n            pageAside: {\n                paper: css`\n                    background: #14181f;\n                `,\n            },\n            dialog: {\n                backdrop: css`\n                    background: rgb(34 44 52 / 87%);\n                `,\n                projectDialogPaper: css`\n                    background: #06090f;\n                `,\n            },\n            actionablePaper: {\n                root: css`\n                    &:hover,\n                    &:focus-visible {\n                        background-color: ${props => props.theme.palette.background.paper};\n                        filter: brightness(1.1);\n                    }\n                `,\n            },\n            containedButton: color => {\n                if (color === 'default') {\n                    return css`\n                        background-color: #1d1d23;\n                        color: #95949d;\n                        &:hover,\n                        &:focus-visible {\n                            background-color: #19191b;\n                        }\n                    `\n                }\n                if (color === 'primary') {\n                    return css`\n                        &.Mui-disabled {\n                            background: #212121;\n                        }\n                    `\n                }\n            },\n        },\n    },\n)\n","export default __webpack_public_path__ + \"static/media/space-footer.1b18286a.png\";","export default __webpack_public_path__ + \"static/media/space-bg.af3c9b72.jpg\";","import { transparentize } from 'polished'\nimport React from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport footerImg from './space-footer.png'\nimport backgroundImg from './space-bg.jpg'\nimport { createTheme } from 'lib/theme/createTheme'\n\nconst FooterImage = styled.img`\n    display: block;\n    bottom: 0;\n    max-width: 100%;\n    height: auto;\n`\n\nconst Thumbnail: React.FC = () => {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1920 1080\">\n            <defs>\n                <clipPath id=\"prefix__a\">\n                    <path fill=\"none\" d=\"M535 812.5h1385V1080H535z\" />\n                </clipPath>\n            </defs>\n            <path d=\"M535 0h1385v1080H535z\" fill=\"#0E1533\" />\n            <path d=\"M1445 100.8h344.1v85.3H1445zm-296.5 0h250.9v85.3h-250.9z\" fill=\"#2878f0\" />\n            <path\n                d=\"M667.6 274.8h344.1v258.5H667.6zm388.7 0h344.1v258.5h-344.1zm388.7 0h344.1v258.5H1445zM667.6 608.3h344.1v258.5H667.6zm388.7 0h344.1v258.5h-344.1zm388.7 0h344.1v258.5H1445z\"\n                fill=\"#384a78\"\n            />\n            <path d=\"M0 0h535v1080H0z\" fill=\"#0d1528\" />\n            <path\n                d=\"M149.5 89.8h228v213.9h-228zM84.7 424.5h304v43.3h-304v-43.3zm0 97H322v43.3H84.7zm0 97h268v43.3h-268v-43.3zm0 97H382v43.3H84.7zm0 97H342v43.3H84.7z\"\n                fill=\"#5c8aaf\"\n            />\n            <g clipPath=\"url(#prefix__a)\">\n                <path\n                    fill=\"#1f267f\"\n                    d=\"M407.91 963.99l221.32-27.45 319.7 68.63 286.96-34.31 72.52 12.11 132.85 22.2 214.42-58.48 261.46 60.34 9 74-1518.23-3.68V963.99z\"\n                />\n                <path\n                    fill=\"#4649ae\"\n                    d=\"M393.14 927.03l376 68.49 297-62.78 256 76.1 112-50.42 200 46.62 254-22.83 114-1.77v60.38l-1637 62.21 28-176z\"\n                />\n                <path\n                    fill=\"#76bbd7\"\n                    d=\"M412.26 1035.03l224-14 729 25 217.61-27.92 344.39-.08 9 89-1545.64-6 21.64-66z\"\n                />\n            </g>\n        </svg>\n    )\n}\n\nexport const space = createTheme(Thumbnail, {\n    palette: {\n        text: { primary: '#9ed0f5', secondary: '#5487ad', hint: 'rgba(158, 207, 245, 0.38)' },\n        type: 'dark',\n        primary: {\n            main: '#2878f0',\n        },\n        divider: '#202d6b',\n        background: {\n            default: '#140732',\n            paper: '#191d50',\n        },\n    },\n    extras: {\n        logoType: 'white',\n        themeColorMeta: '#121e40',\n        global: {\n            body: css`\n                background: linear-gradient(#0c0e27, #121f42d4), url(${backgroundImg});\n                background-attachment: fixed;\n                background-size: auto, 1270px;\n            `,\n        },\n        pageHeader: {\n            root: css`\n                background-color: #121e40;\n            `,\n        },\n        pageAside: {\n            paper: css`\n                background: linear-gradient(#121f42, #0c0e27);\n                border-right: none;\n                box-shadow: 6px 0 9px #07091552;\n            `,\n            listItemAndNotificationButton: css`\n                &:hover {\n                    background-color: #49a7d714;\n                }\n                &.Mui-selected {\n                    text-shadow: 0 0 6px ${props => transparentize(0.4, props.theme.palette.primary.main)};\n                    .MuiListItemIcon-root {\n                        filter: drop-shadow(0 0 5px ${props => transparentize(0.4, props.theme.palette.primary.main)});\n                    }\n                }\n            `,\n            secondary: css`\n                color: #3875a3;\n            `,\n        },\n        page: {\n            footerImage: <FooterImage width=\"3644\" height=\"587\" src={footerImg} />,\n        },\n        tabs: {\n            tab: css`\n                &:hover {\n                    background-color: #49a7d714;\n                }\n                &.Mui-selected {\n                    text-shadow: 0 0 10px ${props => transparentize(0.45, props.theme.palette.primary.main)};\n                }\n            `,\n            indicator: css`\n                box-shadow: 0 0 10px ${props => props.theme.palette.primary.main};\n            `,\n        },\n        containedButton: color => {\n            if (color === 'primary') {\n                return css`\n                    &,\n                    &:hover,\n                    &:focus-visible {\n                        box-shadow: 0 0 7px ${props => transparentize(0.6, props.theme.palette.primary.main)};\n                    }\n                    &.Mui-disabled {\n                        background: #1c284a;\n                    }\n                `\n            }\n            if (color === 'default') {\n                return css`\n                    &,\n                    &:hover,\n                    &:focus-visible {\n                        background-color: #2a2d5d;\n                        color: #8387be;\n                    }\n                `\n            }\n        },\n        actionablePaper: {\n            root: css`\n                &:hover,\n                &:focus-visible {\n                    background-color: ${props => props.theme.palette.background.paper};\n                    filter: brightness(1.2);\n                }\n            `,\n        },\n        dialog: {\n            backdrop: css`\n                background: rgb(3 18 25 / 91%);\n            `,\n        },\n    },\n})\n","export default __webpack_public_path__ + \"static/media/xmas-bg.096dfd44.webp\";","export default __webpack_public_path__ + \"static/media/xmas-footer.a846342d.webp\";","import React from 'react'\nimport styled from 'styled-components/macro'\nconst ReactSnowfall = React.lazy(() => import('react-snowfall'))\n\nexport const Snowfall: React.FC = () => {\n    return (\n        <Root>\n            <React.Suspense fallback={null}>\n                <ReactSnowfall speed={[0.5, 1.5]} wind={[-2, 2]} />\n            </React.Suspense>\n        </Root>\n    )\n}\n\nconst Root = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: ${props => props.theme.zIndex.drawer + 1};\n    pointer-events: none;\n`\n","import { transparentize } from 'polished'\nimport React from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport backgroundImg from './xmas-bg.webp'\nimport footerImg from './xmas-footer.webp'\nimport { createTheme } from 'lib/theme/createTheme'\nimport { Snowfall } from './Snowfall'\nimport { BIRTHDAY_ENABLED } from 'features/birthday'\nconst XmasLights = React.lazy(() => import('./XmasLights'))\n\nconst FooterImage = styled.img`\n    display: block;\n    bottom: 0;\n    max-width: 100%;\n    height: auto;\n`\n\nconst Thumbnail: React.FC = () => {\n    return (\n        <svg\n            id=\"R\\xE9teg_1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n            x={0}\n            y={0}\n            viewBox=\"0 0 1920 1080\"\n            xmlSpace=\"preserve\"\n        >\n            <style>{'.st9{fill:#fff}'}</style>\n            <path\n                d=\"M535 0h1385v1080H535V0z\"\n                style={{\n                    fill: '#15375e',\n                }}\n            />\n            <path\n                d=\"M1445 100.8h344.1v85.3H1445v-85.3zm-296.5 0h250.9v85.3h-250.9v-85.3z\"\n                style={{\n                    fill: '#e85656',\n                }}\n            />\n            <path\n                d=\"M667.6 274.8h344.1v258.5H667.6V274.8zm388.7 0h344.1v258.5h-344.1V274.8zm388.7 0h344.1v258.5H1445V274.8zM667.6 608.3h344.1v258.5H667.6V608.3zm388.7 0h344.1v258.5h-344.1V608.3zm388.7 0h344.1v258.5H1445V608.3z\"\n                style={{\n                    fill: '#0c2135',\n                }}\n            />\n            <path\n                d=\"M0 0h535v1080H0V0z\"\n                style={{\n                    fill: '#00502e',\n                }}\n            />\n            <path\n                d=\"M149.5 89.8h228v213.9h-228V89.8zM84.7 424.5h304v43.3h-304v-43.3zm0 97H322v43.3H84.7v-43.3zm0 97h268v43.3h-268v-43.3zm0 97H382v43.3H84.7v-43.3zm0 97H342v43.3H84.7v-43.3z\"\n                style={{\n                    fill: '#cfece0',\n                }}\n            />\n            <defs>\n                <path id=\"SVGID_1_\" d=\"M535 812.5h1385V1080H535z\" />\n            </defs>\n            <clipPath id=\"SVGID_00000154383876184233390970000005019030986168625538_\">\n                <use\n                    xlinkHref=\"#SVGID_1_\"\n                    style={{\n                        overflow: 'visible',\n                    }}\n                />\n            </clipPath>\n            <g\n                style={{\n                    clipPath: 'url(#SVGID_00000154383876184233390970000005019030986168625538_)',\n                }}\n            >\n                <path\n                    d=\"m407.9 964 221.3-27.5 319.7 68.6 287-34.3 72.5 12.1 132.8 22.2 214.4-58.5 261.5 60.3 9 74-1518.2-3.7V964z\"\n                    style={{\n                        fill: '#2053a5',\n                    }}\n                />\n                <path\n                    d=\"m393.1 927 376 68.5 297-62.8 256 76.1 112-50.4 200 46.6 254-22.8 114-1.8v60.4l-1637 62.2 28-176z\"\n                    style={{\n                        fill: '#efeff4',\n                    }}\n                />\n                <path\n                    d=\"m412.3 1035 224-14 729 25 217.6-27.9 344.4-.1 9 89-1545.6-6 21.6-66z\"\n                    style={{\n                        fill: '#b3d6f4',\n                    }}\n                />\n            </g>\n            <circle className=\"st9\" cx={468.2} cy={231} r={20} />\n            <circle className=\"st9\" cx={448.3} cy={834.2} r={20} />\n            <circle className=\"st9\" cx={468.2} cy={231} r={20} />\n            <circle className=\"st9\" cx={747.1} cy={458.2} r={20} />\n            <circle className=\"st9\" cx={1227.5} cy={749.7} r={20} />\n            <circle className=\"st9\" cx={1379.4} cy={478.2} r={20} />\n            <circle className=\"st9\" cx={1011.7} cy={242.2} r={20} />\n            <circle className=\"st9\" cx={84.7} cy={89.8} r={20} />\n            <circle className=\"st9\" cx={1227.5} cy={749.7} r={20} />\n            <circle className=\"st9\" cx={1809.1} cy={196.8} r={20} />\n            <circle className=\"st9\" cx={727.1} cy={834.2} r={20} />\n            <circle className=\"st9\" cx={1227.5} cy={749.7} r={20} />\n            <circle className=\"st9\" cx={1717.5} cy={834.2} r={20} />\n        </svg>\n    )\n}\n\nexport const xmas = createTheme(Thumbnail, {\n    palette: {\n        text: { primary: '#9ed0f5', secondary: '#6ba3cc' },\n        type: 'dark',\n        primary: {\n            main: '#e85656',\n            dark: '#b82121',\n        },\n        divider: '#174679',\n        background: {\n            default: '#15375e',\n            paper: '#0f3157',\n        },\n    },\n\n    extras: {\n        logoType: 'white',\n        themeColorMeta: '#121e40',\n\n        global: {\n            body: css`\n                background: url(${backgroundImg}), linear-gradient(#1d3f6e, #1f222b);\n                background-attachment: fixed;\n                background-size: 600px auto;\n            `,\n        },\n\n        tabs: {\n            tab: css`\n                text-shadow: 0 0 6px ${props => transparentize(0.2, props.theme.palette.text.primary)};\n                &.Mui-selected {\n                    text-shadow: 0 0 10px ${props => transparentize(0.2, props.theme.palette.primary.main)};\n                }\n            `,\n            indicator: css`\n                box-shadow: 0 0 10px ${props => props.theme.palette.primary.main};\n            `,\n        },\n\n        pageAside: {\n            extraComponent: (\n                <React.Suspense fallback={null}>\n                    <XmasLights />\n                </React.Suspense>\n            ),\n            paper: css`\n                background: #00502e;\n                color: #cfece0;\n                border-right: none;\n                box-shadow: 6px 0 9px #07091552;\n            `,\n            dividers: css`\n                background-color: #083321;\n            `,\n            listItemAndNotificationButton: css`\n                text-shadow: 0 0 6px #cfece066;\n                .MuiListItemIcon-root {\n                    filter: drop-shadow(0 0 5px #cfece066);\n                }\n                &.Mui-selected {\n                    color: #2cce6a;\n                    background-color: #2cce6a40;\n                    text-shadow: 0 0 6px #4dcd7ea3;\n                    &:hover,\n                    focus-visible {\n                        color: #2cce6a;\n                        background-color: #2cce6a61;\n                    }\n                    .MuiListItemIcon-root {\n                        filter: drop-shadow(0 0 5px #4dcd7ea3);\n                    }\n                }\n            `,\n            secondary: css`\n                color: #49b587;\n                text-shadow: none;\n                .MuiListItemIcon-root {\n                    filter: none;\n                }\n            `,\n        },\n\n        actionablePaper: {\n            root: css`\n                &:hover,\n                &:focus-visible {\n                    background-color: ${props => props.theme.palette.background.paper};\n                    filter: brightness(1.2);\n                }\n            `,\n        },\n\n        pageHeader: {\n            root: css`\n                background-color: #0f3157;\n                border-bottom: solid 1px #174679;\n            `,\n        },\n        page: {\n            footerImage: <FooterImage width=\"3644\" height=\"587\" src={footerImg} />,\n        },\n        globalComponent: BIRTHDAY_ENABLED ? undefined : <Snowfall />,\n        dialog: {\n            backdrop: css`\n                background: rgb(3 18 25 / 91%);\n            `,\n        },\n        textButton: color => {\n            if (color === 'primary') {\n                return css`\n                    text-shadow: 0 0 5px ${props => transparentize(0.1, props.theme.palette.primary.main)};\n                `\n            }\n        },\n\n        containedButton: color => {\n            if (color === 'primary') {\n                return css`\n                    &,\n                    &:hover,\n                    &:focus-visible {\n                        box-shadow: 0 0 7px ${props => transparentize(0.4, props.theme.palette.primary.main)};\n                    }\n                    &.Mui-disabled {\n                        background: #1d4654;\n                    }\n                `\n            }\n        },\n    },\n})\n","export default __webpack_public_path__ + \"static/media/easter-footer.e30df72f.webp\";","import { CookieHunt } from 'features/cookie-hunt'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport footerImg from './easter-footer.webp'\n\ninterface EasterFooterProps {}\n\nexport const EasterFooter: React.FC<EasterFooterProps> = () => {\n    return (\n        <Root>\n            <EggWrap>\n                <CookieHunt name=\"easter-footer\" />\n            </EggWrap>\n            <Image width=\"2644\" height=\"1038\" src={footerImg} />\n        </Root>\n    )\n}\n\nconst EggWrap = styled.div`\n    position: absolute;\n    top: 77.8%;\n    left: 78.3%;\n`\n\nconst Root = styled.div`\n    position: relative;\n`\n\nconst Image = styled.img`\n    display: block;\n    max-width: 100%;\n    height: auto;\n`\n","import React from 'react'\nimport { createTheme } from 'lib/theme/createTheme'\nimport { css } from 'styled-components/macro'\nimport { EasterFooter } from './EasterFooter'\n\nconst Thumbnail: React.FC = () => {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n            x={0}\n            y={0}\n            viewBox=\"0 0 1920 1080\"\n            xmlSpace=\"preserve\"\n        >\n            <style>{'.st5{clip-path:url(#SVGID_00000115504942659658466400000016243759574444086462_)}'}</style>\n            <path\n                d=\"M535 0h1385v1080H535V0z\"\n                style={{\n                    fill: '#6bd9e1',\n                }}\n            />\n            <path\n                d=\"M1445 100.8h344.1v85.3H1445v-85.3zm-296.5 0h250.9v85.3h-250.9v-85.3z\"\n                style={{\n                    fill: '#b70c91',\n                }}\n            />\n            <path\n                d=\"M667.6 274.8h344.1v258.5H667.6V274.8zm388.7 0h344.1v258.5h-344.1V274.8zm388.7 0h344.1v258.5H1445V274.8zM667.6 608.3h344.1v258.5H667.6V608.3zm388.7 0h344.1v258.5h-344.1V608.3zm388.7 0h344.1v258.5H1445V608.3z\"\n                style={{\n                    fill: '#384a78',\n                }}\n            />\n            <path\n                d=\"M0 0h535v1080H0V0z\"\n                style={{\n                    fill: '#e4f3ff',\n                }}\n            />\n            <path\n                d=\"M149.5 89.8h228v213.9h-228V89.8zM84.7 424.5h304v43.3h-304v-43.3zm0 97H322v43.3H84.7v-43.3zm0 97h268v43.3h-268v-43.3zm0 97H382v43.3H84.7v-43.3zm0 97H342v43.3H84.7v-43.3z\"\n                style={{\n                    fill: '#5c8aaf',\n                }}\n            />\n            <defs>\n                <path id=\"SVGID_1_\" d=\"M535 812.5h1385V1080H535z\" />\n            </defs>\n            <clipPath id=\"SVGID_00000163034904263225060590000010433834774941332358_\">\n                <use\n                    xlinkHref=\"#SVGID_1_\"\n                    style={{\n                        overflow: 'visible',\n                    }}\n                />\n            </clipPath>\n            <g\n                style={{\n                    clipPath: 'url(#SVGID_00000163034904263225060590000010433834774941332358_)',\n                }}\n            >\n                <path\n                    d=\"m407.9 964 221.3-27.5 319.7 68.6 287-34.3 72.5 12.1 132.8 22.2 214.4-58.5 261.5 60.3 9 74-1518.2-3.7V964z\"\n                    style={{\n                        fill: '#79eab9',\n                    }}\n                />\n                <path\n                    d=\"m393.1 927 376 68.5 297-62.8 256 76.1 112-50.4 200 46.6 254-22.8 114-1.8v60.4l-1637 62.2 28-176z\"\n                    style={{\n                        fill: '#1fdb8a',\n                    }}\n                />\n                <path\n                    d=\"m412.3 1035 224-14 729 25 217.6-27.9 344.4-.1 9 89-1545.6-6 21.6-66z\"\n                    style={{\n                        fill: '#1cc67a',\n                    }}\n                />\n            </g>\n        </svg>\n    )\n}\n\nexport const easter = createTheme(Thumbnail, {\n    palette: {\n        background: {\n            default: '#f5f5fb',\n        },\n        primary: {\n            main: '#b70c91',\n        },\n        text: {\n            primary: '#314a51',\n            disabled: '#a2a2a3',\n        },\n    },\n    overrides: {\n        MuiPaper: {\n            root: {\n                background: 'linear-gradient(45deg, #f7eaff, #cdfdff)',\n            },\n        },\n    },\n    extras: {\n        themeColorMeta: '#a50050',\n        global: {\n            body: css`\n                background: linear-gradient(hsl(184deg 66% 65%), hsl(183deg 73% 95%));\n                background-attachment: fixed;\n            `,\n        },\n\n        pageHeader: {\n            root: css`\n                background: linear-gradient(45deg, #cdfdff, #f7eaff);\n            `,\n        },\n        page: {\n            footerImage: <EasterFooter />,\n        },\n        containedButton: color => {\n            if (color === 'default') {\n                return css`\n                    background-color: #c9dade;\n                    &:hover,\n                    &:focus-visible {\n                        background-color: #c1d5da;\n                    }\n                `\n            }\n        },\n        pageAside: {\n            listItemAndNotificationButton: css`\n                color: #314a51;\n                &.Mui-selected,\n                &.Mui-selected:hover {\n                    color: #06b1ba;\n                    background-color: rgba(7, 220, 213, 0.11);\n                }\n            `,\n        },\n    },\n})\n","export default __webpack_public_path__ + \"static/media/halloween_footer.09088135.webp\";","import React from 'react'\nimport styled from 'styled-components/macro'\nimport footerImg from './halloween_footer.webp'\nimport {CookieHunt} from \"../../../../features/cookie-hunt\";\n\ninterface HalloweenFooterProps {}\n\nexport const HalloweenFooter: React.FC<HalloweenFooterProps> = () => {\n    return (\n        <Root>\n            <PotWrap>\n                <CookieHunt name=\"halloween-footer\" />\n            </PotWrap>\n            <Image width=\"2644\" height=\"1038\" src={footerImg} />\n        </Root>\n    )\n}\n\nconst PotWrap = styled.div`\n    position: absolute;\n    top: 67.8%;\n    left: 66.8%;\n`\n\nconst Root = styled.div`\n    position: relative;\n`\n\nconst Image = styled.img`\n    display: block;\n    max-width: 100%;\n    height: auto;\n`\n","import React from 'react'\nimport { createTheme } from 'lib/theme/createTheme'\nimport { css } from 'styled-components/macro'\nimport { HalloweenFooter } from './HalloweenFooter'\n\nconst Thumbnail: React.FC = () => {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n            x={0}\n            y={0}\n            viewBox=\"0 0 1920 1080\"\n            xmlSpace=\"preserve\"\n        >\n            <style>{'.st5{clip-path:url(#SVGID_00000115504942659658466400000016243759574444086462_)}'}</style>\n            <path\n                d=\"M535 0h1385v1080H535V0z\"\n                style={{\n                    fill: '#43235F',\n                }}\n            />\n            <path\n                d=\"M1445 100.8h344.1v85.3H1445v-85.3zm-296.5 0h250.9v85.3h-250.9v-85.3z\"\n                style={{\n                    fill: '#FF7B0A',\n                }}\n            />\n            <path\n                d=\"M667.6 274.8h344.1v258.5H667.6V274.8zm388.7 0h344.1v258.5h-344.1V274.8zm388.7 0h344.1v258.5H1445V274.8zM667.6 608.3h344.1v258.5H667.6V608.3zm388.7 0h344.1v258.5h-344.1V608.3zm388.7 0h344.1v258.5H1445V608.3z\"\n                style={{\n                    fill: '#384a78',\n                }}\n            />\n            <path\n                d=\"M0 0h535v1080H0V0z\"\n                style={{\n                    fill: '#FF7B0A',\n                }}\n            />\n            <path\n                d=\"M149.5 89.8h228v213.9h-228V89.8zM84.7 424.5h304v43.3h-304v-43.3zm0 97H322v43.3H84.7v-43.3zm0 97h268v43.3h-268v-43.3zm0 97H382v43.3H84.7v-43.3zm0 97H342v43.3H84.7v-43.3z\"\n                style={{\n                    fill: '#dddddd',\n                }}\n            />\n            <defs>\n                <path id=\"SVGID_1_\" d=\"M535 812.5h1385V1080H535z\" />\n            </defs>\n            <clipPath id=\"SVGID_00000163034904263225060590000010433834774941332358_\">\n                <use\n                    xlinkHref=\"#SVGID_1_\"\n                    style={{\n                        overflow: 'visible',\n                    }}\n                />\n            </clipPath>\n            <g\n                style={{\n                    clipPath: 'url(#SVGID_00000163034904263225060590000010433834774941332358_)',\n                }}\n            >\n                <path\n                    d=\"m407.9 964 221.3-27.5 319.7 68.6 287-34.3 72.5 12.1 132.8 22.2 214.4-58.5 261.5 60.3 9 74-1518.2-3.7V964z\"\n                    style={{\n                        fill: '#201A43',\n                    }}\n                />\n                <path\n                    d=\"m393.1 927 376 68.5 297-62.8 256 76.1 112-50.4 200 46.6 254-22.8 114-1.8v60.4l-1637 62.2 28-176z\"\n                    style={{\n                        fill: '#AA3B0A',\n                    }}\n                />\n                <path\n                    d=\"m412.3 1035 224-14 729 25 217.6-27.9 344.4-.1 9 89-1545.6-6 21.6-66z\"\n                    style={{\n                        fill: '#AA2B0A',\n                    }}\n                />\n            </g>\n        </svg>\n    )\n}\n\nexport const halloween = createTheme(Thumbnail, {\n    palette: {\n        background: {\n            default: '#43235F',\n            paper: '#202A63',\n        },\n        type: 'dark',\n        primary: {\n            main: '#FF7B0A',\n            dark: '#AA3B0A',\n            contrastText: '#fff',\n        },\n        text: { primary: '#c0c2c9', secondary: '#868992' },\n    },\n    extras: {\n        themeColorMeta: '#FF7B0A',\n        logoType: 'white',\n        pageAside: {\n            paper: css`\n                background: linear-gradient(#ff7b0a, #dd7b0a);\n                color: white;\n                border-right: none;\n            `,\n            secondary: css`\n                color: #202a63;\n            `,\n            listItemAndNotificationButton: css`\n                &:hover,\n                &:focus-visible {\n                    background-color: rgba(0, 0, 0, 0.1);\n                }\n                &.Mui-selected,\n                &.Mui-selected:hover {\n                    background-color: rgba(0, 0, 0, 0.1);\n                    color: #202a63;\n                }\n            `,\n        },\n        global: {\n            body: css`\n                background: #43235f;\n                background-attachment: fixed;\n            `,\n        },\n\n        pageHeader: {\n            root: css`\n                background: #43235f;\n            `,\n        },\n        page: {\n            footerImage: <HalloweenFooter />,\n        },\n        dialog: {\n            backdrop: css`\n                background: rgb(34 44 52 / 87%);\n            `,\n            projectDialogPaper: css`\n                background: #06090f;\n            `,\n        },\n        actionablePaper: {\n            root: css`\n                &:hover,\n                &:focus-visible {\n                    background-color: ${props => props.theme.palette.background.paper};\n                    filter: brightness(1.1);\n                }\n            `,\n        },\n    },\n})\n","export default __webpack_public_path__ + \"static/media/ninja-footer.0a392fb0.png\";","import styled, { css } from 'styled-components/macro'\nimport { createTheme } from '../../createTheme'\nimport React from 'react'\nimport footerImg from './ninja-footer.png'\n\nconst FooterImage = styled.img`\n    display: block;\n    bottom: 0;\n    max-width: 100%;\n    height: auto;\n`\n\nexport const ninja = createTheme(\n    { base: '#00b3c2', aside: '#d3f5fe', primary: '#05557d', asideContent: '#555e66', baseContent: '#d3f5fe' },\n    {\n        palette: {\n            type: 'light',\n            background: {\n                default: '#00b3c2',\n                paper: '#d3f5fe',\n            },\n            divider: '#0497a3',\n            primary: { main: '#05557d', contrastText: '#fff' },\n        },\n        extras: {\n            logoType: 'default',\n            themeColorMeta: '#00b3c2',\n            pageHeader: {\n                root: css`\n                    background-color: #04c1d2;\n                `,\n                stickyRoot: css`\n                    background-color: #04c1d2;\n                `,\n            },\n            page: {\n                footerImage: <FooterImage width=\"3645\" height=\"1200\" src={footerImg} />,\n            },\n            pageAside: {\n                dividers: css`\n                    background-color: #aecfd8;\n                `,\n            },\n            dialog: {\n                backdrop: css`\n                    background: rgb(34 44 52 / 87%);\n                `,\n                projectDialogPaper: css`\n                    background: #06090f;\n                `,\n            },\n            actionablePaper: {\n                root: css`\n                    &:hover,\n                    &:focus-visible {\n                        background-color: ${props => props.theme.palette.background.paper};\n                        filter: brightness(0.9);\n                    }\n                `,\n            },\n        },\n    },\n    ['content.scooler-mission-2022-themes', 'content.scooler-mission-2022-themes-ro'],\n)\n","export default __webpack_public_path__ + \"static/media/scooler-footer.3dff2896.png\";","import styled, { css } from 'styled-components/macro'\nimport { createTheme } from '../../createTheme'\nimport React from 'react'\nimport footerImg from './scooler-footer.png'\n\nconst FooterImage = styled.img`\n    display: block;\n    max-width: 100%;\n    height: auto;\n    margin-top: -30%;\n    pointer-events: none;\n    z-index: -1;\n`\n\nexport const scooler = createTheme(\n    { base: '#003e63', aside: '#053a57', primary: '#009CF9', asideContent: '#9f9faf', baseContent: '#145a83' },\n    {\n        palette: {\n            type: 'dark',\n            background: {\n                default: '#003e63',\n                paper: '#24243a',\n            },\n            divider: '#155c85',\n            text: {\n                primary: '#d9d9f0',\n            },\n            primary: { main: '#009CF9', contrastText: '#c0eaff' },\n        },\n        extras: {\n            logoType: 'white',\n            themeColorMeta: '#003e63',\n            page: {\n                footerImage: <FooterImage width=\"3645\" height=\"2000\" src={footerImg} />,\n            },\n            pageHeader: {\n                root: css`\n                    background-color: #053a57;\n                    border-bottom-color: #1f5576;\n                `,\n                stickyRoot: css`\n                    background-color: #053a57;\n                    border-bottom-color: #1f5576;\n                `,\n            },\n            pageAside: {\n                paper: css`\n                    background-color: #053a57;\n                    border-right-color: #1f5576;\n                `,\n            },\n            containedButton: color => {\n                if (color === 'default') {\n                    return css`\n                        &,\n                        &:hover,\n                        &:focus-visible {\n                            background-color: #2a2d5d;\n                            color: #8387be;\n                        }\n                    `\n                }\n            },\n            dialog: {\n                backdrop: css`\n                    background: rgb(34 44 52 / 87%);\n                `,\n                projectDialogPaper: css`\n                    background: #06090f;\n                `,\n            },\n            actionablePaper: {\n                root: css`\n                    &:hover,\n                    &:focus-visible {\n                        background-color: ${props => props.theme.palette.background.paper};\n                        filter: brightness(1.2);\n                    }\n                `,\n            },\n        },\n    },\n    ['content.scooler-mission-2022-themes'],\n)\n","export default __webpack_public_path__ + \"static/media/scooler-romanian-footer.f438ff02.png\";","import styled, { css } from 'styled-components/macro'\nimport { createTheme } from '../../createTheme'\nimport React from 'react'\nimport footerImg from './scooler-romanian-footer.png'\n\nconst FooterImage = styled.img`\n    display: block;\n    max-width: 100%;\n    height: auto;\n    margin-top: -30%;\n    pointer-events: none;\n    z-index: -1;\n`\n\nexport const scoolerRomanian = createTheme(\n    { base: '#003e63', aside: '#053a57', primary: '#009CF9', asideContent: '#9f9faf', baseContent: '#145a83' },\n    {\n        palette: {\n            type: 'dark',\n            background: {\n                default: '#003e63',\n                paper: '#24243a',\n            },\n            divider: '#155c85',\n            text: {\n                primary: '#d9d9f0',\n            },\n            primary: { main: '#009CF9', contrastText: '#c0eaff' },\n        },\n        extras: {\n            logoType: 'white',\n            themeColorMeta: '#003e63',\n            page: {\n                footerImage: <FooterImage width=\"3581\" height=\"2000\" src={footerImg} />,\n            },\n            pageHeader: {\n                root: css`\n                    background-color: #053a57;\n                    border-bottom-color: #1f5576;\n                `,\n                stickyRoot: css`\n                    background-color: #053a57;\n                    border-bottom-color: #1f5576;\n                `,\n            },\n            pageAside: {\n                paper: css`\n                    background-color: #053a57;\n                    border-right-color: #1f5576;\n                `,\n            },\n            containedButton: color => {\n                if (color === 'default') {\n                    return css`\n                        &,\n                        &:hover,\n                        &:focus-visible {\n                            background-color: #2a2d5d;\n                            color: #8387be;\n                        }\n                    `\n                }\n            },\n            dialog: {\n                backdrop: css`\n                    background: rgb(34 44 52 / 87%);\n                `,\n                projectDialogPaper: css`\n                    background: #06090f;\n                `,\n            },\n            actionablePaper: {\n                root: css`\n                    &:hover,\n                    &:focus-visible {\n                        background-color: ${props => props.theme.palette.background.paper};\n                        filter: brightness(1.2);\n                    }\n                `,\n            },\n        },\n    },\n    ['content.scooler-mission-2022-themes-ro'],\n)\n","import React, { createContext, useCallback, useEffect, useMemo, useState } from 'react'\nimport { createMuiTheme } from '@material-ui/core'\nimport { ThemeProvider as ScThemeProivder } from 'styled-components/macro'\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/styles'\nimport * as themes from './themes'\nimport { i18n } from 'lib/i18n'\nimport { create } from 'jss'\nimport rtl from 'jss-rtl'\nimport { StylesProvider, jssPreset } from '@material-ui/core/styles'\nimport { ThemeThumbnail } from './createTheme'\nimport { Grant, GrantFeature, hasGrant } from 'lib/grants'\nimport { UserState } from 'contexts/UserContext'\n\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] })\n\nexport type ThemeName = keyof typeof themes\n\ntype ThemeState = {\n    theme: ThemeName\n    themes: {\n        name: ThemeName\n        thumbnail: ThemeThumbnail\n        grantRequiredToDisplay?: (Grant | GrantFeature)[]\n    }[]\n    setTheme: (theme: ThemeName) => void\n    setThemeFromUserSettings: (user: UserState) => void\n}\n\nconst themeContext = createContext<ThemeState | undefined>(undefined)\n\nexport const ThemeProvider: React.FC = ({ children }) => {\n    const [themeName, setThemeName] = useState<ThemeName>(getInitialTheme)\n    const [direction, setDirection] = useState<'rtl' | 'ltr'>('ltr')\n    const theme = useMemo(() => createMuiTheme({ ...themes[themeName].data, direction }), [themeName, direction])\n\n    useEffect(() => {\n        const metaTag = document.querySelector('meta[name=\"theme-color\"]')\n        if (metaTag) {\n            metaTag.setAttribute('content', theme.extras?.themeColorMeta ?? '#ffffff')\n        }\n    }, [theme])\n\n    useEffect(() => {\n        function onDirectionChange(direction: 'rtl' | 'ltr') {\n            setDirection(direction)\n        }\n\n        i18n.addDirectionChangeListener(onDirectionChange)\n\n        return () => {\n            i18n.removeDirectionChangeListener(onDirectionChange)\n        }\n    }, [])\n\n    useEffect(() => {\n        /**\n         * We store the last used theme in localStorage\n         * to avoid flicker after user settings loaded.\n         */\n        window.localStorage.setItem(THEME_STORAGE_KEY, themeName)\n    }, [themeName])\n\n    const setTheme = useCallback((theme: ThemeName) => {\n        if (doesThemeExist(theme)) {\n            setThemeName(theme)\n        } else {\n            console.warn(`Theme '${theme}' not found.\\n Available themes: ${Object.keys(themes).join(', ')}`)\n        }\n    }, [])\n\n    useEffect(() => {\n        ;(window as any).setTheme = setTheme\n    }, [setTheme])\n\n    function setThemeFromUserSettings(user: UserState) {\n        let themeName: ThemeName = 'light1'\n\n        const themeSetting = user.settings['mylogiscool-theme']\n\n        if (themeSetting && doesThemeExist(themeSetting)) {\n            const theme = themes[themeSetting]\n            const hasAccess = theme.grantRequiredToDisplay\n                ? theme.grantRequiredToDisplay.some(grant => hasGrant(user.grants)(grant))\n                : true\n\n            if (hasAccess) {\n                themeName = themeSetting\n            }\n        }\n\n        setTheme(themeName)\n    }\n\n    return (\n        <themeContext.Provider\n            value={{\n                theme: themeName,\n                setTheme,\n                themes: Object.entries(themes).map(([key, theme]) => ({\n                    name: key as ThemeName,\n                    thumbnail: theme.thumbnail,\n                    grantRequiredToDisplay: theme.grantRequiredToDisplay,\n                })),\n                setThemeFromUserSettings,\n            }}\n        >\n            <StylesProvider jss={jss}>\n                <MuiThemeProvider theme={theme}>\n                    <ScThemeProivder theme={theme}>{children}</ScThemeProivder>\n                </MuiThemeProvider>\n            </StylesProvider>\n        </themeContext.Provider>\n    )\n}\n\nconst THEME_STORAGE_KEY = '@my-logiscool/theme'\n\nfunction getInitialTheme(): ThemeName {\n    const storedTheme = window.localStorage.getItem(THEME_STORAGE_KEY)\n    if (storedTheme && doesThemeExist(storedTheme)) {\n        return storedTheme\n    }\n    return 'light1'\n}\n\nexport function useTheming() {\n    const context = React.useContext(themeContext)\n    if (context === undefined) {\n        throw new Error('useTheming must be used within a ThemeProvider.')\n    }\n    return context\n}\n\nfunction doesThemeExist(theme: string): theme is ThemeName {\n    return theme in themes\n}\n","import { useTheme } from '@material-ui/core'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport React from 'react'\n\nexport const ThemeGlobalComponent = React.memo(() => {\n    const theme = useTheme()\n\n    return <ErrorBoundary silent>{theme.extras?.globalComponent}</ErrorBoundary>\n})\n","import { api } from 'lib/api'\n\nexport const createFeedImageUrl = (id?: string) => (id ? `${api.baseUrl}/files/${id}/data` : undefined)\n","import { Dialog, DialogContent, DialogTitle } from 'components/dialog'\nimport { EmbeddedVideo } from 'components/EmbeddedVideo'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { NBSP } from 'utils/styleUtils'\n\ninterface FeedEntryVimeoModalProps {\n    vimeoId: string\n    isOpen: boolean\n    onClose: VoidFunction\n}\n\nexport const FeedEntryVimeoModal: React.FC<FeedEntryVimeoModalProps> = ({ vimeoId, isOpen, onClose }) => {\n    return (\n        <Dialog open={isOpen} onClose={onClose} maxWidth=\"md\" fullWidth>\n            <DialogTitle>{NBSP}</DialogTitle>\n            <StyledDialogContent>\n                <EmbeddedVideo type=\"vimeo\" id={vimeoId} autoPlay />\n            </StyledDialogContent>\n        </Dialog>\n    )\n}\n\nconst StyledDialogContent = styled(DialogContent)`\n    padding: 0;\n`\n","import { useOnboardingManager } from 'features/onboarding'\nimport React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { resetBtnStyle } from 'utils/styleUtils'\nimport { FeedEntryAction, FeedEntryActionType, FeedEntry } from '../types/feedTypes'\nimport { FeedEntryVimeoModal } from './FeedEntryVimeoModal'\n\ninterface FeedEntryMetaActionProps {\n    entry: FeedEntry\n}\n\nexport const FeedEntryMetaAction: React.FC<FeedEntryMetaActionProps> = ({ entry, children }) => {\n    if (!entry.action) {\n        return <>{children}</>\n    }\n\n    const ActionComponent = actionTypeToComponent[entry.action.actionType]\n\n    if (!ActionComponent) {\n        return <>{children}</>\n    }\n\n    return (\n        <ActionComponent id={entry._id} action={entry.action}>\n            {children}\n        </ActionComponent>\n    )\n}\n\ntype ActionComponent = React.FC<{\n    id: string\n    action: FeedEntryAction\n}>\n\nconst OpenOnboardingAction: ActionComponent = ({ action, children }) => {\n    const { open } = useOnboardingManager()\n\n    return (\n        <StyledButton\n            onClick={() => {\n                open(action.to as any)\n            }}\n        >\n            {children}\n        </StyledButton>\n    )\n}\n\nconst VimeoAction: ActionComponent = ({ action, children }) => {\n    const [isVimeoModelOpen, setIsVimeoModalOpen] = useState(false)\n\n    const openVimeoModal = () => {\n        setIsVimeoModalOpen(true)\n    }\n\n    const closeVimeoModal = () => {\n        setIsVimeoModalOpen(false)\n    }\n\n    return (\n        <>\n            <StyledButton onClick={openVimeoModal}>{children}</StyledButton>\n            <FeedEntryVimeoModal vimeoId={action.to!} isOpen={isVimeoModelOpen} onClose={closeVimeoModal} />\n        </>\n    )\n}\n\nconst LinkAction: ActionComponent = ({ action, children }) => {\n    return (\n        <StyledAnchor as={Link} to={action.to ?? '#'}>\n            {children}\n        </StyledAnchor>\n    )\n}\n\nconst ExternalLinkAction: ActionComponent = ({ action, children }) => {\n    return (\n        <StyledAnchor href={action.to} target=\"_blank\">\n            {children}\n        </StyledAnchor>\n    )\n}\n\nconst LongformAction: ActionComponent = ({ id, children }) => {\n    return (\n        <StyledAnchor as={Link} to={{ pathname: `/app/post/${id}` }}>\n            {children}\n        </StyledAnchor>\n    )\n}\n\nconst actionTypeToComponent: Record<FeedEntryActionType, ActionComponent> = {\n    link: LinkAction,\n    'external-link': ExternalLinkAction,\n    'open-onboarding': OpenOnboardingAction,\n    vimeo: VimeoAction,\n    longform: LongformAction,\n}\n\nconst StyledButton = styled.button`\n    ${resetBtnStyle};\n    display: block;\n    width: 100%;\n    cursor: pointer;\n`\n\nconst StyledAnchor = styled.a`\n    color: inherit;\n    text-decoration: none;\n`\n","import { Button } from 'components/Button'\nimport { ForwardIcon } from 'components/icons'\nimport { LocalisationKey } from 'lib/i18n'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { useIncrementActivityScore } from '../../../hooks/useIncrementActivityScore'\nimport { FeedEntry } from '../types/feedTypes'\nimport { FeedEntryMetaAction } from './FeedEntryMetaAction'\n\ninterface FeedEntryCtaProps {\n    entry: FeedEntry\n}\n\nexport const FeedEntryCta: React.FC<FeedEntryCtaProps> = ({ entry }) => {\n    const t = useTranslate()\n    const incrementActivityScore = useIncrementActivityScore()\n\n    if (!entry.action || entry.action.actionType === 'vimeo') {\n        return null\n    }\n\n    return (\n        <div>\n            <FeedEntryMetaAction entry={entry}>\n                <Button\n                    variant=\"outlined\"\n                    onClick={() => {\n                        incrementActivityScore('news-feed:post:cta-click')\n                        return true\n                    }}\n                    endIcon={<ForwardIcon />}\n                >\n                    {t(entry.action?.label as LocalisationKey) || t('general::more')}\n                </Button>\n            </FeedEntryMetaAction>\n        </div>\n    )\n}\n","import { TypographyTypeMap } from '@material-ui/core'\nimport { OverridableComponent } from '@material-ui/core/OverridableComponent'\nimport { Text } from 'components/Text'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nexport const FeedEntryCaption: OverridableComponent<TypographyTypeMap> = (props: TypographyTypeMap['props']) => {\n    return <Root variant=\"caption\" {...props} />\n}\n\nconst Root = styled(Text)`\n    display: inline-flex;\n    align-items: center;\n    margin-bottom: ${props => props.theme.spacing(1)};\n    gap: ${props => props.theme.spacing(1)};\n    opacity: 0.7;\n`\n","import { FloatingBadge } from 'components/FloatingBadge'\nimport { PinIcon } from 'components/icons'\nimport { Tooltip } from 'components/Tooltip'\nimport dayjs from 'dayjs'\nimport { FeedEntryWithMetada } from 'features/feed/types/feedTypes'\nimport { useDateFormat } from 'hooks/useDateFormat'\nimport { useRelativeTimeFormat } from 'hooks/useRelativeTimeFormat'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { FeedEntryCaption } from '../FeedEntryCaption'\n\ninterface FeedEntryBaseProps {\n    entry: FeedEntryWithMetada\n}\n\nexport const FeedEntryBase: React.FC<FeedEntryBaseProps> = ({ children, entry }) => {\n    const { formatDate } = useDateFormat()\n    const { getRelativeTime } = useRelativeTimeFormat()\n    const dayjsDate = dayjs(entry.activeFrom)\n    const t = useTranslate()\n\n    return (\n        <Root $isPinned={!!entry.isPinned}>\n            <Tooltip title={formatDate(dayjsDate.toDate())}>\n                <span>\n                    <FeedEntryCaption component=\"time\" dateTime={dayjsDate.format('YYYY-MM-DDTHH:mm')}>\n                        {getRelativeTime(dayjsDate)} {entry.isPinned && <PinIcon />}\n                    </FeedEntryCaption>\n                </span>\n            </Tooltip>\n            <FloatingBadge title={t('general::new')} active={entry.metadata.unread}>\n                <div>{children}</div>\n            </FloatingBadge>\n        </Root>\n    )\n}\n\nconst Root = styled.div<{ $isPinned: boolean }>`\n    ${props =>\n        props.$isPinned &&\n        css`\n            ${props => props.theme.breakpoints.up('lg')} {\n                margin-left: -75px;\n                margin-right: -75px;\n            }\n        `}\n`\n","import { useUserState } from 'contexts/UserContext'\nimport dayjs, { Dayjs } from 'dayjs'\nimport { useMemo } from 'react'\nimport { useDateFormat } from './useDateFormat'\n\nexport const useRelativeTimeFormat = () => {\n    const { account } = useUserState()\n    const { formatDate } = useDateFormat()\n\n    const formatter = useMemo(() => {\n        if ('Intl' in window && 'RelativeTimeFormat' in Intl) {\n            return new Intl.RelativeTimeFormat(account?.uiLanguage || 'en-US', { numeric: 'auto', style: 'long' })\n        }\n    }, [account])\n\n    return {\n        getRelativeTime: (date: Dayjs) => {\n            if (!formatter) {\n                return formatDate(date.toDate())\n            }\n\n            const diffInDays = date.diff(dayjs(), 'day')\n            if (diffInDays === 0) {\n                const diffInHours = date.diff(dayjs(), 'hour')\n                return formatter.format(diffInHours, 'hour')\n            }\n            if (diffInDays < -31) {\n                const diffInMonths = date.diff(dayjs(), 'month')\n                return formatter.format(diffInMonths, 'month')\n            }\n            return formatter.format(diffInDays, 'days')\n        },\n    }\n}\n","import { Card } from 'components/card'\nimport { PlayIcon } from 'components/icons'\nimport { Img } from 'components/Img'\nimport { Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { createFeedImageUrl } from 'features/feed/data/feedhelper'\nimport { FeedEntryComponent } from 'features/feed/types/feedTypes'\nimport { LocalisationKey } from 'lib/i18n'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { FeedEntryCta } from '../FeedEntryCta'\nimport { FeedEntryMetaAction } from '../FeedEntryMetaAction'\nimport { FeedEntryBase } from './FeedEntryBase'\n\nexport const AnnouncementEntry: FeedEntryComponent = ({ entry }) => {\n    const t = useTranslate()\n\n    return (\n        <FeedEntryBase entry={entry}>\n            <Card>\n                <Content>\n                    <Inner>\n                        <FeedEntryMetaAction entry={entry}>\n                            <ImageWrap>\n                                <Image src={createFeedImageUrl(entry.image)} alt={entry.title} />\n                                {entry.action?.actionType === 'vimeo' && (\n                                    <VimeoButtonOverlay>\n                                        <PlayIcon />\n                                    </VimeoButtonOverlay>\n                                )}\n                            </ImageWrap>\n                        </FeedEntryMetaAction>\n                        <Stack>\n                            <div>\n                                <FeedEntryMetaAction entry={entry}>\n                                    <Text>\n                                        <strong>{t(entry.title as LocalisationKey)}</strong>\n                                    </Text>\n                                </FeedEntryMetaAction>\n                                <Text>{t(entry.body as LocalisationKey)}</Text>\n                            </div>\n                            <FeedEntryCta entry={entry} />\n                        </Stack>\n                    </Inner>\n                </Content>\n            </Card>\n        </FeedEntryBase>\n    )\n}\n\nconst VimeoButtonOverlay = styled.div`\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    pointer-events: none;\n    font-size: 2rem;\n    color: #fff;\n    background-color: rgba(0, 0, 0, 0.15);\n    svg {\n        transition: transform ${props => props.theme.transitions.duration.short}ms;\n        filter: drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.25));\n    }\n`\n\nconst Content = styled.div`\n    padding: ${props => props.theme.spacing(2, 4)};\n`\n\nconst ImageWrap = styled.div`\n    position: relative;\n    overflow: hidden;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    &:hover {\n        ${VimeoButtonOverlay} {\n            svg {\n                transform: scale(1.13);\n            }\n        }\n    }\n`\n\nconst Image = styled(Img)`\n    display: block;\n    width: 5rem;\n`\n\nconst Inner = styled.div`\n    display: grid;\n    grid-template-columns: auto 1fr;\n    align-items: center;\n    grid-gap: ${props => props.theme.spacing(4)};\n`\n","import { Card } from 'components/card'\nimport { Img } from 'components/Img'\nimport { Box, Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { FeedEntryComponent } from 'features/feed/types/feedTypes'\nimport { LocalisationKey } from 'lib/i18n'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { Trans } from 'react-i18next'\nimport styled from 'styled-components/macro'\nimport { FeedEntryCta } from '../FeedEntryCta'\nimport { FeedEntryBase } from './FeedEntryBase'\nimport { createFeedImageUrl } from 'features/feed/data/feedhelper'\nimport { FeedEntryMetaAction } from '../FeedEntryMetaAction'\nimport { PlayIcon } from 'components/icons'\nimport { TextBody } from 'components/layout/TextBody'\n\nexport const GeneralEntry: FeedEntryComponent = ({ entry }) => {\n    const t = useTranslate()\n\n    const isPinnedLongform = !!(entry.isPinned && entry.action?.actionType === 'longform' && entry.action.details)\n\n    return (\n        <FeedEntryBase entry={entry}>\n            <Card>\n                {entry.image && (\n                    <FeedEntryMetaAction entry={entry}>\n                        <ImageWrap hasAction={entry.action !== undefined}>\n                            <Image loading=\"lazy\" src={createFeedImageUrl(entry.image)} alt={entry.title} />\n                            {entry.action?.actionType === 'vimeo' && (\n                                <VideoOverlay>\n                                    <VideoIconWrap>\n                                        <PlayIcon />\n                                    </VideoIconWrap>\n                                </VideoOverlay>\n                            )}\n                        </ImageWrap>\n                    </FeedEntryMetaAction>\n                )}\n                <Inner>\n                    <Stack>\n                        <div>\n                            <FeedEntryMetaAction entry={entry}>\n                                <Text\n                                    style={{ fontWeight: isPinnedLongform ? 800 : undefined }}\n                                    variant={isPinnedLongform ? 'h2' : 'h3'}\n                                >\n                                    {t(entry.title as LocalisationKey)}\n                                </Text>\n                            </FeedEntryMetaAction>\n                            {isPinnedLongform ? (\n                                <Box mt={4}>\n                                    <TextBody dangerouslySetInnerHTML={{ __html: entry.action!.details! }} />\n                                </Box>\n                            ) : (\n                                <Body>\n                                    <Trans i18nKey={entry.body} />\n                                </Body>\n                            )}\n                        </div>\n                        {!isPinnedLongform && <FeedEntryCta entry={entry} />}\n                    </Stack>\n                </Inner>\n            </Card>\n        </FeedEntryBase>\n    )\n}\n\nconst Body = styled(Text)`\n    li::marker {\n        color: ${props => props.theme.palette.text.hint};\n    }\n`\n\nconst VideoIconWrap = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: ${props => props.theme.spacing(4)};\n    border: solid 3px #fff;\n    background-color: rgba(255, 255, 255, 0.23);\n    color: #fff;\n    border-radius: 50%;\n    filter: drop-shadow(0px 3px 3px rgba(0, 0, 0, 0.25));\n    transition: transform ${props => props.theme.transitions.duration.standard}ms;\n`\n\nconst VideoOverlay = styled.div`\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    pointer-events: none;\n    background-color: rgba(0, 0, 0, 0.2);\n    font-size: 3rem;\n`\n\nconst Inner = styled.div`\n    padding: ${props => props.theme.spacing(3, 4, 4, 4)};\n`\n\nconst Image = styled(Img)`\n    position: absolute;\n    display: block;\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n    transition: transform ${props => props.theme.transitions.duration.standard}ms;\n    background-color: ${props => props.theme.palette.divider};\n`\n\nconst ImageWrap = styled.div<{ hasAction: boolean }>`\n    position: relative;\n    height: 0;\n    padding-bottom: 33.33%;\n    overflow: hidden;\n    &:hover {\n        ${Image} {\n            transform: ${props => (props.hasAction ? 'scale(1.06) rotate(1deg)' : undefined)};\n        }\n        ${VideoIconWrap} {\n            transform: scale(1.13);\n        }\n    }\n`\n","import { ActionCardContent } from 'components/action-card'\nimport { Card } from 'components/card'\nimport { Img } from 'components/Img'\nimport { Text } from 'components/Text'\nimport { createFeedImageUrl } from 'features/feed/data/feedhelper'\nimport { FeedEntryComponent } from 'features/feed/types/feedTypes'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { actionablePaperStyles } from 'utils/styleUtils'\nimport { FeedEntryMetaAction } from '../FeedEntryMetaAction'\nimport { FeedEntryBase } from './FeedEntryBase'\n\nexport const MinorEntry: FeedEntryComponent = ({ entry }) => {\n    return (\n        <FeedEntryBase entry={entry}>\n            <FeedEntryMetaAction entry={entry}>\n                <StyledCard>\n                    <Inner>\n                        <Icon src={createFeedImageUrl(entry.image)} alt=\"\" />\n                        <Text>{entry.body}</Text>\n                    </Inner>\n                </StyledCard>\n            </FeedEntryMetaAction>\n        </FeedEntryBase>\n    )\n}\n\nconst StyledCard = styled(Card)`\n    ${actionablePaperStyles}\n`\n\nconst Icon = styled(Img)`\n    width: 1.75rem;\n    height: 1.75rem;\n    object-fit: cover;\n    border-radius: 5px;\n`\n\nconst Inner = styled(ActionCardContent)`\n    display: grid;\n    grid-template-columns: auto 1fr;\n    align-items: stretch;\n    grid-gap: ${props => props.theme.spacing(4)};\n    padding: ${props => props.theme.spacing(2)};\n`\n","import { Button } from 'components/Button'\nimport { Card } from 'components/card'\nimport { Confirm, ConfirmDialogContext } from 'components/Confirm'\nimport { DialogActions, DialogContent, DialogSecondaryButton } from 'components/dialog'\nimport { Box, Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { useHasShowAdvancedStats } from 'contexts/UserContext'\nimport { VoteTarget } from 'features/events/data/eventsApi'\nimport { useGetVoteCampaign, useSetVoteCountforCampaign } from 'features/feed/data/feedQueries'\nimport { FeedEntryComponent } from 'features/feed/types/feedTypes'\nimport { useNotifications } from 'features/notifications'\nimport { LocalisationKey } from 'lib/i18n'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { castVote } from 'lib/liveops/actions/inventory'\nimport { useSelector } from 'lib/store'\nimport { lighten } from 'polished'\nimport React from 'react'\nimport { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport styled from 'styled-components/macro'\nimport { FeedEntryBase } from './FeedEntryBase'\nimport { useIncrementActivityScore } from '../../../../hooks/useIncrementActivityScore'\n\nexport const VotingEntry: FeedEntryComponent = ({ entry }) => {\n    const { data: campaign } = useGetVoteCampaign(entry.campaignId)\n    const voteState = useSelector(state => state.client.vote)\n    const dispatch = useDispatch()\n    const incrementActivityScore = useIncrementActivityScore()\n    const t = useTranslate()\n    const inventory = useSelector(state => state.client.inventory)\n    const hasShowVoteResults = useHasShowAdvancedStats()\n    const { notify } = useNotifications()\n    const [isError, setIsError] = useState(false)\n\n    React.useEffect(() => {\n        if (!campaign || !campaign.targets) return\n        const voteTargetIds = campaign.targets.map((target: VoteTarget) => target.id)\n\n        if (voteState.phase === 'error' && voteState.target && voteTargetIds.includes(voteState.target)) {\n            setIsError(true)\n            notify(t('error::somethingWentWrong'), { variant: 'error' })\n        }\n    }, [voteState, notify, t, campaign])\n\n    if (!campaign || !campaign.targets) {\n        return null\n    }\n\n    const campaignId = entry.campaignId\n    if (!campaignId) return null\n\n    const targets = campaign.targets\n    const vote = async (id: string) => {\n        if (voteState.phase !== 'begin') {\n            dispatch(castVote(campaignId, id, 1, true))\n            incrementActivityScore('news-feed:voting:cast-vote')\n        }\n    }\n\n    const closedVotesIds = ['610bf5b697e145ca0d7dc730']\n\n    const allVotes = targets.reduce((prev, { voteCount }) => prev + (voteCount ?? 0), 0)\n\n    const voteTargetIds = targets.map(target => target.id)\n\n    const votes = inventory\n        ? inventory.filter(item => item.kind === 'vote' && voteTargetIds.includes(item.metadata.target))\n        : []\n\n    const isVoted = votes.length !== 0 && voteState.phase !== 'begin'\n\n    const isVoteInProgress = voteState.phase === 'begin' && voteTargetIds.includes(voteState.target ?? '')\n\n    const leftSideRate =\n        targets[0].voteCount === 0 && targets[1].voteCount === 0\n            ? 50\n            : Math.round(((targets[0].voteCount ?? 0) / allVotes) * 100)\n    const rightSideRate =\n        targets[0].voteCount === 0 && targets[1].voteCount === 0\n            ? 50\n            : Math.round(((targets[1].voteCount ?? 0) / allVotes) * 100)\n\n    if (!isVoted && closedVotesIds.includes(campaignId)) {\n        return null\n    }\n\n    return (\n        <FeedEntryBase entry={entry}>\n            <Card id={campaignId}>\n                <Box position=\"relative\">\n                    <Versus>{t('feed::voting::versus')}</Versus>\n                    <Grid>\n                        {targets.map(target => (\n                            <Target\n                                target={target}\n                                key={target.id}\n                                isVoted={isVoted}\n                                isVoteInProgress={isVoteInProgress}\n                                vote={() => vote(target.id)}\n                                champaignId={campaignId}\n                                isError={isError}\n                            />\n                        ))}\n                    </Grid>\n                    <Content $isVoted={isVoted}>\n                        {isVoted ? (\n                            <Stack>\n                                <Text variant=\"h3\">{t(entry.body as LocalisationKey)}</Text>\n                                {(campaign.hideVoteResults !== true) && <div>\n                                    <ResultText variant=\"body2\">{t('feed::voting::results')}:</ResultText>\n                                    <ProgessContainer>\n                                        {hasShowVoteResults && (\n                                            <>\n                                                <LeftCount>{targets[0].voteCount}</LeftCount>\n                                                <RightCount>{targets[1].voteCount}</RightCount>\n                                            </>\n                                        )}\n                                        <LeftSide style={{ width: `${leftSideRate}%` }}>\n                                            {leftSideRate >= 10 && <StyledText>{leftSideRate}%</StyledText>}\n                                        </LeftSide>\n                                        <RightSide style={{ width: `${rightSideRate}%` }}>\n                                            {rightSideRate >= 10 && <StyledText>{rightSideRate}%</StyledText>}\n                                        </RightSide>\n                                    </ProgessContainer>\n                                </div>}\n                                <Text variant=\"h3\">{t('feed::voting::voted')}</Text>\n                            </Stack>\n                        ) : (\n                            <Text variant=\"h3\">{t(entry.body as LocalisationKey)}</Text>\n                        )}\n                    </Content>\n                </Box>\n            </Card>\n        </FeedEntryBase>\n    )\n}\n\nconst LeftCount = styled.span`\n    position: absolute;\n    top: 0;\n    left: 0;\n    transform: translate(15px, 30%);\n    color: #fff;\n`\n\nconst RightCount = styled.span`\n    position: absolute;\n    right: 0;\n    top: 0;\n    transform: translate(-15px, 30%);\n    color: #fff;\n`\n\nconst Versus = styled.span`\n    position: absolute;\n    top: 10rem;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n    padding: ${props => props.theme.spacing(2, 4)};\n    background-color: ${props => props.theme.palette.background.paper};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    font-weight: 900;\n    font-size: 2rem;\n    color: ${props => props.theme.palette.primary.main};\n    z-index: 1;\n`\n\nconst ResultText = styled(Text)`\n    text-align: center;\n    opacity: 0.8;\n`\n\ninterface TargetProps {\n    target: VoteTarget\n    isVoted: boolean\n    isVoteInProgress: boolean\n    vote: () => void\n    champaignId: string\n    isError: boolean\n}\n\nconst Target: React.FC<TargetProps> = ({ target, isVoted, isVoteInProgress, vote, champaignId, isError }) => {\n    const voteState = useSelector(state => state.client.vote)\n    const inventory = useSelector(state => state.client.inventory)\n\n    const setVoteCount = useSetVoteCountforCampaign()\n    const t = useTranslate()\n\n    React.useEffect(() => {\n        if (voteState.phase === 'done' && voteState.target === target.id) {\n            setVoteCount(champaignId, target.id)\n        }\n    }, [champaignId, setVoteCount, target.id, voteState])\n\n    const isMyVote = !!inventory?.find(item => item.metadata?.target === target.id) && voteState.phase !== 'begin'\n\n    const btnTextFromDescription = (() => {\n        if (target.description) {\n            return t(target.description as LocalisationKey, { defaultValue: null }) ?? t('feed::voting::button')\n        }\n\n        return t('feed::voting::button')\n    })()\n\n    return (\n        <Root>\n            <ImageContainer>\n                <Image src={target.thumbnail} alt={target.name} $isMyVote={isMyVote} $isVoted={isVoted} />\n                {!isVoted && (\n                    <Confirm action={vote} dialog={ConfirmDialog} dialogProps={{ hideCloseButton: true }}>\n                        {confirm => (\n                            <StyledButton\n                                variant=\"outlined\"\n                                isLoading={isVoteInProgress}\n                                onClick={confirm}\n                                disabled={isError}\n                            >\n                                {btnTextFromDescription}\n                            </StyledButton>\n                        )}\n                    </Confirm>\n                )}\n            </ImageContainer>\n        </Root>\n    )\n}\n\nconst StyledButton = styled(Button)`\n    position: absolute;\n    bottom: 0;\n    left: 50%;\n    background-color: ${props => props.theme.palette.background.paper};\n    transform: translateX(-50%) translateY(50%);\n    box-shadow: ${props => props.theme.shadows[1]};\n\n    &:hover,\n    &:focus-visible {\n        background-color: ${props => props.theme.palette.background.paper};\n        box-shadow: ${props => props.theme.shadows[2]};\n    }\n`\n\nconst StyledText = styled(Text)`\n    z-index: 1;\n    position: relative;\n    color: ${props => props.theme.palette.primary.contrastText};\n    font-weight: 600;\n`\n\nconst ProgessContainer = styled.div`\n    width: 100%;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    position: relative;\n    overflow: hidden;\n    display: flex;\n    height: 2rem;\n`\n\nconst LeftSide = styled.div`\n    background: ${props => props.theme.palette.primary.main};\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`\n\nconst RightSide = styled.div`\n    height: 100%;\n    background-color: ${props => lighten(0.1, props.theme.palette.primary.light)};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`\n\nconst ImageContainer = styled.div`\n    height: 20rem;\n    width: 100%;\n    position: relative;\n`\n\nconst Image = styled.img<{ $isMyVote: boolean; $isVoted: boolean }>`\n    height: 100%;\n    width: 100%;\n    object-fit: cover;\n    ${props => props.$isVoted && `filter:grayscale(${props.$isMyVote ? 0 : 1})`};\n    transition: all ${props => props.theme.transitions.duration.short}ms;\n`\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n`\n\nconst Content = styled(Stack) <{ $isVoted: boolean }>`\n    padding: ${props => props.theme.spacing(props.$isVoted ? 4 : 8, 4, 4, 4)};\n`\n\nconst Root = styled.div`\n    &:first-of-type ${Image} {\n        border-right: 4px solid ${props => props.theme.palette.background.paper};\n    }\n    &:last-of-type ${Image} {\n        border-left: 4px solid ${props => props.theme.palette.background.paper};\n    }\n`\n\nexport const ConfirmDialog: React.FC<ConfirmDialogContext> = ({ positiveButtonProps, negativeButtonProps }) => {\n    const t = useTranslate()\n\n    return (\n        <>\n            <DialogContent>\n                <Text variant=\"h3\"> {t('feed::voting::warningmessage')}</Text>\n                <Text>{t('feed::voting::warningmessage02')}!</Text>\n            </DialogContent>\n            <DialogActions>\n                <DialogSecondaryButton {...negativeButtonProps}>{t('general::cancel')}</DialogSecondaryButton>\n                <Button variant=\"contained\" {...positiveButtonProps}>\n                    {t('general::vote')}\n                </Button>\n            </DialogActions>\n        </>\n    )\n}\n","import { api } from 'lib/api'\nimport { useQuery, useQueryCache } from 'react-query'\nimport { useCallback } from 'react'\nimport { VoteTarget } from 'features/events/data/eventsApi'\n\nexport function useGetVoteCampaign(id?: string) {\n    return useQuery(['vote-campaigns', id], () => api.feed.getVoteCampaign(id!), {\n        enabled: !!id,\n    })\n}\n\nexport function useVoteTargetsInvalidation() {\n    const queryCache = useQueryCache()\n\n    const invalidate = useCallback(\n        (id: string) => {\n            queryCache.invalidateQueries(['vote-targets', id])\n        },\n        [queryCache],\n    )\n\n    return invalidate\n}\n\nexport function useSetVoteCountforCampaign() {\n    const queryCache = useQueryCache()\n\n    const setVoteCount = useCallback(\n        (champaignId: string, targetId) => {\n            queryCache.setQueryData<VoteTarget[]>(['vote-targets', champaignId], data => {\n                if (!data) return []\n\n                return data.map(vote =>\n                    vote.id === targetId ? { ...vote, voteCount: (vote.voteCount ?? 0) + 1 } : vote,\n                )\n            })\n        },\n        [queryCache],\n    )\n\n    return setVoteCount\n}\n\n/* export function useGetFeedEntries() {\n    return useQuery('news-feed', () => api.feed.getFeedEntries())\n} */\n","import { Card, CardContent } from 'components/card'\nimport { FollowIcon, ViewIcon } from 'components/icons'\nimport { Stat } from 'components/stat'\nimport { currencyStyles } from 'features/projects/currencyStyles'\nimport { PoorMansSuspenseTicker, usePoorMansSuspenseTick } from 'hooks/usePoorMansSuspense'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useSelector } from 'lib/store'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { FeedEntryCaption } from './FeedEntryCaption'\n\ninterface WelcomeStatsProps extends PoorMansSuspenseTicker {}\n\nexport const WelcomeStats: React.FC<WelcomeStatsProps> = ({ onReady }) => {\n    const stats = useSelector(state => state.client.notifications.welcomeStats)\n    const t = useTranslate()\n\n    usePoorMansSuspenseTick(stats !== null, onReady)\n\n    if (!stats || [stats.cookies, stats.views, stats.goldenCookies, stats.follows].every(stat => !stat || stat <= 0)) {\n        return null\n    }\n\n    const createStatValue = (value: number | undefined) => (value && value > 0 ? `+${value}` : undefined)\n\n    return (\n        <div>\n            <FeedEntryCaption>{t('feed::welcomeStats::label')}</FeedEntryCaption>\n            <Card>\n                <CardContent>\n                    <Grid>\n                        <Stat\n                            title={t('profile::receivedCookies')}\n                            backgroundColor={currencyStyles.cookie.colors.background.light}\n                            value={createStatValue((stats.goldenCookies ?? 0) + (stats.cookies ?? 0))}\n                            icon={<CookieImage src={currencyStyles.cookiesIcon} />}\n                        />\n                        <Stat\n                            title={t('profile::projectViews')}\n                            color=\"#2cc51e\"\n                            value={createStatValue(stats.views)}\n                            icon={<ViewIcon fontSize=\"1.5em\" />}\n                        />\n                        <Stat\n                            title={t('profile::followers')}\n                            color=\"#2d2add\"\n                            value={createStatValue(stats.follows)}\n                            icon={<FollowIcon fontSize=\"1.5em\" />}\n                        />\n                    </Grid>\n                </CardContent>\n            </Card>\n        </div>\n    )\n}\n\nconst CookieImage = styled.img`\n    width: 1.5em;\n`\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-gap: ${props => props.theme.spacing(2)};\n`\n","import { Button } from 'components/Button'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { FloatingBadge } from 'components/FloatingBadge'\nimport { SelectBox, SelectBoxItem } from 'components/form'\nimport { CommunityIcon, TrainerIcon } from 'components/icons'\nimport { Box, Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { useUserState } from 'contexts/UserContext'\nimport { CookieHunt } from 'features/cookie-hunt'\nimport { PoorMansSuspenseTicker, usePoorMansSuspenseTick } from 'hooks/usePoorMansSuspense'\nimport { useHasGrant } from 'lib/grants'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useSelector } from 'lib/store'\nimport React, { useEffect } from 'react'\nimport styled from 'styled-components/macro'\nimport { StringParam, useQueryParam, withDefault } from 'use-query-params'\nimport { getUnreadFeedEntryCountByType } from '../store/feedSelectors'\nimport { FeedType } from '../types/feedTypes'\nimport { useFeed } from '../useFeed'\nimport { AnnouncementEntry } from './entries/AnnouncementEntry'\nimport { GeneralEntry } from './entries/GeneralEntry'\nimport { MinorEntry } from './entries/MinorEntry'\nimport { VotingEntry } from './entries/VotingEntry'\nimport { WelcomeStats } from './WelcomeStats'\nimport { useDispatch } from 'react-redux'\nimport { useUserActions } from 'contexts/UserContext'\nimport * as actions from '../store/feedActions'\nimport dayjs from 'dayjs'\nimport { IconType } from 'react-icons/lib'\nimport { useColumnWidth } from 'lib/store/pageReducer'\n\ninterface FeedListProps extends PoorMansSuspenseTicker {}\n\nexport const FeedList: React.FC<FeedListProps> = ({ onReady }) => {\n    const t = useTranslate()\n    const hasGrant = useHasGrant()\n    const unreadCommunityCount = useSelector(state => getUnreadFeedEntryCountByType(state, 'community'))\n    const unreadTrainerCount = useSelector(state => getUnreadFeedEntryCountByType(state, 'trainer'))\n    const hasTrainerNewsGrant = hasGrant({ product: 'edup.trainer-portal', feature: 'news' })\n    const defaultFeedType: FeedType = hasTrainerNewsGrant ? 'trainer' : 'community'\n    const [feedType, setFeedType] = useQueryParam('view', withDefault(StringParam, defaultFeedType))\n    const maxWidth = useColumnWidth()\n\n    return (\n        <Stack maxWidth={maxWidth} marginLeft=\"auto\" marginRight=\"auto\">\n            {hasTrainerNewsGrant && (\n                <SelectBox\n                    value={feedType}\n                    onChange={value => {\n                        setFeedType(value as FeedType, 'replaceIn')\n                    }}\n                >\n                    <FeedSelectBoxItem unreadCount={unreadCommunityCount} value=\"community\" Icon={CommunityIcon}>\n                        {t('news::community')}\n                    </FeedSelectBoxItem>\n                    <FeedSelectBoxItem unreadCount={unreadTrainerCount} value=\"trainer\" Icon={TrainerIcon}>\n                        {t('news::trainer')}\n                    </FeedSelectBoxItem>\n                </SelectBox>\n            )}\n            {feedType === 'community' && <FeedListTab feedType={feedType} onReady={onReady} />}\n            {hasTrainerNewsGrant && feedType === 'trainer' && <FeedListTab feedType={feedType} onReady={onReady} />}\n        </Stack>\n    )\n}\n\ninterface FeedSelectBoxItemProps {\n    unreadCount: number\n    Icon: IconType\n    value: string\n}\n\nconst FeedSelectBoxItem: React.FC<FeedSelectBoxItemProps> = ({ unreadCount, Icon, value, children }) => {\n    return (\n        <StyledFloatingBadge title={unreadCount} active={unreadCount > 0}>\n            <SelectBoxItem direction=\"row\" fullWidth icon={<Icon fontSize=\"1.75rem\" />} value={value}>\n                {children}\n            </SelectBoxItem>\n        </StyledFloatingBadge>\n    )\n}\n\ninterface FeedListItemProps extends PoorMansSuspenseTicker {\n    feedType: FeedType\n}\n\nconst FeedListTab: React.FC<FeedListItemProps> = ({ feedType, onReady }) => {\n    const t = useTranslate()\n    const feedState = useSelector(state => state.feed)\n    const { loadNextFeedPage } = useFeed()\n    const [isLoading, setIsLoading] = React.useState(false)\n    const user = useUserState()\n    usePoorMansSuspenseTick(feedType === 'trainer', onReady)\n\n    const dispatch = useDispatch()\n    const { updateJSONUserSetting } = useUserActions()\n    useEffect(() => {\n        return () => {\n            try {\n                updateJSONUserSetting(\n                    'mylogiscool-newsfeed',\n                    feedType === 'community' ? 'lastReadAt' : 'trainerLastReadAt',\n                    dayjs().toISOString(),\n                )\n                dispatch(actions.markAllRead(feedType))\n            } catch (e) {\n                console.error(e)\n            }\n        }\n    }, [dispatch, updateJSONUserSetting, feedType])\n\n    const loadMore = async () => {\n        if (!isLoading) {\n            setIsLoading(true)\n            await loadNextFeedPage(user, feedType)\n            setIsLoading(false)\n        }\n    }\n\n    return (\n        <Stack spacing={5}>\n            {feedType === 'community' && (\n                <ErrorBoundary silent>\n                    <WelcomeStats onReady={onReady} />\n                </ErrorBoundary>\n            )}\n            {feedState[feedType].entries.map((entry, i) => {\n                const item = (() => {\n                    switch (entry.entryType) {\n                        case 'general':\n                            return <GeneralEntry entry={entry} />\n                        case 'announcement':\n                            return <AnnouncementEntry entry={entry} />\n                        case 'minor':\n                            return <MinorEntry entry={entry} />\n                        case 'voting':\n                            return <VotingEntry entry={entry} />\n                        default:\n                            return null\n                    }\n                })()\n\n                return (\n                    <CookieHunt key={i} name=\"feed\" index={i}>\n                        {item}\n                    </CookieHunt>\n                )\n            })}\n            {feedState[feedType].hasMore ? (\n                <Box textAlign=\"center\">\n                    <Button variant=\"outlined\" onClick={loadMore} isLoading={isLoading}>\n                        {t('general::loadMore')}\n                    </Button>\n                </Box>\n            ) : (\n                <Text style={{ textAlign: 'center' }}>{t('feed::noMoreEntries')}</Text>\n            )}\n        </Stack>\n    )\n}\n\nconst StyledFloatingBadge = styled(FloatingBadge)`\n    display: flex;\n    flex: 1;\n`\n","import React, { useCallback, useMemo, useState } from 'react'\nimport { ActivityEventContextProvider } from './ActivityEventContextProvider'\nimport { ActivityEventWeeklyMissions } from './ActivityEventWeeklyMissions'\nimport { PoorMansSuspenseTicker, usePoorMansSuspenseTick } from 'hooks/usePoorMansSuspense'\nimport { Skeleton } from 'components/Skeleton'\nimport styled from 'styled-components/macro'\nimport { useEventsData } from '../../useEventsData'\n\ninterface ActivityEventFeedWeeklyMissionProps extends PoorMansSuspenseTicker {}\n\nexport const ActivityEventFeedWeeklyMission: React.FC<ActivityEventFeedWeeklyMissionProps> = ({ onReady }) => {\n    const events = useEventsData()\n    const [isProviderReady, setIsProviderReady] = useState(false)\n\n    usePoorMansSuspenseTick(isProviderReady, onReady)\n\n    const event = useMemo(() => {\n        return events?.activityEvents.find(event => event.group === 'digital-mission-2024')\n    }, [events])\n\n    const onProviderReady = useCallback(() => {\n        setIsProviderReady(true)\n    }, [])\n\n    if (!events) {\n        return <Loader />\n    }\n\n    if (!event) {\n        // fulfill the suspense if there are no events to show\n        if (!isProviderReady) onProviderReady()\n        return null\n    }\n\n    return (\n        <ActivityEventContextProvider\n            fallback={<Loader />}\n            event={event}\n            allActivityEvents={events.activityEvents}\n            onReady={onProviderReady}\n        >\n            <ActivityEventWeeklyMissions event={event} variant=\"feed\" />\n        </ActivityEventContextProvider>\n    )\n}\n\nconst Loader: React.FC = () => {\n    return <StyledSkeleton variant=\"rect\" />\n}\n\nconst StyledSkeleton = styled(Skeleton)`\n    height: 300px;\n`\n","import { Flex, Stack } from 'components/layout'\nimport React, { useEffect } from 'react'\n\nimport { PoorMansSuspenseRenderer, usePoorMansSuspense } from 'hooks/usePoorMansSuspense'\nimport { Loader } from 'components/Loader'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { MeetingList } from 'features/meetings'\nimport { SurveyList } from 'features/surveys'\nimport { FeedList } from './FeedList'\nimport { QueryParamProvider } from 'use-query-params'\nimport { Route } from 'react-router-dom'\nimport { ActivityEventFeedWeeklyMission } from 'features/events/activity-events/components/ActivityEventFeedWeeklyMission'\nimport { UpcomingLessons } from '../../classroom'\n\nexport const Feed: React.FC = () => {\n    const { tick, isReady } = usePoorMansSuspense(5)\n    \n    useEffect(() => {\n        const hash = window.location.hash\n        if (isReady && hash) {\n            const id = hash.replace('#', '')\n            const element = document.getElementById(id)\n            if (element) element.scrollIntoView({ behavior: 'smooth' })\n        }\n    }, [isReady])\n\n    return (\n        <PoorMansSuspenseRenderer\n            loader={\n                <Flex justify=\"center\">\n                    <Loader />\n                </Flex>\n            }\n            isReady={isReady}\n        >\n            <Stack spacing={8}>\n                <Stack spacing={5}>\n                    <ErrorBoundary silent>\n                        <UpcomingLessons feed onReady={tick} />\n                    </ErrorBoundary>\n                    <ErrorBoundary silent>\n                        <ActivityEventFeedWeeklyMission onReady={tick} />\n                    </ErrorBoundary>\n                    <ErrorBoundary silent>\n                        <SurveyList onReady={tick} />\n                    </ErrorBoundary>\n                    <ErrorBoundary silent>\n                        <MeetingList onReady={tick} />\n                    </ErrorBoundary>\n                    <ErrorBoundary silent>\n                        <QueryParamProvider ReactRouterRoute={Route}>\n                            <FeedList onReady={tick} />\n                        </QueryParamProvider>\n                    </ErrorBoundary>\n                </Stack>\n            </Stack>\n        </PoorMansSuspenseRenderer>\n    )\n}\n","import produce from 'immer'\nimport { Reducer } from 'redux'\nimport { FeedEntryWithMetada, FeedType } from '../types/feedTypes'\nimport { loadFeedPage, markAllRead } from './feedActions'\nimport { LOAD_FEED_PAGE, MARK_ALL_READ } from './feedActionTypes'\n\ninterface FeedTypeState {\n    entries: FeedEntryWithMetada[]\n    hasMore: boolean\n    nextSkip: number\n}\n\ntype FeedState = Record<FeedType, FeedTypeState>\n\ntype FeedAction = ReturnType<typeof loadFeedPage> | ReturnType<typeof markAllRead>\n\nexport const feedReducer: Reducer<FeedState, FeedAction> = (\n    state = {\n        community: { entries: [], hasMore: false, nextSkip: 0 },\n        trainer: { entries: [], hasMore: false, nextSkip: 0 },\n    },\n    action,\n) => {\n    if (action.type === LOAD_FEED_PAGE) {\n        return produce(state, draft => {\n            draft[action.payload.feedType].entries.push(...action.payload.data.entries)\n            draft[action.payload.feedType].hasMore = action.payload.data.hasMore\n            draft[action.payload.feedType].nextSkip = action.payload.data.nextSkip\n        })\n    }\n\n    if (action.type === MARK_ALL_READ) {\n        return produce(state, draft => {\n            draft[action.payload.feedType].entries.forEach(entry => {\n                entry.metadata.unread = false\n            })\n        })\n    }\n\n    return state\n}\n","import dayjs from 'dayjs'\nimport {\n    ActivityEvent,\n    ActivityEventMilestoneTrigger,\n    NormalizedActivityEvent,\n    NormalizedActivityEventMilestone,\n    NormalizedActivityEventSubEvent,\n    NormalizedActivityEventTask,\n} from '../types/activityEventTypes'\nimport { getTotalStatGroupForActivityEvent } from './activityEventHelpers'\n\nexport const normalizeActivityEvent = (event: ActivityEvent): NormalizedActivityEvent => {\n    return {\n        ...event,\n        startDate: dayjs(event.startDate),\n        endDate: dayjs(event.endDate),\n        subEvents: normalizeSubEvents(event),\n        tasks: normalizeTasks(event),\n        milestones: normalizeMilestones(event),\n        subEventLayout: event.subEventLayout ?? 'normal',\n    }\n}\n\nconst normalizeTasks = (event: ActivityEvent): NormalizedActivityEventTask[] => {\n    const result: NormalizedActivityEventTask[] = []\n    const processedGroups = new Set<string>()\n\n    for (const task of event.tasks) {\n        if (task.group) {\n            if (processedGroups.has(task.group)) {\n                continue\n            }\n            const sameGroupTasks = event.tasks\n                .filter(t => t.group === task.group)\n                .sort((a, b) => {\n                    if (a.groupIndex === undefined || b.groupIndex === undefined) {\n                        return 0\n                    }\n                    return a.groupIndex > b.groupIndex ? 1 : -1\n                })\n            result.push({\n                ...task,\n                group: task.group || '',\n                variants: sameGroupTasks.map(task => ({\n                    activityStat: task.activityStat,\n                    point: task.point,\n                    label: task.nameKey,\n                })),\n            })\n            processedGroups.add(task.group)\n        } else {\n            result.push({\n                ...task,\n                group: '',\n                variants: [{ activityStat: task.activityStat, point: task.point, label: task.nameKey }],\n            })\n        }\n    }\n\n    return result\n}\n\nconst normalizeSubEvents = (event: ActivityEvent): NormalizedActivityEventSubEvent[] => {\n    return event.subEvents\n        .map(subEvent => {\n            const scoreStatGroup =\n                subEvent.startDate || subEvent.endDate\n                    ? `${getTotalStatGroupForActivityEvent(event.slug)}/${subEvent.key}`\n                    : getTotalStatGroupForActivityEvent(event.slug)\n            return {\n                ...subEvent,\n                startDate: subEvent.startDate ? dayjs(subEvent.startDate) : dayjs(event.startDate),\n                endDate: subEvent.endDate ? dayjs(subEvent.endDate) : dayjs(event.endDate),\n                scoreStatGroup,\n            }\n        })\n        .sort((a, b) => {\n            if (a.endDate.isBefore(dayjs()) || a.startDate.isAfter(dayjs())) {\n                return 1\n            }\n            if (b.endDate.isBefore(dayjs()) || b.startDate.isAfter(dayjs())) {\n                return -1\n            }\n            if (a.order === undefined || b.order === undefined || a.order === b.order) {\n                return 0\n            }\n            return a.order > b.order ? 1 : -1\n        })\n}\n\nconst normalizeMilestones = (event: ActivityEvent): NormalizedActivityEventMilestone[] => {\n    return event.milestones.map(milestone => ({\n        ...milestone,\n        tooltip: milestone.trigger ? milestoneTooltipKeyByTriggerAction[milestone.trigger.action] : undefined,\n        link: milestone.trigger ? milestoneLinkKeyByTriggerAction[milestone.trigger.action] : undefined,\n        titleKey:\n            milestone.titleKey || (milestone.trigger ? milestoneTitleKeyByTriggerAction[milestone.trigger.action] : ''),\n    }))\n}\n\nconst milestoneTooltipKeyByTriggerAction: Record<ActivityEventMilestoneTrigger['action'], string> = {\n    UNLOCK_PROFILE_PICTURE: 'profilepicture::tooltip::CollectNewbieMissionPoints',\n}\n\nconst milestoneTitleKeyByTriggerAction: Record<ActivityEventMilestoneTrigger['action'], string> = {\n    UNLOCK_PROFILE_PICTURE: 'settings::profilPicture',\n}\n\nconst milestoneLinkKeyByTriggerAction: Record<ActivityEventMilestoneTrigger['action'], string> = {\n    UNLOCK_PROFILE_PICTURE: '/app/settings/profile#avatar-browser',\n}\n","import { requestStats, StatisticName } from 'lib/liveops'\nimport { useSelector } from 'lib/store'\nimport { useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { NormalizedActivityEvent, NormalizedActivityEventSubEvent } from '../types/activityEventTypes'\nimport { getTotalStatGroupForActivityEvent } from './activityEventHelpers'\nimport { storeActionListener } from 'lib/store/store-action-listener'\nimport { PRESENT } from 'redux-socket-client'\n\nconst STAT = '@TOTAL'\n\nconst subscribed = new Set<string>()\n\nexport const useSubscribeToActivityEventPoints = (event: NormalizedActivityEvent, fakePoints: number|null) => {\n    const dispatch = useDispatch()\n    const total = useSelector(\n        state =>\n            state.client.statistics[\n                `${getTotalStatGroupForActivityEvent(event.slug)}:${STAT}` as unknown as StatisticName\n            ],\n    )\n    const ready = useSelector(state => state.client.ready.app)\n    const subEventPoints = useSelector(state =>\n        event.subEvents.reduce<Record<string, number | undefined>>((obj, subEvent) => {\n            obj[subEvent.key] =\n                state.client.statistics[`${subEvent.scoreStatGroup}:${STAT}` as unknown as StatisticName]\n            return obj\n        }, {}),\n    )\n\n    useEffect(() => {\n        // handle reconnects\n        if (ready) {\n            const handlePresent = () => {\n                subscribed.clear()\n            }\n            storeActionListener.on(PRESENT, handlePresent)\n            return () => {\n                storeActionListener.removeListener(PRESENT, handlePresent)\n            }\n        }\n    }, [ready])\n\n    useEffect(() => {\n        if (ready && !subscribed.has(event.slug)) {\n            const subEventGroups = event.subEvents.map(subEvent => subEvent.scoreStatGroup)\n            const uniqueGroups = Array.from(new Set([getTotalStatGroupForActivityEvent(event.slug), ...subEventGroups]))\n            dispatch(requestStats(uniqueGroups.map(group => ({ group, stat: STAT }))))\n            subscribed.add(event.slug)\n        }\n    }, [dispatch, event, ready])\n\n    const getSubEventPoint = useCallback(\n        (subEvent: NormalizedActivityEventSubEvent) => {\n            if(typeof fakePoints === 'number') {\n                return Math.min(subEvent.requiredPoints, fakePoints)\n            }\n\n            const points = subEventPoints[subEvent.key]\n            if (points === undefined) {\n                return points\n            }\n            return Math.min(subEvent.requiredPoints, points)\n        },\n        [subEventPoints, fakePoints],\n    )\n\n    return {\n        total: typeof fakePoints === 'number' ? fakePoints : total,\n        getSubEventPoint\n    }\n}\n","import {useWaitForEnd} from 'hooks/useCountdown'\nimport { isInventoryReady } from 'lib/liveops'\nimport { useSelector } from 'lib/store'\nimport React, {useEffect, useMemo} from 'react'\nimport {activityEventContext, FakeDateInfo} from '../helpers/activityEventContext'\nimport { normalizeActivityEvent } from '../helpers/normalizeActivityEvent'\nimport { useSubscribeToActivityEventPoints } from '../helpers/useSubscribeToActivityEventPoints'\nimport { ActivityEvent } from '../types/activityEventTypes'\nimport {useManagementVariable} from \"../../../management\";\n\ninterface ActivityEventContextProviderProps {\n    event: ActivityEvent\n    allActivityEvents: ActivityEvent[]\n    fallback: React.ReactNode\n    onReady?: VoidFunction\n}\n\nexport const ActivityEventContextProvider: React.FC<ActivityEventContextProviderProps> = ({\n    event,\n    allActivityEvents,\n    children,\n    fallback,\n    onReady,\n}) => {\n    const [ fakeDate, setFakeDate ] = useManagementVariable<FakeDateInfo|null>(`${event.group}-fakeDate`)\n    const [ fakePoints, setFakePoints ] = useManagementVariable<number|null>(`${event.group}-fakePoints`)\n    const normalizedEvent = useMemo(() => normalizeActivityEvent(event), [event])\n    const points = useSubscribeToActivityEventPoints(normalizedEvent, fakePoints)\n    const isEnd = useWaitForEnd(normalizedEvent.endDate)\n    const inventoryReady = useSelector(isInventoryReady)\n    const pointsReady = points.total !== undefined\n    const certificateInventoryItem = useSelector(state =>\n        state.client.inventory?.find(item => item.item === event.certificate?.catalogItem),\n    )\n    const hideSubEventRibbons = normalizedEvent.subEvents.every(subEvent => subEvent.kind === 'guaranteed')\n    const relatedEvents = React.useMemo(() => event.group\n        ? allActivityEvents\n              .filter(e => e.group === event.group)\n        : [], [event.group, allActivityEvents]);\n    const relatedEventSlugs = React.useMemo(() => event.group\n        ? allActivityEvents\n              .filter(e => e.group === event.group)\n              .map(event => event.slug)\n              .sort((a, b) => a.localeCompare(b))\n        : [], [ event.group, allActivityEvents ]);\n\n    useEffect(() => {\n        if (onReady && pointsReady && inventoryReady) {\n            onReady()\n        }\n    }, [onReady, pointsReady, inventoryReady])\n\n    if (!pointsReady || !inventoryReady) {\n        return <>{fallback}</>\n    }\n\n    return (\n        <activityEventContext.Provider\n            value={{\n                event: normalizedEvent,\n                rawEvent: event,\n                relatedEvents,\n                points,\n                hasEnded: fakeDate ? false : isEnd,\n                certificateInventoryItem,\n                hideSubEventRibbons,\n                relatedEventSlugs,\n                fakeDate,\n                setFakeDate,\n                currentFakeDate: fakeDate?.[1],\n                fakePoints,\n                setFakePoints\n            }}\n        >\n            {children}\n        </activityEventContext.Provider>\n    )\n}\n","import { useQuery } from 'react-query'\nimport { api } from '../../lib/api'\nimport dayjs, { Dayjs } from 'dayjs'\nimport { Attendances, LessonAndTimesheet, Timesheet } from './types/groupTypes'\n\nexport const useTermsDateQuery = () => {\n    return useQuery(\n        ['terms-date'],\n        () => {\n            return api.groups.getTermsDate()\n        },\n        { enabled: true, staleTime: Infinity },\n    )\n}\n\nexport const useCalendarQuery = (startDate: dayjs.Dayjs, endDate: dayjs.Dayjs) => {\n    const start = startDate.format('YYYY-MM-DD')\n    const end = endDate.format('YYYY-MM-DD')\n    return useQuery(\n        ['crm-calendar', start, end],\n        () => {\n            return api.groups.getCalendar(startDate, endDate)\n        },\n        { enabled: true, staleTime: Infinity },\n    )\n}\n\nexport const useGroupsQuery = () => {\n    return useQuery(\n        ['crm-groups'],\n        () => {\n            return api.groups.getGroups()\n        },\n        { enabled: true, staleTime: Infinity },\n    )\n}\n\nexport const useCurriculumQuery = (publishedOnly: boolean) => {\n    return useQuery(\n        ['curriculum'],\n        () => {\n            return api.groups.getCurriculum(publishedOnly)\n        },\n        { enabled: true, staleTime: Infinity },\n    )\n}\n\nexport const useCourseTypeQuery = (id: string, publishedOnly: boolean) => {\n    return useQuery(\n        ['course-type', id],\n        () => {\n            if (!id) {\n                return Promise.resolve({\n                    id: '',\n                    name: '',\n                    summary: '',\n                    description: '',\n                    subject: '',\n                    lessons: [],\n                    tutorials: [],\n                    language: '',\n                    version: 0,\n                    chatRoom: '',\n                })\n            }\n            return api.groups.getCourseType(id, publishedOnly)\n        },\n        { enabled: true, staleTime: Infinity },\n    )\n}\n\nexport const useLessonQuery = (courseTypeId: string, id: string, useCache: boolean) => {\n    return useQuery(\n        ['lesson', courseTypeId, id],\n        () => {\n            if (!courseTypeId || !id) {\n                return Promise.resolve({} as LessonAndTimesheet)\n            }\n            return api.groups.getLesson(courseTypeId, id, useCache)\n        },\n        { enabled: true, staleTime: useCache ? Infinity : 0 },\n    )\n}\n\nexport const useTimesheetQuery = (id: string) => {\n    return useQuery(\n        ['timesheet', id],\n        () => {\n            if (!id) {\n                return Promise.resolve({} as Timesheet)\n            }\n            return api.groups.getTimesheet(id)\n        },\n        { enabled: true, staleTime: 0, cacheTime: 0 },\n    )\n}\n\nexport const useAttendanceQuery = (groupId?: string, sessionId?: string, startTime?: Dayjs) => {\n    return useQuery(\n        ['attendance', groupId, sessionId],\n        () => {\n            if (!sessionId) {\n                return Promise.resolve({} as Attendances)\n            }\n            if (groupId === 'undefined') groupId = undefined\n            const timestamp = api.groups.getTimestampString(startTime)\n            return api.groups.getAttendance(sessionId, timestamp, groupId)\n        },\n        { enabled: true, staleTime: 120000, refetchInterval: 120000 },\n    )\n}\n\nexport const useVimeoThumbnailQuery = (url: string) => {\n    return useQuery(\n        ['vimeo-oembed', url],\n        async () => {\n            let video\n            try {\n                const response = await fetch(`https://vimeo.com/api/oembed.json?url=${url}`)\n                video = await response.json()\n            } catch (e) {\n                video = {}\n            }\n            return video?.thumbnail_url_with_play_button || ''\n        },\n        { enabled: true, staleTime: Infinity },\n    )\n}\n","import { api } from 'lib/api'\nimport { useMemo } from 'react'\nimport { useInfiniteQuery, useQuery, useQueryCache } from 'react-query'\n\nexport function useLatestClassroomQuizResultsQuery() {\n    return useQuery(['latest-classroom-quiz-result'], () => api.quizzes.getLatestClassroomQuizResult(), {\n        staleTime: 60 * 1000 * 5,\n    })\n}\n\nexport function useQuizResultsQuery() {\n    return useInfiniteQuery(\n        'classrom-quiz-results',\n        (_, skip: number = 0) => api.quizzes.getClassroomQuizResults(skip as number),\n        {\n            getFetchMore: lastGroup => lastGroup.hasLeft,\n        },\n    )\n}\n\nexport function useGetFinishedTemplatesStats(quizSetId: string, enabled: boolean) {\n    return useQuery(quizSetId, () => api.quizzes.getFinishedTemplates(quizSetId), {\n        staleTime: 60 * 1000 * 5,\n        enabled,\n    })\n}\n\nexport const useInvalidateClassroomQuizResults = () => {\n    const queryCache = useQueryCache()\n\n    return useMemo(\n        () => ({\n            invalidateClassroomQuizResults: () => {\n                queryCache.invalidateQueries('latest-classroom-quiz-result')\n                queryCache.invalidateQueries('classrom-quiz-results')\n            },\n        }),\n        [queryCache],\n    )\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface LeaderboardProps {}\n\nexport const Leaderboard: React.FC<LeaderboardProps> = ({ children }) => {\n    return <Root>{children}</Root>\n}\n\nconst Root = styled.ol`\n    padding: ${props => props.theme.spacing(0, 3)};\n    margin-left: 0;\n    margin-right: 0;\n`\n","import { Inline } from 'components/layout'\nimport { Avatar } from 'features/avatar'\nimport { lighten } from 'polished'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled, { css } from 'styled-components/macro'\n\ninterface LeaderboardItemProps {\n    place: number\n    icon?: React.ReactNode\n    score: number\n    highlighted?: boolean\n    to: string\n    avatarSrc?: string\n    label: React.ReactNode\n}\n\nexport const LeaderboardItem: React.FC<LeaderboardItemProps> = ({\n    place,\n    score,\n    highlighted,\n    to,\n    avatarSrc,\n    label,\n    icon,\n}) => {\n    return (\n        <Root $highlighted={highlighted} $hasIcon={icon !== undefined}>\n            <IconWrap spacing={2}>\n                {icon}\n                <span>{place}. </span>\n            </IconWrap>\n            <StyledLink to={to}>\n                <Avatar src={avatarSrc} size=\"tiny\" />\n                <Name>{label}</Name>\n            </StyledLink>\n            <Score>{score}</Score>\n        </Root>\n    )\n}\n\nconst IconWrap = styled(Inline)`\n    display: flex;\n    align-items: center;\n    > svg {\n        flex-shrink: 0;\n    }\n`\n\nconst StyledLink = styled(Link)`\n    display: grid;\n    grid-template-columns: auto 1fr;\n    grid-gap: ${props => props.theme.spacing(4)};\n    align-items: center;\n    color: inherit;\n    text-decoration: none;\n    &:hover,\n    &:focus-visible {\n        text-decoration: underline;\n    }\n`\n\nconst Name = styled.span`\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n`\n\nconst Score = styled.span`\n    font-family: monospace;\n    font-size: ${props => props.theme.typography.h6.fontSize};\n    font-weight: 600;\n    text-align: right;\n`\n\nconst highlightedStyles = css`\n    padding: ${props => props.theme.spacing(2, 3)};\n    margin-left: -${props => props.theme.spacing(3)};\n    margin-right: -${props => props.theme.spacing(3)};\n    background-color: ${props => lighten(0.05, props.theme.palette.background.paper)};\n    box-shadow: ${props => props.theme.shadows[3]};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    position: relative;\n    top: -1px;\n    font-weight: 800;\n`\n\nconst Root = styled.li<{ $highlighted?: boolean; $hasIcon: boolean }>`\n    display: grid;\n    grid-template-columns: minmax(${props => (props.$hasIcon ? '2.6rem' : '1.5rem')}, auto) auto 1fr;\n    grid-gap: ${props => props.theme.spacing(2)};\n    justify-content: space-between;\n    align-items: center;\n    padding: ${props => props.theme.spacing(2, 0)};\n    ${props => props.$highlighted && highlightedStyles}\n    &:not(:last-of-type) {\n        border-bottom: solid 1px ${props => props.theme.palette.divider};\n    }\n`\n","import { Flex, Stack } from 'components/layout'\nimport { Leaderboard, LeaderboardItem } from 'components/leaderboard'\nimport { Loader } from 'components/Loader'\nimport { Tab, Tabs } from 'components/tabs'\nimport { getUserPrivateName, getUserPublicName, useHasShowAdvancedStats, useUserState } from 'contexts/UserContext'\nimport { createAvatarUrl } from 'features/avatar'\nimport {\n    disableAllLeaderboardsForProject,\n    enableProjectLeaderboard,\n    getScoreList,\n    isLiveopsReady,\n    requestScoreList,\n} from 'lib/liveops'\nimport { useSelector } from 'lib/store'\nimport React, { useEffect, useState, useMemo } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { EmptyState } from 'components/EmptyState'\nimport { TypedTFunction, useTranslate } from 'lib/i18n/useTranslate'\nimport { UserBadge } from 'features/profile'\nimport styled from 'styled-components/macro'\nimport { FetchedLeaderboard, LeaderboardRank } from '../../lib/liveops/models'\nimport { LocalisationKey } from 'lib/i18n'\nimport { Select, Option } from 'components/form'\nimport { HighScoreGame, highScoreGames } from './highScoreGames'\nimport { useCountdown } from 'hooks/useCountdown'\nimport dayjs from 'dayjs'\nimport { Text } from 'components/Text'\nimport { ApiTypes } from 'lib/api'\nimport { joinHighScoreRoom, leaveHighScoreRoom } from '../projects'\n\nconst Trophy: React.FC<{ color: string }> = ({ color }) => {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1rem\" viewBox=\"0 0 158.47 172.12\">\n            <g>\n                <path\n                    d=\"M157.24 29a6.2 6.2 0 00-5-2.48h-26q.15-3.52.16-7.13h6.62a4.31 4.31 0 004.3-4.31V4.3a4.31 4.31 0 00-4.3-4.3H25.41a4.31 4.31 0 00-4.31 4.3v10.8a4.31 4.31 0 004.31 4.31H32q0 3.6.16 7.13h-26a6.19 6.19 0 00-5.91 7.94c.54 1.82 13.07 43 48.22 56.08 5.57 9.6 12.27 16.63 19.65 20.2l-4 33h-8.86a2.76 2.76 0 00-2.76 2.77v8.15H47a3.19 3.19 0 00-3.19 3.19v11.08a3.19 3.19 0 003.19 3.17h64.57a3.19 3.19 0 003.19-3.19v-11.08a3.19 3.19 0 00-3.19-3.19H106v-8.15a2.77 2.77 0 00-2.77-2.77h-8.9l-4-33c7.38-3.57 14.08-10.6 19.65-20.2 35.15-13.13 47.68-54.26 48.22-56.08a6.2 6.2 0 00-.96-5.46zm-142 9.9h17.9a155.56 155.56 0 007.12 33.13c-13.18-9.68-21.13-24.19-25.07-33.11zm103.01 33.18a155.09 155.09 0 007.13-33.16h17.92c-3.92 8.93-11.86 23.45-25.05 33.16z\"\n                    fill={color}\n                />\n            </g>\n        </svg>\n    )\n}\n\nconst PlatinumTrophy = () => {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1rem\" viewBox=\"0 0 118.69 200\">\n            <g>\n                <path\n                    d=\"M91.21 180.28h-5.35v-9.2A3 3 0 0083.1 168h-.3l-6.51-24.17H77v-4.36h-.5l42.19-81.85-.55-5.32-12.36-6.87v-1.22-.63c0-.53-.07-1-.11-1.57l-.06-.62c-.15-1.4-.36-2.78-.64-4.14l-.12-.6c-.11-.5-.22-1-.35-1.5 0-.19-.09-.39-.15-.59a46.83 46.83 0 00-1.21-3.92l-.21-.56c-.18-.47-.37-.94-.56-1.4-.07-.19-.15-.37-.23-.56-.53-1.24-1.12-2.46-1.75-3.64l-.29-.52c-.24-.44-.49-.87-.75-1.3l-.3-.51a37.4 37.4 0 00-1.09-1.69A46.31 46.31 0 0013.2 44.92L0 52.26l.1 5.32 42.36 81.85h-.94v4.36h1c-1.52 5.45-5.69 19.56-7.04 24.21h-.33a3 3 0 00-2.77 3.12v9.2H27a3.39 3.39 0 00-3.39 3.39v12.94A3.39 3.39 0 0027 200h64.21a3.39 3.39 0 003.39-3.39v-12.94a3.39 3.39 0 00-3.39-3.39z\"\n                    fill=\"#a3cacc\"\n                />\n            </g>\n        </svg>\n    )\n}\n\nconst trophies = [\n    { minRank: 3, icon: <PlatinumTrophy /> },\n    { minRank: 10, icon: <Trophy color=\"#f6ce17\" /> },\n    { minRank: 50, icon: <Trophy color=\"#c1c1c1\" /> },\n    { minRank: 100, icon: <Trophy color=\"#d87856\" /> },\n]\n\nconst getTrophyIcon = (rank: number) => trophies.find(trophy => rank <= trophy.minRank)?.icon\n\ninterface HighScoreGameLeaderboardProps {\n    projectId: string\n    room?: string\n}\n\nexport const HighScoreGameLeaderboard: React.FC<HighScoreGameLeaderboardProps> = ({ projectId, room }) => {\n    const game = highScoreGames.find(game => game.projectId === projectId)\n    const { leaderboards, forceRefetch } = useHighScoreLeaderboard(projectId, room, game, true)\n\n    if (!leaderboards) {\n        return (\n            <Flex justify=\"center\">\n                <Loader />\n            </Flex>\n        )\n    }\n\n    if (!game || leaderboards.length === 0) {\n        return null\n    }\n\n    return (\n        <HighscoreGameLeaderBoardInner\n            game={game}\n            room={room}\n            leaderboards={leaderboards}\n            forceRefetch={forceRefetch}\n        />\n    )\n}\n\ninterface HighscoreGameLeaderBoardInnerProps {\n    leaderboards: NonNullable<ReturnType<typeof useHighScoreLeaderboard>['leaderboards']>\n    forceRefetch: VoidFunction\n    game: HighScoreGame\n    room?: string\n}\n\nfunction getLeaderboard(\n    name: string,\n    results: FetchedLeaderboard,\n    myResult: LeaderboardRank,\n    account: ApiTypes['account'],\n    t: TypedTFunction,\n    displayTrophies: boolean,\n) {\n    if (!results || results.items.length === 0) {\n        return <EmptyState key={name}>{t('challenges::highScoreEmptyState')}</EmptyState>\n    }\n\n    const myTrophy = myResult.rank ? getTrophyIcon(myResult.rank) : undefined\n    const isMyResultIncluedInResults = results.items.find(item => item.owner.id === account.id)\n\n    return (\n        <Leaderboard key={name}>\n            {results.items.map((item, i) => {\n                const isOwn = item.owner.id === account.id\n                const avatarSrc = createAvatarUrl(isOwn ? account.profileImage : item.owner.profileImage)\n                const rank = i + 1\n\n                const trophy = getTrophyIcon(rank)\n\n                return (\n                    <LeaderboardItem\n                        highlighted={isOwn}\n                        place={rank}\n                        score={item.value}\n                        icon={displayTrophies ? trophy : undefined}\n                        key={item.owner.id}\n                        to={`/app/user/${item.owner.username}`}\n                        avatarSrc={avatarSrc}\n                        label={\n                            <>\n                                {isOwn ? getUserPrivateName(account) : getUserPublicName(item.owner)}\n                                <StyledUserBadge user={item.owner} />\n                            </>\n                        }\n                    />\n                )\n            })}\n\n            {myResult.rank && !isMyResultIncluedInResults && (\n                <LeaderboardItem\n                    highlighted\n                    place={myResult.rank}\n                    icon={displayTrophies ? myTrophy : undefined}\n                    score={myResult.value}\n                    to={`/app/user/${account.username}`}\n                    label={getUserPrivateName(account)}\n                    avatarSrc={createAvatarUrl(account.profileImage)}\n                />\n            )}\n        </Leaderboard>\n    )\n}\n\nconst HighscoreGameLeaderBoardInner: React.FC<HighscoreGameLeaderBoardInnerProps> = ({\n    leaderboards,\n    game,\n    forceRefetch,\n    room,\n}) => {\n    const [tab, setTab] = useState<null | string>(leaderboards[0].name)\n    const [subTab, setSubTab] = useState<null | string>('weekly')\n    const { account } = useUserState()\n    const t = useTranslate()\n    const displayCount = useHasShowAdvancedStats()\n\n    const makeSubleaderboardLabel = (key: LocalisationKey, count: number) =>\n        displayCount && count !== undefined ? `${t(key)} (${count})` : t(key)\n\n    return (\n        <Stack>\n            {leaderboards.length > 1 && (\n                <Tabs\n                    value={tab}\n                    // TODO: types\n                    onChange={(_: any, value: any) => {\n                        setTab(value)\n                    }}\n                >\n                    {leaderboards.map(({ name }) => {\n                        const stat = game.stats?.find(stat => stat.name === name)\n                        return <Tab value={name} key={name} label={stat ? t(stat.i18nKey) : name} />\n                    })}\n                </Tabs>\n            )}\n            {leaderboards.map(leaderboard => {\n                if (leaderboard.name !== tab) {\n                    return null\n                }\n\n                if (room) {\n                    if (!leaderboard.allTimeResults || !leaderboard.myAllTimeResult) {\n                        return (\n                            <Flex key={leaderboard.name} justify=\"center\">\n                                <Loader />\n                            </Flex>\n                        )\n                    }\n\n                    return getLeaderboard(\n                        leaderboard.name,\n                        leaderboard.allTimeResults,\n                        leaderboard.myAllTimeResult,\n                        account,\n                        t,\n                        false,\n                    )\n                } else {\n                    if (!leaderboard.results || !leaderboard.myResult) {\n                        return (\n                            <Flex key={leaderboard.name} justify=\"center\">\n                                <Loader />\n                            </Flex>\n                        )\n                    }\n\n                    if (leaderboard.allTimeResults && leaderboard.myAllTimeResult) {\n                        const subLeaderboards = [\n                            {\n                                name: 'weekly',\n                                label: makeSubleaderboardLabel('general::currentWeek', leaderboard.results.count),\n                                results: leaderboard.results,\n                                myResult: leaderboard.myResult,\n                            },\n                        ]\n\n                        if (leaderboard.prevResults && leaderboard.myPrevResult) {\n                            subLeaderboards.push({\n                                name: 'prev',\n                                label: makeSubleaderboardLabel('general::lastWeek', leaderboard.prevResults.count),\n                                results: leaderboard.prevResults,\n                                myResult: leaderboard.myPrevResult,\n                            })\n                        }\n\n                        subLeaderboards.push({\n                            name: 'all-time',\n                            label: makeSubleaderboardLabel('general::allTime', leaderboard.allTimeResults.count),\n                            results: leaderboard.allTimeResults,\n                            myResult: leaderboard.myAllTimeResult,\n                        })\n\n                        return (\n                            <Stack key={leaderboard.name}>\n                                <Select\n                                    value={subTab}\n                                    onChange={e => {\n                                        setSubTab(e.target.value as string)\n                                    }}\n                                >\n                                    {subLeaderboards.map(({ name, label }) => (\n                                        <Option value={name} key={name}>\n                                            {label}\n                                        </Option>\n                                    ))}\n                                </Select>\n\n                                {leaderboard.nextIncrement && (\n                                    <HighScoreGameLeaderboardCountdown\n                                        hide={subTab !== 'weekly'}\n                                        date={leaderboard.nextIncrement}\n                                        forceRefetch={forceRefetch}\n                                    />\n                                )}\n\n                                {subLeaderboards.map(subLeaderboard => {\n                                    if (subLeaderboard.name !== subTab) {\n                                        return null\n                                    }\n\n                                    if (!subLeaderboard.results || !subLeaderboard.myResult) {\n                                        return (\n                                            <Flex key={subLeaderboard.name} justify=\"center\">\n                                                <Loader />\n                                            </Flex>\n                                        )\n                                    }\n\n                                    return getLeaderboard(\n                                        subLeaderboard.name,\n                                        subLeaderboard.results,\n                                        subLeaderboard.myResult,\n                                        account,\n                                        t,\n                                        subLeaderboard.name !== 'all-time',\n                                    )\n                                })}\n                            </Stack>\n                        )\n                    } else {\n                        return getLeaderboard(\n                            leaderboard.name,\n                            leaderboard.results,\n                            leaderboard.myResult,\n                            account,\n                            t,\n                            false,\n                        )\n                    }\n                }\n            })}\n        </Stack>\n    )\n}\n\nconst HighScoreGameLeaderboardCountdown: React.FC<{ date: string; forceRefetch: VoidFunction; hide?: boolean }> = ({\n    date,\n    forceRefetch,\n    hide,\n}) => {\n    const t = useTranslate()\n    const dayjsDate = useMemo(() => dayjs(date), [date])\n    const { remaining, isEnd } = useCountdown(dayjsDate)\n\n    useEffect(() => {\n        if (isEnd) {\n            const timeout = setTimeout(() => {\n                forceRefetch()\n            }, 5000)\n\n            return () => {\n                clearTimeout(timeout)\n            }\n        }\n    }, [isEnd, forceRefetch])\n\n    if (hide) {\n        return null\n    }\n\n    return (\n        <div>\n            <Text>{t('challenges::weeklyScoreboardCloses' as LocalisationKey)} </Text>\n            <Text>\n                <strong>\n                    {t('general::nDay', { count: remaining.days })}, {t('general::nHour', { count: remaining.hours })},{' '}\n                    {} {t('general::nMinute', { count: remaining.minutes })}\n                </strong>\n            </Text>\n        </div>\n    )\n}\n\nconst StyledUserBadge = styled(UserBadge)`\n    font-size: ${props => props.theme.typography.body1.fontSize};\n    margin-inline-start: ${props => props.theme.spacing(2)};\n`\n\nconst leaderboardCountByProject: Record<string, number> = {}\nexport function useHighScoreLeaderboard(projectId: string, room?: string, game?: HighScoreGame, joinRoom?: boolean) {\n    const scoreList = useSelector(state => getScoreList(state, projectId))\n    const leaderboards = useSelector(state => state.shared.stats.leaderboard)\n    const ranks = useSelector(state => state.shared.stats.ranks)\n    const nextIncrements = useSelector(state => state.shared.stats.nextIncrements)\n\n    const ready = useSelector(isLiveopsReady)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        if (ready && scoreList === null) {\n            dispatch(requestScoreList(projectId))\n        }\n    }, [dispatch, projectId, ready, scoreList])\n\n    useEffect(() => {\n        if (scoreList) {\n            if (projectId in leaderboardCountByProject) {\n                leaderboardCountByProject[projectId]++\n            } else {\n                leaderboardCountByProject[projectId] = 1\n            }\n            scoreList.forEach(score => dispatch(enableProjectLeaderboard(projectId, score, room)))\n            return () => {\n                if (projectId in leaderboardCountByProject) {\n                    leaderboardCountByProject[projectId]--\n                }\n                setTimeout(() => {\n                    if (leaderboardCountByProject[projectId] <= 0) {\n                        dispatch(disableAllLeaderboardsForProject(projectId))\n                    }\n                }, 200)\n            }\n        }\n    }, [scoreList, dispatch, projectId, room])\n\n    useEffect(() => {\n        if (joinRoom && ready && room) {\n            dispatch(joinHighScoreRoom(room))\n            return () => {\n                dispatch(leaveHighScoreRoom(room))\n            }\n        }\n    }, [room, dispatch, ready, joinRoom])\n\n    const forceRefetch = React.useCallback(() => {\n        if (scoreList) {\n            dispatch(disableAllLeaderboardsForProject(projectId))\n            scoreList.forEach(score => dispatch(enableProjectLeaderboard(projectId, score, room)))\n        }\n    }, [scoreList, dispatch, projectId, room])\n\n    let scoreListCopy = scoreList ? [...scoreList] : undefined\n\n    if (game) {\n        scoreListCopy = scoreListCopy\n            ?.filter(score => {\n                if (!game.hiddenStats) {\n                    return true\n                }\n                return game.hiddenStats.includes(score) ? false : true\n            })\n            ?.sort((a, b) => {\n                if (game.stats === undefined) {\n                    return 0\n                }\n                const aStat = game.stats.findIndex(stat => stat.name === a)\n                const bStat = game.stats.findIndex(stat => stat.name === b)\n                if (aStat === -1 || bStat === -1) {\n                    return 0\n                }\n                return aStat > bStat ? 1 : -1\n            })\n    }\n\n    const roomStatPrefix = room ? `@ROOM/${room}:` : ''\n    return {\n        forceRefetch,\n        leaderboards: scoreListCopy?.map(score => {\n            return {\n                name: score,\n                results: leaderboards[`${roomStatPrefix}@PROJECT/${projectId}:score:${score}:latest`],\n                prevResults: leaderboards[`${roomStatPrefix}@PROJECT/${projectId}:score:${score}:prev`],\n                allTimeResults: leaderboards[`${roomStatPrefix}@PROJECT/${projectId}:score:${score}:all-time`],\n                myResult: ranks[`${roomStatPrefix}@PROJECT/${projectId}:score:${score}:latest`],\n                myPrevResult: ranks[`${roomStatPrefix}@PROJECT/${projectId}:score:${score}:prev`],\n                myAllTimeResult: ranks[`${roomStatPrefix}@PROJECT/${projectId}:score:${score}:all-time`],\n                nextIncrement: nextIncrements[`${roomStatPrefix}@PROJECT/${projectId}:score:${score}`],\n            }\n        }),\n    }\n}\n","import { UserState } from 'contexts/UserContext'\nimport { api } from 'lib/api'\nimport { useStore } from 'react-redux'\nimport { loadEvents } from './store/eventsActions'\nimport { useCallback } from 'react'\n\nexport function useEvents() {\n    const store = useStore()\n\n    const initEvents = useCallback(\n        async (user: UserState) => {\n            try {\n                const events = await api.events.getEventsForUser(user)\n                store.dispatch(loadEvents(events))\n            } catch (e) {\n                console.error(e)\n            }\n        },\n        [store],\n    )\n\n    return {\n        initEvents,\n    }\n}\n","import { INIT_EVENTS } from './eventsActionTypes'\n\nexport function loadEvents(payload: { activityEvents: any[]; normalEvents: any[]; hasEventsGrant: boolean }) {\n    return {\n        type: INIT_EVENTS,\n        payload,\n    } as const\n}\n","import { canUserCreateProject, UserState } from 'contexts/UserContext'\nimport { getXmasProjectId } from 'features/xmas-projects'\nimport { FeedEntry, FeedEntryCustomIds } from '../types/feedTypes'\n\ntype CustomFeedTransformer = (entry: FeedEntry, user: UserState) => FeedEntry\n\nexport const customFeedTransformers: Record<FeedEntryCustomIds, CustomFeedTransformer> = {\n    'xmas-project-2021': (entry, user) => {\n        return {\n            ...entry,\n            body: canUserCreateProject(user)\n                ? 'Xmas2021NewsfeedPostPersonalizeQuiz::description'\n                : 'Xmas2021NewsfeedPostQuiz::description',\n            action: {\n                actionType: 'link',\n                to: `/app/xmas-game/${getXmasProjectId(user)}`,\n                label: 'XmasGiftBanner::QuizProject::button',\n            },\n        }\n    },\n    'show-new-features-onboarding': entry => {\n        return {\n            ...entry,\n            action: {\n                ...entry.action,\n                actionType: 'open-onboarding',\n                to: '2022-APR',\n            },\n        }\n    },\n    'show-mini-quiz-onboarding': entry => {\n        return {\n            ...entry,\n            action: {\n                ...entry.action,\n                actionType: 'open-onboarding',\n                to: 'MINI-QUIZ',\n            },\n        }\n    },\n}\n","import { UserState, useUserState } from 'contexts/UserContext'\nimport dayjs, { Dayjs } from 'dayjs'\nimport { api } from 'lib/api'\nimport { hasGrant } from 'lib/grants'\nimport { useSelector } from 'lib/store'\nimport { useQuery } from 'react-query'\nimport { useStore } from 'react-redux'\nimport { filterNulls } from 'utils/arrayUtilts'\nimport { customFeedTransformers } from './data/customFeedTransformers'\nimport { loadFeedPage, NewsFeedEntriesWithMetaData } from './store/feedActions'\nimport { FeedEntryCustomIds, FeedEntry, NewsFeeds, FeedType } from './types/feedTypes'\n\nconst NEWSFEED_ENTRIES_PER_PAGE = 15\n\nexport function useFeed() {\n    const store = useStore()\n    const feedState = useSelector(state => state.feed)\n\n    const initFeed = async (user: UserState) => {\n        const lastRead = getLastReadDates(user)\n\n        const getCommunityEntries = async () => {\n            const entries = await api.feed.getFeedEntries('community', NEWSFEED_ENTRIES_PER_PAGE, 0)\n            store.dispatch(\n                loadFeedPage({\n                    data: normalizedPayload(entries, lastRead, true, user),\n                    feedType: 'community',\n                }),\n            )\n        }\n\n        const getTrainerEntries = async () => {\n            if (!hasGrant(user.grants)({ product: 'edup.trainer-portal', feature: 'news' })) {\n                return\n            }\n\n            const entries = await api.feed.getFeedEntries('trainer', NEWSFEED_ENTRIES_PER_PAGE, 0)\n            store.dispatch(\n                loadFeedPage({\n                    data: normalizedPayload(entries, lastRead, true, user),\n                    feedType: 'trainer',\n                }),\n            )\n        }\n\n        try {\n            await Promise.all([getCommunityEntries(), getTrainerEntries()])\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    const loadNextFeedPage = async (user: UserState, feedType: FeedType) => {\n        const lastRead = getLastReadDates(user)\n        try {\n            const data = await api.feed.getFeedEntries(\n                feedType,\n                NEWSFEED_ENTRIES_PER_PAGE,\n                feedState[feedType].nextSkip,\n            )\n            store.dispatch(loadFeedPage({ data: normalizedPayload(data, lastRead, false, user), feedType }))\n        } catch (error) {\n            console.log('Failed to load feed page.')\n            console.error(error)\n        }\n    }\n\n    return {\n        initFeed,\n        loadNextFeedPage,\n    }\n}\n\nexport function useFeedEntryQuery(id: string, enabled: boolean) {\n    const user = useUserState()\n\n    return useQuery(\n        ['feed-entry', id],\n        async () => {\n            const res = await api.feed.getFeedEntry(id)\n            const transformedEntry = applyCustomTransform(res.data, user)\n            if (transformedEntry === null) {\n                throw new Error('Failed to apply custom transform.')\n            }\n            return transformedEntry\n        },\n        { staleTime: Infinity, enabled },\n    )\n}\n\ninterface NormalizedNewsFeedSetting {\n    communityLastReadAt: Dayjs | null\n    trainerLastReadAt: Dayjs | null\n}\n\nexport function getLastReadDates(user: UserState): NormalizedNewsFeedSetting {\n    let communityLastReadAt: Dayjs | null = null\n    let trainerLastReadAt: Dayjs | null = null\n    const setting = user.settings['mylogiscool-newsfeed']\n    if (setting) {\n        try {\n            const parsedSetting = JSON.parse(setting)\n            if (parsedSetting.lastReadAt) {\n                communityLastReadAt = dayjs(parsedSetting.lastReadAt)\n            }\n            if (parsedSetting.trainerLastReadAt) {\n                trainerLastReadAt = dayjs(parsedSetting.trainerLastReadAt)\n            }\n        } catch (e) {}\n    }\n\n    return { communityLastReadAt, trainerLastReadAt }\n}\n\nconst applyCustomTransform = (entry: FeedEntry, user: UserState) => {\n    if (entry.isCustom) {\n        const transformer = customFeedTransformers[entry?.customId as FeedEntryCustomIds]\n\n        if (!transformer) return null\n\n        return {\n            ...transformer(entry, user),\n        }\n    }\n    return entry\n}\n\nconst normalizedPayload = (\n    data: NewsFeeds,\n    newsFeedSetting: NormalizedNewsFeedSetting,\n    isInital: boolean = false,\n    user: UserState,\n): NewsFeedEntriesWithMetaData => {\n    const entries = data.entries\n        .map(entry => {\n            return applyCustomTransform(entry, user)\n        })\n        .filter(filterNulls)\n        .map(entry => {\n            const date = entry.isTrainerOnly ? newsFeedSetting.trainerLastReadAt : newsFeedSetting.communityLastReadAt\n            return {\n                ...entry,\n                metadata: {\n                    unread: isInital ? dayjs(entry.activeFrom).isAfter(date ?? dayjs().subtract(7, 'days')) : false,\n                },\n            }\n        })\n\n    return {\n        entries: entries,\n        hasMore: data.hasMore,\n        nextSkip: data.nextSkip,\n    }\n}\n","import { useState, useRef, useCallback } from 'react'\n\nexport function useIsElementFullyVisible() {\n    const [isFullyVisible, setIsFullyVisible] = useState<boolean | undefined>()\n    const observer = useRef<IntersectionObserver>()\n    const ref = useCallback((node: HTMLDivElement) => {\n        if (!node) {\n            observer.current?.disconnect()\n            return\n        }\n        observer.current = new IntersectionObserver(\n            entries => {\n                if (entries[0]?.intersectionRatio === 1) {\n                    setIsFullyVisible(true)\n                } else {\n                    setIsFullyVisible(false)\n                }\n            },\n            { threshold: 1 },\n        )\n        observer.current.observe(node)\n    }, [])\n\n    return {\n        ref,\n        isFullyVisible,\n    }\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { ScoolcodeButton } from '../details/ProjectDetailsActions'\nimport { Project } from '../store'\nimport { MyProjectCardActionsMenu } from './MyProjectCardActionsMenu'\n\ninterface MyProjectStripeActionsProps {\n    project: Project\n    isPending?: boolean\n    favorite?: React.ReactNode\n}\n\nexport const MyProjectStripeActions: React.FC<MyProjectStripeActionsProps> = ({ project, isPending, favorite }) => {\n    return (\n        <>\n            {favorite}\n            <HideOnMobile>\n                <ScoolcodeButton variant=\"text\" project={project} />\n            </HideOnMobile>\n            <MyProjectCardActionsMenu location=\"stripe\" id={project.file.id} isPending={isPending} />\n        </>\n    )\n}\n\nconst HideOnMobile = styled.div`\n    ${props => props.theme.breakpoints.down('xs')} {\n        display: none;\n    }\n`\n","import { Dialog, DialogActions, DialogPrimaryButton, DialogSecondaryButton } from 'components/dialog'\nimport { Paper } from 'components/Paper'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport 'react-inner-image-zoom/lib/InnerImageZoom/styles.min.css'\nimport { useMediaQuery, Theme } from '@material-ui/core'\nimport { useRegisterActivityOnLoad } from '../../hooks/useRegisterActivityOnLoad'\n\nconst InnerImageZoom = React.lazy(() => import('react-inner-image-zoom'))\n\ninterface CertificateDialogProps {\n    close: VoidFunction\n    open: boolean\n    imgData: string\n    title: string\n    download: VoidFunction\n}\n\nexport const CertificateDialog: React.FC<CertificateDialogProps> = ({ close, open, imgData, title, download }) => {\n    return (\n        <React.Suspense fallback={null}>\n            <StyledDialog open={open} maxWidth={false} onClose={close} PaperComponent={StyledPaper} hideCloseButton>\n                <DialogContainer imgData={imgData} title={title} close={close} download={download} />\n            </StyledDialog>\n        </React.Suspense>\n    )\n}\nconst StyledDialog = styled(Dialog)`\n    ${props => props.theme.breakpoints.down('xs')} {\n        width: 100vw;\n    }\n`\n\nconst StyledPaper = styled(Paper)`\n    overflow-y: hidden;\n    height: 100%;\n    display: block;\n\n    ${props => props.theme.breakpoints.down('xs')} {\n        height: auto;\n    }\n`\n\ninterface DialogContentProps {\n    imgData: string\n    title: string\n    close: VoidFunction\n    download: VoidFunction\n}\n\nconst DialogContainer: React.FC<DialogContentProps> = ({ imgData, title, close, download }) => {\n    const t = useTranslate()\n    const isSmallScreen = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'), { noSsr: true })\n\n    useRegisterActivityOnLoad('certificates:owned:view')\n\n    return (\n        <>\n            <ImgContainer>\n                <InnerImageZoom src={imgData} alt=\"img\" zoomScale={isSmallScreen ? 0.2 : 0.5} />\n            </ImgContainer>\n            <StyledActions>\n                <DialogSecondaryButton onClick={close}>{t('general::cancel')}</DialogSecondaryButton>\n                <DialogPrimaryButton onClick={download}>{t('certificate::download')}</DialogPrimaryButton>\n            </StyledActions>\n        </>\n    )\n}\n\nconst StyledActions = styled(DialogActions)`\n    border-top: solid 1px ${props => props.theme.palette.divider};\n    display: flex;\n    align-items: center;\n    height: 5rem;\n    padding: ${props => props.theme.spacing(5)};\n`\n\nconst ImgContainer = styled.div`\n    height: calc(100% - 5rem);\n    ${props => props.theme.breakpoints.down('xs')} {\n        height: auto;\n    }\n\n    width: auto;\n    & .iiz,\n    & .iiz div {\n        height: 100%;\n    }\n    & .iiz__img {\n        height: 100%;\n        object-fit: cover;\n        width: auto;\n        display: block;\n        ${props => props.theme.breakpoints.down('xs')} {\n            width: 100%;\n            height: auto;\n        }\n    }\n`\n","export default __webpack_public_path__ + \"static/media/prize1.a3462303.svg\";","export * from './components/OnboardingManager'\n","import { MoreIcon } from 'components/icons'\nimport { PopupMenuIconButton } from 'components/popup-menu'\nimport React from 'react'\nimport { ProjectActionsMenu } from '../ProjectActionsMenu'\nimport styled from 'styled-components/macro'\nimport { ICON_BUTTON_SMALL_PADDING } from 'components/IconButton'\nimport { useTranslate } from 'lib/i18n/useTranslate'\n\ninterface MyProjectCardActionsMenuProps {\n    id: string\n    compensatePadding?: boolean\n    isPending?: boolean\n    location: 'card' | 'stripe'\n}\n\nexport const MyProjectCardActionsMenu: React.FC<MyProjectCardActionsMenuProps> = ({\n    id,\n    compensatePadding,\n    isPending,\n    location,\n}) => {\n    const t = useTranslate()\n\n    return (\n        <ProjectActionsMenu\n            id={id}\n            location={location}\n            isPending={isPending}\n            popupMenuButton={\n                <StyledPopupMenuIconButton\n                    $compensatePadding={compensatePadding}\n                    size=\"small\"\n                    aria-label={t('general::more')}\n                >\n                    <MoreIcon />\n                </StyledPopupMenuIconButton>\n            }\n        />\n    )\n}\n\nconst StyledPopupMenuIconButton = styled(PopupMenuIconButton)<{ $compensatePadding?: boolean }>`\n    margin: ${props => (props.$compensatePadding ? `-${ICON_BUTTON_SMALL_PADDING}` : undefined)};\n`\n","import { Box } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { Project, ProjectCardBadge } from '..'\nimport { useBlockGalleriesQuery } from '../projectQueries'\nimport styled from 'styled-components/macro'\nimport { motion } from 'framer-motion'\nimport { useHasGrant } from 'lib/grants'\nimport { ProjectListLayout } from './MyProjects'\nimport {ProjectLanguage, PYTHON_PALETTE_ID} from \"../createProjectFormData\";\nimport {MixIcon} from \"../../../components/icons\";\n\ninterface MyProjectLanguageProps {\n    project: Project\n    blockGalleriesQuery?: ReturnType<typeof useBlockGalleriesQuery>\n    layout: ProjectListLayout\n}\n\nexport const LANGUAGE_TO_LABEL: Record<ProjectLanguage, string> = {\n    'python': 'Python',\n    'stagescript': 'StageScript'\n}\n\nexport const MyProjectLanguage: React.FC<MyProjectLanguageProps> = ({\n    project,\n    layout,\n}) => {\n    const t = useTranslate()\n\n    const hasGrant = useHasGrant();\n    const isEnabled =\n        project.file.kind.includes('mix') &&\n        hasGrant({ product: 'edup.scoolcode.ide', feature: 'language-python' }) &&\n        hasGrant({ product: 'edup.scoolcode.ide', feature: 'language-stagescript' });\n\n    if (!isEnabled) {\n        return null\n    }\n\n    const language = LANGUAGE_TO_LABEL[\n        project.file.metadata?.language\n        || (project.file.metadata?.palette === PYTHON_PALETTE_ID ? 'python' : 'stagescript')\n    ];\n\n    return (\n        <>\n            {layout === 'grid' ? (\n                <BadgeWrapper initial=\"hidden\" whileHover=\"hover\" animate=\"hidden\">\n                    <ProjectCardBadge position=\"bottom-left\">\n                        <Container>\n                            <MixIcon />\n                            <LanguageText variants={textMotion}>{language}</LanguageText>\n                        </Container>\n                    </ProjectCardBadge>\n                </BadgeWrapper>\n            ) : (\n                <StripeRoot>\n                    <Text color=\"textSecondary\" variant=\"caption\">\n                        {t('projects::language::label')}\n                    </Text>\n                    <Text variant=\"body2\">{language}</Text>\n                </StripeRoot>\n            )}\n        </>\n    )\n}\n\nconst BadgeWrapper = styled(motion.div)`\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n`\n\nconst textMotion = {\n    hidden: {\n        opacity: 0,\n        transform: 'translateX(-10px)',\n        width: 0,\n        marginInlineStart: '0px',\n    },\n    hover: {\n        opacity: 1,\n        transform: 'translateX(0px)',\n        width: 'auto',\n        marginInlineStart: '8px',\n    },\n}\n\nconst LanguageText = styled(motion.span)`\n    transform-origin: left;\n`\n\nconst Container = styled(motion.div)`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`\n\nconst StripeRoot = styled(Box)`\n    white-space: pre;\n    ${props => props.theme.breakpoints.down('xs')} {\n        display: none;\n    }\n`\n","import React from 'react'\n\ninterface CertificateRibbonProps {\n    color: string\n    highlightColor: string\n    className?: string\n}\n\nexport const CertificateRibbon: React.FC<CertificateRibbonProps> = ({ color, highlightColor, ...rest }) => {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" x={0} y={0} viewBox=\"0 0 121 261.32\" xmlSpace=\"preserve\" {...rest}>\n            <path\n                d=\"M108.5.5h-96C5.9.5.5 5.9.5 12.5v248l60-31.24 60 31.24v-248c0-6.6-5.4-12-12-12z\"\n                fill={color}\n                stroke={color}\n            />\n            <path\n                fill={highlightColor}\n                d=\"M120.5 54.5V30.05L.5 110.28v46.92l120-80.24zM120.5 100.41L.5 180.64v17.5l120-80.23z\"\n            />\n        </svg>\n    )\n}\n","import {\n    Dialog,\n    DialogErrorMessage,\n    DialogForm,\n    DialogPrimaryButton,\n    DialogSecondaryButton,\n    DialogTitle,\n} from 'components/dialog'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { SelectBox, SelectBoxItem, TextField } from 'components/form'\nimport { ClassroomIcon, SwearIcon } from 'components/icons'\nimport { Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { reportProject } from 'lib/liveops/actions/reportProject'\nimport { useNotifications } from 'features/notifications'\nimport React from 'react'\nimport { Controller, useForm } from 'react-hook-form'\nimport { FaBug } from 'react-icons/fa'\nimport { useDispatch } from 'react-redux'\nimport { useProjectModalContext } from '../modal/projectModalContext'\nimport { LocalisationKey } from 'lib/i18n'\nimport { useHasGrant } from 'lib/grants'\n\ninterface ReportProjectModalProps {\n    isOpen: boolean\n    close: VoidFunction\n}\n\nexport const ReportProjectModal: React.FC<ReportProjectModalProps> = ({ isOpen, close }) => {\n    return (\n        <Dialog maxWidth=\"xs\" open={isOpen} onClose={close}>\n            <ErrorBoundary fallback={<DialogErrorMessage close={close} />}>\n                <ReportProjectModalInner close={close} />\n            </ErrorBoundary>\n        </Dialog>\n    )\n}\n\ninterface FormValues {\n    notes: string\n    reason: 'offensive' | 'malfunctioning' | 'shared-classroom'\n}\n\nconst ReportProjectModalInner: React.FC<{ close: VoidFunction }> = ({ close }) => {\n    const t = useTranslate()\n    const dispatch = useDispatch()\n    const { id, project } = useProjectModalContext()\n    const { notify } = useNotifications()\n    const hasGrant = useHasGrant()\n    const { register, handleSubmit, errors, control } = useForm<FormValues>({\n        defaultValues: {\n            notes: '',\n            reason: 'offensive',\n        },\n    })\n\n    const onSubmit = handleSubmit(({ reason, notes }) => {\n        dispatch(reportProject(id, reason, notes))\n        close()\n        notify(t('projects::report::thankYou'), { variant: 'success' })\n    })\n\n    return (\n        <>\n            <DialogTitle>{t('projects::report::label')}</DialogTitle>\n            <DialogForm\n                onSubmit={onSubmit}\n                actions={\n                    <>\n                        <DialogSecondaryButton onClick={close}>{t('general::cancel')}</DialogSecondaryButton>\n                        <DialogPrimaryButton type=\"submit\">{t('projects::report::label')}</DialogPrimaryButton>\n                    </>\n                }\n            >\n                <Stack>\n                    <Text>{t('projects::report::description')}</Text>\n                    <div>\n                        <Controller\n                            name=\"reason\"\n                            control={control}\n                            as={\n                                <SelectBox label={t('projects::report::chooseReason')}>\n                                    <SelectBoxItem fullWidth value=\"offensive\" icon={<SwearIcon />}>\n                                        {t('projects::report::offensive')}\n                                    </SelectBoxItem>\n                                    <SelectBoxItem\n                                        fullWidth\n                                        value=\"malfunctioning\"\n                                        icon={<FaBug style={{ width: 30 }} />}\n                                    >\n                                        {t('projects::report::malfunctioning')}\n                                    </SelectBoxItem>\n                                    {project?.metadata.isMiniQuiz === false && hasGrant('report-classroom') && (\n                                        <SelectBoxItem fullWidth value=\"shared-classroom\" icon={<ClassroomIcon />}>\n                                            {t('projects::report::classroom')}\n                                        </SelectBoxItem>\n                                    )}\n                                </SelectBox>\n                            }\n                        />\n                    </div>\n                    <TextField\n                        name=\"notes\"\n                        autoFocus\n                        errorText={errors.notes ? t(errors.notes.message as LocalisationKey) : undefined}\n                        ref={register({\n                            required: { value: true, message: t('general::fieldIsRequired') },\n                            validate: value => {\n                                return value.trim() ? true : t('general::fieldIsRequired')\n                            },\n                        })}\n                        label={t('projects::report::describe')}\n                        rows={3}\n                        multiline\n                    />\n                </Stack>\n            </DialogForm>\n        </>\n    )\n}\n","import React from 'react'\nimport { Button } from 'components/Button'\nimport { WarningIcon, MoreIcon, EditIcon, ViewIcon } from 'components/icons'\nimport { PopupMenu, PopupMenuButton, PopupMenuItem, PopupMenuList } from 'components/popup-menu'\nimport { useProjectModalContext } from '../modal/projectModalContext'\nimport { ProjectActionsMenu } from '../ProjectActionsMenu'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { ListItemIcon } from 'components/list'\nimport { ReportProjectModal } from '../report'\nimport { WrappingInline } from 'components/layout/WrappingInline'\nimport { useIncrementActivityScore } from 'hooks/useIncrementActivityScore'\nimport { Project } from '../store'\nimport { useUserState } from 'contexts/UserContext'\nimport { Link } from 'react-router-dom'\nimport { getProjectEditLink } from '../projectHelpers'\n\nexport const ProjectDetailsActions: React.FC = () => {\n    const { project, isOwnProject } = useProjectModalContext()\n\n    if (!project) {\n        return null\n    }\n\n    return (\n        <WrappingInline>\n            <ScoolcodeButton project={project} />\n            <ErrorBoundary silent>{isOwnProject ? <OwnProjectActions /> : <ProjectActions />}</ErrorBoundary>\n        </WrappingInline>\n    )\n}\n\nconst MoreButton: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <PopupMenuButton endIcon={<MoreIcon />} color=\"default\">\n            {t('general::more')}\n        </PopupMenuButton>\n    )\n}\n\nexport const ScoolcodeButton: React.FC<{\n    project: Project\n    variant?: 'contained' | 'text'\n}> = ({ project, variant }) => {\n    const user = useUserState()\n    const isOwnProject = project.file.owner === user.account.id\n    const t = useTranslate()\n    const incrementActivityScore = useIncrementActivityScore()\n    const editLink = getProjectEditLink(project, user)\n\n    if (!isOwnProject && project.metadata.isMiniQuiz) {\n        return null\n    }\n\n    return (\n        <>\n            {editLink.type === 'external' ? (\n                <Button\n                    variant={variant}\n                    component=\"a\"\n                    target=\"_blank\"\n                    href={editLink.href}\n                    onClick={() => {\n                        if (isOwnProject) {\n                            incrementActivityScore('classroom:owned-project:open')\n                        } else {\n                            incrementActivityScore('community:project:view-code')\n                        }\n                        return true\n                    }}\n                    startIcon={isOwnProject ? <EditIcon /> : <ViewIcon />}\n                >\n                    {isOwnProject ? t('general::edit') : t('projects::codeView')}\n                </Button>\n            ) : (\n                <Button\n                    variant={variant}\n                    component={Link}\n                    to={editLink.to}\n                    onClick={() => {\n                        if (isOwnProject) {\n                            incrementActivityScore('classroom:owned-project:open')\n                        } else {\n                            incrementActivityScore('community:project:view-code')\n                        }\n                        return true\n                    }}\n                    startIcon={isOwnProject ? <EditIcon /> : <ViewIcon />}\n                >\n                    {isOwnProject ? t('general::edit') : t('projects::codeView')}\n                </Button>\n            )}\n        </>\n    )\n}\n\nconst OwnProjectActions: React.FC = () => {\n    const { id, close, isPendingProject } = useProjectModalContext()\n\n    return (\n        <ProjectActionsMenu\n            location=\"details\"\n            isPending={isPendingProject}\n            id={id}\n            onDelete={close}\n            onDuplicate={close}\n            popupMenuButton={<MoreButton />}\n        />\n    )\n}\n\nconst ProjectActions: React.FC = () => {\n    const t = useTranslate()\n    const [isReportOpen, setReportOpen] = React.useState(false)\n\n    return (\n        <>\n            <PopupMenu>\n                <MoreButton />\n                <PopupMenuList>\n                    <PopupMenuItem onClick={() => setReportOpen(true)}>\n                        <ListItemIcon>\n                            <WarningIcon />\n                        </ListItemIcon>\n                        {t('projects::report::label')}\n                    </PopupMenuItem>\n                </PopupMenuList>\n            </PopupMenu>\n            <ReportProjectModal isOpen={isReportOpen} close={() => setReportOpen(false)} />\n        </>\n    )\n\n}\n","import { FeedEntryWithMetada, FeedType, NewsFeeds } from '../types/feedTypes'\nimport { LOAD_FEED_PAGE, MARK_ALL_READ } from './feedActionTypes'\n\nexport type NewsFeedEntriesWithMetaData = Omit<NewsFeeds, 'entries'> & { entries: FeedEntryWithMetada[] }\n\nexport function loadFeedPage(payload: { data: NewsFeedEntriesWithMetaData; feedType: FeedType }) {\n    return {\n        type: LOAD_FEED_PAGE,\n        payload,\n    } as const\n}\n\nexport function markAllRead(feedType: FeedType) {\n    return {\n        type: MARK_ALL_READ,\n        payload: { feedType },\n    } as const\n}\n","export const INIT_FEED = 'FEED/INIT'\nexport const LOAD_FEED_PAGE = 'FEED/LOAD_FEED_PAGE'\nexport const MARK_ALL_READ = 'FEED/MARK_ALL_READ'\n","import React from 'react'\nimport { Box as MuiBox, BoxProps as MuiBoxProps } from '@material-ui/core'\n\nexport interface BoxProps extends MuiBoxProps {}\n\nexport const Box: React.FC<BoxProps> = props => {\n    return <MuiBox {...props} />\n}\n","import React from 'react'\nimport { Hidden as MuiHidden, HiddenProps as MuiHiddenProps } from '@material-ui/core'\n\ninterface HiddenProps extends MuiHiddenProps {}\n\nexport const Hidden: React.FC<HiddenProps> = props => {\n    return <MuiHidden {...props} />\n}\n","import React from 'react'\nimport { Grid as MuiGrid, GridProps as MuiGridProps } from '@material-ui/core'\n\ninterface GridProps extends MuiGridProps {}\n\nexport const Grid: React.FC<GridProps> = props => {\n    return <MuiGrid {...props} />\n}\n","import React from 'react'\nimport { Box, BoxProps } from './Box'\n\ninterface FlexProps extends BoxProps {\n    direction?: BoxProps['flexDirection']\n    justify?: BoxProps['justifyContent']\n    align?: BoxProps['alignItems']\n}\n\nexport const Flex: React.FC<FlexProps> = ({ direction, justify, align, ...rest }) => {\n    return <Box display=\"flex\" flexDirection={direction} justifyContent={justify} alignItems={align} {...rest} />\n}\n","import { Box } from '@material-ui/core'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { BoxProps } from './'\n\ninterface InlineProps extends BoxProps {\n    spacing?: number\n}\n\nexport const Inline: React.FC<InlineProps> = ({ spacing = 4, ...rest }) => {\n    return <Root spacing={spacing} {...rest} />\n}\n\nconst Root = styled(Box)<{ spacing: number }>`\n    > * + * {\n        margin-inline-start: ${props => props.theme.spacing(props.spacing)};\n    }\n`\n","import { Box, BoxProps } from '@material-ui/core'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface StackProps extends BoxProps {\n    spacing?: number\n}\n\nexport const Stack: React.FC<StackProps> = ({ spacing = 4, children, ...rest }) => {\n    return (\n        <Root spacing={spacing} {...rest}>\n            {children}\n        </Root>\n    )\n}\n\nconst Root = styled(Box)<{ spacing: number }>`\n    > * + * {\n        margin-block-start: ${props => props.theme.spacing(props.spacing)};\n    }\n`\n","import { useUserActions, useUserState } from 'contexts/UserContext'\nimport { UserSettingKey } from 'lib/api/AccountsApi'\nimport { useEffect } from 'react'\n\nexport const useUpdateUserSettingOnChange = (key: UserSettingKey, nextValue: string) => {\n    const { updateUserSettings } = useUserActions()\n    const { settings } = useUserState()\n\n    const currentValue = settings[key]\n\n    useEffect(() => {\n        if (currentValue !== nextValue) {\n            updateUserSettings({ [key]: nextValue })\n        }\n    }, [key, currentValue, nextValue, updateUserSettings])\n}\n","import { allGrants, Grant, NormalizedGrantList } from 'lib/grants'\nimport * as grantDevTool from 'lib/grants/grant-dev-tool'\nimport { ApiBase } from './ApiBase'\nimport { ApiTypes } from './types'\nimport {\n    CrmUserData,\n    FollowUserData,\n    MinimalAccount,\n    UserStatistics,\n    DefaultSchools,\n    UserActivity,\n} from './staticTypes'\nimport { NotFoundError } from '../../utils/errors'\nimport { getNRandomElements } from 'utils/arrayUtilts'\nimport { UserActivityForAllUsers } from '.'\nimport { UserStatisticSummary, YearInReviewYear } from 'features/year-in-review/types/yearInReviewTypes'\n\nexport const settingKeys = [\n    'mylogiscool-theme',\n    'universe-project-languages',\n    'mylogiscool-project-list-layout',\n    'mylogiscool-project-list-sort',\n    'mylogiscool-newsfeed',\n    'mylogiscool-show-advanced-statistics',\n    'mylogiscool-onboardings',\n    'mylogiscool-classroom-timetable-layout',\n    'mylogiscool-classroom-curriculum-tab',\n] as const\nexport type UserSettingKey = typeof settingKeys[number]\nexport type UserSettings = Partial<Record<UserSettingKey, string>>\nexport type NormalizedFollowers = {\n    followers: string[]\n    following: string[]\n    usersData: Record<string, MinimalAccount>\n}\n\nconst userCache: Record<string, MinimalAccount> = {}\nexport class AccountsApi extends ApiBase {\n    getMe = async () => {\n        const res = await this.client.get<ApiTypes['account']>('/accounts/me')\n\n        grantDevTool.processMe(res)\n\n        return res\n    }\n\n    getCrmData = async (userId?: string) => {\n        const crmUserData = await this.client\n            .get<CrmUserData>(`accounts/${userId ? userId : 'me'}/crm-fields`)\n            .catch(() => {\n                const fallbackCrmUserData: { data: CrmUserData } = {\n                    data: {\n                        birthDate: undefined,\n                        gender: undefined,\n                        fullName: undefined,\n                        lastSchool: undefined,\n                        lastSchoolId: undefined,\n                        schools: undefined,\n                    },\n                }\n                return fallbackCrmUserData\n            })\n        if (crmUserData.data.lastSchool === 'Logiscool Teszt Iskola') {\n            crmUserData.data.lastSchool = 'Logiscool (HQ) Hungary'\n            crmUserData.data.lastSchoolId = 'LSCHQ-HUN'\n        }\n        return crmUserData\n    }\n\n    getCrmLink = async (key: string) => {\n        return this.client.get<{ key: string; value: string } | null>(`/accounts/me/get-crm-link?key=${key}`)\n    }\n\n    setCrmLink = async (key: string, value: string) => {\n        return this.client.patch<{ key: string; value: string } | null>(`/accounts/me/set-crm-link?key=${key}`, {\n            value,\n        })\n    }\n\n    getMyLocale = () => {\n        return this.client.get<{ country: string; language: string; locale: string }>('/accounts/me/locale')\n    }\n\n    getOrGenerateAppScopedId = (account: string, client_id: string) => {\n        return this.client.post<{ appScopedId: string }>(\n            '/app-scoped-ids/get-or-generate',\n            {},\n            {\n                params: {\n                    account,\n                    client_id,\n                },\n            },\n        )\n    }\n\n    getMySetting = async (key: UserSettingKey) => {\n        return this.client.get<{ key: UserSettingKey; value: string }>(`accounts/me/settings/${key}`)\n    }\n\n    getMySettings = async () => {\n        const res = await this.client.get<{ key: UserSettingKey; value: string }[]>(`accounts/me/settings`, {\n            params: {\n                'where[key][in]': settingKeys.join(','),\n            },\n        })\n        const normalizedData = res.data.reduce<UserSettings>((prev, current) => {\n            return {\n                [current.key]: current.value,\n                ...prev,\n            }\n        }, {})\n\n        return {\n            ...res,\n            data: normalizedData,\n        }\n    }\n\n    setMySetting = async (key: UserSettingKey, value: string) => {\n        return this.client.patch<{ value: string }>(`accounts/me/settings/${key}`, { value })\n    }\n\n    getMyGrants = async () => {\n        const res = await this.client.post<{ grants: Grant[] }>('/accounts/me/check-grants', { grants: allGrants })\n\n        grantDevTool.processGrants(res)\n\n        const normalizedData = res.data.grants.reduce<NormalizedGrantList>((acc, current) => {\n            const { product, feature, ...rest } = current // Destructure to exclude product and feature\n            if (!acc[product]) {\n                acc[product] = { [feature]: [rest] } // Push the rest of the object\n            } else {\n                const currentProduct = acc[product]\n                const currentFeature = currentProduct![feature]\n                if (!currentFeature) {\n                    currentProduct![feature] = [rest] // Push the rest of the object\n                } else {\n                    currentFeature.push(rest) // Push the rest of the object\n                }\n            }\n            return acc\n        }, {})\n\n        return {\n            ...res,\n            data: normalizedData,\n        }\n    }\n\n    getProfilePictures = async ({ isOnboarding }: { isOnboarding: boolean }) => {\n        const ONBOARDING_LIMIT = 21\n\n        type ProfilePicture = Omit<ApiTypes['profile-picture'], 'usable' | 'description'> & {\n            usable?: boolean\n            description?: string[]\n        }\n        const res = await this.client.get<ProfilePicture[]>('profile-pictures/my', { params: { sort: '-createdAt' } })\n        if (isOnboarding) {\n            res.data = getNRandomElements(\n                res.data.filter(picture => picture.usable),\n                ONBOARDING_LIMIT,\n            )\n        }\n        return res\n    }\n\n    updateMe = async (updates: Partial<ApiTypes['account']>) => {\n        const res = await this.client.patch<ApiTypes['account']>('accounts/me', { ...updates })\n\n        grantDevTool.processMe(res)\n\n        return res\n    }\n\n    getUserByUsername = async (username: string) => {\n        const accountRes = await this.client.get<MinimalAccount[]>(`accounts`, {\n            params: {\n                username,\n            },\n        })\n\n        if (accountRes.data.length === 0) {\n            throw new NotFoundError()\n        }\n\n        const account = accountRes.data[0]\n\n        const crmRes = await this.getCrmData(account.id)\n\n        return {\n            ...accountRes,\n            data: { account, crmData: crmRes.data },\n        }\n    }\n\n    isAliasUnique = async (alias: string) => {\n        const res = await this.client.get<ApiTypes['account-name'][]>('account-names', {\n            params: {\n                name: alias.toLowerCase().trim(),\n            },\n        })\n        return res.data.length === 0\n    }\n\n    getRecommendedAlias = async (originalAlias: string) => {\n        const res = await this.client.get<string>('accounts/recommend-alias', {\n            params: {\n                originalAlias,\n            },\n        })\n        return res.data\n    }\n\n    getFollowers = async (userId: string) => {\n        const res = await this.client.get<FollowUserData[]>('account-followers/both', {\n            params: {\n                user: userId,\n            },\n        })\n\n        const normalizedUserData = (data: FollowUserData[]) => {\n            return data.reduce<Record<string, MinimalAccount>>((result, current) => {\n                if (!result[current.target.id]) {\n                    result[current.target.id] = current.target\n                }\n\n                if (!result[current.user.id]) {\n                    result[current.user.id] = current.user\n                }\n\n                return result\n            }, {})\n        }\n\n        const normalizedFollowers = {\n            followers: Array.from(new Set(res.data.filter(item => item.target.id === userId))).map(\n                item => item.user.id,\n            ),\n            following: Array.from(new Set(res.data.filter(item => item.user.id === userId))).map(\n                item => item.target.id,\n            ),\n            usersData: normalizedUserData(res.data),\n        }\n\n        return normalizedFollowers\n    }\n\n    getUsers = async (ids: string[]) => {\n        const cachedUsers = ids.filter(id => userCache[id]).map(id => userCache[id])\n        const uncachedIds = ids.filter(id => !userCache[id])\n\n        if (uncachedIds.length === 0) {\n            return cachedUsers\n        }\n\n        const res = await this.client.get<MinimalAccount[]>('/accounts', {\n            params: {\n                'where[id][in]': uncachedIds.join(','),\n            },\n        })\n        res.data.forEach(user => {\n            userCache[user.id] = user\n        })\n        return [...res.data, ...cachedUsers]\n    }\n\n    getUser = async (id: string) => {\n        return userCache[id] ?? (userCache[id] = (await this.client.get<MinimalAccount>(`accounts/${id}`)).data)\n    }\n\n    getUserDefaultSchools = async (userId: string) => {\n        return (\n            await this.client.get<DefaultSchools>(`accounts/default-school`, {\n                params: {\n                    owner: userId,\n                },\n            })\n        ).data\n    }\n\n    getUserStatistics = async (userId: string) => {\n        return (\n            await this.client.get<UserStatistics>('/user-statistics/public-profile-stats', {\n                params: {\n                    owner: userId,\n                },\n            })\n        ).data\n    }\n\n    saveDefaultSchool = async (schoolId: string) => {\n        return await this.client.post('accounts/default-school', { school: schoolId })\n    }\n\n    connectDiscordAccount = async (discordId: string, discordUsername: string) => {\n        return this.client.patch('/accounts/me/update-discord-account', {\n            discordId,\n            discordUsername,\n        })\n    }\n\n    disconnectDiscordAccount = async () => {\n        return this.client.delete('/accounts/me/update-discord-account')\n    }\n\n    getUserActivity = async (userId: string) => {\n        return (\n            await this.client.get<UserActivity>('/user-statistics/activity-score', {\n                params: {\n                    owner: userId,\n                },\n            })\n        ).data\n    }\n\n    getUsertatisticSummaries = async (userId: string, startDate: string, endDate: string) => {\n        return this.client.get<{ id: string; stat: string; value: number }[]>(`/user-statistic-summaries`, {\n            params: {\n                owner: userId,\n                startDate: startDate,\n                endDate: endDate,\n                sort: 'stat',\n            },\n        })\n    }\n\n    getAllUserTotalActivity = async ({ country, kind, last }: { country?: string; kind?: string; last?: number }) => {\n        return (\n            await this.client.get<UserActivityForAllUsers>('/user-statistics/activity-score-for-all-v2', {\n                params: {\n                    country,\n                    kind,\n                    last,\n                },\n            })\n        ).data\n    }\n\n    updateLeadEmail = (email: string) => {\n        return this.client.patch(`/accounts/update-lead-email`, { email })\n    }\n\n    getYearInReviewData = async (year: YearInReviewYear, userId: string) => {\n        const res = await this.client.get<UserStatisticSummary[]>('/user-statistic-summaries', {\n            params: {\n                owner: userId,\n                group: 'ActivityScore',\n                startDate: `${year}-01-01T00:00:00.000Z`,\n                endDate: `${year + 1}-01-01T00:00:00.000Z`,\n            },\n        })\n\n        const findValue = (stat: UserStatisticSummary['stat']) => {\n            return res.data.find(summary => summary.stat === stat)?.value ?? 0\n        }\n\n        return {\n            projectsCreated: findValue('owned-project:create'),\n            projectsShared: findValue('community:owned-project:share'),\n            projectViews: findValue('total-view-received'),\n            cookiesCollected: findValue('community:project:receive-currency'),\n            cookiesGiven: findValue('community:project:give-currency'),\n        }\n    }\n\n    getActiveUserCount = () => {\n        return this.client.get<{ activeUsers: number }>('/accounts/active-users')\n    }\n\n    resetPassword = async (userId: string, password: string) => {\n        return this.client.post(`/accounts/${userId}/reset-password`, { password })\n    }\n\n    generateOneTimePassword = async (username: string) => {\n        const resp = await this.client.post<{ password: string }>(`/one-time-passwords/generate?username=${username}`)\n        return resp.data.password\n    }\n}\n","export default __webpack_public_path__ + \"static/media/drawing-contest-banner.3ebd3e9a.jpg\";","export default __webpack_public_path__ + \"static/media/drawing-contest-2020-thumbnail.f5623371.jpg\";","export default __webpack_public_path__ + \"static/media/drawing-contest-2019-thumbnail.20c0df88.jpg\";","export default __webpack_public_path__ + \"static/media/digital-mission-banner.479fbbf2.jpg\";","export default __webpack_public_path__ + \"static/media/digital-mission-banner.94163003.png\";","export default __webpack_public_path__ + \"static/media/thumbnail.6d8f22df.jpg\";","export default __webpack_public_path__ + \"static/media/digital-mission-thumbnail.49d0d5bf.jpg\";","export default __webpack_public_path__ + \"static/media/digigirlz-banner.6d8b26c2.jpg\";","export default __webpack_public_path__ + \"static/media/thumbnail.27155977.jpg\";","export default __webpack_public_path__ + \"static/media/trainer-contest-2020-banner.b00b3c6e.jpg\";","export default __webpack_public_path__ + \"static/media/trainer-contest-2020-thumbnail.930173c6.jpg\";","export default __webpack_public_path__ + \"static/media/trainer-contest-2021-thumbnail.11c82608.png\";","export default __webpack_public_path__ + \"static/media/trainer-contest-2021-banner.e987ca27.png\";","export default __webpack_public_path__ + \"static/media/onboarding-banner.26b54cf6.jpg\";","export default __webpack_public_path__ + \"static/media/onboarding-thumbnail.64b10fdb.jpg\";","export default __webpack_public_path__ + \"static/media/drawingContest2021.687d7d8c.jpg\";","export default __webpack_public_path__ + \"static/media/drawing-contest-2022-banner.f78ef963.jpg\";","export default __webpack_public_path__ + \"static/media/drawing-contest-2023-banner.d9a04096.jpg\";","export default __webpack_public_path__ + \"static/media/drawing-contest-2024-banner.47a44be8.jpg\";","export default __webpack_public_path__ + \"static/media/drawing-contest-2024-thumbnail.b589c7bf.png\";","export default __webpack_public_path__ + \"static/media/drawing-contest-2023-thumbnail.2f58d613.png\";","export default __webpack_public_path__ + \"static/media/drawing-contest-2022-thumbnail.36171cd7.jpg\";","export default __webpack_public_path__ + \"static/media/drc2021thumb.a9dac44a.jpg\";","import image0 from './67475f5b932fddb2ca87fc2f.png'\nimport image1 from './67475f91932fddb2ca880a9c.png'\nimport image2 from './674760669d90878cebd8beeb.png'\nimport image3 from './67475fb99d90878cebd8a077.png'\nimport image4 from './67475fdb9d90878cebd8a72d.png'\nimport image5 from './67475f169d90878cebd879f6.png'\nimport image6 from './674760439d90878cebd8b8ff.png'\nimport image7 from './67475ffe9d90878cebd8ac30.png'\nimport image8 from './674760219d90878cebd8b3bf.png'\nimport image9 from './674760989d90878cebd8c85a.png'\n\ntype ImagesRecord = Record<string, string>\n\nexport const images: ImagesRecord = {\n    '67475f5b932fddb2ca87fc2f': image0,\n    '67475f91932fddb2ca880a9c': image1,\n    '674760669d90878cebd8beeb': image2,\n    '67475fb99d90878cebd8a077': image3,\n    '67475fdb9d90878cebd8a72d': image4,\n    '67475f169d90878cebd879f6': image5,\n    '674760439d90878cebd8b8ff': image6,\n    '67475ffe9d90878cebd8ac30': image7,\n    '674760219d90878cebd8b3bf': image8,\n    '674760989d90878cebd8c85a': image9,\n}\n","export default __webpack_public_path__ + \"static/media/67475f5b932fddb2ca87fc2f.27c9cf44.png\";","export default __webpack_public_path__ + \"static/media/67475f91932fddb2ca880a9c.5d4dbb00.png\";","export default __webpack_public_path__ + \"static/media/674760669d90878cebd8beeb.7520b9bf.png\";","export default __webpack_public_path__ + \"static/media/67475fb99d90878cebd8a077.dc1a1b21.png\";","export default __webpack_public_path__ + \"static/media/67475fdb9d90878cebd8a72d.2815de13.png\";","export default __webpack_public_path__ + \"static/media/67475f169d90878cebd879f6.2dc5a4c4.png\";","export default __webpack_public_path__ + \"static/media/674760439d90878cebd8b8ff.a8e93717.png\";","export default __webpack_public_path__ + \"static/media/67475ffe9d90878cebd8ac30.9aca6f13.png\";","export default __webpack_public_path__ + \"static/media/674760219d90878cebd8b3bf.84b74d14.png\";","export default __webpack_public_path__ + \"static/media/674760989d90878cebd8c85a.4d2e4343.png\";","import image0 from './656ef0f76607f0129e79ffe8.png'\nimport image1 from './656ef1afa3ce9b42dd25a15f.png'\nimport image2 from './656ef1bea3ce9b42dd25a210.png'\nimport image3 from './656ef1cc6607f0129e7a084d.png'\nimport image4 from './656ef18f6607f0129e7a05db.png'\nimport image5 from './656ef19ca3ce9b42dd25a103.png'\nimport image6 from './656ef120a3ce9b42dd259c4f.png'\nimport image7 from './656ef1636607f0129e7a03e8.png'\nimport image8 from './656ef1786607f0129e7a04f5.png'\nimport image9 from './6568a364d89bd678473bea16.png'\n\ntype ImagesRecord = Record<string, string>\n\nexport const images: ImagesRecord = {\n    '656ef0f76607f0129e79ffe8': image0,\n    '656ef1afa3ce9b42dd25a15f': image1,\n    '656ef1bea3ce9b42dd25a210': image2,\n    '656ef1cc6607f0129e7a084d': image3,\n    '656ef18f6607f0129e7a05db': image4,\n    '656ef19ca3ce9b42dd25a103': image5,\n    '656ef120a3ce9b42dd259c4f': image6,\n    '656ef1636607f0129e7a03e8': image7,\n    '656ef1786607f0129e7a04f5': image8,\n    '6568a364d89bd678473bea16': image9,\n}\n","export default __webpack_public_path__ + \"static/media/656ef0f76607f0129e79ffe8.09a240f7.png\";","export default __webpack_public_path__ + \"static/media/656ef1afa3ce9b42dd25a15f.69791252.png\";","export default __webpack_public_path__ + \"static/media/656ef1bea3ce9b42dd25a210.69b4d4cb.png\";","export default __webpack_public_path__ + \"static/media/656ef1cc6607f0129e7a084d.5c9bac38.png\";","export default __webpack_public_path__ + \"static/media/656ef18f6607f0129e7a05db.646d6c5a.png\";","export default __webpack_public_path__ + \"static/media/656ef19ca3ce9b42dd25a103.ba455ee9.png\";","export default __webpack_public_path__ + \"static/media/656ef120a3ce9b42dd259c4f.63f55e9b.png\";","export default __webpack_public_path__ + \"static/media/656ef1636607f0129e7a03e8.a50e2f5f.png\";","export default __webpack_public_path__ + \"static/media/656ef1786607f0129e7a04f5.a556fc56.png\";","export default __webpack_public_path__ + \"static/media/6568a364d89bd678473bea16.fe2f9a6e.png\";","import image0 from './6390b5eee3150f90a41d5ce2.png'\nimport image1 from './6390b60b56d05765b3fbfb94.png'\nimport image2 from './6390b62ae6b232b1a323a9de.png'\nimport image3 from './6390b6368d8f3a0378ee82eb.png'\nimport image4 from './6390b6468d8f3a3a5cee8420.png'\nimport image5 from './6390b6ac8d8f3a6b2eee8e0d.png'\nimport image6 from './6390b6b9be7e645ef097b549.png'\nimport image7 from './6390b6c37c4c4781cdab7e87.png'\nimport image8 from './6390b6ced6569515eadc162e.png'\nimport image9 from './6390b6da83b28b6ac091cb1a.png'\n\ntype ImagesRecord = Record<string, string>\n\nexport const images: ImagesRecord = {\n    '6390b5eee3150f90a41d5ce2': image0,\n    '6390b60b56d05765b3fbfb94': image1,\n    '6390b62ae6b232b1a323a9de': image2,\n    '6390b6368d8f3a0378ee82eb': image3,\n    '6390b6468d8f3a3a5cee8420': image4,\n    '6390b6ac8d8f3a6b2eee8e0d': image5,\n    '6390b6b9be7e645ef097b549': image6,\n    '6390b6c37c4c4781cdab7e87': image7,\n    '6390b6ced6569515eadc162e': image8,\n    '6390b6da83b28b6ac091cb1a': image9,\n}\n","export default __webpack_public_path__ + \"static/media/6390b5eee3150f90a41d5ce2.e3994292.png\";","export default __webpack_public_path__ + \"static/media/6390b60b56d05765b3fbfb94.14525cb3.png\";","export default __webpack_public_path__ + \"static/media/6390b62ae6b232b1a323a9de.de243122.png\";","export default __webpack_public_path__ + \"static/media/6390b6368d8f3a0378ee82eb.49ad8dd4.png\";","export default __webpack_public_path__ + \"static/media/6390b6468d8f3a3a5cee8420.c5900afe.png\";","export default __webpack_public_path__ + \"static/media/6390b6ac8d8f3a6b2eee8e0d.d57b3f85.png\";","export default __webpack_public_path__ + \"static/media/6390b6b9be7e645ef097b549.adcc6dd6.png\";","export default __webpack_public_path__ + \"static/media/6390b6c37c4c4781cdab7e87.a3f06afb.png\";","export default __webpack_public_path__ + \"static/media/6390b6ced6569515eadc162e.2a157de1.png\";","export default __webpack_public_path__ + \"static/media/6390b6da83b28b6ac091cb1a.3573a0c0.png\";","import ae0ba45f80533ebd13ca2a from './61ae0ba45f80533ebd13ca2a.png'\nimport ae0bc55f805340c513ca4f from './61ae0bc55f805340c513ca4f.png'\nimport ae0bd7ae44152d5a5547c0 from './61ae0bd7ae44152d5a5547c0.png'\nimport ae0becae441518f05547de from './61ae0becae441518f05547de.png'\nimport ae0bff9403ab463a848676 from './61ae0bff9403ab463a848676.png'\nimport ae0c145f805313fb13ca9f from './61ae0c145f805313fb13ca9f.png'\nimport ae0c2a9403abf79b8486a8 from './61ae0c2a9403abf79b8486a8.png'\nimport ae0c36ae44158de655483e from './61ae0c36ae44158de655483e.png'\nimport ae0c4814bc24630aeaea50 from './61ae0c4814bc24630aeaea50.png'\nimport ae0c54ae44151c31554857 from './61ae0c54ae44151c31554857.png'\n\ntype ImagesRecord = Record<string, string>\n\nexport const images: ImagesRecord = {\n    '61ae0ba45f80533ebd13ca2a': ae0ba45f80533ebd13ca2a,\n    '61ae0bc55f805340c513ca4f': ae0bc55f805340c513ca4f,\n    '61ae0bd7ae44152d5a5547c0': ae0bd7ae44152d5a5547c0,\n    '61ae0becae441518f05547de': ae0becae441518f05547de,\n    '61ae0bff9403ab463a848676': ae0bff9403ab463a848676,\n    '61ae0c145f805313fb13ca9f': ae0c145f805313fb13ca9f,\n    '61ae0c2a9403abf79b8486a8': ae0c2a9403abf79b8486a8,\n    '61ae0c36ae44158de655483e': ae0c36ae44158de655483e,\n    '61ae0c4814bc24630aeaea50': ae0c4814bc24630aeaea50,\n    '61ae0c54ae44151c31554857': ae0c54ae44151c31554857,\n}\n","export default __webpack_public_path__ + \"static/media/61ae0ba45f80533ebd13ca2a.c73b30c2.png\";","export default __webpack_public_path__ + \"static/media/61ae0bc55f805340c513ca4f.cfda1452.png\";","export default __webpack_public_path__ + \"static/media/61ae0bd7ae44152d5a5547c0.94561f39.png\";","export default __webpack_public_path__ + \"static/media/61ae0becae441518f05547de.f44244bd.png\";","export default __webpack_public_path__ + \"static/media/61ae0bff9403ab463a848676.9a012efc.png\";","export default __webpack_public_path__ + \"static/media/61ae0c145f805313fb13ca9f.44b8b84d.png\";","export default __webpack_public_path__ + \"static/media/61ae0c2a9403abf79b8486a8.b023b4d1.png\";","export default __webpack_public_path__ + \"static/media/61ae0c36ae44158de655483e.62e73f49.png\";","export default __webpack_public_path__ + \"static/media/61ae0c4814bc24630aeaea50.7ccfbfd4.png\";","export default __webpack_public_path__ + \"static/media/61ae0c54ae44151c31554857.97eb2991.png\";","import fcb3ffd4a7e0a00092cb468 from './5fcb3ffd4a7e0a00092cb468.png'\nimport fcb40ac355ce60009048388 from './5fcb40ac355ce60009048388.png'\nimport fcb40bf4a7e0a00092cb4cd from './5fcb40bf4a7e0a00092cb4cd.png'\nimport fcb405c355ce60009048350 from './5fcb405c355ce60009048350.png'\nimport fcb409b4a7e0a00092cb4b4 from './5fcb409b4a7e0a00092cb4b4.png'\nimport fcb40704a7e0a00092cb492 from './5fcb40704a7e0a00092cb492.png'\nimport fcb4010355ce60009048330 from './5fcb4010355ce60009048330.png'\nimport fcb4026355ce60009048336 from './5fcb4026355ce60009048336.png'\nimport fcb4045355ce60009048343 from './5fcb4045355ce60009048343.png'\nimport fcb4088355ce60009048363 from './5fcb4088355ce60009048363.png'\n\ntype ImagesRecord = Record<string, string>\n\nexport const images: ImagesRecord = {\n    '5fcb3ffd4a7e0a00092cb468': fcb3ffd4a7e0a00092cb468,\n    '5fcb40ac355ce60009048388': fcb40ac355ce60009048388,\n    '5fcb40bf4a7e0a00092cb4cd': fcb40bf4a7e0a00092cb4cd,\n    '5fcb405c355ce60009048350': fcb405c355ce60009048350,\n    '5fcb409b4a7e0a00092cb4b4': fcb409b4a7e0a00092cb4b4,\n    '5fcb40704a7e0a00092cb492': fcb40704a7e0a00092cb492,\n    '5fcb4010355ce60009048330': fcb4010355ce60009048330,\n    '5fcb4026355ce60009048336': fcb4026355ce60009048336,\n    '5fcb4045355ce60009048343': fcb4045355ce60009048343,\n    '5fcb4088355ce60009048363': fcb4088355ce60009048363,\n}\n","export default __webpack_public_path__ + \"static/media/5fcb3ffd4a7e0a00092cb468.8363929f.png\";","export default __webpack_public_path__ + \"static/media/5fcb40ac355ce60009048388.cb31d35e.png\";","export default __webpack_public_path__ + \"static/media/5fcb40bf4a7e0a00092cb4cd.57f4cc8d.png\";","export default __webpack_public_path__ + \"static/media/5fcb405c355ce60009048350.8b0a5a4e.png\";","export default __webpack_public_path__ + \"static/media/5fcb409b4a7e0a00092cb4b4.9772ae4c.png\";","export default __webpack_public_path__ + \"static/media/5fcb40704a7e0a00092cb492.52625ab5.png\";","export default __webpack_public_path__ + \"static/media/5fcb4010355ce60009048330.88ad5bf5.png\";","export default __webpack_public_path__ + \"static/media/5fcb4026355ce60009048336.b1ef489d.png\";","export default __webpack_public_path__ + \"static/media/5fcb4045355ce60009048343.23982bb0.png\";","export default __webpack_public_path__ + \"static/media/5fcb4088355ce60009048363.ad1ea828.png\";","import dee3fdbb2dc0a00124753e3 from './5dee3fdbb2dc0a00124753e3.png'\nimport dee3ff4d33f4c002b30de16 from './5dee3ff4d33f4c002b30de16.png'\nimport dee4011d33f4c002b30de1a from './5dee4011d33f4c002b30de1a.png'\nimport dee4023b1a7b90011a38132 from './5dee4023b1a7b90011a38132.png'\nimport dee4036d33f4c002b30de21 from './5dee4036d33f4c002b30de21.png'\nimport dee4049b2dc0a00124753ec from './5dee4049b2dc0a00124753ec.png'\nimport dee4059d33f4c002b30de25 from './5dee4059d33f4c002b30de25.png'\nimport dee4068b1a7b90011a38135 from './5dee4068b1a7b90011a38135.png'\nimport dee4077d33f4c002b30de28 from './5dee4077d33f4c002b30de28.png'\nimport dee40040c59430012766bdc from './5dee40040c59430012766bdc.png'\n\ntype ImagesRecord = Record<string, string>\n\nexport const images: ImagesRecord = {\n    '5dee3fdbb2dc0a00124753e3': dee3fdbb2dc0a00124753e3,\n    '5dee3ff4d33f4c002b30de16': dee3ff4d33f4c002b30de16,\n    '5dee4011d33f4c002b30de1a': dee4011d33f4c002b30de1a,\n    '5dee4023b1a7b90011a38132': dee4023b1a7b90011a38132,\n    '5dee4036d33f4c002b30de21': dee4036d33f4c002b30de21,\n    '5dee4049b2dc0a00124753ec': dee4049b2dc0a00124753ec,\n    '5dee4059d33f4c002b30de25': dee4059d33f4c002b30de25,\n    '5dee4068b1a7b90011a38135': dee4068b1a7b90011a38135,\n    '5dee4077d33f4c002b30de28': dee4077d33f4c002b30de28,\n    '5dee40040c59430012766bdc': dee40040c59430012766bdc,\n}\n","export default __webpack_public_path__ + \"static/media/5dee3fdbb2dc0a00124753e3.e9f2663b.png\";","export default __webpack_public_path__ + \"static/media/5dee3ff4d33f4c002b30de16.ab932fee.png\";","export default __webpack_public_path__ + \"static/media/5dee4011d33f4c002b30de1a.1963673b.png\";","export default __webpack_public_path__ + \"static/media/5dee4023b1a7b90011a38132.e167358b.png\";","export default __webpack_public_path__ + \"static/media/5dee4036d33f4c002b30de21.12a7a0c7.png\";","export default __webpack_public_path__ + \"static/media/5dee4049b2dc0a00124753ec.099b0515.png\";","export default __webpack_public_path__ + \"static/media/5dee4059d33f4c002b30de25.38bbca02.png\";","export default __webpack_public_path__ + \"static/media/5dee4068b1a7b90011a38135.5c3692cf.png\";","export default __webpack_public_path__ + \"static/media/5dee4077d33f4c002b30de28.87196c32.png\";","export default __webpack_public_path__ + \"static/media/5dee40040c59430012766bdc.c0416161.png\";","export const EventsCampaigns = {\n    DRAWING_CONTEST_2019: {\n        dev: '5de697bec4e11600114125fa',\n        beta: '5de697bec4e11600114125fa',\n        prod: '5de697bec4e11600114125fa',\n    },\n    DRAWING_CONTEST_2020: {\n        dev: '5fc9136301fe0d0009f7d046',\n        beta: '5fc9136301fe0d0009f7d046',\n        prod: '5fc9136301fe0d0009f7d046',\n    },\n    DRAWING_CONTEST_2021: {\n        dev: '61ae0a55ae4415796a554671',\n        beta: '61ae0a55ae4415796a554671',\n        prod: '61ae0a55ae4415796a554671',\n    },\n    TRAINER_CONTEST_2020: {\n        dev: '5f193d5953b1f0000a3a977b',\n        beta: '5f193d5953b1f0000a3a977b',\n        prod: '5f193d5953b1f0000a3a977b',\n    },\n}","import { DynamicEventDefinition, EventDefinition } from '../types/eventTypes'\nimport drawingContestBannerImg from './media/drawing-contest-2020/images/drawing-contest-banner.jpg'\nimport drawingContest2020ThumbnailImg from './media/drawing-contest-2020/images/drawing-contest-2020-thumbnail.jpg'\nimport drawingContest2019ThumbnailImg from './media/drawing-contest-2019/images/drawing-contest-2019-thumbnail.jpg'\nimport digitalMissionBannerImg from '../pages/digital-misson-2020/images/digital-mission-banner.jpg'\nimport digitalMission2021BannerImg from '../pages/digital-mission-2021/images/digital-mission-banner.png'\nimport digitalMission2021ThumbnailImg from '../pages/digital-mission-2021/images/thumbnail.jpg'\nimport digitalMissionThumbnailImg from '../pages/digital-misson-2020/images/digital-mission-thumbnail.jpg'\nimport digigirlz2020BannerImg from '../pages/digigirlz-2020/images/digigirlz-banner.jpg'\nimport digigirlz2020ThmubnailImg from '../pages/digigirlz-2020/images/thumbnail.jpg'\nimport trainerContest2020BannerImg from '../pages/trainer-contest-2020/images/trainer-contest-2020-banner.jpg'\nimport trainerContest2020ThumbnailImg from '../pages/trainer-contest-2020/images/trainer-contest-2020-thumbnail.jpg'\nimport trainerContest2021ThumbnailImg from '../pages/trainer-contest-2021/images/trainer-contest-2021-thumbnail.png'\nimport trainerContest2021BannerImg from '../pages/trainer-contest-2021/images/trainer-contest-2021-banner.png'\nimport onBoardingBannerImg from '../pages/onboarding/media/onboarding-banner.jpg'\nimport onBoardingThumbnailImg from '../pages/onboarding/media/onboarding-thumbnail.jpg'\nimport drawingContest2021Img from './media/drawing-contest-2021/images/drawingContest2021.jpg'\nimport drawingContest2022Img from './media/drawing-contest-2022/images/drawing-contest-2022-banner.jpg'\nimport drawingContest2023Img from './media/drawing-contest-2023/images/drawing-contest-2023-banner.jpg'\nimport drawingContest2024Img from './media/drawing-contest-2024/drawing-contest-2024-banner.jpg'\nimport drawingContest2024ThumbnailImg from './media/drawing-contest-2024/drawing-contest-2024-thumbnail.png'\nimport drawingContest2023ThumbnailImg from './media/drawing-contest-2023/images/drawing-contest-2023-thumbnail.png'\nimport drawingContest2022ThumbnailImg from './media/drawing-contest-2022/images/drawing-contest-2022-thumbnail.jpg'\nimport drawingContest2021ThumbnailImg from './media/drawing-contest-2021/images/drc2021thumb.jpg'\n\nimport { ONBOARDING_ENABLED } from '../pages/onboarding/data/onboardingData'\nimport { isGuestOrRegisteredGuestUser } from 'contexts/UserContext'\nimport { getCampChallengeData } from '../camp-challenge/data/campChallengeData'\nimport dayjs from 'dayjs'\nimport { DynamicManagableEventDefinition, ManagableEventDefinition } from '../types/eventTypesV2'\nimport { images as images2024 } from './media/drawing-contest-2024/images'\nimport { images as images2023 } from './media/drawing-contest-2023/images'\nimport { images as images2022 } from './media/drawing-contest-2022/images'\nimport { images as images2021 } from './media/drawing-contest-2021/images'\nimport { images as images2020 } from './media/drawing-contest-2020/images'\nimport { images as images2019 } from './media/drawing-contest-2019/images'\nimport { createEnvironmentVariable } from '../../../utils/env'\nimport { EventsCampaigns } from './EventsCampaign'\n\nconst DRAWING_CONTEST_2021_VOTE_CAMPAIGN_ID = createEnvironmentVariable(EventsCampaigns['DRAWING_CONTEST_2021'])\nconst DRAWING_CONTEST_2020_VOTE_CAMPAIGN_ID = createEnvironmentVariable(EventsCampaigns['DRAWING_CONTEST_2020'])\nconst DRAWING_CONTEST_2019_VOTE_CAMPAIGN_ID = createEnvironmentVariable(EventsCampaigns['DRAWING_CONTEST_2019'])\n\nexport const eventsV2: (ManagableEventDefinition | DynamicManagableEventDefinition)[] = [\n    {\n        slug: 'drawing-contest-2024',\n        title: 'drawingContest2024::name',\n        ongoing: true,\n        startDate: '2024-10-07',\n        thumbnail: drawingContest2024ThumbnailImg,\n        detailsBanner: drawingContest2024Img,\n        banner: {\n            text: 'drawingContest2024::shortname',\n            image: drawingContest2024Img,\n        },\n        template: 'drawing-contest',\n        templateData: {\n            winnersDescription: 'drawingContest2024Summary::description',\n            votingDescription: 'DrawingContest2022NewsfeedPost05::description',\n            detailsDescription: 'drawingContest2023::description01',\n            campaignId: '66fdafc3ff66bcce21aaf607',\n            votingEndDate: dayjs('2024-12-16T00:00:00Z'),\n            resultImages: images2024,\n        },\n        state: [\n            {\n                state: 'preparation',\n                title: 'Preparation',\n                until: dayjs('2024-12-02'),\n            },\n            {\n                state: 'voting',\n                title: 'Voting',\n                until: dayjs('2024-12-16'),\n            },\n            {\n                state: 'preparation',\n                title: 'Waiting for results',\n                until: dayjs('2024-12-17'),\n            },\n            {\n                state: 'winners',\n                title: 'Winners',\n            },\n        ],\n        timeline: {\n            items: [\n                {\n                    title: 'drawingContest2024::timeline01',\n                    startDate: dayjs('2024-10-07'),\n                    endDate: dayjs('2024-10-27'),\n                },\n                {\n                    title: 'drawingContest2024::timeline02',\n                    startDate: dayjs('2024-10-30'),\n                    endDate: dayjs('2024-11-13'),\n                },\n                {\n                    title: 'drawingContest2022::timeline03',\n                    startDate: dayjs('2024-11-14'),\n                    endDate: dayjs('2024-11-27'),\n                },\n                {\n                    title: 'drawingContest2024::timeline04',\n                    startDate: dayjs('2024-12-02'),\n                    endDate: dayjs('2024-12-15'),\n                },\n                {\n                    title: 'drawingContest2024::timeline05',\n                    startDate: dayjs('2024-12-16'),\n                    endDate: dayjs('2024-12-16'),\n                },\n                {\n                    title: 'drawingContest2022::timeline06',\n                    startDate: dayjs('2024-12-17'),\n                    endDate: dayjs('2025-02-23'),\n                },\n                {\n                    title: 'drawingContest2024::timeline07',\n                    startDate: dayjs('2025-02-23'),\n                    endDate: dayjs('2025-02-24'),\n                },\n            ],\n        },\n    },\n    {\n        slug: 'drawing-contest-2023',\n        title: 'drawingContest2023::name',\n        ongoing: false,\n        startDate: '2023-10-09',\n        thumbnail: drawingContest2023ThumbnailImg,\n        detailsBanner: drawingContest2023Img,\n        banner: {\n            text: 'drawingContest2023::shortname',\n            image: drawingContest2023Img,\n        },\n        template: 'drawing-contest',\n        templateData: {\n            winnersDescription: 'drawingContest2023Summary::description',\n            votingDescription: 'DrawingContest2022NewsfeedPost05::description',\n            detailsDescription: 'drawingContest2023::description01',\n            campaignId: '6519d4c448ba95d029faa1f1',\n            votingEndDate: dayjs('2023-12-14T00:00:00Z'),\n            resultImages: images2023,\n        },\n        state: [\n            {\n                state: 'preparation',\n                title: 'Preparation',\n                until: dayjs('2023-12-06'),\n            },\n            {\n                state: 'voting',\n                title: 'Voting',\n                until: dayjs('2023-12-14'),\n            },\n            {\n                state: 'preparation',\n                title: 'Waiting for results',\n                until: dayjs('2023-12-15'),\n            },\n            {\n                state: 'winners',\n                title: 'Winners',\n            },\n        ],\n        timeline: {\n            items: [\n                {\n                    title: 'drawingContest2023::timeline01',\n                    startDate: dayjs('2023-10-09'),\n                    endDate: dayjs('2023-10-27'),\n                },\n                {\n                    title: 'drawingContest2023::timeline02',\n                    startDate: dayjs('2023-10-27'),\n                    endDate: dayjs('2023-11-13'),\n                },\n                {\n                    title: 'drawingContest2022::timeline03',\n                    startDate: dayjs('2023-11-14'),\n                    endDate: dayjs('2023-12-05'),\n                },\n                {\n                    title: 'drawingContest2023::timeline04',\n                    startDate: dayjs('2023-12-06'),\n                    endDate: dayjs('2023-12-13'),\n                },\n                {\n                    title: 'drawingContest2023::timeline05',\n                    startDate: dayjs('2023-12-14'),\n                    endDate: dayjs('2023-12-15'),\n                },\n                {\n                    title: 'drawingContest2022::timeline06',\n                    startDate: dayjs('2023-12-16'),\n                    endDate: dayjs('2024-02-01'),\n                },\n                {\n                    title: 'drawingContest2023::timeline07',\n                    startDate: dayjs('2024-02-02'),\n                    endDate: dayjs('2024-02-02'),\n                },\n            ],\n        },\n    },\n    {\n        slug: 'drawing-contest-2022',\n        startDate: '2022-10-09',\n        title: 'drawingContest2022::name',\n        ongoing: false,\n        thumbnail: drawingContest2022ThumbnailImg,\n        detailsBanner: drawingContest2022Img,\n        banner: {\n            text: 'drawingContest2022::shortname',\n            image: drawingContest2022Img,\n        },\n        template: 'drawing-contest',\n        templateData: {\n            winnersDescription: 'drawingContest2022Summary::description',\n            campaignId: '63888df8968834a04212e798',\n            votingEndDate: dayjs('2022-12-16T07:00:00Z'),\n            resultImages: images2022,\n        },\n        state: [\n            {\n                state: 'winners',\n                title: 'Winners',\n            },\n        ],\n        timeline: {\n            items: [\n                {\n                    title: 'drawingContest2022::timeline01',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2022::timeline02',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2022::timeline03',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2022::timeline04',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2022::timeline05',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2022::timeline06',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2022::timeline07',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n            ],\n        },\n    },\n    {\n        slug: 'drawing-contest-2021',\n        startDate: '2021-10-09',\n        title: 'drawingContest2021::name',\n        ongoing: false,\n        thumbnail: drawingContest2021ThumbnailImg,\n        detailsBanner: drawingContest2021Img,\n        banner: {\n            image: drawingContest2021Img,\n        },\n        template: 'drawing-contest',\n        templateData: {\n            winnersDescription: 'drawingContest2021Summary::description',\n            winnersDetails: 'drawingcontest2021NewCharactersClosing::description',\n            campaignId: DRAWING_CONTEST_2021_VOTE_CAMPAIGN_ID,\n            votingEndDate: dayjs('2022-12-16T07:00:00Z'),\n            resultImages: images2021,\n        },\n        state: [\n            {\n                state: 'winners',\n                title: 'Winners',\n            },\n        ],\n        timeline: {\n            items: [\n                {\n                    title: 'drawingContest2021::timeline01',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2021::timeline02',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2021::timeline03',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2021::timeline04',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2021::timeline05',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2021::timeline06',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2021::timeline07',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n            ],\n        },\n    },\n    {\n        slug: 'drawing-contest-2020',\n        startDate: '2020-10-09',\n        title: 'drawingContest2020::name',\n        ongoing: false,\n        thumbnail: drawingContest2020ThumbnailImg,\n        detailsBanner: drawingContestBannerImg,\n        template: 'drawing-contest',\n        templateData: {\n            winnersDescription: 'drawingContest2020Summary::description',\n            winnersDetails: 'drawingcontest2020NewCharacters::description',\n            campaignId: DRAWING_CONTEST_2020_VOTE_CAMPAIGN_ID,\n            votingEndDate: dayjs('2022-12-16T07:00:00Z'),\n            resultImages: images2020,\n        },\n        state: [\n            {\n                state: 'winners',\n                title: 'Winners',\n            },\n        ],\n        timeline: {\n            items: [\n                {\n                    title: 'drawingContest2020Summary::timeline01',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2020Summary::timeline02',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2020Summary::timeline03',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2020Summary::timeline04',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2020Summary::timeline05',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2020Summary::timeline06',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2020Summary::timeline07',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n            ],\n        },\n    },\n    {\n        slug: 'drawing-contest-2019',\n        startDate: '2019-10-09',\n        title: 'drawingContest2019::name',\n        ongoing: false,\n        thumbnail: drawingContest2019ThumbnailImg,\n        detailsBanner: drawingContestBannerImg,\n        template: 'drawing-contest',\n        templateData: {\n            winnersDescription: 'drawingContest2019Summary::description',\n            winnersDetails: 'drawingcontest2020NewCharacters::description',\n            campaignId: DRAWING_CONTEST_2019_VOTE_CAMPAIGN_ID,\n            votingEndDate: dayjs('2022-12-16T07:00:00Z'),\n            resultImages: images2019,\n        },\n        state: [\n            {\n                state: 'winners',\n                title: 'Winners',\n            },\n        ],\n        timeline: {\n            items: [\n                {\n                    title: 'drawingContest2020Summary::timeline01',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2020Summary::timeline02',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2020Summary::timeline03',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2020Summary::timeline04',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2020Summary::timeline05',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2020Summary::timeline06',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n                {\n                    title: 'drawingContest2020Summary::timeline07',\n                    startDate: dayjs('2022-01-01'),\n                    endDate: dayjs('2022-01-01'),\n                },\n            ],\n        },\n    },\n]\n\nexport const events: (EventDefinition | DynamicEventDefinition)[] = [\n    user => {\n        const data = getCampChallengeData(user, 2023)\n\n        if (!data) {\n            return null\n        }\n\n        return {\n            slug: 'camp-challenge-2023',\n            title: 'campPromoMission2023::pageTitle',\n            banner: {\n                text: 'campPromoMission2023::pageTitle',\n                image: 'https://api.prod.scoolcode.com/files/64537ec44bec3ad17f768241/data',\n                background: 'linear-gradient(to right, rgb(51, 110, 166), rgba(51, 110, 166, 0))',\n            },\n            ongoing: dayjs(data.endDate).isAfter(dayjs()),\n            thumbnail: 'https://api.dev.scoolcode.com/files/64538769e1fa64f959ea6ce0/data',\n            startDate: data.startDate,\n            filters: {\n                grant: { product: 'edup.universe', feature: 'content.camp-challenge-2023' },\n            },\n        }\n    },\n\n    user => ({\n        slug: 'mylogiscool-mission',\n        title: 'OnboardingMission::title',\n        ongoing: isGuestOrRegisteredGuestUser(user),\n        thumbnail: onBoardingThumbnailImg,\n        banner: {\n            image: onBoardingBannerImg,\n            text: 'OnboardingMission::title',\n        },\n        enabled: ONBOARDING_ENABLED,\n        filters: {\n            grant: { product: 'edup.universe', feature: 'content.onboarding-event' },\n        },\n        hideBreadCrumb: true,\n    }),\n    {\n        slug: 'digital-mission-2021',\n        title: 'Digital Mission 2021',\n        ongoing: false,\n        thumbnail: digitalMission2021ThumbnailImg,\n        detailsBanner: digitalMission2021BannerImg,\n        banner: {\n            image: digitalMission2021BannerImg,\n        },\n    },\n    {\n        slug: 'trainer-contest-2021',\n        title: 'trainerContest2021::title',\n        ongoing: false,\n        thumbnail: trainerContest2021ThumbnailImg,\n        detailsBanner: trainerContest2021BannerImg,\n        banner: {\n            image: trainerContest2021BannerImg,\n        },\n        timeline: {\n            items: [\n                { title: 'trainerContest2021::Timeline01', status: 'past' },\n                { title: 'trainerContest2021::Timeline02', status: 'past' },\n                {\n                    title: 'trainerContest2021::Timeline03',\n                    status: 'past',\n                },\n                {\n                    title: 'trainerContest2021::Timeline04',\n                    status: 'past',\n                },\n            ],\n        },\n    },\n    {\n        slug: 'digigirlz-2020',\n        title: 'DigiGirlz',\n        ongoing: false,\n        thumbnail: digigirlz2020ThmubnailImg,\n        detailsBanner: digigirlz2020BannerImg,\n        timeline: {\n            items: [\n                {\n                    status: 'past',\n                    title: 'Elérhetővé válik a MyLogiscool-on az első forduló 3 kvíze a mesterséges intelligencia és a fenntarthatóság témakörében.',\n                },\n                {\n                    status: 'past',\n                    title: 'Első forduló lezárása, továbbjutók kiválasztása. Továbbjutók: akik mind a 3 kvízt kitöltötték, és legalább a kérdések harmadára jól válaszoltak.',\n                },\n                {\n                    status: 'past',\n                    title: 'A továbbjutók meghívást kapnak a második fordulóba, ahol egy olyan ötletet, találmányt kell benyújtaniuk pályamunka formájában 2021. május 2-ig, melyben bemutatják, miként tudja a mesterséges intelligencia segíteni a gyermekek életét.',\n                },\n                {\n                    status: 'past',\n                    title: 'Pályaművek zsűrizése: mindkét korcsoport 3 legjobbját és az összes pályamunkát benyújtó közül a 30 legjobbat választják ki. Ők kapnak értékes ajándékcsomagot.',\n                },\n                {\n                    status: 'past',\n                    title: 'Online élménynap a második fordulóba bejutottak számára 2021. május 29-én, ennek keretében történik a hivatalos eredményhirdetés. ',\n                },\n            ],\n        },\n        filters: {\n            countries: ['HU'],\n            gender: 'f',\n        },\n    },\n    {\n        slug: 'drawing-contest-2020',\n        title: 'drawingContest2020::name',\n        ongoing: false,\n        thumbnail: drawingContest2020ThumbnailImg,\n        detailsBanner: drawingContestBannerImg,\n        timeline: {\n            items: [\n                { title: 'drawingContest2020Summary::timeline01', status: 'past' },\n                { title: 'drawingContest2020Summary::timeline02', status: 'past' },\n                {\n                    title: 'drawingContest2020Summary::timeline03',\n                    status: 'past',\n                },\n                {\n                    title: 'drawingContest2020Summary::timeline04',\n                    status: 'past',\n                },\n                { title: 'drawingContest2020Summary::timeline05', status: 'past' },\n                {\n                    title: 'drawingContest2020Summary::timeline06',\n                    status: 'past',\n                },\n                {\n                    title: 'drawingContest2020Summary::timeline07',\n                    status: 'past',\n                },\n            ],\n        },\n    },\n    {\n        slug: 'digital-mission-2020',\n        title: 'digitalMission2020::title',\n        ongoing: false,\n        thumbnail: digitalMissionThumbnailImg,\n        detailsBanner: digitalMissionBannerImg,\n    },\n    {\n        slug: 'trainer-contest-2020',\n        title: 'trainerContest2020::title',\n        ongoing: false,\n        thumbnail: trainerContest2020ThumbnailImg,\n        detailsBanner: trainerContest2020BannerImg,\n        timeline: {\n            items: [\n                { title: 'trainerContest::Timeline01', status: 'past' },\n                { title: 'trainerContest::Timeline02', status: 'past' },\n                {\n                    title: 'trainerContest::Timeline03',\n                    status: 'past',\n                },\n            ],\n        },\n    },\n]\n","import { ApiTypes } from 'lib/api/types'\nimport { ApiBase } from 'lib/api/ApiBase'\nimport { createEnvironmentVariable } from 'utils/env'\nimport { events, eventsV2 } from './eventData'\nimport { UserState } from 'contexts/UserContext'\nimport { DynamicEventDefinition, EventDefinition } from '../types/eventTypes'\nimport { hasGrant } from 'lib/grants'\nimport { SHAREABLE_TRAINERCONTEST_PROJECT_TAG } from 'features/projects'\nimport { AxiosInstance } from 'axios'\nimport { filterNulls } from 'utils/arrayUtilts'\nimport { ActivityEvent } from '../activity-events/types/activityEventTypes'\nimport dayjs from 'dayjs'\nimport { DynamicManagableEventDefinition, ManagableEventDefinition } from '../types/eventTypesV2'\nimport { EventsCampaigns } from './EventsCampaign'\n\nexport type VoteTarget = ApiTypes['vote-target'] & { id: string }\nexport type VoteCampaign = ApiTypes['vote-campaign'] & { targets: VoteTarget[] } & { id: string }\nexport type FileWithEmbeddedOwner = Omit<ApiTypes['file'], 'owner'> & { owner: ApiTypes['account'] }\nexport type TrainerContestResults = {\n    contestData: VoteTarget | undefined\n    file: FileWithEmbeddedOwner | undefined\n}\n\nfunction objectListToIdList(objectList: any[]) {\n    return objectList.map(object => (typeof object === 'string' ? object : object.id || object._id))\n}\n\nexport class EventsApi extends ApiBase {\n    constructor(client: AxiosInstance, private getUserId: () => string | null) {\n        super(client)\n    }\n\n    private getActivityEvents = async () => {\n        try {\n            const activityEvents = await this.client.get<ActivityEvent[]>(`events/my`, { params: { showOld: true } })\n            return activityEvents.data\n        } catch (e) {\n            console.error(e)\n            return false\n        }\n    }\n\n    public createActivityEvent = async (event: ActivityEvent) => {\n        try {\n            const submittableEvent: any = { ...event }\n            delete submittableEvent.id\n            delete submittableEvent._id\n            delete submittableEvent.__v\n            delete submittableEvent.createdAt\n            delete submittableEvent.updatedAt\n\n            submittableEvent.published = false\n            submittableEvent.closed = false\n\n            submittableEvent.tasks = objectListToIdList(submittableEvent.tasks)\n\n            for (let milestone of submittableEvent.milestones) {\n                delete milestone.id\n                delete milestone._id\n                delete milestone.__v\n            }\n\n            for (let subEvent of submittableEvent.subEvents) {\n                delete subEvent.id\n                delete subEvent._id\n                delete subEvent.__v\n\n                for (let trigger of subEvent.triggers) {\n                    delete trigger.id\n                    delete trigger._id\n                    delete trigger.__v\n                }\n\n                for (let winnerAction of subEvent.winnerActions) {\n                    delete winnerAction.id\n                    delete winnerAction._id\n                    delete winnerAction.__v\n                }\n            }\n\n            const activityEvent = await this.client.post<ActivityEvent>(`events`, submittableEvent)\n            return activityEvent.data\n        } catch (e) {\n            console.error(e)\n            return null\n        }\n    }\n\n    public updateActivityEvent = async (event: ActivityEvent) => {\n        try {\n            const submittableEvent: any = { ...event }\n            delete submittableEvent.__v\n\n            submittableEvent.tasks = objectListToIdList(submittableEvent.tasks)\n\n            for (let milestone of submittableEvent.milestones) {\n                delete milestone.__v\n            }\n\n            for (let subEvent of submittableEvent.subEvents) {\n                delete subEvent.__v\n\n                for (let trigger of subEvent.triggers) {\n                    delete trigger.__v\n                }\n\n                for (let winnerAction of subEvent.winnerActions) {\n                    delete winnerAction.__v\n                }\n            }\n\n            const activityEvent = await this.client.put<ActivityEvent>(\n                `events/${submittableEvent._id}`,\n                submittableEvent,\n            )\n            return activityEvent.data\n        } catch (e) {\n            console.error(e)\n            return null\n        }\n    }\n\n    getEventsForUser = async (user: UserState) => {\n        const activityEvents = await this.getActivityEvents()\n\n        const filterByCountry = (event: EventDefinition | ManagableEventDefinition) => {\n            if (!event.filters?.countries) {\n                return true\n            }\n            return event.filters.countries.includes(user.i18n.country)\n        }\n\n        const filterByGender = (entry: EventDefinition | ManagableEventDefinition) =>\n            entry.filters?.gender ? entry.filters?.gender === user.crm.gender : true\n\n        const filterByGrant = (entry: EventDefinition | ManagableEventDefinition) =>\n            entry.filters?.grant ? hasGrant(user.grants)(entry.filters.grant) : true\n\n        const filterByEnabled = (entry: EventDefinition | ManagableEventDefinition) =>\n            entry.enabled !== undefined ? entry.enabled : true\n\n        const filterByStartDate = (entry: EventDefinition | ManagableEventDefinition) =>\n            entry.startDate ? dayjs(entry.startDate).isBefore(dayjs()) : true\n\n        const applyDynamicEvents = (\n            entry:\n                | EventDefinition\n                | DynamicEventDefinition\n                | ManagableEventDefinition\n                | DynamicManagableEventDefinition,\n        ) => (typeof entry === 'function' ? entry(user) : entry)\n\n        const eventsWithTemplate = (activityEvents || []).map(event => {\n            if (event.template) {\n                return {\n                    ...event,\n                    managableEvent: {\n                        slug: event.slug,\n                        groupSlug: event.group,\n                        ongoing: !event.closed,\n                        title: event.titleKey,\n                        closedTitle: event.closedTitleKey || event.titleKey,\n                        banner: {\n                            image: event.banner,\n                            text: event.bannerTitleKey,\n                        },\n                        thumbnail: event.thumbnail,\n                        startDate: event.startDate,\n                        template: event.template,\n                        templateData: event.templateData,\n                        state: [{ state: 'default' }],\n                        enabled: true,\n                        detailsBanner: event.detailsBanner,\n                        original: event,\n                    },\n                }\n            }\n            return event\n        })\n\n        const normalizedEvents = [...eventsV2, ...events].map(applyDynamicEvents)\n\n        const filteredEvents = normalizedEvents\n            .filter(filterNulls)\n            .filter(filterByStartDate)\n            .filter(filterByEnabled)\n            .filter(filterByCountry)\n            .filter(filterByGender)\n            .filter(filterByGrant)\n\n        return {\n            normalEvents: filteredEvents,\n            activityEvents: eventsWithTemplate,\n            hasEventsGrant: activityEvents !== false,\n        }\n    }\n\n    getVoteTargets = async (campaign: string, disableVoteCountSort?: boolean) => {\n        const res = await this.client.get<VoteTarget[]>('/vote-targets', {\n            params: {\n                campaign: campaign,\n                sort: disableVoteCountSort ? undefined : '-voteCount',\n            },\n        })\n\n        return res.data\n    }\n\n    getCookiesForProjects = async (ids: string[]) => {\n        if (ids.length === 0) {\n            return []\n        }\n\n        const res = await this.client.get<{ file: string }[]>('/cookies/my', {\n            params: {\n                'where[file][in]': ids.join(),\n            },\n        })\n        return res.data.map(cookie => cookie.file)\n    }\n\n    getMyShareableContestProjects = async () => {\n        return this.client.get<ApiTypes['file'][]>('/files', {\n            params: {\n                owner: this.getUserId(),\n                'where[kind][in]': 'project/mix,project/blocks',\n                deleted: false,\n                sort: '-updatedAt',\n                'where[tags][eq]': SHAREABLE_TRAINERCONTEST_PROJECT_TAG,\n                'where[shareSpecial][ne]': SHAREABLE_TRAINERCONTEST_PROJECT_TAG,\n                shared: false,\n            },\n        })\n    }\n\n    getMyContestProjects = async () => {\n        return this.client.get<ApiTypes['file'][]>(`/files`, {\n            params: {\n                owner: this.getUserId(),\n                'where[tags][eq]': SHAREABLE_TRAINERCONTEST_PROJECT_TAG,\n                deleted: false,\n                shareSpecial: SHAREABLE_TRAINERCONTEST_PROJECT_TAG,\n            },\n        })\n    }\n\n    getTrainerContestFinalResults = async () => {\n        const VOTE_CAMPAIGN = createEnvironmentVariable(EventsCampaigns['TRAINER_CONTEST_2020'])\n        const res = await this.client.get<VoteTarget[]>('/vote-targets', {\n            params: {\n                campaign: VOTE_CAMPAIGN,\n            },\n        })\n\n        const filteredData = res.data.filter(contest => contest.source)\n\n        const filesData = await this.client.get<FileWithEmbeddedOwner[]>('/files', {\n            params: {\n                shareSpecial: 'trainercontest2020:general',\n                embed: 'owner',\n            },\n        })\n\n        const contestWithFileData = filteredData.map(contest => {\n            return {\n                contestData: contest,\n                file: filesData.data.find(file => file.id === contest.source),\n            }\n        })\n        contestWithFileData.sort((a, b) => ((a.file?.cookieCount ?? 0) > (b.file?.cookieCount ?? 0) ? -1 : 1))\n\n        return contestWithFileData\n    }\n\n    nominateProject = async (id: string) => {\n        return this.client.post(`/files/${id}/share`, null, {\n            params: {\n                shareSpecial: SHAREABLE_TRAINERCONTEST_PROJECT_TAG,\n                voteCampaign: '60e578779913d80dc86c42d6',\n                createVoteTarget: true,\n            },\n        })\n    }\n\n    unshareContestProject = async (id: string) => {\n        return this.client.delete(`/files/${id}/share`, {\n            params: {\n                shareSpecial: SHAREABLE_TRAINERCONTEST_PROJECT_TAG,\n            },\n        })\n    }\n\n    getTrainerContestForVoting2021 = async () => {\n        return this.client.get<ApiTypes['file'][]>(`/files`, {\n            params: {\n                'where[tags][eq]': SHAREABLE_TRAINERCONTEST_PROJECT_TAG,\n                deleted: false,\n                shareSpecial: SHAREABLE_TRAINERCONTEST_PROJECT_TAG,\n            },\n        })\n    }\n\n    getTrainerContestFinalResults2021 = async () => {\n        return this.client.get<FileWithEmbeddedOwner[]>(`/files`, {\n            params: {\n                'where[tags][eq]': SHAREABLE_TRAINERCONTEST_PROJECT_TAG,\n                deleted: false,\n                shareSpecial: SHAREABLE_TRAINERCONTEST_PROJECT_TAG,\n                embed: 'owner',\n            },\n        })\n    }\n}\n","import { VoteCampaign } from 'features/events/data/eventsApi'\nimport { ApiBase } from 'lib/api/ApiBase'\nimport { FeedEntry, FeedType, NewsFeeds } from '../types/feedTypes'\n\nexport class FeedApi extends ApiBase {\n    getVoteCampaign = async (id: string) => {\n        const res = await this.client.get<VoteCampaign>(`vote-campaigns/${id}?embed=targets`)\n\n        return res.data\n    }\n\n    getFeedEntries = async (type: FeedType, limit: number, skip: number) => {\n        const params: Record<string, any> = {\n            limit,\n            skip,\n        }\n\n        if (type === 'trainer') {\n            params.onlyTrainer = true\n        }\n\n        const res = await this.client.get<NewsFeeds>('news-feeds/my', { params })\n\n        return res.data\n    }\n\n    getFeedEntry = async (id: string) => {\n        return this.client.get<FeedEntry>(`news-feeds/${id}`)\n    }\n}\n","import { ApiBase } from 'lib/api/ApiBase'\nimport { Wallpaper } from '../types/wallpaperTypes'\n\nexport class WallpapersApi extends ApiBase {\n    getWallpapers = () => {\n        return this.client.get<Wallpaper[]>('wallpapers/my')\n    }\n\n    incrementWallpaperDownloadCount = (id: string) => {\n        return this.client.patch(`wallpapers/${id}/increment-download-count`)\n    }\n}\n","import {ApiBase} from \"../../lib/api/ApiBase\";\nimport {ApiTypes} from \"../../lib/api\";\n\nexport class ManagementApi extends ApiBase {\n    async uploadImage(file: File) {\n        const formData = new FormData();\n        formData.append('name', file.name);\n        formData.append('kind', file.type)\n        formData.append('metadata', JSON.stringify({ public: true }))\n        formData.append('folder', \"6111380c1c686e9a2eddabea\") //dashboard-data folder\n        formData.append('file', file);\n        return this.client.post<ApiTypes['file']>(`/files/upload`, formData);\n    }\n}","import Axios from 'axios'\nimport { AccountsApi } from './AccountsApi'\nimport { LanguagesApi } from 'lib/i18n'\nimport { SecretCodesApi } from 'features/secret-code'\nimport { ProjectsApi } from 'features/projects'\nimport { CertificatesApi } from 'features/certificates'\nimport { EventsApi } from 'features/events/data/eventsApi'\nimport { MeetingsApi } from 'features/meetings'\nimport { GroupsApi } from 'features/classroom'\nimport { ScoolcodeChallengeApi } from 'features/scoolcode-challenge'\nimport { runtimeEnv } from 'utils/env'\nimport { QuizApi } from 'features/quiz'\nimport { FeedApi } from 'features/feed/data/feedApi'\nimport { SurveysApi } from 'features/surveys'\nimport { MiniQuizApi } from 'features/mini-quizzes'\nimport { WallpapersApi } from 'features/wallpapers/data/WallpapersApi'\nimport { ManagementApi } from '../../features/management/ManagementApi'\n\nclass Api {\n    readonly baseUrl = runtimeEnv.REACT_APP_API_URL\n    readonly oauthBaseUrl = runtimeEnv.REACT_APP_OAUTH_URL\n    readonly client = Axios.create({ baseURL: this.baseUrl, timeout: 15000 })\n    accessToken: string | null = null\n\n    private userId: string | null = null\n\n    init(token: string) {\n        this.accessToken = token\n        this.client.defaults.params = {\n            ...this.client.defaults.params,\n            access_token: token,\n        }\n        this.client.interceptors.response.use(\n            response => {\n                return response\n            },\n            error => {\n                if (error.response && error.response.status === 403 && error.response.data === 'Invalid Token') {\n                    window.location.reload()\n                }\n                return Promise.reject(error)\n            },\n        )\n    }\n\n    setUserId = (userId: string) => {\n        this.userId = userId\n    }\n\n    private getUserId = () => {\n        return this.userId\n    }\n\n    readonly accounts = new AccountsApi(this.client)\n    readonly languages = new LanguagesApi(this.client)\n    readonly secretCodes = new SecretCodesApi(this.client)\n    readonly projects = new ProjectsApi(this.client, this.getUserId)\n    readonly certificates = new CertificatesApi(this.client, this.getUserId)\n    readonly events = new EventsApi(this.client, this.getUserId)\n    readonly quizzes = new QuizApi(this.client)\n    readonly meetings = new MeetingsApi(this.client)\n    readonly groups = new GroupsApi(this.client)\n    readonly surveys = new SurveysApi(this.client)\n    readonly scoolcodeChallenges = new ScoolcodeChallengeApi(this.client, this.getUserId)\n    readonly feed = new FeedApi(this.client)\n    readonly miniQuizzes = new MiniQuizApi(this.client, this.getUserId)\n    readonly wallpapers = new WallpapersApi(this.client)\n    readonly management = new ManagementApi(this.client)\n}\n\nexport const removeTokenFromParams = (params?: Record<any, any>) => {\n    return {\n        ...params,\n        access_token: undefined,\n    }\n}\n\nexport const api = new Api()\n","import { CREATE_GENERATED_QUIZ_ROOM } from 'lib/liveops/constants'\nimport { client } from 'redux-socket-client'\n\nexport type GeneratedQuizDifficulty = 'easy' | 'medium' | 'hard'\nexport type GeneratedQuizMode = 'single-player' | 'multi-player'\nexport type GeneratedQuizSpeed = 'normal' | 'fast'\n\nexport const createGeneratedQuizRoom = client(\n    (\n        numberOfQuestions: number,\n        difficulty: 'easy' | 'medium' | 'hard',\n        mode: 'single-player' | 'multi-player',\n        speed?: 'normal' | 'fast',\n    ) => ({\n        type: CREATE_GENERATED_QUIZ_ROOM,\n        payload: {\n            numberOfQuestions,\n            difficulty,\n            speed,\n            mode,\n        },\n    }),\n)\n","import React from 'react'\nimport { useTranslate } from '../../../lib/i18n/useTranslate'\nimport { useGeneratedQuizSessionsQuery } from './generatedQuizQueries'\nimport { useLocalisedQuizValue } from '../quizHelpers'\nimport { ErrorMessage } from '../../../components/ErrorMessage'\nimport { Loader } from '../../../components/Loader'\nimport { Flex, Stack } from '../../../components/layout'\nimport { Button } from '../../../components/Button'\nimport { Link } from 'react-router-dom'\nimport { GeneratedQuizDifficulty } from './generatedQuizHelpers'\nimport { useGeneratedQuizCreator } from './useGeneratedQuizCreator'\nimport { Box } from '@material-ui/core'\nimport { Text } from '../../../components/Text'\nimport { EasyQuizIcon, FastForwardIcon, HardQuizIcon, MediumQuizIcon, PlayIcon } from '../../../components/icons'\nimport styled, { css } from 'styled-components/macro'\n\ninterface QuizKind {\n    icon: any\n    difficulty: GeneratedQuizDifficulty\n    nQuestions: number\n}\n\nconst QUIZ_KINDS: QuizKind[] = [\n    { icon: EasyQuizIcon, difficulty: 'easy', nQuestions: 3 },\n    { icon: MediumQuizIcon, difficulty: 'medium', nQuestions: 7 },\n    { icon: HardQuizIcon, difficulty: 'hard', nQuestions: 12 },\n]\n\nconst GeneratedQuizCardContent: React.FC = () => {\n    const t = useTranslate()\n    const { data: activeSessions, status } = useGeneratedQuizSessionsQuery()\n    const { translateQuizLocaleString } = useLocalisedQuizValue()\n\n    if (status === 'error') {\n        return <ErrorMessage />\n    }\n\n    if (!activeSessions) {\n        return <Loader />\n    }\n\n    const activeSession = activeSessions.data[0]\n\n    return (\n        <Stack m={4} style={{ width: '100%' }}>\n            {activeSession ? (\n                <Button component={LinkRoot} to={`/app/quiz-mania/${activeSession.slug}`}>\n                    <Content>\n                        <Text style={{ justifySelf: 'start', textAlign: 'left' }}>\n                            {translateQuizLocaleString(activeSession.live.name, activeSession.live.nameKeys)}\n                            <br />\n                            <TemplateItemMetadata>\n                                {t('general::nQuestions', {\n                                    count: activeSession.live.nQuestions - activeSession.live.questionIndex,\n                                })}\n                            </TemplateItemMetadata>\n                        </Text>\n                        <IconWrap style={{ justifySelf: 'end' }}>\n                            <ContinueIcon />\n                        </IconWrap>\n                    </Content>\n                </Button>\n            ) : (\n                <SinglePlayerCreator />\n            )}\n        </Stack>\n    )\n}\n\nconst SinglePlayerCreator: React.FC = () => {\n    const { isLoading, generateQuiz } = useGeneratedQuizCreator()\n    const t = useTranslate()\n\n    return (\n        <Flex direction=\"column\" align=\"stretch\" style={{ gap: '0.5rem' }}>\n            {QUIZ_KINDS.map(({ difficulty, nQuestions, icon }) => (\n                <StartQuizButton\n                    key={difficulty}\n                    icon={icon}\n                    title={t(`general::${difficulty}`)}\n                    isLoading={isLoading}\n                    subTitle={t('general::nQuestions', { count: nQuestions })}\n                    onClick={() => generateQuiz(nQuestions, difficulty, 'single-player')}\n                />\n            ))}\n        </Flex>\n    )\n}\n\nconst StartQuizButton: React.FC<{ title: string; subTitle: string; onClick: Function; isLoading: boolean; icon: any }> =\n    ({ title, subTitle, onClick, isLoading, icon: Icon }) => {\n        return (\n            // @ts-ignore\n            <ButtonRoot onClick={onClick} isLoading={isLoading}>\n                <Content>\n                    <IconWrap>\n                        <Icon />\n                    </IconWrap>\n                    <Text style={{ justifySelf: 'start' }}>\n                        {title}\n                        <TemplateItemMetadata>\n                            <> • </>\n                            {subTitle}\n                        </TemplateItemMetadata>\n                    </Text>\n                    <IconWrap style={{ justifySelf: 'end' }}>\n                        <StartIcon />\n                    </IconWrap>\n                </Content>\n            </ButtonRoot>\n        )\n    }\n\nconst ButtonRoot = styled(Button)`\n    background: ${props => props.theme.palette.background.paper};\n    border: 3px solid ${props => props.theme.palette.background.paper};\n    transition: border ${props => props.theme.transitions.duration.standard}ms;\n    color: ${props => props.theme.palette.text.primary};\n    justify-content: stretch;\n    &:hover {\n        background: ${props => props.theme.palette.background.paper};\n        color: ${props => props.theme.palette.text.primary};\n        border: 3px solid ${props => props.theme.palette.primary.main};\n        transition: border ${props => props.theme.transitions.duration.standard}ms;\n    }\n`\n\nconst LinkRoot = styled(Link)`\n    background: ${props => props.theme.palette.background.paper};\n    border: 3px solid ${props => props.theme.palette.background.paper};\n    transition: border ${props => props.theme.transitions.duration.standard}ms;\n    color: ${props => props.theme.palette.text.primary};\n    justify-content: stretch;\n    &:hover {\n        background: ${props => props.theme.palette.background.paper};\n        color: ${props => props.theme.palette.text.primary};\n        border: 3px solid ${props => props.theme.palette.primary.main};\n        transition: border ${props => props.theme.transitions.duration.standard}ms;\n    }\n`\n\nconst TemplateItemMetadata = styled.span`\n    opacity: 0.5;\n`\n\nconst IconWrap = styled.span`\n    > * {\n        vertical-align: middle;\n        font-size: 1.5rem;\n    }\n`\n\nconst iconBaseStyles = css`\n    font-size: 1.5rem;\n`\n\nconst StartIcon = styled(PlayIcon)`\n    ${iconBaseStyles}\n    color: ${props => props.theme.palette.primary.main};\n`\n\nconst ContinueIcon = styled(FastForwardIcon)`\n    ${iconBaseStyles}\n    color: ${props => props.theme.palette.primary.main};\n`\n\nconst Content = styled(Box)`\n    display: grid;\n    grid-template-columns: auto 1fr auto;\n    width: 100%;\n    align-items: center;\n    gap: ${props => props.theme.spacing(4)};\n    justify-content: space-between;\n`\n\nexport { GeneratedQuizCardContent }\n","import { useState } from 'react'\nimport { useNotifications } from '../../notifications'\nimport { useTranslate } from '../../../lib/i18n/useTranslate'\nimport { useHistory } from 'react-router-dom'\nimport { useQueryCache } from 'react-query'\nimport { useDispatch } from 'react-redux'\nimport {\n    createGeneratedQuizRoom,\n    GeneratedQuizDifficulty,\n    GeneratedQuizMode,\n    GeneratedQuizSpeed,\n} from './generatedQuizHelpers'\nimport { storeActionListener } from '../../../lib/store/store-action-listener'\nimport { QUIZ_SESSION_READY } from '../../../lib/liveops/constants'\n\nexport function useGeneratedQuizCreator() {\n    const [isLoading, setIsLoading] = useState(false)\n    const { notify } = useNotifications()\n    const t = useTranslate()\n    const history = useHistory()\n    const queryCache = useQueryCache()\n    const dispatch = useDispatch()\n\n    const generateQuiz = (\n        numberOfQuestions: number,\n        difficulty: GeneratedQuizDifficulty,\n        mode: GeneratedQuizMode,\n        speed?: GeneratedQuizSpeed,\n    ) => {\n        if (!isLoading) {\n            const timeout = setTimeout(() => {\n                storeActionListener.removeListener(QUIZ_SESSION_READY, onSessionReady)\n                setIsLoading(false)\n                notify(t('error::somethingWentWrong'), { variant: 'error' })\n            }, 15000)\n\n            const onSessionReady = ({ payload }: any) => {\n                clearTimeout(timeout)\n                history.push(\n                    mode === 'single-player' ? `/app/quiz-mania/${payload.slug}` : `/app/host-quiz/${payload.slug}`,\n                )\n                queryCache.invalidateQueries('latest-generated-quiz-session')\n                setIsLoading(false)\n            }\n\n            setIsLoading(true)\n            dispatch(createGeneratedQuizRoom(numberOfQuestions, difficulty, mode, speed))\n            storeActionListener.once(QUIZ_SESSION_READY, onSessionReady)\n        }\n    }\n\n    return { isLoading, generateQuiz }\n}\n","import { Card } from 'components/card'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { GeneratedQuizCardContent } from './GeneratedQuizCardContent'\n\ninterface GenerateQuizCardProps {}\n\nexport const GenerateQuizCard: React.FC<GenerateQuizCardProps> = () => {\n    const [isTouchMode, setIsTouchMode] = React.useState(false)\n    const [isMobileTapOverlayVisible, setIsMobileTapOverlayVisible] = React.useState(true)\n\n    if (isTouchMode) {\n        return (\n            <MobileRoot>\n                <Bg />\n                <GeneratedQuizCardContent />\n            </MobileRoot>\n        )\n    }\n\n    return (\n        <Root>\n            <Bg />\n            <GeneratedQuizCardContent />\n            {isMobileTapOverlayVisible && (\n                <MobileTapOverlay\n                    onClick={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        setIsTouchMode(true)\n                    }}\n                    onTouchEnd={e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        setIsTouchMode(true)\n                    }}\n                    onMouseEnter={() => {\n                        setIsMobileTapOverlayVisible(false)\n                    }}\n                />\n            )}\n        </Root>\n    )\n}\n\nconst Bg = styled.span`\n    position: absolute;\n    display: block;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: #01659d;\n    color: #d0e6f3;\n    text-decoration: none;\n    transition: filter ${props => props.theme.transitions.duration.standard}ms;\n    background-image: url('https://api.prod.scoolcode.com/files/645e283e7964b331298be623/data');\n    background-size: cover;\n    background-position: center;\n`\n\nconst MobileTapOverlay = styled.article`\n    position: absolute;\n    display: block;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: red;\n    opacity: 0;\n`\n\nconst Root = styled(Card)`\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-items: center;\n    justify-content: center;\n    position: relative;\n    min-height: 300px;\n    > div {\n        opacity: 0;\n        transition: opacity ${props => props.theme.transitions.duration.standard}ms;\n    }\n    &:hover > div,\n    &:focus-visible > div {\n        opacity: 1;\n        transition: opacity ${props => props.theme.transitions.duration.standard}ms;\n    }\n    &:hover > span,\n    &:focus-visible > span {\n        filter: brightness(0.6);\n        transition: filter ${props => props.theme.transitions.duration.standard}ms;\n    }\n` as typeof Card\n\nconst MobileRoot = styled(Card)`\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-items: center;\n    justify-content: center;\n    position: relative;\n    min-height: 300px;\n    > div {\n        opacity: 1;\n        transition: opacity ${props => props.theme.transitions.duration.standard}ms;\n    }\n    > span {\n        filter: brightness(0.6);\n        transition: filter ${props => props.theme.transitions.duration.standard}ms;\n    }\n` as typeof Card\n","import { Button } from 'components/Button'\nimport { SelectBox, SelectBoxItem, TextField } from 'components/form'\nimport { Stack } from 'components/layout'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { QUIZ_SESSION_READY } from 'lib/liveops/constants'\nimport { storeActionListener } from 'lib/store/store-action-listener'\nimport React, { useState } from 'react'\nimport { useQueryCache } from 'react-query'\nimport { useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { useHasGrant } from 'lib/grants'\nimport { useNotifications } from 'features/notifications'\nimport {\n    GeneratedQuizDifficulty,\n    GeneratedQuizMode,\n    GeneratedQuizSpeed,\n    createGeneratedQuizRoom,\n} from './generatedQuizHelpers'\nimport { Dialog, DialogForm, DialogPrimaryButton, DialogSecondaryButton, DialogTitle } from '../../../components/dialog'\n\nexport const CreateMultiplayerGeneratedQuizButton: React.FC = () => {\n    const hasGrant = useHasGrant()\n    const t = useTranslate()\n    const [open, setOpen] = useState(false)\n\n    if (!hasGrant('generate-multiplayer-quiz')) {\n        return null\n    }\n\n    return (\n        <>\n            <Button\n                onClick={() => {\n                    if (!open) {\n                        setOpen(true)\n                    }\n                }}\n            >\n                {t('generatedQuizzes::createMultiPlayer')}\n            </Button>\n            <CreateMultiplayerGeneratedQuizDialog open={open} onClose={() => setOpen(false)} />\n        </>\n    )\n}\n\ninterface CreateMultiplayerGeneratedQuizDialogProps {\n    open: boolean\n    onClose: VoidFunction\n}\n\nconst CreateMultiplayerGeneratedQuizDialog: React.FC<CreateMultiplayerGeneratedQuizDialogProps> = ({\n    open,\n    onClose,\n}) => {\n    const t = useTranslate()\n\n    return (\n        <Dialog open={open} onClose={onClose}>\n            <DialogTitle>{t('generatedQuizzes::createMultiPlayer')}</DialogTitle>\n            <MultiplayerCreator onClose={onClose} />\n        </Dialog>\n    )\n}\n\nconst MultiplayerCreator: React.FC<{ onClose: VoidFunction }> = ({ onClose }) => {\n    const [numberOfQuestions, setNumberOfQuestions] = useState(10)\n    const [difficulty, setDifficulty] = useState<GeneratedQuizDifficulty>('medium')\n    const [speed, setSpeed] = useState<GeneratedQuizSpeed>('normal')\n    const { isLoading, generateQuiz } = useGeneratedQuizCreator()\n    const t = useTranslate()\n\n    return (\n        <DialogForm\n            onSubmit={e => {\n                e.preventDefault()\n                generateQuiz(numberOfQuestions, difficulty, 'multi-player', speed)\n                setTimeout(onClose, 1000)\n            }}\n            actions={\n                <>\n                    <DialogSecondaryButton onClick={onClose}>{t('general::cancel')}</DialogSecondaryButton>\n                    <DialogPrimaryButton isLoading={isLoading} type=\"submit\">\n                        {t('generatedQuizzes::start')}\n                    </DialogPrimaryButton>\n                </>\n            }\n        >\n            <Stack>\n                <div>\n                    <SelectBox\n                        label={t('general::difficulty')}\n                        value={difficulty}\n                        onChange={value => {\n                            setDifficulty(value as GeneratedQuizDifficulty)\n                        }}\n                    >\n                        <SelectBoxItem fullWidth value=\"easy\">\n                            {t('general::easy')}\n                        </SelectBoxItem>\n                        <SelectBoxItem fullWidth value=\"medium\">\n                            {t('general::medium')}\n                        </SelectBoxItem>\n                        <SelectBoxItem fullWidth value=\"hard\">\n                            {t('general::hard')}\n                        </SelectBoxItem>\n                    </SelectBox>\n                </div>\n                <div>\n                    <SelectBox\n                        label={t('general::speed')}\n                        value={speed}\n                        onChange={value => {\n                            setSpeed(value as GeneratedQuizSpeed)\n                        }}\n                    >\n                        <SelectBoxItem fullWidth value=\"normal\">\n                            {t('general::normalSpeed')}\n                        </SelectBoxItem>\n                        <SelectBoxItem fullWidth value=\"fast\">\n                            {t('general::fastSpeed')}\n                        </SelectBoxItem>\n                    </SelectBox>\n                </div>\n                <TextField\n                    type=\"number\"\n                    label={t('general::numberOfQuestions')}\n                    value={numberOfQuestions}\n                    inputProps={{ min: 5, max: 20 }}\n                    onChange={e => {\n                        setNumberOfQuestions(Number.parseInt(e.target.value))\n                    }}\n                />\n            </Stack>\n        </DialogForm>\n    )\n}\n\nfunction useGeneratedQuizCreator() {\n    const [isLoading, setIsLoading] = useState(false)\n    const { notify } = useNotifications()\n    const t = useTranslate()\n    const history = useHistory()\n    const queryCache = useQueryCache()\n    const dispatch = useDispatch()\n\n    const generateQuiz = (\n        numberOfQuestions: number,\n        difficulty: GeneratedQuizDifficulty,\n        mode: GeneratedQuizMode,\n        speed?: GeneratedQuizSpeed,\n    ) => {\n        if (!isLoading) {\n            const timeout = setTimeout(() => {\n                storeActionListener.removeListener(QUIZ_SESSION_READY, onSessionReady)\n                setIsLoading(false)\n                notify(t('error::somethingWentWrong'), { variant: 'error' })\n            }, 15000)\n\n            const onSessionReady = ({ payload }: any) => {\n                clearTimeout(timeout)\n                history.push(\n                    mode === 'single-player' ? `/app/quiz-mania/${payload.slug}` : `/app/host-quiz/${payload.slug}`,\n                )\n                queryCache.invalidateQueries('latest-generated-quiz-session')\n                setIsLoading(false)\n            }\n\n            setIsLoading(true)\n            dispatch(createGeneratedQuizRoom(numberOfQuestions, difficulty, mode, speed))\n            storeActionListener.once(QUIZ_SESSION_READY, onSessionReady)\n        }\n    }\n\n    return { isLoading, generateQuiz }\n}\n","import React from 'react'\nimport { Popover as MuiPopover, PopoverProps as MuiPopoverProps } from '@material-ui/core'\n\ninterface PopoverProps extends MuiPopoverProps {}\n\nexport const Popover: React.FC<PopoverProps> = props => {\n    return <MuiPopover {...props} />\n}\n","import * as React from 'react'\nimport { Mood1Icon, Mood2Icon, Mood3Icon, Mood4Icon, Mood5Icon } from 'components/icons'\nimport styled from 'styled-components/macro'\nimport { IconContainerProps, Rating, RatingProps } from '@material-ui/lab'\n\nconst StyledRating = styled(Rating)(({ theme }) => ({\n    '& .MuiRating-icon': {\n        marginRight: theme.spacing(0.8),\n    },\n    '& .MuiRating-iconFilled': {\n        color: theme.palette.primary.main,\n    },\n}))\n\nconst customIcons: {\n    [index: string]: {\n        icon: React.ReactElement<unknown>\n        label: string\n    }\n} = {\n    1: {\n        icon: <Mood1Icon />,\n        label: 'Very Dissatisfied',\n    },\n    2: {\n        icon: <Mood2Icon />,\n        label: 'Dissatisfied',\n    },\n    3: {\n        icon: <Mood3Icon />,\n        label: 'Neutral',\n    },\n    4: {\n        icon: <Mood4Icon />,\n        label: 'Satisfied',\n    },\n    5: {\n        icon: <Mood5Icon />,\n        label: 'Very Satisfied',\n    },\n}\n\nfunction IconContainer(props: IconContainerProps, selectedValue: number | null | undefined) {\n    const { value, ...other } = props\n    return (\n        <span {...other} className={`MuiRating-icon MuiRating-icon${value === selectedValue ? 'Filled' : 'Empty'}`}>\n            {customIcons[value].icon}\n        </span>\n    )\n}\n\nexport default function MoodRating(props: RatingProps) {\n    const createIconContainer = (_value: number | null | undefined) => {\n        return (props: IconContainerProps) => IconContainer(props, _value)\n    }\n\n    return (\n        <StyledRating\n            {...props}\n            IconContainerComponent={createIconContainer(props.value)}\n            getLabelText={(value: number) => customIcons[value].label}\n        />\n    )\n}\n","import { UserState } from 'contexts/UserContext'\n\ninterface CampChallengeStaticData {\n    quizzes: {\n        easy: string\n        medium: string\n        hard: string\n    }\n    videoId?: string\n    camps: { key: string; name: string; image: string }[]\n}\n\ninterface CampChallengeCountryData {\n    startDate: string\n    endDate: string\n    rulesURL?: string\n    ctaURL?: string\n}\n\ninterface CampChallengeDefinition {\n    countries: Record<string, CampChallengeCountryData>\n    static: CampChallengeStaticData\n}\n\nexport type CampChallengeData = CampChallengeStaticData & CampChallengeCountryData\n\nconst defaultStaticData = {\n    quizzes: {\n        easy: '67caee11e9f6fde897b6cb25',\n        medium: '67caee45e9f6fde897b6cc35',\n        hard: '67caee6fe7bbdb6c5e8349da',\n    },\n    videoId: 'v5GzkHrSEKQ',\n    camps: [\n        {\n            key: 'programming',\n            name: 'campPromoMission2023::programmingCamps',\n            image: 'https://api.prod.scoolcode.com/files/644b93f3f78c89704d9c7941/data',\n        },\n        {\n            key: 'minecraft',\n            name: 'campPromoMission2023::minecraftCamps',\n            image: 'https://api.prod.scoolcode.com/files/644b95015f4467a39eb70813/data',\n        },\n        {\n            key: 'roblox',\n            name: 'campPromoMission2023::robloxCamps',\n            image: 'https://api.prod.scoolcode.com/files/644b9513f78c89689b9c8077/data',\n        },\n        {\n            key: 'digital-creator',\n            name: 'campPromoMission2023::digitalCreatorCamps',\n            image: 'https://api.prod.scoolcode.com/files/644b95235f44677a22b708af/data',\n        },\n        {\n            key: 'robotics',\n            name: 'campPromoMission2023::RoboticsCamps',\n            image: 'https://api.prod.scoolcode.com/files/644b95355f4467bc12b7092b/data',\n        },\n        {\n            key: 'explorer',\n            name: 'campPromoMission2023::explorerCamps',\n            image: 'https://api.prod.scoolcode.com/files/644b953ff78c893fd49c819f/data',\n        },\n    ],\n};\n\nconst campChallengeData: Record<number, CampChallengeDefinition> = {\n    2023: {\n        countries: {\n            HU: {\n                startDate: '2023-05-08T06:00:00Z',\n                endDate: '2023-06-04T06:00:00Z',\n                rulesURL: 'https://www.logiscool.com/hu/docs/camp-challenge',\n                ctaURL: 'https://www.logiscool.com/hu/programs/camp-challenge',\n            },\n            CZ: {\n                startDate: '2023-05-08T06:00:00Z',\n                endDate: '2023-05-31T06:00:00Z',\n                rulesURL: 'https://www.logiscool.com/cz/docs/camp-challenge',\n                ctaURL: 'https://www.logiscool.com/cz/programs/camp-challenge',\n            },\n            SG: {\n                startDate: '2023-05-08T06:00:00Z',\n                endDate: '2023-05-31T06:00:00Z',\n                rulesURL: 'https://www.logiscool.com/sg/docs/camp-challenge',\n                ctaURL: 'https://www.logiscool.com/sg/programs/camp-challenge',\n            },\n            RS: {\n                startDate: '2023-05-11T06:00:00Z',\n                endDate: '2023-06-20T06:00:00Z',\n                rulesURL: 'https://www.logiscool.com/rs/docs/camp-challenge',\n                ctaURL: 'https://www.logiscool.com/rs/programs/camp-challenge',\n            },\n            AE: {\n                startDate: '2023-05-15T06:00:00Z',\n                endDate: '2023-06-10T06:00:00Z',\n                rulesURL: 'https://www.logiscool.com/ae/docs/camp-challenge',\n                ctaURL: 'https://www.logiscool.com/ae/programs/camp-challenge',\n            },\n            RO: {\n                startDate: '2023-05-15T06:00:00Z',\n                endDate: '2023-06-08T06:00:00Z',\n                rulesURL: 'https://www.logiscool.com/ro/docs/camp-challenge',\n                ctaURL: 'https://www.logiscool.com/ro/programs/camp-challenge',\n            },\n            BG: {\n                startDate: '2023-05-15T06:00:00Z',\n                endDate: '2023-06-30T06:00:00Z',\n                ctaURL: 'https://www.logiscool.com/bg/programs/camp-challenge',\n            },\n            ES: {\n                startDate: '2023-05-29T06:00:00Z',\n                endDate: '2023-06-23T06:00:00Z',\n                ctaURL: 'https://www.logiscool.com/es/programs/camp-challenge',\n            },\n            ZA: {\n                startDate: '2023-05-29T06:00:00Z',\n                endDate: '2023-08-31T06:00:00Z',\n                ctaURL: 'https://www.logiscool.com/za/programs/camp-challenge',\n            },\n        },\n        static: {\n            quizzes: {\n                easy: '644bbc3751fe8c00e29360a9',\n                medium: '644bc1d851fe8ca960937501',\n                hard: '644bbbc358ac8c382251c5c6',\n            },\n            videoId: 'v5GzkHrSEKQ',\n            camps: [\n                {\n                    key: 'programming',\n                    name: 'campPromoMission2023::programmingCamps',\n                    image: 'https://api.prod.scoolcode.com/files/644b93f3f78c89704d9c7941/data',\n                },\n                {\n                    key: 'minecraft',\n                    name: 'campPromoMission2023::minecraftCamps',\n                    image: 'https://api.prod.scoolcode.com/files/644b95015f4467a39eb70813/data',\n                },\n                {\n                    key: 'roblox',\n                    name: 'campPromoMission2023::robloxCamps',\n                    image: 'https://api.prod.scoolcode.com/files/644b9513f78c89689b9c8077/data',\n                },\n                {\n                    key: 'digital-creator',\n                    name: 'campPromoMission2023::digitalCreatorCamps',\n                    image: 'https://api.prod.scoolcode.com/files/644b95235f44677a22b708af/data',\n                },\n                {\n                    key: 'robotics',\n                    name: 'campPromoMission2023::RoboticsCamps',\n                    image: 'https://api.prod.scoolcode.com/files/644b95355f4467bc12b7092b/data',\n                },\n                {\n                    key: 'explorer',\n                    name: 'campPromoMission2023::explorerCamps',\n                    image: 'https://api.prod.scoolcode.com/files/644b953ff78c893fd49c819f/data',\n                },\n            ],\n        },\n    },\n    2024: {\n        countries: {},\n        static: defaultStaticData,\n    },\n}\n\nexport function getCampChallengeData(user: UserState, year: keyof typeof campChallengeData): CampChallengeData | null {\n    const data = campChallengeData[year]\n\n    const countryData = user.account.country\n        ? (data?.countries?.[user.account.country] ?? {})\n        : {};\n\n    const staticData = data?.static ?? defaultStaticData;\n\n    return {\n        ...staticData,\n        ...countryData,\n    } as CampChallengeData\n}\n","import { Box } from 'components/layout'\nimport { TextBody } from 'components/layout/TextBody'\nimport React from 'react'\n\ninterface EventDetailsContentProps {}\n\nexport const EventDetailsContent: React.FC<EventDetailsContentProps> = ({ children }) => {\n    return (\n        <Box maxWidth=\"55rem\" margin=\"0 auto\">\n            <TextBody>{children}</TextBody>\n        </Box>\n    )\n}\n","import { css } from 'styled-components/macro'\n\nexport const projectListGridStyles = css`\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(13rem, 1fr));\n    gap: ${props => props.theme.spacing(8, 6)};\n    @media (max-width: 400px) {\n        gap: ${props => props.theme.spacing(6, 4)};\n        grid-template-columns: repeat(auto-fill, minmax(9rem, 1fr));\n    }\n`\n","import { useUserState } from 'contexts/UserContext'\n\nexport const allGrants = [\n    { product: 'edup.universe', feature: 'share-project' },\n    { product: 'edup.universe', feature: 'share-project-user-consent' },\n    { product: 'edup.universe', feature: 'content.digital-mission' },\n    { product: 'edup.universe', feature: 'content.certificates' },\n    { product: 'edup.universe', feature: 'content.certificates-all' },\n    { product: 'edup.universe', feature: 'content.certificates.subjects' },\n    { product: 'edup.universe', feature: 'share-project-without-approval' },\n    { product: 'edup.universe', feature: 'show-vote-full-results' },\n    { product: 'edup.universe', feature: 'content.trainer-contest-nomination' },\n    { product: 'edup.universe', feature: 'content.onboarding-event' },\n    { product: 'edup.universe', feature: 'high-score-rooms' },\n    { product: 'edup.universe', feature: 'create-high-score-room' },\n    { product: 'edup.universe', feature: 'connect-discord-account' },\n    { product: 'edup.universe', feature: 'follow-users' },\n    { product: 'edup.universe', feature: 'limited-app.latest-challenges' },\n    { product: 'edup.universe', feature: 'limited-app.view-community-projects' },\n    { product: 'edup.universe', feature: 'content.challenges.onboarding-points' },\n    { product: 'edup.universe', feature: 'content.challenges.open-day-participation' },\n    { product: 'edup.universe', feature: 'view-stats' },\n    { product: 'edup.universe', feature: 'show-community-projects-count' },\n    { product: 'edup.events', feature: 'read' },\n    { product: 'edup.universe', feature: 'report-classroom' },\n    { product: 'edup.universe', feature: 'mini-quiz-create-and-share' },\n    { product: 'edup.universe', feature: 'mini-quiz-discover' },\n    { product: 'edup.quiz', feature: 'login' },\n    { product: 'edup.universe', feature: 'generate-quiz' },\n    { product: 'edup.universe', feature: 'generate-multiplayer-quiz' },\n    { product: 'edup.universe', feature: 'change-bio-without-approval' },\n    { product: 'edup.scoolcode.ide', feature: 'create-project.blox' },\n    { product: 'edup.scoolcode.ide', feature: 'create-project.mix' },\n    { product: 'edup.scoolcode.ide', feature: 'language-python' },\n    { product: 'edup.scoolcode.ide', feature: 'language-stagescript' },\n    { product: 'edup.scoolcode.ide', feature: 'offboarding.mix' },\n    { product: 'edup.scoolcode.ide', feature: 'advanced-filtering' },\n    { product: 'edup.scoolcode.ide', feature: 'advanced-project-thumbnail' },\n    { product: 'edup.scoolcode.ide', feature: 'reset-challenge-set' },\n    { product: 'edup.scoolcode.ide', feature: 'move-to-production' },\n    { product: 'edup.scoolcode.ide', feature: 'advanced-duplication' },\n    { product: 'edup', feature: 'change-ui-language' },\n    { product: 'edup', feature: 'all-languages' },\n    { product: 'edup', feature: 'change-email' },\n    { product: 'edup', feature: 'change-default-school' },\n    { product: 'edup', feature: 'license-user' },\n    { product: 'edup', feature: 'trainer-user' },\n    { product: 'edup.administration', feature: 'accounts' },\n    { product: 'edup.activity-score', feature: 'advanced-read' },\n    { product: 'edup.universe', feature: 'liveops-recorder' },\n    { product: 'edup.universe', feature: 'content.challenges.ofc' },\n    { product: 'edup', feature: 'product-demo' },\n    { product: 'edup.universe', feature: 'social-sharing' },\n    { product: 'edup.universe', feature: 'redeem-secret-code' },\n    { product: 'edup.trainer-portal', feature: 'news' },\n    { product: 'edup.universe', feature: 'content.among-us' },\n    { product: 'edup.universe', feature: 'give-golden-cookie' },\n    { product: 'edup.universe', feature: 'content.scooler-mission-2022-themes' },\n    { product: 'edup.universe', feature: 'content.scooler-mission-2022-themes-ro' },\n    { product: 'edup.universe', feature: 'project-labels' },\n    { product: 'edup.universe', feature: 'content.camp-challenge-2023' },\n    { product: 'edup.curriculum', feature: 'read' },\n    { product: 'edup.curriculum', feature: 'edit' },\n    { product: 'edup', feature: 'sales-demo' },\n    { product: 'edup', feature: 'trial-demo' },\n    { product: 'edup.quiz', feature: 'host' },\n    { product: 'edup.quiz', feature: 'self-host' },\n    { product: 'edup.quiz', feature: 'preview' },\n    { product: 'edup.universe', feature: 'area.news' },\n    { product: 'edup.universe', feature: 'area.classroom.curriculum' },\n    { product: 'edup.universe', feature: 'area.classroom.my-groups' },\n    { product: 'edup.universe', feature: 'area.classroom.timetable' },\n    { product: 'edup.universe', feature: 'area.my-projects' },\n    { product: 'edup.universe', feature: 'area.community' },\n    { product: 'edup.universe', feature: 'area.challenges' },\n    { product: 'edup.universe', feature: 'area.events' },\n    { product: 'edup.training-viewer', feature: 'wiki' },\n    { product: 'edup.curriculum', feature: 'provide-feedback' },\n    { product: 'edup.accounts', feature: 'manage-own-students' },\n    { product: 'edup.universe', feature: 'advanced-palette-filtering' },\n    { product: 'edup.curriculum', feature: 'read.kind.course' },\n] as const\n\nexport type Grant = typeof allGrants[number]\nexport type GrantProduct = Grant['product']\nexport type GrantFeature = Grant['feature']\nexport type NormalizedGrantList = Partial<Record<GrantProduct, Partial<Record<GrantFeature, Array<any>>>>>\n\nexport const hasGrant = (grants: NormalizedGrantList) => (grant: Grant | GrantFeature) => {\n    if (typeof grant === 'string') {\n        return !!grants['edup.universe']?.[grant]?.length\n    } else {\n        return !!grants[grant.product]?.[grant.feature]?.length\n    }\n}\n\nexport const getGrants = (grants: NormalizedGrantList) => (grant: Grant | GrantFeature) => {\n    if (typeof grant === 'string') {\n        return grants['edup.universe']?.[grant] || []\n    } else {\n        return grants[grant.product]?.[grant.feature] || []\n    }\n}\n\nexport const grantToString = (grant: Grant) => `${grant.product}/${grant.feature}`\n\nexport function useHasGrant() {\n    const { grants } = useUserState()\n    return hasGrant(grants)\n}\n\nexport const lastExpiringGrant = (grants: Array<any>) => {\n    if (grants.length === 0) return null\n\n    let result = grants[0]\n    let resultDateTime = result.notAfter ? new Date(result.notAfter).getTime() : undefined\n\n    for (let i = 1; i < grants.length; ++i) {\n        const other = grants[i]\n        if (!other.notAfter) continue\n\n        if (!result.notAfter) {\n            result = other\n            resultDateTime = new Date(result.notAfter).getTime()\n            continue\n        }\n\n        const otherDate = new Date(other.notAfter)\n        if (otherDate.getTime() > resultDateTime!) {\n            result = other\n            resultDateTime = new Date(result.notAfter).getTime()\n        }\n    }\n    return result\n}\n","import { AxiosResponse } from 'axios'\nimport { UserState } from 'contexts/UserContext'\nimport { ApiTypes } from 'lib/api'\nimport { Grant } from '../grants'\nimport { preDefinedUserSchemas, userPreSets } from './userSchemas'\n\nexport const isGrantDevToolEnabled = (user: UserState) => user.account.primaryKind === 'developer'\n\nexport function processGrants(\n    res: AxiosResponse<{\n        grants: Grant[]\n    }>,\n) {\n    const grantDevtoolState = localStorage.getItem('grantdevtool')\n    if (grantDevtoolState) {\n        try {\n            const savedUserSchema: userPreSets = JSON.parse(grantDevtoolState)\n            const schema = preDefinedUserSchemas.find(schema => schema.title === savedUserSchema.title)\n            if (schema?.neededGrants) {\n                res.data.grants = schema.neededGrants\n            } else if (savedUserSchema.neededGrants) {\n                res.data.grants = Object.entries(savedUserSchema.neededGrants)\n                    .filter(([_, value]) => value)\n                    .map(([grant]) => {\n                        const [product, feature] = grant.split('/')\n                        return {\n                            product,\n                            feature,\n                        } as any\n                    })\n            }\n            console.warn('Grant override is enabled!')\n        } catch (e) {}\n    }\n}\n\nexport function processMe(res: AxiosResponse<ApiTypes['account']>) {\n    const grantDevtoolState = localStorage.getItem('grantdevtool')\n    if (grantDevtoolState) {\n        try {\n            const savedUserSchema: userPreSets = JSON.parse(grantDevtoolState)\n            const schema = preDefinedUserSchemas.find(schema => schema.title === savedUserSchema.title)\n            if (schema?.userStage) {\n                res.data.stage = schema.userStage\n            } else if (savedUserSchema.userStage) {\n                res.data.stage = savedUserSchema.userStage\n            }\n            if (schema?.userSubStage) {\n                res.data.subStage = schema.userSubStage\n            }\n            console.warn('Grant override is enabled!')\n        } catch (e) {}\n    }\n}\n","export const SET_CURRENCY = 'SERVER/SET_CURRENCY'\nexport const SET_CURRENCY_REFILL = 'SERVER/SET_CURRENCY_REFILL'\n\nexport const CHANGE_CAPACITY = 'SERVER/CHANGE_CAPACITY'\nexport const ADD_TO_INVENTORY = 'SERVER/ADD_TO_INVENTORY'\nexport const SET_STATISTIC = 'SERVER/SET_STATISTIC'\n\nexport const CREATE_SUBSCRIPTION = 'CLIENT/CREATE_SUBSCRIPTION'\n\nexport const CATALOG = 'SERVER/CATALOG'\nexport const REQUEST_INVENTORY = 'CLIENT/REQUEST_INVENTORY'\nexport const INVENTORY = 'SERVER/INVENTORY'\nexport const REQUEST_LEADERBOARD = 'CLIENT/REQUEST_LEADERBOARD'\nexport const LEADERBOARD = 'SERVER/LEADERBOARD'\nexport const LEADERBOARD_FETCHED = 'SERVER/LEADERBOARD:FETCHED'\nexport const LEADERBOARD_RANK = 'SERVER/LEADERBOARD_RANK'\nexport const LEADERBOARD_VERSION = 'SERVER/LEADERBOARD_VERSION'\nexport const DISABLE_ALL_LEADERBOARDS_FOR_PROJECT = 'DISABLE_ALL_LEADERBOARDS_FOR_PROJECT'\nexport const REQUEST_STATISTIC = 'CLIENT/REQUEST_STATISTIC'\nexport const REQUEST_STATISTICS = 'CLIENT/REQUEST_STATISTICS'\nexport const STATISTIC = 'SERVER/STATISTIC'\nexport const REQUEST_SCORE_LIST = 'CLIENT/UNIVERSE/REQUEST_SCORE_LIST'\nexport const SCORE_LIST = 'SERVER/UNIVERSE/SCORE_LIST'\nexport const SET_LEADERBOARD_LENGTH = 'CLIENT/SET_LEADERBOARD_LENGTH'\n\nexport const REPORT_PROJECT = 'CLIENT/UNIVERSE/REPORT_PROJECT'\n\nexport const CAST_VOTE_REQUEST = 'CLIENT/CAST_VOTE_REQUEST'\nexport const REMOVE_FROM_INVENTORY = 'SERVER/REMOVE_FROM_INVENTORY'\n\nexport const PUSH_NOTIFICATION = 'SERVER/PUSH_NOTIFICATION'\nexport const REQUEST_NOTIFICATIONS = 'CLIENT/REQUEST_NOTIFICATIONS'\nexport const NOTIFICATIONS = 'SERVER/NOTIFICATIONS'\nexport const READ_NOTIFICATIONS = 'CLIENT/READ_NOTIFICATIONS'\nexport const READ_NOTIFICATION = 'CLIENT/READ_NOTIFICATION'\nexport const MARK_NOTIFICATION_AS_DISPLAYED = 'CLIENT/MARK_NOTIFICATION_AS_DISPLAYED'\nexport const MARK_ALL_NOTIFICATION_AS_DISPLAYED = 'CLIENT/MARK_ALL_NOTIFICATION_AS_DISPLAYED'\nexport const REQUEST_WELCOME = 'CLIENT/UNIVERSE/REQUEST_WELCOME'\n\nexport const FOLLOW_USER = 'CLIENT/UNIVERSE/FOLLOW_USER'\nexport const UNFOLLOW_USER = 'CLIENT/UNIVERSE/UNFOLLOW_USER'\n\nexport const COMPLETE_PROFILE = 'CLIENT/UNIVERSE/COMPLETE_PROFILE'\nexport const CHANGED_PROFILE_PICTURE = 'CLIENT/UNIVERSE/CHANGED_PROFILE_PICTURE'\n\nexport const ROOM_CREATED = 'SERVER/SCOOLCODE/ROOM_CREATED'\nexport const REQUEST_ROOMS = 'CLIENT/SCOOLCODE/REQUEST_ROOMS'\nexport const ROOMS = 'SERVER/SCOOLCODE/ROOMS'\nexport const SHARED_STATE = 'SERVER/SCOOLCODE/SHARED_STATE'\n\nexport const GRANTS_CHANGED = 'SERVER/GRANTS_CHANGED'\nexport const USER_CHANGED = 'SERVER/UNIVERSE/USER_CHANGED'\nexport const PROJECT_SHARE_APPROVED = 'SERVER/UNIVERSE/PROJECT_SHARE_APPROVED'\n\nexport const INCREMENT_ACTIVITY_SCORE = 'CLIENT/UNIVERSE/INCREMENT_ACTIVITY_SCORE'\nexport const CREATE_GENERATED_QUIZ_ROOM = 'CLIENT/QUIZ/CREATE_GENERATED_ROOM'\nexport const QUIZ_SESSION_READY = 'SERVER/QUIZ/SESSION_READY'\n\nexport const LOAD_ACHIEVEMENTS = 'CLIENT/REQUEST_ACHIEVEMENTS'\nexport const ACHIEVEMENTS = 'SERVER/ACHIEVEMENTS'\nexport const ACHIEVEMENT_CHANGED = 'SERVER/ACHIEVEMENT_CHANGED'\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVoAAABhCAYAAACXm2msAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGvmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuMTY0NzUzLCAyMDIxLzAyLzE1LTExOjUyOjEzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTAzLTEwVDEzOjM5OjA2KzAxOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wNS0xN1QxNDozMTowOSswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wNS0xN1QxNDozMTowOSswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphYjFkYThhYS1hOGJmLWMyNGMtYjExOC03M2QyNTZmZjI2MDgiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1NmVlNmRkNi04NGRkLTMxNDQtOTIzOC1mNmQ0YmZmNmIxNTQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyYWRhODNmOS0xY2RkLWJmNGMtYWVhNS1iOGY1ZTZiN2UyNzUiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjJhZGE4M2Y5LTFjZGQtYmY0Yy1hZWE1LWI4ZjVlNmI3ZTI3NSIgc3RFdnQ6d2hlbj0iMjAyMS0wMy0xMFQxMzozOTowNiswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjMgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxY2MxM2VhNC0wMTM2LTgzNDUtYTE1Ny0wNGFjMDczNDk0MjgiIHN0RXZ0OndoZW49IjIwMjEtMDUtMTdUMTQ6MzE6MDkrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4zIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWIxZGE4YWEtYThiZi1jMjRjLWIxMTgtNzNkMjU2ZmYyNjA4IiBzdEV2dDp3aGVuPSIyMDIxLTA1LTE3VDE0OjMxOjA5KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+DbRjCgAADGFJREFU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\"","import { Chip } from '@material-ui/core'\nimport { Autocomplete, createFilterOptions } from '@material-ui/lab'\nimport { FormControl, FormLabel, Input } from 'components/form'\nimport { AddIcon, TagIcon } from 'components/icons'\nimport { Paper } from 'components/Paper'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { transparentize } from 'polished'\nimport React from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { useMyCustomProjectLabelsQuery } from './projectQueries'\n\nconst MAX_LABEL_LENGTH = 50\nconst MAX_NUMBER_OF_LABELS = 20\n\ntype Value = { value: string; label: string } | string\n\nconst filter = createFilterOptions<Value>()\n\ntype Variant = 'edit' | 'filter'\n\ninterface ProjectLabelSelectProps {\n    value?: string[]\n    onChange?: (value: string[]) => void\n    defaultValue?: string[]\n    variant: Variant\n}\n\nexport const ProjectLabelSelect: React.FC<ProjectLabelSelectProps> = ({\n    defaultValue,\n    onChange,\n    variant,\n    value: controlledValue,\n}) => {\n    const [uncontrolledValue, setUncontrolledValue] = React.useState<string[]>(defaultValue ?? [])\n    const { data: options } = useMyCustomProjectLabelsQuery()\n    const t = useTranslate()\n\n    const value = controlledValue ?? uncontrolledValue\n    const isFull = value.length >= MAX_NUMBER_OF_LABELS\n\n    return (\n        <Autocomplete<Value, true>\n            options={options ?? []}\n            // @ts-ignore something is weird with mui typing\n            disableClearable={variant === 'edit'}\n            // @ts-ignore something is weird with mui typing\n            freeSolo={variant === 'edit' && !isFull}\n            multiple\n            noOptionsText={t(!options || options.length === 0 ? 'projects::noTags' : 'general::noResults')}\n            getOptionDisabled={() => variant === 'edit' && isFull}\n            openOnFocus\n            renderInput={params => {\n                return (\n                    <FormControl id={params.id} fullWidth>\n                        <FormLabel {...params.InputLabelProps}>{t('projects::tags')}</FormLabel>\n                        <StyledInput\n                            $variant={variant}\n                            $isEmpty={value.length === 0}\n                            placeholder={\n                                value.length === 0\n                                    ? t(variant === 'edit' ? 'projects::addTagsPlaceholder' : 'general::all')\n                                    : undefined\n                            }\n                            fullWidth\n                            inputProps={{ maxLength: MAX_LABEL_LENGTH, ...params.inputProps }}\n                            {...params.InputProps}\n                        />\n                    </FormControl>\n                )\n            }}\n            renderTags={(values, getProps) =>\n                values.map((value, i) => <StyledChip label={value} {...getProps({ index: i })} />)\n            }\n            value={value}\n            onChange={(_, newValue) => {\n                const normalizedValues = newValue.map(value => (typeof value === 'string' ? value : value.value))\n                if (!controlledValue) {\n                    setUncontrolledValue(normalizedValues)\n                }\n                onChange?.(normalizedValues)\n            }}\n            renderOption={option => {\n                if (typeof option === 'string') {\n                    return (\n                        <OptionRoot>\n                            <TagIcon />\n                            <span>{option}</span>\n                        </OptionRoot>\n                    )\n                }\n                return (\n                    <OptionRoot style={{ fontStyle: 'italic' }}>\n                        <AddIcon />\n                        <span>{option.label}</span>\n                    </OptionRoot>\n                )\n            }}\n            PaperComponent={StyledPaper}\n            filterOptions={(options, params) => {\n                const filtered = filter(options, params).filter(\n                    option => !value.includes(typeof option === 'string' ? option : option.value),\n                )\n\n                if (\n                    variant === 'edit' &&\n                    params.inputValue !== '' &&\n                    !options.includes(params.inputValue) &&\n                    !value.includes(params.inputValue)\n                ) {\n                    filtered.push({\n                        label: t('general::createTransitive', {\n                            value: params.inputValue,\n                            interpolation: { escapeValue: false },\n                        }),\n                        value: params.inputValue,\n                    })\n                }\n\n                return filtered\n            }}\n        />\n    )\n}\n\nconst StyledInput = styled(Input)<{ $variant: Variant; $isEmpty: boolean }>`\n    ${props =>\n        props.$variant === 'filter' &&\n        css`\n            > input::placeholder {\n                opacity: 1;\n                font-style: italic;\n            }\n        `}\n    padding-top: 0.5rem !important;\n    padding-bottom: 0.5rem !important;\n    padding-left: ${props => (props.$isEmpty ? '1rem' : '0.5rem')} !important;\n    input {\n        padding: 0.625rem 0.25rem !important;\n    }\n`\n\nconst OptionRoot = styled.span`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(2)};\n    word-break: break-word;\n    svg {\n        flex-shrink: 0;\n        color: ${props => props.theme.palette.text.secondary};\n    }\n`\n\nconst StyledPaper = styled(Paper)`\n    box-shadow: ${props => props.theme.shadows[3]};\n\n    ul {\n        padding: ${props => props.theme.spacing(2)};\n    }\n\n    .MuiAutocomplete-option {\n        padding: ${props => props.theme.spacing(3)};\n        border-radius: ${props => props.theme.shape.borderRadius}px;\n    }\n`\n\nconst StyledChip = styled(Chip)`\n    font-size: ${props => props.theme.typography.body1.fontSize};\n    background-color: ${props => transparentize(0.9, props.theme.palette.primary.main)};\n    color: ${props => props.theme.palette.primary.main};\n    svg {\n        color: ${props => props.theme.palette.primary.main};\n        &:hover,\n        &:focus-visible {\n            color: ${props => props.theme.palette.primary.main};\n        }\n    }\n`\n","import React, { useState } from 'react'\nimport { SecretCodeUnlocker } from 'features/secret-code'\nimport { useLocationTabs } from 'hooks/useLocationTabs'\nimport { Dialog, DialogTitle, DialogSecondaryButton, DialogForm, DialogPrimaryButton } from 'components/dialog'\nimport { Controller, useForm } from 'react-hook-form'\nimport { Stack } from 'components/layout'\nimport { FormControl, FormLabel, TextField } from 'components/form'\nimport { Select, Option } from 'components/form'\nimport { Flex } from 'components/layout'\nimport { Loader } from 'components/Loader'\nimport { ApiTypes } from 'lib/api'\nimport { SelectBox, SelectBoxItem } from 'components/form'\nimport { BloxIcon, MixIcon, QuestionCircleIcon } from 'components/icons'\nimport {\n    canUnlockSecretCode,\n    canUserCreateBloxProject,\n    canUserCreateMixProject,\n    canUserCreateProject,\n    canUserCreatePythonProject,\n    canUserCreateStageScriptProject,\n    useUserState,\n} from 'contexts/UserContext'\nimport { DialogErrorMessage } from 'components/dialog'\nimport { Text } from 'components/Text'\nimport { Tab, Tabs } from 'components/tabs'\nimport { createHashDialog } from 'hooks/createHashDialog'\nimport {\n    getProjectNameValidationMessage,\n    MAX_PROJECT_NAME_LENGTH,\n    projectNameRules,\n    PROJECT_NAME_NOT_UNIQUE_FIELD_ERROR,\n} from './projectHelpers'\nimport { useProjectActions } from './useProjectActions'\nimport { useBlockGalleriesQuery } from './projectQueries'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { Collapse } from 'components/Collapse'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { MIX_PALETTE_ID, PYTHON_PALETTE_ID, ProjectLanguage } from './createProjectFormData'\nimport { CookieHunt } from 'features/cookie-hunt'\nimport { useIncrementActivityScore } from '../../hooks/useIncrementActivityScore'\nimport { getIdeCreateUrl } from 'lib/api/helpers'\nimport { CLASSROOM_PROJECT_TAG } from './ProjectsApi'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { useMiniQuizAccessLevel } from 'features/mini-quizzes/helpers/miniQuizHelpers'\nimport { countTruthyValues } from 'utils/arrayUtilts'\nimport { ProjectLabelSelect } from './ProjectLabelSelect'\nimport { useHasGrant } from 'lib/grants'\n\nconst [newProjetDialogTo, NewProjectDialogController] = createHashDialog('create-project', { useLocationState: true })\n\nexport { newProjetDialogTo }\n\nexport interface NewProjectDialogProps {\n    timesheetId?: string\n    disableMiniQuiz?: boolean\n    disableUnlock?: boolean\n    title?: string\n}\n\nexport const NewProjectDialog: React.FC<NewProjectDialogProps> = ({\n    timesheetId,\n    disableUnlock,\n    disableMiniQuiz,\n    title,\n}) => {\n    const user = useUserState()\n    const canCreateProject = canUserCreateProject(user)\n    const canUnlockSecret = canUnlockSecretCode(user, 'project')\n    const miniQuizAccessLevel = useMiniQuizAccessLevel()\n    const hasCreate = canCreateProject || miniQuizAccessLevel === 'full'\n    const { value, tabProps } = useLocationTabs('create-project-dialog', hasCreate ? 'create' : 'unlock')\n    const t = useTranslate()\n\n    if (!hasCreate && !canUnlockSecret) {\n        return null\n    }\n\n    return (\n        <NewProjectDialogController>\n            {({ onClose, open }) => (\n                <Dialog open={open} onClose={onClose} maxWidth=\"xs\" fullWidth>\n                    <DialogTitle\n                        disableTypography\n                        style={{ paddingBottom: hasCreate && !disableUnlock ? 0 : undefined }}\n                    >\n                        <Text variant=\"h3\" component=\"h2\">\n                            {title || t('projects::newProject')}\n                        </Text>\n                        {hasCreate && canUnlockSecret && !disableUnlock && (\n                            <Tabs value={value}>\n                                <Tab {...tabProps('create')} label={t('projects::createProject')}></Tab>\n                                <Tab\n                                    data-testid=\"new-project-dialog-unlock\"\n                                    {...tabProps('unlock')}\n                                    label={t('projects::unlockProject')}\n                                ></Tab>\n                            </Tabs>\n                        )}\n                    </DialogTitle>\n\n                    {hasCreate && value === 'create' && (\n                        <ErrorBoundary fallback={<DialogErrorMessage close={onClose} />}>\n                            <NewProjectPreloader\n                                close={onClose}\n                                timesheetId={timesheetId}\n                                disableMiniQuiz={disableMiniQuiz}\n                            />\n                        </ErrorBoundary>\n                    )}\n                    {value === 'unlock' && canUnlockSecret && !disableUnlock && (\n                        <ErrorBoundary fallback={<DialogErrorMessage close={onClose} />}>\n                            <SecretCodeUnlocker close={onClose} primaryLabel={t('projects::unlockProject')} />\n                        </ErrorBoundary>\n                    )}\n                </Dialog>\n            )}\n        </NewProjectDialogController>\n    )\n}\n\ninterface NewProjectPreloaderProps {\n    close: () => void\n    timesheetId?: string\n    disableMiniQuiz?: boolean\n}\n\nconst NewProjectPreloader: React.FC<NewProjectPreloaderProps> = props => {\n    const { data: blockGalleries, status: blockGalleryStatus } = useBlockGalleriesQuery()\n\n    if (blockGalleryStatus === 'error') {\n        return <DialogErrorMessage close={props.close} />\n    }\n\n    if (!blockGalleries || blockGalleryStatus === 'loading') {\n        return (\n            <Flex height={400} justify=\"center\" align=\"center\">\n                <Loader />\n            </Flex>\n        )\n    }\n\n    const selectableBlockGalleries = blockGalleries.data.filter(\n        gallery => gallery.id !== MIX_PALETTE_ID && gallery.id !== PYTHON_PALETTE_ID,\n    )\n\n    return <NewProject blockGalleries={selectableBlockGalleries} {...props} />\n}\n\nconst projectTypes = ['blox', 'mix', 'mini-quiz'] as const\ntype ProjectType = typeof projectTypes[number]\n\ntype FormValues = {\n    name: string\n    type: ProjectType\n    language: ProjectLanguage\n    blockGallery: string\n    labels: string[]\n}\n\ninterface NewProjectProps extends NewProjectPreloaderProps {\n    blockGalleries: ApiTypes['block-gallery'][]\n    timesheetId?: string\n    disableMiniQuiz?: boolean\n}\n\nconst NewProject: React.FC<NewProjectProps> = ({ close, blockGalleries, timesheetId, disableMiniQuiz }) => {\n    const [status, setStatus] = useState<'idle' | 'loading' | 'error'>('idle')\n    const t = useTranslate()\n    const user = useUserState()\n    const incrementActivityScore = useIncrementActivityScore()\n    const mqal = useMiniQuizAccessLevel()\n    const miniQuizAccessLevel = disableMiniQuiz ? false : mqal\n    const history = useHistory()\n    const canCreateBloxProjects = canUserCreateBloxProject(user) && blockGalleries.length > 0\n    const canCreateMixProjects = canUserCreateMixProject(user)\n    const canCreatePythonProjects = canUserCreatePythonProject(user)\n    const canCreateStageScriptProjects = canUserCreateStageScriptProject(user)\n    const canChooseLanguage = canCreatePythonProjects && canCreateStageScriptProjects\n    const canCreateProject = canCreateBloxProjects || canCreateMixProjects\n    const createsMixByDefault = user.account.primaryKind === 'student'\n    const canSelectBlockGallery = blockGalleries.length > 1\n    const { createProject, createMiniQuiz } = useProjectActions()\n    const location = useLocation<{ type?: ProjectType }>()\n    const hasGrant = useHasGrant()\n\n    const defaultType = (() => {\n        const locationStateTypeOverride =\n            location.state?.type && projectTypes.includes(location.state.type) ? location.state.type : undefined\n        if (locationStateTypeOverride) {\n            return locationStateTypeOverride\n        }\n\n        if (canCreateProject) {\n            if (canCreateMixProjects && (createsMixByDefault || !canCreateBloxProjects)) {\n                return 'mix'\n            }\n            return 'blox'\n        }\n        return 'mini-quiz'\n    })()\n\n    const { register, control, handleSubmit, errors, watch, setError, setValue } = useForm<FormValues>({\n        defaultValues: {\n            name: '',\n            type: defaultType,\n            blockGallery: blockGalleries.length === 1 ? blockGalleries[0].id : '',\n            labels: [],\n            language: canCreateMixProjects && canCreatePythonProjects ? 'python' : 'stagescript',\n        },\n        shouldUnregister: false,\n    })\n\n    const onSubmit = handleSubmit(async ({ name, type, blockGallery, labels, language }) => {\n        if (status !== 'loading') {\n            setStatus('loading')\n            try {\n                const res =\n                    type === 'mini-quiz'\n                        ? await createMiniQuiz(name)\n                        : await createProject(name, type, blockGallery, labels, language, timesheetId)\n                if (res.success === false) {\n                    if (res.error === 'NAME_NOT_UNIQUE') {\n                        setStatus('idle')\n                        setError('name', { type: PROJECT_NAME_NOT_UNIQUE_FIELD_ERROR, shouldFocus: true })\n                    }\n                } else {\n                    incrementActivityScore(\n                        res.project.data.tags?.includes(CLASSROOM_PROJECT_TAG)\n                            ? 'classroom:owned-project:create'\n                            : 'community:owned-project:create',\n                    )\n                    if (type === 'mini-quiz') {\n                        close()\n                        setTimeout(() => {\n                            history.push(`/app/quiz-editor/${res.project.data.id}`)\n                        }, 50)\n                    } else {\n                        window.open(getIdeCreateUrl(`/ide/${res.project.data.id}`))\n                        close()\n                    }\n                }\n                setStatus('idle')\n            } catch (e) {\n                setStatus('error')\n            }\n        }\n    }, console.error)\n\n    return (\n        <DialogForm\n            onSubmit={onSubmit}\n            actions={\n                <>\n                    <DialogSecondaryButton onClick={close}>{t('general::cancel')}</DialogSecondaryButton>\n                    <CookieHunt name=\"new-project-dialog\">\n                        <DialogPrimaryButton isLoading={status === 'loading'} type=\"submit\">\n                            {t('projects::createProject')}\n                        </DialogPrimaryButton>\n                    </CookieHunt>\n                </>\n            }\n        >\n            <Stack>\n                <Collapse unmountOnExit in={status === 'error'}>\n                    <ErrorMessage />\n                </Collapse>\n                <TextField\n                    data-testid=\"new-project-dialog-name\"\n                    errorText={getProjectNameValidationMessage(errors.name, t)}\n                    ref={register(projectNameRules)}\n                    disabled={status === 'loading'}\n                    name=\"name\"\n                    inputProps={{\n                        maxLength: MAX_PROJECT_NAME_LENGTH,\n                        autocomplete: 'off',\n                    }}\n                    autoFocus\n                    label={t('projects::name')}\n                />\n\n                {countTruthyValues([canCreateMixProjects, canCreateBloxProjects, miniQuizAccessLevel === 'full']) >\n                    1 && (\n                    <div>\n                        <Controller\n                            control={control}\n                            name=\"type\"\n                            as={\n                                <SelectBox\n                                    data-testid=\"new-project-dialog-type\"\n                                    label={t('projects::type')}\n                                    disabled={status === 'loading'}\n                                >\n                                    {canCreateBloxProjects && (\n                                        <SelectBoxItem fullWidth value=\"blox\" icon={<BloxIcon />}>\n                                            Blox\n                                        </SelectBoxItem>\n                                    )}\n                                    {canCreateMixProjects && (\n                                        <SelectBoxItem fullWidth value=\"mix\" icon={<MixIcon />}>\n                                            Mix\n                                        </SelectBoxItem>\n                                    )}\n                                    {miniQuizAccessLevel === 'full' && (\n                                        <SelectBoxItem fullWidth value=\"mini-quiz\" icon={<QuestionCircleIcon />}>\n                                            {t('miniQuiz::projectType')}\n                                        </SelectBoxItem>\n                                    )}\n                                </SelectBox>\n                            }\n                        />\n                    </div>\n                )}\n\n                <div>\n                    <Collapse in={canSelectBlockGallery && watch('type') === 'blox'}>\n                        <Controller\n                            control={control}\n                            name=\"blockGallery\"\n                            rules={{ required: watch('type') === 'blox' }}\n                            as={\n                                <Select\n                                    data-testid=\"new-project-dialog-gallery\"\n                                    label={t('projects::palette')}\n                                    disabled={status === 'loading'}\n                                    displayEmpty\n                                    error={!!errors.blockGallery}\n                                    errorText={errors.blockGallery ? t('projects::paletteRequired') : undefined}\n                                >\n                                    <Option value=\"\" disabled>\n                                        {t('projects::selectPalette')}\n                                    </Option>\n                                    {blockGalleries\n                                        .filter(gallery => !gallery.language || gallery.language === 'StageScript')\n                                        .sort((a: any, b: any) => a.name.localeCompare(b.name))\n                                        .map(blockGallery => (\n                                            <Option key={blockGallery.id} value={blockGallery.id}>\n                                                {blockGallery.name}\n                                            </Option>\n                                        ))}\n                                </Select>\n                            }\n                        />\n                    </Collapse>\n\n                    <Collapse in={canChooseLanguage && watch('type') === 'mix'}>\n                        <Controller\n                            control={control}\n                            name=\"language\"\n                            as={\n                                <Select label={t('projects::language::label')} disabled={status === 'loading'}>\n                                    <Option value=\"python\">Python</Option>\n                                    <Option value=\"stagescript\">StageScript</Option>\n                                </Select>\n                            }\n                        />\n                    </Collapse>\n                </div>\n\n                {hasGrant('project-labels') && (\n                    <Collapse in={watch('type') !== 'mini-quiz'}>\n                        <ProjectLabelSelect\n                            variant=\"edit\"\n                            onChange={value => {\n                                setValue('labels', value)\n                            }}\n                        />\n                    </Collapse>\n                )}\n\n                {timesheetId && (\n                    <Collapse in={watch('type') !== 'mini-quiz'}>\n                        <TextField\n                            style={{ background: 'transparent' }}\n                            data-testid=\"new-project-dialog-timesheet-id\"\n                            disabled={status === 'loading'}\n                            readOnly={true}\n                            name=\"timesheet-id\"\n                            label={t('projects::timesheetId', { defaultValue: 'Timesheet ID' })}\n                            value={timesheetId}\n                        />\n                    </Collapse>\n                )}\n            </Stack>\n        </DialogForm>\n    )\n}\n","import { Link, useLocation } from 'react-router-dom'\n\nexport function useLocationTabs(id: string, defaultValue: string | number = 0) {\n    const location = useLocation<any>()\n    const value = location.state?.[id] ?? defaultValue\n\n    return {\n        value,\n        tabProps: (index: number | string) => ({\n            value: index,\n            component: Link,\n            to: {\n                ...location,\n                state: {\n                    ...location.state,\n                    [id]: index,\n                },\n            },\n        }),\n    }\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { newProjetDialogTo } from './NewProjectDialog'\nimport { AddIcon } from 'components/icons'\nimport { Button } from 'components/Button'\nimport { useBlockGalleriesQuery } from './projectQueries'\nimport { useUserState, canUserCreateProject, canUnlockSecretCode } from 'contexts/UserContext'\nimport { useMiniQuizAccessLevel } from 'features/mini-quizzes/helpers/miniQuizHelpers'\nimport { CookieHunt } from 'features/cookie-hunt'\n\ninterface NewProjectButtonProps {\n    disabled?: boolean\n    variant?: 'contained' | 'outlined' | 'text'\n}\n\nexport const NewProjectButton: React.FC<NewProjectButtonProps> = ({ children, disabled, variant }) => {\n    // prefetch block galleries\n    // TODO: do we have any reason to use queryCache instead?\n    useBlockGalleriesQuery()\n\n    const user = useUserState()\n    const canCreateProject = canUserCreateProject(user)\n    const canUnlockSecret = canUnlockSecretCode(user, 'project')\n    const miniQuizAccessLevel = useMiniQuizAccessLevel()\n\n    if (!(canCreateProject || miniQuizAccessLevel === 'full' || canUnlockSecret)) {\n        return null\n    }\n\n    return (\n        <CookieHunt name=\"new-project\">\n            <Button\n                disabled={disabled}\n                variant={variant ?? 'contained'}\n                data-testid=\"new-project-button\"\n                startIcon={<AddIcon />}\n                component={Link}\n                to={newProjetDialogTo}\n            >\n                {children}\n            </Button>\n        </CookieHunt>\n    )\n}\n","import { FavoriteIcon, FavoriteOutlineIcon } from 'components/icons'\nimport { Text } from 'components/Text'\nimport React from 'react'\nimport { useProjectModalContext } from '../modal/projectModalContext'\nimport { useProjectActions } from '../useProjectActions'\nimport styled from 'styled-components/macro'\nimport { Inline } from 'components/layout'\nimport { useUserState } from 'contexts/UserContext'\nimport { Tooltip } from 'components/Tooltip'\nimport { IconButton } from 'components/IconButton'\nimport { useTranslate } from 'lib/i18n/useTranslate'\n\nexport const ProjectDetailsTitle: React.FC = ({ children }) => {\n    return (\n        <Root spacing={2}>\n            <ProjectFavoriteButton />\n            <Title variant=\"h3\">{children}</Title>\n        </Root>\n    )\n}\n\nconst ProjectFavoriteButton: React.FC = () => {\n    const { project } = useProjectModalContext()\n    const { toggleProjectFavorite } = useProjectActions()\n    const { account } = useUserState()\n    const t = useTranslate()\n\n    if (!project) {\n        return null\n    }\n\n    const isFavorited = project.file.owner === account.id ? project.file.favorite : project.metadata.favorited\n\n    return (\n        <Tooltip title={t('projects::favorite')}>\n            <ProjectFavoriteButtonRoot\n                onClick={() => {\n                    toggleProjectFavorite(project)\n                }}\n            >\n                {isFavorited ? <FavoriteIcon /> : <FavoriteOutlineIcon />}\n            </ProjectFavoriteButtonRoot>\n        </Tooltip>\n    )\n}\n\nconst Root = styled(Inline)`\n    display: flex;\n    align-items: flex-start;\n    line-height: 1.2;\n`\n\nconst Title = styled(Text)`\n    line-height: 1.2;\n    word-break: break-all;\n` as typeof Text\n\nconst ProjectFavoriteButtonRoot = styled(IconButton)`\n    padding: 0;\n    vertical-align: text-top;\n    color: ${props => props.theme.palette.primary.main};\n    &:hover {\n        background: none;\n    }\n`\n","import { Authorize } from 'components/Authorize'\nimport { Stack } from 'components/layout'\nimport { useHasShowAdvancedStats } from 'contexts/UserContext'\nimport { useDateFormat } from 'hooks/useDateFormat'\nimport { useLanguagesQuery } from 'lib/i18n'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { useProjectModalContext } from '../modal/projectModalContext'\nimport { useBlockGalleriesQuery } from '../projectQueries'\nimport { Project } from '../store'\nimport { Divider } from 'components/Divider'\nimport { secondsToHHMMSS } from 'utils/timeUtils'\nimport {PYTHON_PALETTE_ID} from \"../createProjectFormData\";\nimport {useHasGrant} from \"../../../lib/grants\";\nimport {LANGUAGE_TO_LABEL} from \"../my/MyProjectLanguage\";\n\nexport const ProjectDetailsStats: React.FC = () => {\n    const { project } = useProjectModalContext()\n    const { formatDate } = useDateFormat('precise')\n    const { data: blockGalleries } = useBlockGalleriesQuery()\n    const t = useTranslate()\n    const hasGrant = useHasGrant();\n\n    if (!project) {\n        return null\n    }\n\n    const palette = (() => {\n        const blockGallery = blockGalleries?.data.find(gallery => gallery.id === project.file.metadata?.palette)\n        return blockGallery?.name\n    })()\n\n    const language = LANGUAGE_TO_LABEL[\n        project.file.metadata?.language\n        || (project.file.metadata?.palette === PYTHON_PALETTE_ID ? 'python' : 'stagescript')\n    ];\n\n    const isLanguageEnabled =\n        project.file.kind.includes('mix') &&\n        hasGrant({ product: 'edup.scoolcode.ide', feature: 'language-python' }) &&\n        hasGrant({ product: 'edup.scoolcode.ide', feature: 'language-stagescript' });\n\n    return (\n        <Stack component=\"dl\">\n            {!project.metadata.isMiniQuiz && (\n                <>\n                    <Stat name={t('projects::type')} value={project.file.kind} />\n                    <Authorize grant={{ product: 'edup.scoolcode.ide', feature: 'advanced-project-thumbnail' }}>\n                        {!project.file.kind.includes('mix') && <Stat name={t('projects::palette')} value={palette} />}\n                    </Authorize>\n                    {isLanguageEnabled && <Stat name={t('projects::language::label')} value={language} />}\n                </>\n            )}\n            <Stat name={t('general::createdAt')} value={formatDate(new Date(project.file.createdAt!))} />\n            <Stat name={t('general::modifiedAt')} value={formatDate(new Date(project.file.updatedAt!))} />\n            <AdvancedProjectMetadata project={project} />\n        </Stack>\n    )\n}\n\nexport const SharedProjectDetailsStats: React.FC = () => {\n    const { project } = useProjectModalContext()\n    const { formatDate } = useDateFormat('long')\n    const { data: languages } = useLanguagesQuery()\n    const t = useTranslate()\n    const hasShowAdvancedView = useHasShowAdvancedStats()\n\n    if (!project) {\n        return null\n    }\n\n    return (\n        <Stack component=\"dl\">\n            <Stat\n                name={t('general::language')}\n                value={languages?.data.find(lang => lang.code === project.file.lang)?.displayName}\n            />\n            <Stat name={t('projects::favorited')} value={project.file.likedCount} />\n            <Stat\n                name={t('projects::views')}\n                value={(project.file.viewedCount ?? 0) + (project.file.publicViewedCount ?? 0)}\n            />\n            {hasShowAdvancedView && (\n                <>\n                    <Stat name={t('projects::playedCount')} value={project.file.playedCount} />\n                    <Stat name={t('projects::publicView')} value={project.file.publicViewedCount} />\n                </>\n            )}\n            <Stat name={t('projects::sharedAt')} value={formatDate(new Date(project.file.approvedAt!))} />\n            <AdvancedProjectMetadata project={project} />\n        </Stack>\n    )\n}\n\nconst defaultStatFormatter = (value: any) => {\n    return Array.isArray(value) ? value.join(', ') : value\n}\n\nconst advancedMetadataFields: Array<{\n    name: keyof NonNullable<Project['file']['metadata']>\n    formatter?: (value: any) => any\n}> = [\n    { name: 'userType' },\n    { name: 'groupId' },\n    { name: 'groupName' },\n    { name: 'teacherIds' },\n    { name: 'teacherNames' },\n    { name: 'lessonNumber' },\n    { name: 'subjectKey' },\n    { name: 'totalParticipants' },\n    { name: 'schoolId' },\n    { name: 'createMode' },\n    { name: 'createType' },\n    { name: 'changeCount' },\n    { name: 'timeSpent', formatter: secondsToHHMMSS },\n]\nconst AdvancedProjectMetadata: React.FC<{ project: Project }> = ({ project }) => {\n    const hasShowAdvancedView = useHasShowAdvancedStats()\n\n    if (!hasShowAdvancedView) {\n        return null\n    }\n\n    const stats = advancedMetadataFields\n        .map(field => {\n            const fieldValue = project.file.metadata?.[field.name]\n            return {\n                name: field.name,\n                value: field.formatter ? field.formatter(fieldValue) : defaultStatFormatter(fieldValue),\n            }\n        })\n        .filter(({ value }) => value !== undefined && value !== '')\n\n    if (stats.length === 0) {\n        return null\n    }\n\n    return (\n        <>\n            <Divider />\n            {stats.map(({ name, value }) => {\n                return <Stat key={name} name={name} value={value} />\n            })}\n        </>\n    )\n}\n\nconst Stat: React.FC<{ name: string; value?: string | number | boolean }> = ({ name, value }) => {\n    return (\n        <StatRoot>\n            <dt>{name}</dt>\n            <dd>{value ?? '-'}</dd>\n        </StatRoot>\n    )\n}\n\nconst StatRoot = styled.div`\n    font-size: ${props => props.theme.typography.body2.fontSize};\n    dt {\n        color: ${props => props.theme.palette.text.secondary};\n    }\n    dd {\n        font-weight: 600;\n        margin: 0;\n        word-break: break-word;\n    }\n`\n","export function secondsToHHMMSS(seconds: number) {\n    const _hours = Math.floor(seconds / 3600).toLocaleString('en-US', { minimumIntegerDigits: 2, useGrouping: false })\n    const s = seconds % 3600\n    const _minutes = Math.floor(s / 60).toLocaleString('en-US', { minimumIntegerDigits: 2, useGrouping: false })\n    const _seconds = (s % 60).toLocaleString('en-US', { minimumIntegerDigits: 2, useGrouping: false })\n    const time = _hours + ':' + _minutes + ':' + _seconds\n    return time\n}\n","import { Button } from 'components/Button'\nimport { FormControl, FormHelperText, FormLabel } from 'components/form'\nimport { CameraIcon, ImageIcon } from 'components/icons'\nimport { Box, Inline } from 'components/layout'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React, { useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { useProjectModalContext } from './modal/projectModalContext'\n\ninterface ProjectThumbnailInputProps {\n    value?: string\n    onChange?: (value: string) => void\n    embedIframeRef: React.MutableRefObject<HTMLIFrameElement | null>\n    helperText?: string\n    errorText?: string\n    isLoading?: boolean\n    buttonText: string\n    buttonRef?: React.MutableRefObject<any>\n}\n\nexport const ProjectThumbnailInput: React.FC<ProjectThumbnailInputProps> = ({\n    value,\n    onChange,\n    isLoading,\n    helperText,\n    errorText,\n    embedIframeRef,\n    buttonText,\n    buttonRef,\n}) => {\n    const [status, setStatus] = useState<'idle' | 'loading'>('idle')\n    const t = useTranslate()\n    const { embedLoaded, embedOrigin } = useProjectModalContext()\n    const getThumbnail = () => {\n        if (status === 'idle') {\n            const onMessage = (event: MessageEvent) => {\n                if (event.origin === embedOrigin && event.data.type === 'screenshot') {\n                    onChange?.(event.data.data)\n                    setStatus('idle')\n                    window.removeEventListener('message', onMessage)\n                }\n            }\n\n            if (embedIframeRef.current) {\n                setStatus('loading')\n                window.addEventListener('message', onMessage)\n                const embedWindow = embedIframeRef.current.contentWindow\n                if (embedWindow) {\n                    embedWindow.postMessage({ type: 'getScreenshot' }, embedOrigin)\n                }\n            }\n        }\n    }\n\n    return (\n        <FormControl>\n            <FormLabel>{t('projects::thumbnail')}</FormLabel>\n            <Inline spacing={3} display=\"flex\">\n                <Box maxWidth={250} flex=\"1\">\n                    {value ? <Thumbnail width={640} height={360} src={value} /> : <ThumbnailPlaceholder />}\n                </Box>\n                <Box flex=\"1\">\n                    <Button\n                        ref={buttonRef}\n                        isLoading={isLoading}\n                        startIcon={<CameraIcon />}\n                        variant=\"outlined\"\n                        onClick={getThumbnail}\n                        disabled={!embedLoaded}\n                    >\n                        {buttonText}\n                    </Button>\n                    {errorText && <FormHelperText error>{errorText}</FormHelperText>}\n                    {helperText && <FormHelperText>{helperText}</FormHelperText>}\n                </Box>\n            </Inline>\n        </FormControl>\n    )\n}\n\nconst Thumbnail = styled.img`\n    max-width: 100%;\n    height: auto;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    background-color: ${props => props.theme.palette.action.hover};\n`\n\nconst ThumbnailPlaceholderRoot = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    background-color: ${props => props.theme.palette.action.hover};\n    color: ${props => props.theme.palette.common.white};\n    &:before {\n        content: '';\n        width: 1px;\n        margin-left: -1px;\n        float: left;\n        height: 0;\n        padding-top: 56.25%;\n    }\n    &:after {\n        content: '';\n        display: table;\n        clear: both;\n    }\n    > svg {\n        width: 40%;\n        height: auto;\n    }\n`\n\nconst ThumbnailPlaceholder: React.FC = () => {\n    return (\n        <ThumbnailPlaceholderRoot>\n            <ImageIcon />\n        </ThumbnailPlaceholderRoot>\n    )\n}\n","import { api } from 'lib/api'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useNotifications } from 'features/notifications'\nimport React, { useEffect, useState } from 'react'\nimport { useProjectModalContext } from '../modal/projectModalContext'\nimport { createProjectThumbnailUrl } from '../projectHelpers'\nimport { ProjectThumbnailInput } from '../ProjectThumbnailInput'\nimport { useDispatch } from 'react-redux'\nimport { updateHasUserThumbnail } from '..'\n\ninterface ProjectDetailsThumbnailProps {}\n\ntype Status = { name: 'idle'; value: string } | { name: 'loading'; value: string }\n\nexport const ProjectDetailsThumbnail: React.FC<ProjectDetailsThumbnailProps> = () => {\n    const { iframeRef, id, project } = useProjectModalContext()\n    const [status, setStatus] = useState<Status>({ name: 'idle', value: createProjectThumbnailUrl(id, 'normal') })\n    const { notify } = useNotifications()\n    const t = useTranslate()\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        if (status.name === 'loading') {\n            let ignore = false\n            api.projects\n                .updateProjectThumbnail(id, status.value)\n                .then(() => {\n                    if (ignore) return\n                    setStatus(status => ({ ...status, name: 'idle' }))\n                    if (!project?.file.hasUserThumbnail) {\n                        dispatch(updateHasUserThumbnail(id))\n                    }\n                })\n                .catch(() => {\n                    if (ignore) return\n                    notify(t('error::somethingWentWrong'), { variant: 'error' })\n                    setStatus(status => ({ ...status, name: 'idle' }))\n                })\n            return () => {\n                ignore = true\n            }\n        }\n    }, [status, id, t, notify, dispatch, project?.file.hasUserThumbnail])\n\n    if (!project || project.metadata.isMiniQuiz) {\n        return null\n    }\n\n    return (\n        <ProjectThumbnailInput\n            value={status.value}\n            isLoading={status.name === 'loading'}\n            onChange={value => {\n                setStatus({ name: 'loading', value })\n            }}\n            embedIframeRef={iframeRef}\n            buttonText={t('general::update')}\n        />\n    )\n}\n","import { Divider } from 'components/Divider'\nimport { IconButton } from 'components/IconButton'\nimport { EditIcon } from 'components/icons'\nimport { Box } from 'components/layout'\nimport React from 'react'\nimport { useProjectModalContext } from '../modal/projectModalContext'\nimport { ProjectModalDescription } from '../modal/ProjectModalDescription'\nimport { useForm } from 'react-hook-form'\nimport { TextField } from 'components/form'\nimport { PROJECT_DETAILS_MAX_LENGTH } from '../projectHelpers'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { DialogPrimaryButton, DialogSecondaryButton, DialogForm } from 'components/dialog'\nimport { useProjectActions } from '../useProjectActions'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport styled from 'styled-components/macro'\nimport { darken } from 'polished'\n\nexport const ProjectDetailsEditableDescription: React.FC = () => {\n    const t = useTranslate()\n\n    const { state, errors, register, setEdit, setIdle, onSubmit, defaultDetails } = useEditProjectDetails()\n\n    if (state === 'null') {\n        return null\n    }\n\n    return (\n        <>\n            <Divider />\n\n            {state === 'idle' && (\n                <StyledBox onClick={setEdit}>\n                    <ProjectModalDescription>\n                        <IconButton size=\"small\" color=\"primary\">\n                            <EditIcon />\n                        </IconButton>\n                        {defaultDetails || t('projects::addDescription')}\n                    </ProjectModalDescription>\n                </StyledBox>\n            )}\n\n            {(state === 'edit' || state === 'loading') && (\n                <DialogForm\n                    onSubmit={onSubmit}\n                    actions={\n                        <>\n                            <DialogSecondaryButton onClick={setIdle}>{t('general::cancel')}</DialogSecondaryButton>\n                            <DialogPrimaryButton isLoading={state === 'loading'} type=\"submit\">\n                                {t('general::save')}\n                            </DialogPrimaryButton>\n                        </>\n                    }\n                >\n                    <TextField\n                        errorText={errors.details?.message}\n                        name=\"details\"\n                        helperText={t('projects::detailsHelper')}\n                        multiline\n                        rows={3}\n                        ref={register({\n                            maxLength: {\n                                value: PROJECT_DETAILS_MAX_LENGTH,\n                                message: t('general::maxLength', { value: PROJECT_DETAILS_MAX_LENGTH }),\n                            },\n                        })}\n                        inputProps={{ maxLength: PROJECT_DETAILS_MAX_LENGTH }}\n                        autoFocus\n                    />\n                </DialogForm>\n            )}\n            {state === 'error' && <ErrorMessage />}\n            <Divider />\n        </>\n    )\n}\n\nconst StyledBox = styled(Box)`\n    padding: ${props => props.theme.spacing(1)};\n    &:hover {\n        background-color: ${props =>\n            darken(props.theme.palette.type === 'light' ? 0.1 : 0.03, props.theme.palette.background.paper)};\n        border-radius: ${props => props.theme.shape.borderRadius}px;\n    }\n`\n\ntype Status = 'idle' | 'loading' | 'edit' | 'null' | 'error'\n\nfunction useEditProjectDetails() {\n    const { updateProjectDetails } = useProjectActions()\n    const { project, id, variant } = useProjectModalContext()\n    const defaultDetails = variant ? project?.metadata.details?.[variant] : ''\n    const [state, setState] = React.useState<Status>(() => {\n        if (variant === null) return 'null'\n        return 'idle'\n    })\n\n    const defaultValues = React.useMemo(\n        () => ({\n            details: variant ? project?.metadata.details?.[variant] : '',\n        }),\n        [variant, project],\n    )\n\n    const { register, handleSubmit, errors, reset } = useForm<{ details: string }>({\n        defaultValues,\n    })\n\n    React.useEffect(() => {\n        reset(defaultValues)\n    }, [reset, defaultValues])\n\n    const setEdit = () => {\n        if ((window?.getSelection()?.toString()?.length ?? 0) <= 0) setState('edit')\n    }\n\n    const setIdle = () => {\n        setState('idle')\n    }\n\n    const onSubmit = handleSubmit(async ({ details }) => {\n        if (state !== 'null' && state !== 'loading') {\n            setState('loading')\n            try {\n                await updateProjectDetails(id, details, variant!)\n\n                setIdle()\n            } catch (e) {\n                setState('error')\n            }\n        }\n    })\n\n    return {\n        register,\n        errors,\n        handleSubmit,\n        state,\n        setEdit,\n        setIdle,\n        onSubmit,\n        defaultDetails,\n    }\n}\n","import { Button } from 'components/Button'\nimport { Stack, WrappingInline } from 'components/layout'\nimport { useSelector } from 'lib/store'\nimport React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useProjectModalContext } from '../modal/projectModalContext'\nimport { giveCookieRequest, Project } from '../store'\nimport styled from 'styled-components/macro'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { AnimationControls, motion, useAnimation } from 'framer-motion'\nimport { CurrencyName } from 'lib/liveops/reducers/client/currency'\nimport { currencyStyles } from '../currencyStyles'\nimport { useHasGrant } from 'lib/grants'\nimport { darken, lighten } from 'polished'\nimport { LightDarkColor, pickLightDarkColor } from 'utils/styleUtils'\nimport { Tooltip } from 'components/Tooltip'\n\ninterface CommunityProjectCookiesProps {\n    // TODO: remove once we have give-cookie grant\n    canBeCookied?: boolean\n}\n\nexport const CommunityProjectCookies: React.FC<CommunityProjectCookiesProps> = ({ canBeCookied = true }) => {\n    const { project, isOwnProject } = useProjectModalContext()\n    const hasGrant = useHasGrant()\n    const cookieAnimationControl = useAnimation()\n    const goldenCookieAnimationControl = useAnimation()\n    const hasGiveGoldenCookieGrant = hasGrant('give-golden-cookie')\n\n    if (!project || isOwnProject === undefined) {\n        return null\n    }\n\n    const isGoldenCookieColored =\n        !hasGiveGoldenCookieGrant || Boolean(project.metadata[cookiedFieldByCurrency['golden-cookie']])\n    const isCookied = Boolean(project.metadata[cookiedFieldByCurrency.cookie])\n\n    return (\n        <Stack>\n            <WrappingInline spacing={6}>\n                <CookieCount\n                    colored={isGoldenCookieColored}\n                    animationControl={cookieAnimationControl}\n                    currency=\"golden-cookie\"\n                    project={project}\n                />\n                <CookieCount\n                    colored={isCookied}\n                    animationControl={goldenCookieAnimationControl}\n                    currency=\"cookie\"\n                    project={project}\n                />\n            </WrappingInline>\n            {!isOwnProject && canBeCookied && (\n                <div>\n                    <WrappingInline spacing={2}>\n                        {hasGiveGoldenCookieGrant && (\n                            <CookieButton\n                                animationControl={cookieAnimationControl}\n                                currency=\"golden-cookie\"\n                                project={project}\n                            />\n                        )}\n                        <CookieButton\n                            animationControl={goldenCookieAnimationControl}\n                            currency=\"cookie\"\n                            project={project}\n                        />\n                    </WrappingInline>\n                </div>\n            )}\n        </Stack>\n    )\n}\n\nconst cookiedFieldByCurrency = {\n    cookie: 'cookied',\n    'golden-cookie': 'goldenCookied',\n} as const\n\nconst countFieldByCurrency = {\n    cookie: 'cookieCount',\n    'golden-cookie': 'goldenCookieCount',\n} as const\n\nconst tooltipByCurrency = {\n    cookie: 'projects::cookies',\n    'golden-cookie': 'projects::goldenCookies',\n} as const\n\ninterface CountAndProps {\n    currency: CurrencyName\n    project: Project\n    animationControl: AnimationControls\n    colored: boolean\n}\n\nconst CookieCount: React.FC<CountAndProps> = ({ currency, project, animationControl, colored }) => {\n    const t = useTranslate()\n    const styles = currencyStyles[currency]\n\n    return (\n        <Tooltip title={t(tooltipByCurrency[currency])}>\n            <CookieCountWrap>\n                <IconWrap $backgroundColor={colored ? styles.colors.background : undefined}>\n                    <CountImage\n                        animate={animationControl}\n                        variants={{ active: { scale: 1.75 } }}\n                        transition={{ repeatType: 'mirror', repeat: 1, duration: 0.25 }}\n                        src={styles.icon[colored ? 'colored' : 'solid']}\n                    />\n                </IconWrap>\n                <span>{project.file[countFieldByCurrency[currency]]}</span>\n            </CookieCountWrap>\n        </Tooltip>\n    )\n}\n\ninterface CountButtonProps {\n    currency: CurrencyName\n    project: Project\n    animationControl: AnimationControls\n}\n\nconst CookieButton: React.FC<CountButtonProps> = ({ currency, project, animationControl }) => {\n    const styles = currencyStyles[currency]\n    const userCookieCount = useSelector(state => state.client.currency[currency].value)\n\n    const cookied = !!project.metadata[cookiedFieldByCurrency[currency]]\n\n    const dispatch = useDispatch()\n    const t = useTranslate()\n\n    if (userCookieCount === null || cookied) {\n        return null\n    }\n\n    const labelKeyByCurrency = {\n        cookie: 'projects::giveCookie',\n        'golden-cookie': 'projects::giveGoldenCookie',\n    }\n\n    const outOfCurrencyKeyByCurrency = {\n        cookie: 'projects::noMoreCookies',\n        'golden-cookie': 'projects::noMoreGoldenCookies',\n    }\n\n    const remainingKeyByCurrency = {\n        cookie: 'projects::nCookiesRemaining',\n        'golden-cookie': 'projects::nGoldenCookiesRemaining',\n    }\n\n    const isOutOfCurrency = userCookieCount <= 0\n\n    return (\n        <Tooltip\n            enterDelay={isOutOfCurrency ? 0 : 1000}\n            title={\n                isOutOfCurrency\n                    ? t(outOfCurrencyKeyByCurrency[currency])\n                    : t(remainingKeyByCurrency[currency], { count: userCookieCount })\n            }\n        >\n            <motion.span layout>\n                <CookieButtonRoot\n                    variant=\"contained\"\n                    startIcon={<img src={styles.icon.colored} alt=\"\" />}\n                    $color={styles.colors.color}\n                    $backgroundColor={styles.colors.background}\n                    disabled={isOutOfCurrency}\n                    onClick={() => {\n                        dispatch(giveCookieRequest(project.file.id, currency))\n                        animationControl.start('active')\n                    }}\n                >\n                    {t(labelKeyByCurrency[currency])}\n                </CookieButtonRoot>\n            </motion.span>\n        </Tooltip>\n    )\n}\n\nconst CookieButtonRoot = styled(Button) <{ $color: LightDarkColor; $backgroundColor: LightDarkColor }>`\n    background: ${props => pickLightDarkColor(props.theme, props.$backgroundColor)};\n    color: ${props => pickLightDarkColor(props.theme, props.$color)};\n    box-shadow: none;\n    img {\n        width: 1em;\n        transition: transform ${props => props.theme.transitions.duration.standard}ms;\n    }\n    &[disabled] {\n        filter: grayscale(1);\n    }\n    &:hover,\n    &:focus-visible {\n        filter: none;\n        box-shadow: none;\n        background: ${props =>\n        props.theme.palette.type === 'light'\n            ? darken(0.08, pickLightDarkColor(props.theme, props.$backgroundColor))\n            : lighten(0.08, pickLightDarkColor(props.theme, props.$backgroundColor))};\n        img {\n            transform: scale(1.2) rotate(15deg);\n        }\n    }\n`\n\nconst CountImage = styled(motion.img)`\n    width: 100%;\n`\n\nconst CookieCountWrap = styled.div`\n    display: inline-flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(2)};\n    font-size: ${props => props.theme.typography.body1.fontSize};\n    font-weight: 600;\n`\n\nconst IconWrap = styled.div<{ $backgroundColor?: LightDarkColor }>`\n    position: relative;\n    display: flex;\n    border-radius: 50%;\n    justify-content: center;\n    align-items: center;\n    background-color: ${props =>\n        props.$backgroundColor\n            ? pickLightDarkColor(props.theme, props.$backgroundColor)\n            : props.theme.palette.grey['800']};\n    width: 2.3rem;\n    height: 2.3rem;\n    padding: 0.4em;\n    svg {\n        width: 100%;\n        height: 100%;\n    }\n`\n","import { useHasGrant } from 'lib/grants'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useSnackbar } from 'notistack'\nimport React from 'react'\nimport { useProjectModalContext } from '../modal/projectModalContext'\nimport { deserializeProjectLabel, isCustomProjectLabel } from '../projectHelpers'\nimport { ProjectLabelSelect } from '../ProjectLabelSelect'\nimport { useProjectActions } from '../useProjectActions'\n\nexport const ProjectDetailsLabels: React.FC = () => {\n    const { project, isOwnProject } = useProjectModalContext()\n    const { updateProjectLabels } = useProjectActions()\n    const hasGrant = useHasGrant()\n    const { enqueueSnackbar } = useSnackbar()\n    const t = useTranslate()\n\n    if (!hasGrant('project-labels') || !project || !isOwnProject || project.metadata.isMiniQuiz) {\n        return null\n    }\n\n    return (\n        <ProjectLabelSelect\n            variant=\"edit\"\n            onChange={async values => {\n                try {\n                    await updateProjectLabels(project.file.id, values)\n                } catch (e) {\n                    console.error(e)\n                    enqueueSnackbar(t('error::somethingWentWrong'), { variant: 'error' })\n                }\n            }}\n            defaultValue={project.file.labels?.filter(isCustomProjectLabel).map(deserializeProjectLabel) ?? []}\n        />\n    )\n}\n","import React from 'react'\nimport { Box, Stack } from 'components/layout'\nimport { ProjectDetailsActions } from './ProjectDetailsActions'\nimport { ProjectModalContent, ProjectModalHeader } from '../modal'\nimport { useProjectModalContext } from '../modal/projectModalContext'\nimport { ProjectDetailsUser, ProjectDetailsUserAvatarWrap } from './ProjectDetailsUser'\nimport { ProjectDetailsTitle } from './ProjectDetailsTitle'\nimport { Skeleton } from 'components/Skeleton'\nimport { ProjectDetailsDescription } from './ProjectDetailsDescription'\nimport { ProjectDetailsStats, SharedProjectDetailsStats } from './ProjectDetailsStats'\nimport { ProjectDetailsThumbnail } from './ProjectDetailsThumbnail'\nimport { useTitle } from 'hooks/useTitle'\nimport { ProjectModalError } from '../modal/ProjectModalError'\nimport { useCommunityProjectDetailsQuery } from '../projectQueries'\nimport { useIncrementProjectViewCount } from '../useIncrementProjectViewCount'\nimport { ProjectDetailsEditableDescription } from './ProjectDetailsEditableDescription'\nimport { Locked } from 'components/Locked'\nimport { Button } from 'components/Button'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { ViewIcon } from 'components/icons'\nimport { Project } from '../store'\nimport { SocialSharing } from '..'\nimport { runtimeEnv } from 'utils/env'\nimport { useUserState } from 'contexts/UserContext'\nimport styled from 'styled-components/macro'\nimport { CommunityProjectCookies } from './CommunityProjectCookies'\nimport { motion } from 'framer-motion'\nimport { ProjectDetailsLabels } from './ProjectDetailsLabels'\n\ninterface CommunityProjectDetailsBaseProps {\n    children: (project: Project) => React.ReactNode\n}\n\nconst CommunityProjectDetailsBase: React.FC<CommunityProjectDetailsBaseProps> = ({ children }) => {\n    const { project, error, id, variant, isOwnProject } = useProjectModalContext()\n    const { status } = useCommunityProjectDetailsQuery(id, variant, !!project)\n\n    useTitle(project?.file?.title || project?.file?.name)\n\n    if (error) {\n        return <ProjectModalError error={error} />\n    }\n\n    if (status === 'error') {\n        return <ProjectModalError error=\"GENERAL\" />\n    }\n\n    if (!project || isOwnProject === undefined || status === 'loading') {\n        return <ProjectDetailsSkeleton />\n    }\n\n    return <>{children(project)}</>\n}\n\nexport const CommunityProjectDetails: React.FC = () => {\n    const { project, isOwnProject, isPendingProject, id } = useProjectModalContext()\n    useIncrementProjectViewCount(project)\n    const { i18n } = useUserState()\n    const t = useTranslate()\n\n    const shareUrl = `${runtimeEnv.REACT_APP_SHARE_URL}/${id}?lang=${i18n.locale}&variant=production`\n\n    return (\n        <CommunityProjectDetailsBase>\n            {project => {\n                const editableProject = isOwnProject && !project.file.shared && isPendingProject === false\n                const title = project.file.shared || isPendingProject === true ? project.file.title || project.file.name : project.file.name\n                const displayThumbnail = isOwnProject && !project.file.shared && !isPendingProject\n                const displayStats = isOwnProject && !project.file.shared\n\n                return (\n                    <>\n                        <ProjectModalHeader>\n                            <ProjectDetailsActions />\n                        </ProjectModalHeader>\n                        <ProjectModalContent>\n                            <Stack spacing={5}>\n                                <ProjectDetailsUser />\n                                <ProjectDetailsTitle>{title}</ProjectDetailsTitle>\n                                {project.file.shared && <CommunityProjectCookies />}\n                                <motion.div layout>\n                                    <Stack spacing={5}>\n                                        {editableProject ? (\n                                            <ProjectDetailsEditableDescription />\n                                        ) : (\n                                            <ProjectDetailsDescription />\n                                        )}\n                                        {displayThumbnail && <ProjectDetailsThumbnail />}\n                                        <ProjectDetailsLabels />\n                                        {displayStats && <ProjectDetailsStats />}\n                                        {project.file.shared && <SharedProjectDetailsStats />}\n                                    </Stack>\n                                </motion.div>\n                            </Stack>\n                        </ProjectModalContent>\n                        {project.file.shared && (\n                            <StyledBox>\n                                <SocialSharing\n                                    shareUrl={shareUrl}\n                                    buttonText={t('projects::shareWithLink')}\n                                    helperText={t('projects::shareWithLinkHelper')}\n                                />\n                            </StyledBox>\n                        )}\n                    </>\n                )\n            }}\n        </CommunityProjectDetailsBase>\n    )\n}\n\nexport const LimitedCommunityProjectDetails: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <CommunityProjectDetailsBase>\n            {project => (\n                <>\n                    <ProjectModalHeader>\n                        <Box display=\"flex\">\n                            <Locked>\n                                <Button startIcon={<ViewIcon />} disabled>\n                                    {t('projects::codeView')}\n                                </Button>\n                            </Locked>\n                        </Box>\n                    </ProjectModalHeader>\n                    <ProjectModalContent>\n                        <Stack spacing={5}>\n                            <ProjectDetailsUser />\n                            <ProjectDetailsTitle>{project.file.title}</ProjectDetailsTitle>\n                            {project.file.shared && <CommunityProjectCookies canBeCookied={false} />}\n                            {project.file.shared && <SharedProjectDetailsStats />}\n                        </Stack>\n                    </ProjectModalContent>\n                </>\n            )}\n        </CommunityProjectDetailsBase>\n    )\n}\n\nconst StyledBox = styled(Box)`\n    padding: ${props => props.theme.spacing(4)};\n    border-top: 1px solid ${props => props.theme.palette.divider};\n    background-color: ${props => props.theme.palette.background.paper};\n`\n\nconst ProjectDetailsSkeleton: React.FC = () => {\n    return (\n        <>\n            <ProjectModalHeader>\n                <Skeleton variant=\"rect\" width=\"6rem\" height=\"2.5rem\" />\n            </ProjectModalHeader>\n            <ProjectModalContent>\n                <Stack>\n                    <ProjectDetailsUserAvatarWrap>\n                        <Skeleton variant=\"rect\" width=\"3rem\" height=\"3rem\" />\n                        <Skeleton width=\"6rem\" />\n                    </ProjectDetailsUserAvatarWrap>\n                    <Skeleton height=\"2rem\" />\n                    <div>\n                        <Skeleton />\n                        <Skeleton />\n                        <Skeleton />\n                    </div>\n                </Stack>\n            </ProjectModalContent>\n        </>\n    )\n}\n","import { ErrorBoundary } from 'components/ErrorBoundary'\nimport { Stack } from 'components/layout'\nimport { Skeleton } from 'components/Skeleton'\nimport React from 'react'\nimport { ProjectModalContent } from '../modal/ProjectModalContent'\nimport { useProjectModalContext } from '../modal/projectModalContext'\nimport { ProjectModalError } from '../modal/ProjectModalError'\nimport { ProjectModalHeader } from '../modal/ProjectModalHeader'\nimport { useClassroomProjectDetailsQuery } from '../projectQueries'\nimport { ProjectDetailsActions } from './ProjectDetailsActions'\nimport { ProjectDetailsEditableDescription } from './ProjectDetailsEditableDescription'\nimport { ProjectDetailsLabels } from './ProjectDetailsLabels'\nimport { ProjectDetailsStats } from './ProjectDetailsStats'\nimport { ProjectDetailsThumbnail } from './ProjectDetailsThumbnail'\nimport { ProjectDetailsTitle } from './ProjectDetailsTitle'\n\nexport const ClassroomProjectDetails: React.FC = () => {\n    const { project, error, id } = useProjectModalContext()\n    const { status } = useClassroomProjectDetailsQuery(id, !!project)\n\n    if (error) {\n        return <ProjectModalError error={error} />\n    }\n\n    if (status === 'error') {\n        return <ProjectModalError error=\"GENERAL\" />\n    }\n\n    return (\n        <>\n            <ProjectModalHeader>\n                <ProjectDetailsActions />\n            </ProjectModalHeader>\n            <ProjectModalContent>\n                {!project || status === 'loading' ? (\n                    <ClassroomProjectDetailsSkeleton />\n                ) : (\n                    <ErrorBoundary>\n                        <Stack>\n                            <ProjectDetailsTitle>{project.file.name}</ProjectDetailsTitle>\n                            <ProjectDetailsEditableDescription />\n                            <ProjectDetailsThumbnail />\n                            <ProjectDetailsLabels />\n                            <ProjectDetailsStats />\n                        </Stack>\n                    </ErrorBoundary>\n                )}\n            </ProjectModalContent>\n        </>\n    )\n}\n\nconst ClassroomProjectDetailsSkeleton: React.FC = () => {\n    return (\n        <Stack>\n            <Skeleton variant=\"rect\" height=\"3rem\" />\n            <Skeleton variant=\"rect\" height=\"3rem\" />\n            <Skeleton variant=\"rect\" width=\"12rem\" height=\"8rem\" />\n            <Skeleton variant=\"rect\" height=\"1rem\" />\n            <Skeleton variant=\"rect\" height=\"1rem\" />\n            <Skeleton variant=\"rect\" height=\"1rem\" />\n            <Skeleton variant=\"rect\" height=\"1rem\" />\n        </Stack>\n    )\n}\n","import { Select, Option, SelectBox, SelectBoxItem } from 'components/form'\nimport { TextField } from 'components/form'\nimport React, { useEffect, useState } from 'react'\nimport { DiscoverProjectsFilterState } from './DiscoverProjects'\nimport styled from 'styled-components/macro'\nimport { CloseIcon, FavoriteIcon, FilterIcon, Searchicon, TrainerIcon } from 'components/icons'\nimport { InputAdornment } from 'components/form'\nimport { ApiTypes } from 'lib/api'\nimport { DecodedValueMap, SetQuery } from 'use-query-params'\nimport { useDebounce } from 'use-debounce/lib'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Stack } from 'components/layout'\nimport { ProjectListTab } from '../ProjectListTab'\nimport { WrappingInline } from 'components/layout/WrappingInline'\nimport { Card, CardContent } from 'components/card'\nimport { useBlockGalleriesQuery } from '../projectQueries'\nimport { Collapse, Popover, Theme, useMediaQuery } from '@material-ui/core'\nimport { useHasGrant } from 'lib/grants'\nimport { IconButton } from 'components/IconButton'\nimport { Button } from 'components/Button'\nimport { ProjectLabelSelect } from '../ProjectLabelSelect'\nimport { Authorize } from 'components/Authorize'\n\ninterface DiscoverProjectsHeaderProps {\n    filters: DecodedValueMap<DiscoverProjectsFilterState>\n    setFilters: SetQuery<DiscoverProjectsFilterState>\n    languages: ApiTypes['language'][]\n    type: 'normal' | 'mini-quiz'\n}\n\nconst AdvancedFilters: React.FC<Pick<DiscoverProjectsHeaderProps, 'filters' | 'setFilters'>> = ({ filters, setFilters }) => {\n    const { data: blockGalleries } = useBlockGalleriesQuery()\n    const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null)\n    const t = useTranslate()\n    const isMobile = useMediaQuery<Theme>(theme => theme.breakpoints.down('xs'))\n    const hasGrant = useHasGrant()\n    const isLanguageFilterEnabled =\n        hasGrant({ product: 'edup.scoolcode.ide', feature: 'language-python' }) &&\n        hasGrant({ product: 'edup.scoolcode.ide', feature: 'language-stagescript' }) &&\n        filters.kind === 'mix'\n\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        setAnchorEl(event.currentTarget)\n    }\n\n    const handleClose = () => {\n        setAnchorEl(null)\n    }\n    const isOpen = !!anchorEl\n    const isFiltering = filters.kind !== '' || filters.language !== '' || filters.palette !== '' || (filters.labels && filters.labels.length > 0)\n    const filterString = (() => {\n        if (!isFiltering) {\n            return t('general::filters')\n        }\n        let filterString = [\n            capitalizeFirstLetter(filters.kind || ''),\n            (filters.language === 'stagescript' ? 'StageScript' : filters.language === 'python' ? 'Python' : ''),\n            ...(filters.labels ?? []),\n            blockGalleries?.data.find(gallery => gallery.id === filters.palette)?.name,\n        ]\n            .filter(field => !!field)\n            .join(', ')\n\n        if (filterString.length > 50) {\n            filterString = filterString.slice(0, 50) + '…'\n        }\n\n        return filterString\n    })()\n\n    const filteredBlockGalleries = blockGalleries?.data\n    .filter(gallery => {\n        if (filters.kind === 'blox') {\n            return !gallery.language || gallery.language === 'StageScript'\n        }\n        else if (filters.kind === 'mix') {\n            if (!gallery.language || filters.language === 'stagescript') {\n                return gallery.language === 'StageScript'\n            }\n            else if (filters.language === 'python') {\n                return gallery.language === 'StagePython'\n            }\n        }\n        return true;\n    })\n    .sort((a: any, b: any) => a.name.localeCompare(b.name))\n    .map(gallery => (\n        <Option key={gallery.id} value={gallery.id}>\n            {gallery.name}\n        </Option>\n    ))\n\n    return (\n        <>\n            {isMobile ? (\n                <IconButton size=\"small\" onClick={handleClick} color={isFiltering ? 'primary' : 'inherit'}>\n                    <FilterIcon />\n                </IconButton>\n            ) : (\n                <Button\n                    onClick={handleClick}\n                    color={isFiltering ? 'primary' : 'default'}\n                    startIcon={<FilterIcon />}\n                    variant=\"text\"\n                >\n                    {filterString}\n                </Button>\n            )}\n\n            <Popover PaperProps={{ style: { width: 360 } }} anchorEl={anchorEl} open={isOpen} onClose={handleClose}>\n                <Stack p={4}>\n                    <SelectBox\n                        label={t('projects::type')}\n                        value={filters.kind}\n                        onChange={value => {\n                            switch (value) {\n                                case 'blox':\n                                case '':\n                                    setFilters({ kind: value, language: '', palette: '' }, 'replaceIn')\n                                    break;\n                                case 'mix':\n                                    setFilters({ kind: value, palette: '' }, 'replaceIn')\n                                    break\n                                default:\n                                    break;\n                            }\n                        }}\n                    >\n                        <SelectBoxItem fullWidth value=\"blox\">\n                            Blox\n                        </SelectBoxItem>\n                        <SelectBoxItem fullWidth value=\"mix\">\n                            Mix\n                        </SelectBoxItem>\n                        <SelectBoxItem fullWidth value=\"\">\n                            {t('general::all')}\n                        </SelectBoxItem>\n                    </SelectBox>\n                    {isLanguageFilterEnabled && <SelectBox\n                        label={t('projects::language::label')}\n                        value={filters.language}\n                        onChange={value => {\n                            setFilters({ language: value as any, palette: '' }, 'replaceIn')\n                        }}\n                    >\n                        <SelectBoxItem value=\"stagescript\">\n                            StageScript\n                        </SelectBoxItem>\n                        <SelectBoxItem fullWidth value=\"python\">\n                            Python\n                        </SelectBoxItem>\n                        <SelectBoxItem fullWidth value=\"\">\n                            {t('general::all')}\n                        </SelectBoxItem>\n                    </SelectBox>}\n                    {hasGrant('project-labels') && (\n                        <ProjectLabelSelect\n                            variant=\"filter\"\n                            onChange={value => {\n                                setFilters({ labels: value }, 'replaceIn')\n                            }}\n                            value={filters.labels}\n                        />\n                    )}\n                    <Select\n                        onChange={e => {\n                            setFilters({ palette: e.target.value as string }, 'replaceIn')\n                        }}\n                        displayEmpty\n                        value={filters.palette}\n                        label={t('projects::palette')}\n                    >\n                        <OptionAll value=\"\">\n                            <em>{t('general::all')}</em>\n                        </OptionAll>\n                        {filteredBlockGalleries}\n                    </Select>\n                    <Collapse in={isFiltering}>\n                        <Button\n                            onClick={() => {\n                                setFilters({ kind: '', palette: '', language: '', labels: [] }, 'replaceIn')\n                            }}\n                            startIcon={<CloseIcon />}\n                            variant=\"text\"\n                        >\n                            {t('general::resetFilters')}\n                        </Button>\n                    </Collapse>\n                </Stack>\n            </Popover>\n        </>\n    )\n}\n\nexport const DiscoverProjectsHeader: React.FC<DiscoverProjectsHeaderProps> = ({ filters, setFilters, languages, type }) => {\n    const t = useTranslate()\n\n    return (\n        <Stack spacing={5}>\n            <WrappingInline>\n                <ProjectListTab\n                    isActive={filters.view === 'all'}\n                    onClick={() => {\n                        setFilters({ view: 'all' }, 'replaceIn')\n                    }}\n                >\n                    {t('general::all')}\n                </ProjectListTab>\n                <ProjectListTab\n                    isActive={filters.view === 'favorites'}\n                    onClick={() => {\n                        setFilters({ view: 'favorites' }, 'replaceIn')\n                    }}\n                    icon={<FavoriteIcon />}\n                >\n                    {t('general::favorites')}\n                </ProjectListTab>\n                <ProjectListTab\n                    isActive={filters.view === 'only-trainers'}\n                    onClick={() => {\n                        setFilters({ view: 'only-trainers' }, 'replaceIn')\n                    }}\n                    icon={<TrainerIcon />}\n                >\n                    {t('general::instructor')}\n                </ProjectListTab>\n            </WrappingInline>\n            <Card elevation={1}>\n                <CardContent>\n                    <Stack spacing={6}>\n                        <Grid>\n                            <Search filters={filters} setFilters={setFilters} />\n                            <InnerGrid>\n                                {type === 'normal' && <Authorize grant={{ product: 'edup.universe', feature: 'advanced-palette-filtering' }}>\n                                    <AdvancedFilters filters={filters} setFilters={setFilters}/>\n                                </Authorize>}\n                                <LanguageSelect\n                                    fullWidth={false}\n                                    multiple\n                                    value={filters.languages}\n                                    onChange={e => {\n                                        const selectedLanguages = e.target.value as string[]\n                                        if (selectedLanguages.length === 0) {\n                                            e.preventDefault()\n                                        }\n                                        else {\n                                            setFilters({ languages: selectedLanguages }, 'replaceIn')\n                                        }\n                                    }}\n                                >\n                                    {languages.map(language => (\n                                        <Option value={language.code} key={language.code}>\n                                            {language.displayName}\n                                        </Option>\n                                    ))}\n                                </LanguageSelect>\n                                {filters.sort === '-daysViewedCount' && (\n                                    <Select\n                                        fullWidth={false}\n                                        value={filters.days}\n                                        onChange={e => {\n                                            setFilters({ days: e.target.value as number }, 'replaceIn')\n                                        }}\n                                    >\n                                        <Option value={1}>{t('timeRanges::day')}</Option>\n                                        <Option value={7}>{t('timeRanges::week')}</Option>\n                                        <Option value={30}>{t('timeRanges::month')}</Option>\n                                        <Option value={-1}>{t('timeRanges::all')}</Option>\n                                    </Select>\n                                )}\n                                <Select\n                                    fullWidth={false}\n                                    value={filters.sort}\n                                    onChange={e => {\n                                        setFilters({ sort: e.target.value as string }, 'replaceIn')\n                                    }}\n                                >\n                                    <Option value=\"-approvedAt\">{t('projects::sort::latest')}</Option>\n                                    <Option value=\"-cookieCount\">{t('projects::sort::mostCookies')}</Option>\n                                    <Option value=\"-goldenCookieCount\">{t('projects::sort::mostGoldenCookies')}</Option>\n                                    <Option value=\"-daysViewedCount\">{t('projects::sort::mostViews')}</Option>\n                                </Select>\n                            </InnerGrid>\n                        </Grid>\n                    </Stack>\n                </CardContent>\n            </Card>\n        </Stack>\n    )\n}\n\nconst Search: React.FC<Omit<DiscoverProjectsHeaderProps, 'languages' | 'type'>> = ({ filters, setFilters }) => {\n    const [search, setSearch] = useState(filters.pattern)\n    const [debouncedSearch] = useDebounce(search, 500)\n    const t = useTranslate()\n\n    useEffect(() => {\n        setSearch(filters.pattern)\n    }, [filters.pattern])\n\n    useEffect(() => {\n        setFilters({ pattern: debouncedSearch }, 'replaceIn')\n    }, [debouncedSearch, setFilters])\n\n    return (\n        <TextField\n            placeholder={t('projects::discoverSearchPlaceholder')}\n            type=\"search\"\n            startAdornment={\n                <InputAdornment position=\"start\">\n                    <Searchicon />\n                </InputAdornment>\n            }\n            value={search}\n            onChange={e => {\n                setSearch(e.target.value)\n            }}\n        />\n    )\n}\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: ${props => props.theme.spacing(2)};\n    ${props => props.theme.breakpoints.down('sm')} {\n        grid-template-columns: 1fr;\n    }\n`\n\nconst InnerGrid = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    gap: ${props => props.theme.spacing(2)};\n    ${props => props.theme.breakpoints.down('sm')} {\n        justify-content: flex-start;\n        flex-wrap: wrap;\n        > * {\n            flex: 1;\n        }\n    }\n    ${props => props.theme.breakpoints.down('xs')} {\n        display: grid;\n        grid-template-columns: 1fr;\n        > * {\n            flex: 1;\n        }\n    }\n`\n\nconst LanguageSelect = styled(Select)`\n    width: 12rem;\n    ${props => props.theme.breakpoints.down('sm')} {\n        width: auto;\n    }\n`\n\nconst OptionAll = styled(Option)`\n    font-weight: 600;\n`\n\nfunction capitalizeFirstLetter(string: string) {\n    return string.charAt(0).toUpperCase() + string.slice(1)\n}\n","import React from 'react'\nimport { PublicProjectCard } from '../card'\nimport { useSelector } from 'lib/store'\nimport styled from 'styled-components/macro'\nimport { useProjectDiscoverQuery } from '../projectQueries'\nimport { projectListGridStyles } from '../commonProjectStyles'\nimport { DecodedValueMap } from 'serialize-query-params'\nimport { DiscoverProjectsFilterState } from './DiscoverProjects'\nimport { CookieHunt } from 'features/cookie-hunt'\nimport { PublicMiniQuizCard } from 'features/mini-quizzes'\nimport { Stack } from 'components/layout'\n\ntype DiscoverProjectsListProps = {\n    query: ReturnType<typeof useProjectDiscoverQuery>\n    filters: DecodedValueMap<DiscoverProjectsFilterState>\n}\n\nexport const DiscoverProjectsList: React.FC<DiscoverProjectsListProps> = ({ query, filters }) => {\n    const projects = useSelector(state => state.projects.all)\n\n    return (\n        <Grid>\n            {query.data?.map((group, groupIndex) =>\n                group.response.data.map((result, index) => {\n                    const project = projects[result.id]\n                    if (!project) {\n                        return null\n                    }\n                    return (\n                        <CookieHunt\n                            key={project.file.id}\n                            name=\"discover-projects-list\"\n                            disabled={!(groupIndex === 0 && index === 11)}\n                        >\n                            <PublicProjectCard project={project} user={project.metadata.owner} filters={filters} />\n                        </CookieHunt>\n                    )\n                }),\n            )}\n        </Grid>\n    )\n}\n\nexport const DiscoverMiniQuizzesList: React.FC<DiscoverProjectsListProps> = ({ query }) => {\n    const projects = useSelector(state => state.projects.all)\n\n    return (\n        <Stack>\n            {query.data?.map(group =>\n                group.response.data.map(result => {\n                    const project = projects[result.id]\n                    if (!project) {\n                        return null\n                    }\n                    return <PublicMiniQuizCard key={project.file.id} project={project} user={project.metadata.owner} />\n                }),\n            )}\n        </Stack>\n    )\n}\n\nconst Grid = styled.div`\n    ${projectListGridStyles}\n`\n","import React, { useEffect } from 'react'\nimport { Loader } from 'components/Loader'\nimport { useIsElementFullyVisible } from 'hooks/useIsElementFullyVisible'\nimport { Flex } from 'components/layout'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { Stack } from 'components/layout'\nimport styled from 'styled-components/macro'\nimport { DiscoverProjectsHeader } from './DiscoverProjectsHeader'\nimport { DiscoverMiniQuizzesList, DiscoverProjectsList } from './DiscoverProjectsList'\nimport { useLanguagesQuery } from 'lib/i18n'\nimport { Text } from 'components/Text'\nimport { useMyFavoriteProjectsQuery, useProjectDiscoverQuery } from '../projectQueries'\nimport { getUserProjectLanguages, useUserState } from 'contexts/UserContext'\nimport { ApiTypes } from 'lib/api'\nimport {\n    DelimitedArrayParam,\n    NumberParam,\n    QueryParamConfig,\n    QueryParamProvider,\n    StringParam,\n    useQueryParams,\n    withDefault,\n} from 'use-query-params'\nimport { Route } from 'react-router-dom'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { ProjectLanguage } from '../createProjectFormData'\nimport { useHasGrant } from 'lib/grants'\n\nexport type View = 'all' | 'favorites' | 'only-trainers'\nexport interface DiscoverProjectsFilterState {\n    view: QueryParamConfig<View>\n    pattern: QueryParamConfig<string>\n    sort: QueryParamConfig<string>\n    days: QueryParamConfig<number>\n    languages: QueryParamConfig<string[]>\n    // fixing some weird use-query-params typing issue\n    [key: string]: any\n    // Advanced filters\n    kind: QueryParamConfig<'' | 'mix' | 'blox'>\n    language: QueryParamConfig<'' | ProjectLanguage>\n    palette: QueryParamConfig<string>\n    labels: QueryParamConfig<string[]>\n}\n\ninterface DiscoverProjectsProps {\n    defaultShort?: string\n    type: 'normal' | 'mini-quiz'\n}\n\nexport const DiscoverProjects = React.memo<DiscoverProjectsProps>(({ defaultShort, type }) => {\n    const { data: languages } = useLanguagesQuery()\n\n    if (!languages) {\n        return (\n            <Flex justify=\"center\">\n                <Loader />\n            </Flex>\n        )\n    }\n\n    return (\n        <QueryParamProvider ReactRouterRoute={Route}>\n            <DiscoverProjectsInner languages={languages.data} defaultShort={defaultShort} type={type} />\n        </QueryParamProvider>\n    )\n})\n\ninterface DiscoverProjectsInnerProps extends DiscoverProjectsProps {\n    languages: ApiTypes['language'][]\n}\n\nconst DiscoverProjectsInner: React.FC<DiscoverProjectsInnerProps> = ({ languages, defaultShort, type }) => {\n    const user = useUserState()\n    const t = useTranslate()\n    const hasGrant = useHasGrant()\n\n\n    const [filters, setFilters] = useQueryParams<DiscoverProjectsFilterState>({\n        view: withDefault<any, View>(StringParam, 'all'),\n        pattern: withDefault<any, string>(StringParam, ''),\n        sort: withDefault<any, string>(StringParam, defaultShort ?? '-approvedAt'),\n        days: withDefault<any, number>(NumberParam, 1),\n        languages: withDefault<any, string[]>(DelimitedArrayParam, getUserProjectLanguages(user, languages)),\n        kind: withDefault<any, '' | 'mix' | 'blox'>(StringParam, ''),\n        language: withDefault<any, '' | ProjectLanguage>(StringParam, ''),\n        palette: withDefault<any, string>(StringParam, ''),\n        labels: withDefault<any, string[]>(DelimitedArrayParam, []),\n    })\n\n    const { data: favorites } = useMyFavoriteProjectsQuery(filters.view === 'favorites')\n\n    const query = useProjectDiscoverQuery({\n        query: {\n            ...filters,\n            limit: 36,\n            ids: filters.view === 'favorites' ? favorites?.data.map(f => f.file) : undefined,\n            type,\n            'request-total-count': hasGrant('show-community-projects-count') ? true : undefined\n        },\n        enabled: filters.view === 'favorites' ? !!favorites : true,\n    })\n    const { fetchMore, status, isFetchingMore, canFetchMore } = query\n    const { ref, isFullyVisible } = useIsElementFullyVisible()\n\n    useEffect(() => {\n        if (isFullyVisible === true) {\n            fetchMore()\n        }\n    }, [isFullyVisible, fetchMore])\n\n    if (!languages) {\n        return <Loader />\n    }\n\n    const isTriggerVisible = !!(status === 'success' && !isFetchingMore && canFetchMore)\n    const countText = (() => {\n        if (!query.data) {\n            return null\n        }\n        const count = query.data[0].totalCount\n        if (count === undefined) {\n            return undefined;\n        }\n        if (count !== 0) {\n            return t('general::nResults', { count })\n        }\n        return t('general::noResults')\n    })()\n\n    return (\n        <div>\n            <Stack spacing={5}>\n                <DiscoverProjectsHeader filters={filters} setFilters={setFilters} languages={languages} type={type} />\n                <Stack>\n                    {countText ? <Text color=\"textSecondary\">{countText}</Text> : null}\n                    {type === 'mini-quiz' ? (\n                        <DiscoverMiniQuizzesList query={query} filters={filters} />\n                    ) : (\n                        <DiscoverProjectsList query={query} filters={filters} />\n                    )}\n                </Stack>\n                <Flex justify=\"center\" mt={5}>\n                    {(status === 'loading' || isFetchingMore) && <Loader />}\n                </Flex>\n                {status === 'error' && <ErrorMessage />}\n                <LoadMoreTrigger ref={ref} isVisible={isTriggerVisible}></LoadMoreTrigger>\n            </Stack>\n        </div>\n    )\n}\n\nconst LoadMoreTrigger = styled.div<{ isVisible: boolean }>`\n    height: 2px;\n    display: ${props => (props.isVisible ? 'block' : 'none')};\n`\n","import React from 'react'\nimport { createProjectThumbnailUrl } from '../projectHelpers'\nimport { Project } from '../store'\nimport { ProjectCard, ProjectCardImage, ProjectCardContent, ProjectCardBadge } from '../card'\nimport { useBlockGalleriesQuery } from '../projectQueries'\nimport { MyProjectBlockGallery } from './MyProjectBlockGallery'\nimport { MyProjectCardActionsMenu } from './MyProjectCardActionsMenu'\nimport { ProjectStripe } from '../stripe'\nimport { MyProjectStripeActions } from './MyProjectStripeActions'\nimport { MyCustomRightClickMenu } from './MyCustomRightClickMenu'\nimport { ProjectActionsMenu } from '../ProjectActionsMenu'\nimport { ProjectCardFavoriteBadge } from '../card/ProjectCardFavoriteBadge'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { ClassroomIcon } from 'components/icons'\nimport { ProjectListLayout } from './MyProjects'\nimport { Badge } from 'components/Badge'\nimport { MyProjectLanguage } from './MyProjectLanguage'\nimport { useHasGrant } from '../../../lib/grants'\n\ninterface MyClassroomProjectCardProps {\n    project: Project\n    blockGalleriesQuery?: ReturnType<typeof useBlockGalleriesQuery>\n    layout: 'list' | 'grid'\n}\n\nexport const MyClassroomProjectCard: React.FC<MyClassroomProjectCardProps> = ({\n    project,\n    blockGalleriesQuery,\n    layout,\n}) => {\n    const to = `/app/project/${project.file.id}`\n    const title = project.file.name\n    const thumbnailUrl = createProjectThumbnailUrl(project.file.id, 'normal')\n\n    const hasGrant = useHasGrant()\n    const classroomBadge =\n        !hasGrant('area.community') || hasGrant('share-project-user-consent') ? null : (\n            <ClassroomBadge layout={layout} />\n        )\n    const languageBadge = <MyProjectLanguage project={project} layout={layout} />\n    const blockGalleryBadge = (\n        <MyProjectBlockGallery layout={layout} project={project} blockGalleriesQuery={blockGalleriesQuery} />\n    )\n\n    if (layout === 'list') {\n        return (\n            <MyCustomRightClickMenu\n                menu={<ProjectActionsMenu location=\"stripe\" isPending={false} id={project.file.id} isInContextMenu />}\n            >\n                <ProjectStripe\n                    thumbnailUrl={thumbnailUrl}\n                    tags={classroomBadge}\n                    metadata={\n                        <>\n                            {languageBadge}\n                            {blockGalleryBadge}\n                        </>\n                    }\n                    title={title}\n                    to={to}\n                    actions={<MyProjectStripeActions isPending={false} project={project} />}\n                    favorite={<ProjectCardFavoriteBadge project={project} inList />}\n                />\n            </MyCustomRightClickMenu>\n        )\n    }\n\n    return (\n        <ProjectCard>\n            <MyCustomRightClickMenu\n                menu={<ProjectActionsMenu location=\"card\" isPending={false} id={project.file.id} isInContextMenu />}\n            >\n                <ProjectCardImage\n                    to={to}\n                    src={thumbnailUrl}\n                    badges={\n                        <>\n                            {classroomBadge}\n                            {blockGalleryBadge}\n                            {languageBadge}\n                        </>\n                    }\n                    outerBadges={<ProjectCardFavoriteBadge project={project} />}\n                />\n            </MyCustomRightClickMenu>\n            <ProjectCardContent\n                title={{ label: project.file.name, to }}\n                action={\n                    <MyProjectCardActionsMenu\n                        location=\"card\"\n                        isPending={false}\n                        compensatePadding\n                        id={project.file.id}\n                    />\n                }\n            ></ProjectCardContent>\n        </ProjectCard>\n    )\n}\n\nconst ClassroomBadge: React.FC<{ layout: ProjectListLayout }> = ({ layout }) => {\n    const t = useTranslate()\n\n    const badgeProps = {\n        backgroundColor: '#395167',\n        icon: <ClassroomIcon />,\n        children: t('classroom::title'),\n    }\n\n    switch (layout) {\n        case 'list':\n            return <Badge {...badgeProps} />\n        case 'grid':\n            return <ProjectCardBadge position=\"top-right\" {...badgeProps} />\n    }\n}\n","import { Button } from 'components/Button'\nimport { Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { canUserCreateProject, useUserState } from 'contexts/UserContext'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { newProjetDialogTo } from '..'\n\nexport const CreateYourFirstProject: React.FC = () => {\n    const t = useTranslate()\n    const user = useUserState()\n    const canCreateProject = canUserCreateProject(user)\n\n    return (\n        <Stack textAlign=\"center\" spacing={6}>\n            <Title variant=\"h3\">{t('projects::noProjects')}</Title>\n            <Button size=\"large\" component={Link} to={newProjetDialogTo}>\n                {t(canCreateProject ? 'projects::createFirst' : 'projects::unlockProject')}\n            </Button>\n        </Stack>\n    )\n}\n\nconst Title = styled(Text)`\n    color: ${props => props.theme.palette.text.hint};\n    font-weight: 400;\n`\n","import React from 'react'\nimport { MyClassroomProjectCard } from './MyClassroomProjectCard'\nimport styled, { css } from 'styled-components/macro'\nimport { EmptyState } from 'components/EmptyState'\nimport { useBlockGalleriesQuery, useMyPendingProjectsQuery } from '../projectQueries'\nimport { MyCommunityProjectCard } from './MyCommunityProjectCard'\nimport { useUserState } from 'contexts/UserContext'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { CreateYourFirstProject } from './CreateYourFirstProject'\nimport { projectListGridStyles } from '../commonProjectStyles'\nimport { Project } from '../store'\nimport { MyProjectsQuery } from '../ProjectsApi'\nimport { MyDeletedProjectCard } from './MyDeletedProjectCard'\nimport { ProjectListLayout } from './MyProjects'\nimport { CookieHunt } from 'features/cookie-hunt'\n\ninterface MyProjectsListProps {\n    isFiltering: boolean\n    projects: Project[] | undefined\n    view: MyProjectsQuery['view']\n    listLayout: ProjectListLayout\n}\n\nexport const MyProjectList: React.FC<MyProjectsListProps> = ({ isFiltering, projects, view, listLayout }) => {\n    const blockGalleriesQuery = useBlockGalleriesQuery()\n    const { account } = useUserState()\n    const { data: pendingProjects } = useMyPendingProjectsQuery()\n    const t = useTranslate()\n\n    if (!projects) {\n        return null\n    }\n\n    if (projects.length === 0) {\n        if (isFiltering || view !== 'all') {\n            return <EmptyState>{t('general::noResults')}</EmptyState>\n        }\n        return <CreateYourFirstProject />\n    }\n\n    return (\n        <Grid listLayout={listLayout} data-testid={`myprojects-container-${listLayout}`}>\n            {projects.map((project, i) => {\n                if (view === 'deleted') {\n                    return <MyDeletedProjectCard displayType={listLayout} project={project} key={project.file.id} />\n                }\n\n                if (project.metadata.shareable) {\n                    return (\n                        <MyCommunityProjectCard\n                            user={account}\n                            blockGalleriesQuery={blockGalleriesQuery}\n                            key={project.file.id}\n                            project={project}\n                            isPending={pendingProjects?.includes(project.file.id)}\n                            layout={listLayout}\n                        />\n                    )\n                }\n\n                return (\n                    <CookieHunt name=\"my-projects-list\" index={i} key={project.file.id}>\n                        <MyClassroomProjectCard\n                            layout={listLayout}\n                            blockGalleriesQuery={blockGalleriesQuery}\n                            project={project}\n                        />\n                    </CookieHunt>\n                )\n            })}\n        </Grid>\n    )\n}\n\nconst projectListStyles = css`\n    max-width: 60rem;\n    margin-left: auto;\n    margin-right: auto;\n    > * + * {\n        margin-top: ${props => props.theme.spacing(4)};\n    }\n`\n\nconst Grid = styled.div<{ listLayout: 'grid' | 'list' }>`\n    ${props => (props.listLayout === 'grid' ? projectListGridStyles : projectListStyles)}\n`\n","import { InputAdornment, Option, Select, SelectBox, SelectBoxItem, TextField } from 'components/form'\nimport { CloseIcon, FilterIcon, GridIcon, ListIcon, Searchicon } from 'components/icons'\nimport React, { useEffect, useState } from 'react'\nimport { DecodedValueMap, SetQuery } from 'use-query-params'\nimport { MyProjectsFilterState, ProjectListLayout } from './MyProjects'\nimport { useDebounce } from 'use-debounce'\nimport { MyProjectsQuery } from '../ProjectsApi'\nimport styled from 'styled-components/macro'\nimport { useBlockGalleriesQuery } from '../projectQueries'\nimport { Button } from 'components/Button'\nimport { Collapse, Popover, Theme, useMediaQuery } from '@material-ui/core'\nimport { Hidden, Inline, Stack } from 'components/layout'\nimport { Authorize } from 'components/Authorize'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Card, CardContent } from 'components/card'\nimport { IconButton } from 'components/IconButton'\nimport { LocalisationKey } from 'lib/i18n'\nimport { useHasGrant } from 'lib/grants'\nimport { ProjectLabelSelect } from '../ProjectLabelSelect'\n\ninterface MyProjectsFiltersProps {\n    filters: DecodedValueMap<MyProjectsFilterState>\n    setFilters: SetQuery<MyProjectsFilterState>\n    listLayout: ProjectListLayout\n    onListLayoutChange: (layout: ProjectListLayout) => void\n    hideSort: boolean\n}\n\nconst sorts: MyProjectsQuery['sort'][] = ['-name', 'name', '-updatedAt', 'updatedAt', '-createdAt', 'createdAt']\nconst sortLabels: Record<MyProjectsQuery['sort'], LocalisationKey> = {\n    '-createdAt': 'general::sort::recentlyCreated',\n    createdAt: 'general::sort::lastCreated',\n    '-name': 'general::sort::abcDesc',\n    name: 'general::sort::abcAsc',\n    '-updatedAt': 'general::sort::recentlyModified',\n    updatedAt: 'general::sort::lastModified',\n}\n\nexport const MyProjectsFilters: React.FC<MyProjectsFiltersProps> = ({\n    filters,\n    setFilters,\n    listLayout,\n    onListLayoutChange,\n    hideSort,\n}) => {\n    const t = useTranslate()\n\n    const advancedFilters = (\n        <Authorize grant={{ product: 'edup.scoolcode.ide', feature: 'advanced-filtering' }}>\n            <AdvancedFilters filters={filters} setFilters={setFilters} />\n        </Authorize>\n    )\n\n    return (\n        <Card elevation={1}>\n            <CardContent>\n                <Grid>\n                    <SearchWrap>\n                        <Search filters={filters} setFilters={setFilters} />\n                        <Hidden smUp>{advancedFilters}</Hidden>\n                    </SearchWrap>\n                    <InnerGrid spacing={3}>\n                        <Hidden xsDown>{advancedFilters}</Hidden>\n\n                        {!hideSort && (\n                            <SortSelect\n                                value={filters.sort}\n                                fullWidth={false}\n                                onChange={e => {\n                                    setFilters({ sort: e.target.value as MyProjectsQuery['sort'] }, 'replaceIn')\n                                }}\n                            >\n                                {sorts.map(sort => (\n                                    <Option key={sort} value={sort}>\n                                        {t(sortLabels[sort])}\n                                    </Option>\n                                ))}\n                            </SortSelect>\n                        )}\n\n                        <Inline spacing={2} display=\"flex\" alignItems=\"center\">\n                            <IconButton\n                                color={listLayout === 'grid' ? 'primary' : 'inherit'}\n                                size=\"small\"\n                                onClick={() => {\n                                    onListLayoutChange('grid')\n                                }}\n                                title={t('general::grid-view')}\n                            >\n                                <GridIcon />\n                            </IconButton>\n                            <IconButton\n                                color={listLayout === 'list' ? 'primary' : 'inherit'}\n                                size=\"small\"\n                                onClick={() => {\n                                    onListLayoutChange('list')\n                                }}\n                                title={t('general::list-view')}\n                            >\n                                <ListIcon />\n                            </IconButton>\n                        </Inline>\n                    </InnerGrid>\n                </Grid>\n            </CardContent>\n        </Card>\n    )\n}\n\nconst Search: React.FC<Pick<MyProjectsFiltersProps, 'filters' | 'setFilters'>> = ({ filters, setFilters }) => {\n    const t = useTranslate()\n    const [search, setSearch] = useState(filters.search)\n    const [debouncedSearch] = useDebounce(search, 500)\n\n    useEffect(() => {\n        setSearch(filters.search)\n    }, [filters.search])\n\n    useEffect(() => {\n        setFilters({ search: debouncedSearch }, 'replaceIn')\n    }, [debouncedSearch, setFilters])\n\n    return (\n        <TextField\n            fullWidth={false}\n            placeholder={t('general::search')}\n            type=\"search\"\n            startAdornment={\n                <InputAdornment position=\"start\">\n                    <Searchicon />\n                </InputAdornment>\n            }\n            value={search}\n            onChange={e => {\n                setSearch(e.target.value)\n            }}\n        />\n    )\n}\n\nconst AdvancedFilters: React.FC<Pick<MyProjectsFiltersProps, 'filters' | 'setFilters'>> = ({ filters, setFilters }) => {\n    const { data: blockGalleries } = useBlockGalleriesQuery()\n    const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null)\n    const t = useTranslate()\n    const isMobile = useMediaQuery<Theme>(theme => theme.breakpoints.down('xs'))\n    const hasGrant = useHasGrant()\n    const isLanguageFilterEnabled =\n        hasGrant({ product: 'edup.scoolcode.ide', feature: 'language-python' }) &&\n        hasGrant({ product: 'edup.scoolcode.ide', feature: 'language-stagescript' }) &&\n        filters.kind === 'mix'\n    const isPaletteFilterEnabled = \n        hasGrant({ product: 'edup.universe', feature: 'advanced-palette-filtering' }) ||\n        filters.kind !== 'mix'\n\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        setAnchorEl(event.currentTarget)\n    }\n\n    const handleClose = () => {\n        setAnchorEl(null)\n    }\n    const isOpen = !!anchorEl\n    const isFiltering = filters.kind !== '' || filters.language !== '' || filters.palette !== '' || (filters.labels && filters.labels.length > 0)\n    const filterString = (() => {\n        if (!isFiltering) {\n            return t('general::filters')\n        }\n        let filterString = [\n            capitalizeFirstLetter(filters.kind || ''),\n            (filters.language === 'stagescript' ? 'StageScript' : filters.language === 'python' ? 'Python' : ''),\n            ...(filters.labels ?? []),\n            blockGalleries?.data.find(gallery => gallery.id === filters.palette)?.name,\n        ]\n            .filter(field => !!field)\n            .join(', ')\n\n        if (filterString.length > 50) {\n            filterString = filterString.slice(0, 50) + '…'\n        }\n\n        return filterString\n    })()\n\n    const filteredBlockGalleries = blockGalleries?.data\n    .filter(gallery => {\n        if (filters.kind === 'blox') {\n            return !gallery.language || gallery.language === 'StageScript'\n        }\n        else if (filters.kind === 'mix') {\n            if (!gallery.language || filters.language === 'stagescript') {\n                return gallery.language === 'StageScript'\n            }\n            else if (filters.language === 'python') {\n                return gallery.language === 'StagePython'\n            }\n        }\n        return true;\n    })\n    .sort((a: any, b: any) => a.name.localeCompare(b.name))\n    .map(gallery => (\n        <Option key={gallery.id} value={gallery.id}>\n            {gallery.name}\n        </Option>\n    ))\n\n    return (\n        <>\n            {isMobile ? (\n                <IconButton size=\"small\" onClick={handleClick} color={isFiltering ? 'primary' : 'inherit'}>\n                    <FilterIcon />\n                </IconButton>\n            ) : (\n                <Button\n                    onClick={handleClick}\n                    color={isFiltering ? 'primary' : 'default'}\n                    startIcon={<FilterIcon />}\n                    variant=\"text\"\n                >\n                    {filterString}\n                </Button>\n            )}\n\n            <Popover PaperProps={{ style: { width: 360 } }} anchorEl={anchorEl} open={isOpen} onClose={handleClose}>\n                <Stack p={4}>\n                    <SelectBox\n                        label={t('projects::type')}\n                        value={filters.kind}\n                        onChange={value => {\n                            switch (value) {\n                                case 'blox':\n                                case '':\n                                    setFilters({ kind: value as MyProjectsQuery['kind'], language: '', palette: '' }, 'replaceIn')\n                                    break;\n                                case 'mix':\n                                    setFilters({ kind: value as MyProjectsQuery['kind'], palette: '' }, 'replaceIn')\n                                    break\n                                default:\n                                    break;\n                            }\n                        }}\n                    >\n                        <SelectBoxItem fullWidth value=\"blox\">\n                            Blox\n                        </SelectBoxItem>\n                        <SelectBoxItem fullWidth value=\"mix\">\n                            Mix\n                        </SelectBoxItem>\n                        <SelectBoxItem fullWidth value=\"\">\n                            {t('general::all')}\n                        </SelectBoxItem>\n                    </SelectBox>\n                    {isLanguageFilterEnabled && <SelectBox\n                        label={t('projects::language::label')}\n                        value={filters.language}\n                        onChange={value => {\n                            setFilters({ language: value as MyProjectsQuery['language'], palette: '' }, 'replaceIn')\n                        }}\n                    >\n                        <SelectBoxItem value=\"stagescript\">\n                            StageScript\n                        </SelectBoxItem>\n                        <SelectBoxItem fullWidth value=\"python\">\n                            Python\n                        </SelectBoxItem>\n                        <SelectBoxItem fullWidth value=\"\">\n                            {t('general::all')}\n                        </SelectBoxItem>\n                    </SelectBox>}\n                    {hasGrant('project-labels') && (\n                        <ProjectLabelSelect\n                            variant=\"filter\"\n                            onChange={value => {\n                                setFilters({ labels: value }, 'replaceIn')\n                            }}\n                            value={filters.labels}\n                        />\n                    )}\n                    {isPaletteFilterEnabled && <Select\n                        onChange={e => {\n                            setFilters({ palette: e.target.value as string }, 'replaceIn')\n                        }}\n                        displayEmpty\n                        value={filters.palette}\n                        label={t('projects::palette')}\n                    >\n                        <OptionAll value=\"\">\n                            <em>{t('general::all')}</em>\n                        </OptionAll>\n                        {filteredBlockGalleries}\n                    </Select>}\n                    <Collapse in={isFiltering}>\n                        <Button\n                            onClick={() => {\n                                setFilters({ kind: '', palette: '', language: '', labels: [] }, 'replaceIn')\n                            }}\n                            startIcon={<CloseIcon />}\n                            variant=\"text\"\n                        >\n                            {t('general::resetFilters')}\n                        </Button>\n                    </Collapse>\n                </Stack>\n            </Popover>\n        </>\n    )\n}\n\nfunction capitalizeFirstLetter(string: string) {\n    return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nconst SortSelect = styled(Select)`\n    ${props => props.theme.breakpoints.down('sm')} {\n        width: 100%;\n    }\n`\n\nconst OptionAll = styled(Option)`\n    font-weight: 600;\n`\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: 1fr minmax(max-content, 1fr);\n    gap: ${props => props.theme.spacing(6)};\n    ${props => props.theme.breakpoints.down('sm')} {\n        grid-template-columns: auto;\n    }\n`\n\nconst InnerGrid = styled(Inline)`\n    display: flex;\n    justify-content: flex-end;\n`\n\nconst SearchWrap = styled(Inline)`\n    display: flex;\n    align-items: center;\n    > .MuiFormControl-root {\n        flex-grow: 1;\n    }\n`\n","import { ErrorMessage } from 'components/ErrorMessage'\nimport { useIsElementFullyVisible } from 'hooks/useIsElementFullyVisible'\nimport React, { useEffect, useState } from 'react'\nimport { useMyProjectsQuery } from '../projectQueries'\nimport { MyProjectList } from './MyProjectsList'\nimport styled from 'styled-components/macro'\nimport { Flex, Stack } from 'components/layout'\nimport { Loader } from 'components/Loader'\nimport { ClassroomIcon, CommunityIcon, DeleteIcon, FavoriteIcon } from 'components/icons'\nimport {\n    QueryParamConfig,\n    QueryParamProvider,\n    StringParam,\n    useQueryParams,\n    withDefault,\n    ArrayParam,\n} from 'use-query-params'\nimport { MyProjectsFilters } from './MyProjectsFilters'\nimport { MyProjectsQuery, SHAREABLE_TRAINERCONTEST_PROJECT_TAG } from '../ProjectsApi'\nimport { addProjectActionListener, removeProjectActionListener } from '../useProjectActions'\nimport { Route } from 'react-router-dom'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { ProjectListTab } from '../ProjectListTab'\nimport { WrappingInline } from 'components/layout/WrappingInline'\nimport { useSelector } from 'lib/store'\nimport { UserState, useUserState } from 'contexts/UserContext'\nimport { CookieHunt } from 'features/cookie-hunt'\nimport { getDefaultProjectListSort } from '../projectHelpers'\nimport { useUpdateUserSettingOnChange } from 'hooks/useUpdateUserSettingOnChange'\nimport { useHasGrant } from 'lib/grants'\n\nexport interface MyProjectsFilterState {\n    view: QueryParamConfig<MyProjectsQuery['view']>\n    sort: QueryParamConfig<MyProjectsQuery['sort']>\n    kind: QueryParamConfig<MyProjectsQuery['kind']>\n    language: QueryParamConfig<MyProjectsQuery['language']>\n    palette: QueryParamConfig<MyProjectsQuery['palette']>\n    labels: QueryParamConfig<MyProjectsQuery['labels']>\n    search: QueryParamConfig<string>\n    // fixing some weird use-query-params typing issue\n    [key: string]: any\n}\n\nexport const MyProjects: React.FC = () => {\n    return (\n        <QueryParamProvider ReactRouterRoute={Route}>\n            <MyProjectsInner />\n        </QueryParamProvider>\n    )\n}\n\nexport type ProjectListLayout = 'grid' | 'list'\n\nconst MyProjectsInner = React.memo(() => {\n    const { settings } = useUserState()\n    const hasGrant = useHasGrant()\n    const [filters, setFilters] = useQueryParams<MyProjectsFilterState>({\n        view: withDefault<any, MyProjectsQuery['view']>(StringParam, 'all'),\n        sort: withDefault<any, MyProjectsQuery['sort']>(StringParam, getDefaultProjectListSort(settings)),\n        kind: withDefault<any, MyProjectsQuery['kind']>(StringParam, ''),\n        language: withDefault<any, MyProjectsQuery['language']>(StringParam, ''),\n        palette: withDefault<any, MyProjectsQuery['palette']>(StringParam, ''),\n        labels: withDefault<any, MyProjectsQuery['labels']>(ArrayParam, []),\n        search: withDefault(StringParam, ''),\n    })\n    const [listLayout, setListLayout] = useState<ProjectListLayout>(getDefaultProjectListLayout(settings))\n    const [skipCorrection, setSkipCorrection] = useState(0)\n    const t = useTranslate()\n    const projects = useSelector(state => state.projects.all)\n\n    const query = useMyProjectsQuery({ limit: 32, ...filters }, skipCorrection)\n\n    useUpdateUserSettingOnChange('mylogiscool-project-list-layout', listLayout)\n    useUpdateUserSettingOnChange('mylogiscool-project-list-sort', filters.sort)\n\n    useEffect(() => {\n        const currentDataIncludesId = (id: string) =>\n            !!query.data?.flatMap(data => data.response.data).find(project => project.id === id)\n\n        const onRemovedFromList = (id: string) => {\n            if (currentDataIncludesId(id)) {\n                setSkipCorrection(skipCorrection => skipCorrection - 1)\n            }\n        }\n\n        if (filters.view === 'all') {\n            addProjectActionListener('delete', onRemovedFromList)\n            return () => {\n                removeProjectActionListener('delete', onRemovedFromList)\n                setSkipCorrection(0)\n            }\n        }\n\n        if (filters.view === 'favorites') {\n            addProjectActionListener('delete', onRemovedFromList)\n            addProjectActionListener('unfavorite-own', onRemovedFromList)\n            return () => {\n                removeProjectActionListener('delete', onRemovedFromList)\n                removeProjectActionListener('unfavorite-own', onRemovedFromList)\n                setSkipCorrection(0)\n            }\n        }\n\n        if (filters.view === 'deleted') {\n            addProjectActionListener('restore', onRemovedFromList)\n            return () => {\n                removeProjectActionListener('restore', onRemovedFromList)\n                setSkipCorrection(0)\n            }\n        }\n    }, [query, filters.view])\n\n    const { fetchMore, status, isFetchingMore, canFetchMore } = query\n    const { ref, isFullyVisible } = useIsElementFullyVisible()\n\n    useEffect(() => {\n        if (isFullyVisible === true) {\n            fetchMore()\n        }\n    }, [isFullyVisible, fetchMore])\n\n    const isTriggerVisible = !!(status === 'success' && !isFetchingMore && canFetchMore)\n    const isFiltering =\n        filters.kind !== '' ||\n        filters.language !== '' ||\n        filters.search !== '' ||\n        filters.palette !== '' ||\n        !!(filters.labels && filters.labels.length > 0)\n\n    const extractProjectsFromStore = (files: NonNullable<typeof query.data>) => {\n        return files\n            .flatMap(file => {\n                return file.response.data\n            })\n            .filter(({ id }) => id in projects)\n            .map(file => projects[file.id])\n    }\n\n    const filteredProjects = (() => {\n        if (!query.data) {\n            return undefined\n        }\n        const projects = extractProjectsFromStore(query.data)\n        if (filters.view === 'favorites') {\n            return projects.filter(project => {\n                return project.file.favorite && !project.file.deleted\n            })\n        }\n        if (filters.view === 'deleted') {\n            return projects.filter(project => {\n                return project.file.deleted\n            })\n        }\n        return projects.filter(project => {\n            return !project.file.deleted\n        })\n    })()?.filter(projects => !projects.file.tags?.includes(SHAREABLE_TRAINERCONTEST_PROJECT_TAG))\n\n    return (\n        <Stack spacing={5}>\n            <WrappingInline>\n                <ProjectListTab\n                    isActive={filters.view === 'all'}\n                    onClick={() => {\n                        setFilters({ view: 'all' }, 'replaceIn')\n                    }}\n                >\n                    {t('general::all')}\n                </ProjectListTab>\n                {hasGrant('area.community') && !hasGrant('share-project-user-consent') && (\n                    <>\n                        <ProjectListTab\n                            isActive={filters.view === 'classroom'}\n                            onClick={() => {\n                                setFilters({ view: 'classroom' }, 'replaceIn')\n                            }}\n                            icon={<ClassroomIcon />}\n                        >\n                            {t('classroom::title')}\n                        </ProjectListTab>\n                        <ProjectListTab\n                            isActive={filters.view === 'community'}\n                            onClick={() => {\n                                setFilters({ view: 'community' }, 'replaceIn')\n                            }}\n                            icon={<CommunityIcon />}\n                        >\n                            {t('projects::community')}\n                        </ProjectListTab>\n                    </>\n                )}\n                <ProjectListTab\n                    isActive={filters.view === 'favorites'}\n                    onClick={() => {\n                        setFilters({ view: 'favorites' }, 'replaceIn')\n                    }}\n                    icon={<FavoriteIcon />}\n                >\n                    {t('general::favorites')}\n                </ProjectListTab>\n                <ProjectListTab\n                    isActive={filters.view === 'deleted'}\n                    onClick={() => {\n                        setFilters({ view: 'deleted' }, 'replace')\n                    }}\n                    icon={<DeleteIcon />}\n                >\n                    {t('general::deletedItems')}\n                </ProjectListTab>\n            </WrappingInline>\n            <Stack spacing={8}>\n                <CookieHunt name=\"my-projects-filters\">\n                    <MyProjectsFilters\n                        hideSort={filters.view === 'deleted'}\n                        listLayout={listLayout}\n                        onListLayoutChange={setListLayout}\n                        filters={filters}\n                        setFilters={setFilters}\n                    />\n                </CookieHunt>\n\n                <MyProjectList\n                    listLayout={listLayout}\n                    view={filters.view}\n                    projects={filteredProjects}\n                    isFiltering={isFiltering}\n                />\n            </Stack>\n\n            {status === 'error' && <ErrorMessage />}\n\n            <Flex justify=\"center\" mt={5}>\n                {(status === 'loading' || isFetchingMore) && <Loader />}\n            </Flex>\n            <LoadMoreTrigger ref={ref} isVisible={isTriggerVisible}></LoadMoreTrigger>\n        </Stack>\n    )\n})\n\nconst getDefaultProjectListLayout = (settings: UserState['settings']): ProjectListLayout => {\n    const validValues = new Set<ProjectListLayout>(['grid', 'list'])\n    const settingValue = settings['mylogiscool-project-list-layout']\n    if (settingValue && validValues.has(settingValue as ProjectListLayout)) {\n        return settingValue as ProjectListLayout\n    }\n    return 'grid'\n}\n\nconst LoadMoreTrigger = styled.div<{ isVisible: boolean }>`\n    height: 2px;\n    display: ${props => (props.isVisible ? 'block' : 'none')};\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nexport const ProjectModalFooter: React.FC = ({ children }) => {\n    return <Root>{children}</Root>\n}\n\nconst Root = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    padding: ${props => props.theme.spacing(4)};\n`\n","import React, { useRef, useState } from 'react'\nimport { Flex, Inline, Stack } from 'components/layout'\nimport { Button } from 'components/Button'\nimport { CheckBox, Option, Select, TextField } from 'components/form'\nimport { useHistory } from 'react-router-dom'\nimport { useProjectActions } from 'features/projects/useProjectActions'\nimport { Text } from 'components/Text'\nimport { IconButton } from 'components/IconButton'\nimport { BackIcon, ForwardIcon } from 'components/icons'\nimport { Markdown } from 'components/Markdown'\nimport { Loader } from 'components/Loader'\nimport { Controller, useForm, UseFormMethods } from 'react-hook-form'\nimport { useNotifications } from 'features/notifications'\nimport { Project } from '..'\nimport { ProjectModalContent } from '../modal/ProjectModalContent'\nimport { useProjectModalContext } from '../modal/projectModalContext'\nimport { ProjectModalFooter } from '../modal/ProjectModalFooter'\nimport { ProjectModalHeader } from '../modal/ProjectModalHeader'\nimport { ProjectThumbnailInput } from '../ProjectThumbnailInput'\nimport { useLanguagesQuery } from 'lib/i18n'\nimport { canUserCreateShareableProject, useUserState } from 'contexts/UserContext'\nimport { ApiTypes } from 'lib/api'\nimport { useTitle } from 'hooks/useTitle'\nimport {\n    createProjectThumbnailUrl,\n    doesProjectHaveNewVersion,\n    getRemainingShareSlotCount,\n    PROJECT_DETAILS_MAX_LENGTH,\n    PROJECT_TITLE_MAX_LENGTH,\n} from '../projectHelpers'\nimport { useCommunityProjectDetailsQuery, useMyPendingProjectsQuery, useSharedProjectsQuery } from '../projectQueries'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { ProjectModalError } from '../modal/ProjectModalError'\nimport { NBSP } from 'utils/styleUtils'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useHasGrant } from 'lib/grants'\nimport { useIncrementActivityScore } from '../../../hooks/useIncrementActivityScore'\nimport { useSelector } from 'lib/store'\nimport { isMiniQuizLongEnoughToShare } from 'features/mini-quizzes/helpers/miniQuizHelpers'\n\nexport const ProjectShare: React.FC = () => {\n    const user = useUserState()\n    const { project, query, error, id } = useProjectModalContext()\n    const { data: languages, status: languagesStatus } = useLanguagesQuery()\n    const { data: pendingProjects, status: pendingProjectsStatus } = useMyPendingProjectsQuery()\n    const { data: sharedProjects, status: sharedProjectsStatus } = useSharedProjectsQuery(user.account.id)\n    const { status: detailsStatus } = useCommunityProjectDetailsQuery(id, 'normal', true)\n    const projects = useSelector(state => state.projects.all)\n    const t = useTranslate()\n\n    useTitle(t('projects::shareProject'))\n\n    if (\n        error ||\n        languagesStatus === 'error' ||\n        pendingProjectsStatus === 'error' ||\n        sharedProjectsStatus === 'error' ||\n        detailsStatus === 'error'\n    ) {\n        return <ProjectModalError error={error || 'GENERAL'} />\n    }\n\n    if (\n        !project ||\n        query.status === 'loading' ||\n        detailsStatus === 'loading' ||\n        !languages ||\n        !sharedProjects ||\n        !pendingProjects\n    ) {\n        return <ProjectShareLoader />\n    }\n\n    const isProjectUpdate = doesProjectHaveNewVersion(project)\n\n    const remainingShareSlotCount = getRemainingShareSlotCount(\n        user,\n        sharedProjects.data.map(project => projects[project.id]),\n        pendingProjects.map(id => projects[id]),\n    )\n\n    if (project.metadata.isMiniQuiz) {\n        return (\n            <MiniQuizShareValidator\n                project={project}\n                isProjectUpdate={isProjectUpdate}\n                remainingShareSlotCount={remainingShareSlotCount.miniQuiz}\n            >\n                <ProjectShareForm\n                    variant=\"mini-quiz\"\n                    project={project}\n                    languages={languages.data}\n                    isProjectUpdate={isProjectUpdate}\n                />\n            </MiniQuizShareValidator>\n        )\n    }\n\n    return (\n        <ProjectShareValidator\n            project={project}\n            isProjectUpdate={isProjectUpdate}\n            remainingShareSlotCount={remainingShareSlotCount.normal}\n        >\n            <ProjectShareForm\n                variant=\"normal\"\n                project={project}\n                languages={languages.data}\n                isProjectUpdate={isProjectUpdate}\n            />\n        </ProjectShareValidator>\n    )\n}\n\ninterface ValidatorProps {\n    isProjectUpdate: boolean\n    remainingShareSlotCount: number\n    project: Project\n}\n\nconst ProjectShareValidator: React.FC<ValidatorProps> = ({ isProjectUpdate, remainingShareSlotCount, children }) => {\n    const t = useTranslate()\n    const user = useUserState()\n    const canCreateShareableProject = canUserCreateShareableProject(user)\n\n    if ((!canCreateShareableProject || remainingShareSlotCount === 0) && !isProjectUpdate) {\n        return (\n            <>\n                <ProjectModalHeader>{NBSP}</ProjectModalHeader>\n                <ProjectModalContent>\n                    <ErrorMessage>{t('projects::noMoreShareSlots')}</ErrorMessage>\n                </ProjectModalContent>\n            </>\n        )\n    }\n\n    return <>{children}</>\n}\n\nconst MiniQuizShareValidator: React.FC<ValidatorProps> = ({\n    isProjectUpdate,\n    remainingShareSlotCount,\n    children,\n    project,\n}) => {\n    const t = useTranslate()\n\n    if (!isMiniQuizLongEnoughToShare(project)) {\n        return (\n            <>\n                <ProjectModalHeader>{NBSP}</ProjectModalHeader>\n                <ProjectModalContent>\n                    <ErrorMessage>{t('miniQuiz::errors::atLeastFiveQuestions')}</ErrorMessage>\n                </ProjectModalContent>\n            </>\n        )\n    }\n    if (remainingShareSlotCount === 0 && !isProjectUpdate) {\n        return (\n            <>\n                <ProjectModalHeader>{NBSP}</ProjectModalHeader>\n                <ProjectModalContent>\n                    <ErrorMessage>{t('projects::noMoreShareSlots')}</ErrorMessage>\n                </ProjectModalContent>\n            </>\n        )\n    }\n\n    return <>{children}</>\n}\n\ntype ProjectShareFormValues = {\n    title: string\n    details: string\n    thumbnail: string\n    lang: string\n    consent: boolean\n}\n\ntype Variant = 'normal' | 'mini-quiz'\n\ninterface ProjectShareFormProps {\n    project: Project\n    languages: ApiTypes['language'][]\n    isProjectUpdate: boolean\n    variant: Variant\n}\n\nconst ProjectShareForm: React.FC<ProjectShareFormProps> = ({ project, languages, isProjectUpdate, variant }) => {\n    const [state, setState] = useState<'terms' | 'edit'>('terms')\n    const { i18n } = useUserState()\n    const defaultLang = (() => {\n        const lang = project.file.lang || i18n.language\n        if (!languages.find(language => language.code === lang)) {\n            return ''\n        }\n        return lang || ''\n    })()\n    const hasGrant = useHasGrant()\n    const shareConsentRequired = hasGrant('share-project-user-consent')\n\n    const form = useForm<ProjectShareFormValues>({\n        defaultValues: {\n            title: project.file.title || project.file.name || '',\n            details: project.metadata.details?.normal || project.metadata.details?.production || '',\n            thumbnail: project.file.hasUserThumbnail ? createProjectThumbnailUrl(project.file.id, 'normal') : '',\n            lang: defaultLang,\n            consent: !shareConsentRequired || isProjectUpdate,\n        },\n        shouldUnregister: false,\n    })\n\n    return (\n        <>\n            {state === 'terms' && (\n                <ProjectShareTerms\n                    variant={variant}\n                    next={() => {\n                        setState('edit')\n                    }}\n                    isProjectUpdate={isProjectUpdate}\n                />\n            )}\n            {state === 'edit' && (\n                <ProjectShareEdit\n                    form={form}\n                    variant={variant}\n                    languages={languages}\n                    back={() => {\n                        setState('terms')\n                    }}\n                    shareConsentRequired={shareConsentRequired && !isProjectUpdate}\n                    isProjectUpdate={isProjectUpdate}\n                />\n            )}\n        </>\n    )\n}\n\ninterface ProjectShareEditProps {\n    back: () => void\n    form: UseFormMethods<ProjectShareFormValues>\n    languages: ApiTypes['language'][]\n    isProjectUpdate: boolean\n    variant: Variant\n    shareConsentRequired: boolean\n}\n\nconst ProjectShareEdit: React.FC<ProjectShareEditProps> = ({\n    back,\n    form,\n    languages,\n    shareConsentRequired,\n    isProjectUpdate,\n    variant,\n}) => {\n    const { iframeRef, id } = useProjectModalContext()\n    const { shareProject } = useProjectActions()\n    const t = useTranslate()\n    const incrementActivityScore = useIncrementActivityScore()\n    const [status, setStatus] = useState<'idle' | 'loading'>('idle')\n    const history = useHistory()\n    const { notify } = useNotifications()\n    const thumbnailButtonRef = useRef<any>(null)\n    const hasGrant = useHasGrant()\n    const { register, errors, handleSubmit, control } = form\n    const [consentGiven, setConsentGiven] = useState(\n        !shareConsentRequired || isProjectUpdate || variant === 'mini-quiz',\n    )\n\n    const submit = handleSubmit(async ({ title, details, thumbnail, lang }) => {\n        if (status === 'idle') {\n            setStatus('loading')\n            try {\n                const canShareWithoutApprove = hasGrant('share-project-without-approval')\n                await shareProject({\n                    id,\n                    title,\n                    details,\n                    thumbnail,\n                    lang,\n                    needsApprove: !canShareWithoutApprove,\n                    isMiniQuiz: variant === 'mini-quiz',\n                })\n                if (isProjectUpdate) {\n                    incrementActivityScore('community:owned-project:update')\n                } else {\n                    incrementActivityScore('community:owned-project:share')\n                }\n                history.push('/app/community/share-project')\n                notify(t(canShareWithoutApprove ? 'projects::shareSuccessWithGrant' : 'projects::shareSuccess'), {\n                    variant: 'success',\n                })\n            } catch (e) {\n                notify(t('error::somethingWentWrong'), { variant: 'error' })\n                setStatus('idle')\n            }\n        }\n    })\n\n    return (\n        <>\n            <ProjectModalHeader>\n                <Inline display=\"flex\" alignItems=\"center\" spacing={2}>\n                    <IconButton color=\"inherit\" onClick={back} size=\"small\">\n                        <BackIcon />\n                    </IconButton>\n                    {isProjectUpdate ? <ProjectUpdateTitle /> : <ProjectShareTitle />}\n                </Inline>\n            </ProjectModalHeader>\n            <ProjectModalContent>\n                <form onSubmit={submit} id=\"share-form\">\n                    <Stack spacing={6}>\n                        <TextField\n                            errorText={errors.title?.message}\n                            ref={register({\n                                required: { value: true, message: t('projects::titleIsRequired') },\n                                validate: value => {\n                                    return value.trim() ? true : t('projects::titleIsRequired')\n                                },\n                                maxLength: {\n                                    value: PROJECT_TITLE_MAX_LENGTH,\n                                    message: t('general::maxLength', { value: PROJECT_TITLE_MAX_LENGTH }),\n                                },\n                            })}\n                            inputProps={{ maxLength: PROJECT_TITLE_MAX_LENGTH }}\n                            name=\"title\"\n                            id=\"title\"\n                            label={t('general::title')}\n                        />\n                        <TextField\n                            errorText={errors.details?.message}\n                            name=\"details\"\n                            helperText={variant === 'normal' ? t('projects::detailsHelper') : undefined}\n                            multiline\n                            rows={3}\n                            ref={register({\n                                maxLength: {\n                                    value: PROJECT_DETAILS_MAX_LENGTH,\n                                    message: t('general::maxLength', { value: PROJECT_DETAILS_MAX_LENGTH }),\n                                },\n                            })}\n                            inputProps={{ maxLength: PROJECT_DETAILS_MAX_LENGTH }}\n                            label={t('general::description')}\n                        />\n                        <Controller\n                            name=\"lang\"\n                            control={control}\n                            rules={{ required: { value: true, message: t('projects::languageIsRequired') } }}\n                            as={\n                                <Select errorText={errors.lang?.message} label={t('general::language')}>\n                                    {languages.map(language => (\n                                        <Option key={language.code} value={language.code}>\n                                            {language.displayName}\n                                        </Option>\n                                    ))}\n                                </Select>\n                            }\n                        />\n                        {variant === 'normal' && (\n                            <>\n                                <Controller\n                                    name=\"thumbnail\"\n                                    control={control}\n                                    rules={{ required: { value: true, message: t('projects::thumbnailIsRequired') } }}\n                                    onFocus={() => {\n                                        thumbnailButtonRef.current?.scrollIntoView()\n                                    }}\n                                    as={\n                                        <ProjectThumbnailInput\n                                            buttonRef={thumbnailButtonRef}\n                                            embedIframeRef={iframeRef}\n                                            helperText={t('projects::thumbnailHelperText')}\n                                            errorText={errors.thumbnail?.message}\n                                            buttonText={\n                                                isProjectUpdate\n                                                    ? t('projects::updateThumbnail')\n                                                    : t('projects::takeThumbnail')\n                                            }\n                                        />\n                                    }\n                                />\n                                {shareConsentRequired && (\n                                    <CheckBox\n                                        label={t('projects::consentLabel')}\n                                        helperText={t('projects::consentHelperText')}\n                                        errorText={errors.consent?.message}\n                                        checked={consentGiven}\n                                        onChange={e => {\n                                            setConsentGiven(e.target.checked)\n                                        }}\n                                    />\n                                )}\n                            </>\n                        )}\n                    </Stack>\n                </form>\n            </ProjectModalContent>\n            <ProjectModalFooter>\n                <Button isLoading={status === 'loading'} disabled={!consentGiven} type=\"submit\" form=\"share-form\">\n                    {t(isProjectUpdate ? 'projects::updateProject' : 'projects::shareProject')}\n                </Button>\n            </ProjectModalFooter>\n        </>\n    )\n}\n\ninterface ProjectShareTermsProps {\n    next: () => void\n    isProjectUpdate: boolean\n    variant: Variant\n}\n\nconst ProjectShareTerms: React.FC<ProjectShareTermsProps> = ({ next, isProjectUpdate, variant }) => {\n    const t = useTranslate()\n\n    const variantToTermsKey: Record<Variant, string> = {\n        normal: 'projects::sharingPrinciples',\n        'mini-quiz': 'miniQuiz::sharingPrinciples',\n    }\n\n    return (\n        <>\n            <ProjectModalHeader>{isProjectUpdate ? <ProjectUpdateTitle /> : <ProjectShareTitle />}</ProjectModalHeader>\n            <ProjectModalContent>\n                <Stack>\n                    <Markdown>{t(variantToTermsKey[variant])}</Markdown>\n                </Stack>\n            </ProjectModalContent>\n            <ProjectModalFooter>\n                <Button endIcon={<ForwardIcon />} onClick={next}>\n                    {t('general::nextStep')}\n                </Button>\n            </ProjectModalFooter>\n        </>\n    )\n}\n\nconst ProjectShareTitle = () => {\n    const t = useTranslate()\n\n    return (\n        <Text variant=\"h3\" component=\"h2\">\n            {t('projects::shareProject')}\n        </Text>\n    )\n}\n\nconst ProjectUpdateTitle = () => {\n    const t = useTranslate()\n\n    return (\n        <Text variant=\"h3\" component=\"h2\">\n            {t('projects::updateProject')}\n        </Text>\n    )\n}\n\nconst ProjectShareLoader = () => (\n    <>\n        <ProjectModalHeader>\n            <ProjectShareTitle />\n        </ProjectModalHeader>\n        <ProjectModalContent>\n            <Flex justify=\"center\">\n                <Loader />\n            </Flex>\n        </ProjectModalContent>\n    </>\n)\n","import React from 'react'\nimport { Alert } from '@material-ui/lab'\n\nexport const InfoMessage: React.FC = ({ children }) => {\n    return <Alert severity=\"info\">{children}</Alert>\n}\n","import { Inline, Stack } from 'components/layout'\nimport React, {useEffect} from 'react'\nimport {\n    EmailIcon,\n    EmailShareButton,\n    FacebookIcon,\n    FacebookShareButton,\n    TwitterIcon,\n    TwitterShareButton,\n    ViberIcon,\n    ViberShareButton,\n    WhatsappIcon,\n    WhatsappShareButton,\n} from 'react-share'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Tooltip } from 'components/Tooltip'\nimport { Dialog, DialogContent, DialogTitle } from 'components/dialog'\nimport { TextField } from 'components/form'\nimport { Button } from 'components/Button'\nimport { InfoMessage } from 'components/InfoMessage'\nimport { Collapse } from 'components/Collapse'\nimport { Text } from 'components/Text'\nimport { useHasGrant } from 'lib/grants'\nimport {runtimeEnv} from \"../../../utils/env\";\n\ninterface SocialSharingProps {\n    shareUrl: string\n    buttonText: string\n    helperText?: string\n}\n\nexport const SocialSharing: React.FC<SocialSharingProps> = ({ shareUrl, buttonText, helperText }) => {\n    const t = useTranslate()\n    const [isOpenCopyLinkDialog, setOpenCopyLinkDialog] = React.useState(false)\n    const [isLinkCopied, setLinkCopied] = React.useState(false)\n    const hasGrant = useHasGrant()\n    const hasSocialSharingAccess = hasGrant({ product: 'edup.universe', feature: 'social-sharing' })\n    const isProxied = shareUrl.startsWith(\"https://proxy\")\n        || (runtimeEnv.REACT_APP_DEPLOY === 'dev' && shareUrl.includes(\"/post/\"));\n    const [ requestedOpen, setRequestedOpen ] = React.useState(false);\n    const [ url, setUrl ] = React.useState<string>(isProxied ? '' : shareUrl);\n\n    useEffect(() => {\n        const onMessage = (event: MessageEvent<{ type?: string, redirectUri?: string }>) => {\n            if (runtimeEnv.REACT_APP_SHARE_URL.startsWith(event.origin) && event.data?.type === 'redirect-uri') {\n                setUrl(event.data?.redirectUri || shareUrl)\n            }\n        }\n\n        window.addEventListener('message', onMessage)\n        return () => {\n            window.removeEventListener('message', onMessage)\n        }\n    }, [ shareUrl ])\n\n    useEffect(() => {\n        if(requestedOpen && url) {\n            setOpenCopyLinkDialog(true);\n            setRequestedOpen(false)\n        }\n    }, [ requestedOpen, url ]);\n\n    const copyLink = () => {\n        navigator.clipboard.writeText(url).then(() => setLinkCopied(true))\n    }\n\n    return (\n        <>\n            {isProxied && <iframe title=\"Share URL\" src={shareUrl} style={{ width: 0, height: 0, opacity: 0, position: 'absolute', top: -1000, left: -1000 }} />}\n            <Button isLoading={requestedOpen}\n                    onClick={async () => {\n                        if(isProxied) {\n                            setRequestedOpen(true)\n                        }\n                        else {\n                            setOpenCopyLinkDialog(true)\n                        }\n                    }}>\n                {buttonText}\n            </Button>\n            <Dialog\n                fullWidth\n                open={isOpenCopyLinkDialog}\n                onClose={() => {\n                    setOpenCopyLinkDialog(false)\n                    setLinkCopied(false)\n                }}\n                maxWidth={'sm'}\n            >\n                <DialogTitle>{t('projects::share')}</DialogTitle>\n                <DialogContent>\n                    <Stack spacing={6}>\n                        <Collapse unmountOnExit in={isLinkCopied}>\n                            <InfoMessage>{t('general::copyLink')}</InfoMessage>\n                        </Collapse>\n                        <Text>{helperText}</Text>\n                        <Inline display=\"flex\">\n                            <TextField readOnly value={url} />\n                            <Button onClick={() => copyLink()}>{t('general::copy')}</Button>\n                        </Inline>\n                        {hasSocialSharingAccess && <SocialmediaSharing shareUrl={url} />}\n                    </Stack>\n                </DialogContent>\n            </Dialog>\n        </>\n    )\n}\n\nconst SocialmediaSharing: React.FC<{ shareUrl: string }> = ({ shareUrl }) => {\n    const t = useTranslate()\n\n    return (\n        <Inline display=\"flex\" justifyContent=\"flex-start\">\n            <Tooltip title={t('tooltip::shareFacebook')}>\n                <FacebookShareButton url={shareUrl} hashtag=\"#logiscool\">\n                    <FacebookIcon size=\"2rem\" round />\n                </FacebookShareButton>\n            </Tooltip>\n            <Tooltip title={t('tooltip::shareTwitter')}>\n                <TwitterShareButton url={shareUrl}>\n                    <TwitterIcon size=\"2rem\" round />\n                </TwitterShareButton>\n            </Tooltip>\n            <Tooltip title={t('tooltip::shareViber')}>\n                <ViberShareButton url={shareUrl}>\n                    <ViberIcon size=\"2rem\" round />\n                </ViberShareButton>\n            </Tooltip>\n            <Tooltip title={t('tooltip::shareWhatsapp')}>\n                <WhatsappShareButton url={shareUrl}>\n                    <WhatsappIcon size=\"2rem\" round />\n                </WhatsappShareButton>\n            </Tooltip>\n            <Tooltip title={t('tooltip::sendEmail')}>\n                <EmailShareButton url={shareUrl}>\n                    <EmailIcon size=\"2rem\" round />\n                </EmailShareButton>\n            </Tooltip>\n        </Inline>\n    )\n}\n","import { CurrencyBadge } from 'components/CurrencyBadge'\nimport { Stack } from 'components/layout'\nimport { Tooltip } from 'components/Tooltip'\nimport dayjs from 'dayjs'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { CurrencyName } from 'lib/liveops/reducers/client/currency'\nimport { useSelector } from 'lib/store'\nimport React, { useEffect, useState } from 'react'\nimport { currencyStyles } from './currencyStyles'\n\ninterface PageCookieProps {\n    currency: CurrencyName\n}\n\nexport const PageCookie: React.FC<PageCookieProps> = ({ currency }) => {\n    const { refillsAt, refillAfterMinutes, value } = useSelector(state => state.client.currency[currency])\n    const t = useTranslate()\n    const [refill, setRefill] = useState({\n        progress: 1,\n        minutesLeft: 0,\n    })\n\n    useEffect(() => {\n        const tick = () => {\n            if (!refillAfterMinutes) {\n                return\n            }\n            const minutesLeft = dayjs(refillsAt).diff(dayjs(), 'minutes')\n            const progress = (() => {\n                if (refillAfterMinutes <= 0 || refillAfterMinutes < minutesLeft) {\n                    return 1\n                }\n                return 1 - minutesLeft / refillAfterMinutes\n            })()\n            setRefill({\n                progress,\n                minutesLeft,\n            })\n        }\n\n        if (refillsAt) {\n            const interval = setInterval(tick, 1000 * 60)\n            tick()\n\n            return () => {\n                clearInterval(interval)\n            }\n        } else {\n            setRefill({\n                progress: 1,\n                minutesLeft: 0,\n            })\n        }\n    }, [refillsAt, refillAfterMinutes])\n\n    if (value === null) {\n        return null\n    }\n\n    const tooltipTitle = (() => {\n        if (refill.minutesLeft <= 0) {\n            return t(currencyTooltips[currency])\n        }\n        const text =\n            refill.minutesLeft < 60\n                ? t('projects::nextCookieMinutes', { count: refill.minutesLeft })\n                : t('projects::nextCookieHours', { count: Math.round(refill.minutesLeft / 60) })\n        return (\n            <Stack spacing={2}>\n                <div>\n                    <strong>{text}</strong>\n                </div>\n                <div>{t(currencyTooltips[currency])}</div>\n            </Stack>\n        )\n    })()\n\n    return (\n        <Tooltip PopperProps={{ style: { whiteSpace: 'pre-line' } }} title={tooltipTitle}>\n            <CurrencyBadge\n                backgroundColor={currencyStyles[currency].colors.background}\n                color={currencyStyles[currency].colors.color}\n                iconUrl={currencyStyles[currency].icon.colored}\n                to=\"/app/community/discover\"\n                value={value}\n            />\n        </Tooltip>\n    )\n}\n\nconst currencyTooltips = {\n    cookie: 'projects::cookiesDescription',\n    'golden-cookie': 'projects::goldenCookiesDescription',\n}\n","export default \"data:image/png;base64,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\"","import React from 'react'\nimport { CircularProgress } from '@material-ui/core'\nimport styled from 'styled-components/macro'\nimport { transparentize } from 'polished'\n\ninterface LoaderProps {\n    className?: string\n    size?: string\n}\n\nexport const Loader: React.FC<LoaderProps> = ({ size, ...rest }) => {\n    return (\n        <Root {...rest}>\n            <Bottom variant=\"determinate\" value={100} size={size ?? 35} thickness={5} />\n            <CircularProgress size={size ?? 35} thickness={5} />\n        </Root>\n    )\n}\n\nconst Root = styled.div`\n    display: flex;\n`\n\nconst Bottom = styled(CircularProgress)`\n    position: absolute;\n    color: ${props => transparentize(0.7, props.theme.palette.primary.main)};\n`\n","import styled from 'styled-components/macro'\n\ntype Size = 'small' | 'big'\nconst columns: Record<Size, number> = {\n    small: 3,\n    big: 2,\n}\nconst mobileColumns: Record<Size, number> = {\n    small: 2,\n    big: 1,\n}\n\nexport const EventGrid = styled.div<{ size: Size }>`\n    display: grid;\n    grid-template-columns: repeat(${props => columns[props.size]}, 1fr);\n    grid-gap: ${props => props.theme.spacing(8)};\n    ${props => props.theme.breakpoints.down('sm')} {\n        grid-gap: ${props => props.theme.spacing(4)};\n    }\n    @media (max-width: 400px) {\n        grid-template-columns: repeat(${props => mobileColumns[props.size]}, 1fr);\n    }\n`\n","import { Text } from 'components/Text'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { EventDefinition } from '../types/eventTypes'\nimport { Link } from 'react-router-dom'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { LocalisationKey } from 'lib/i18n'\nimport { Badge } from 'components/Badge'\nimport { Stack } from 'components/layout'\nimport { ManagableEventDefinition } from '../types/eventTypesV2'\n\ninterface EventThumbnailProps {\n    event: EventDefinition | ManagableEventDefinition\n}\n\nexport const EventThumbnail: React.FC<EventThumbnailProps> = ({ event }) => {\n    const t = useTranslate()\n    const title = (event.ongoing ? event.title : event.closedTitle) || event.title\n\n    return (\n        <Root to={`/app/events/${event.slug}`}>\n            <Thumbnail width=\"400\" height=\"400\" src={event.thumbnail} />\n            {event.hasGroupInfo && event.ongoing && (\n                <BadgeWrap>\n                    <Badge>\n                        Ongoing: {(event.groupCount || 0) - (event.closedCount || 0)} / {event.groupCount || 0}\n                    </Badge>\n                </BadgeWrap>\n            )}\n            <Title variant=\"h1\" component=\"h2\">\n                {t(title as LocalisationKey)}\n            </Title>\n        </Root>\n    )\n}\n\nconst Title = styled(Text)`\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: linear-gradient(to top, rgba(32, 35, 35, 0.7), rgba(32, 35, 35, 0));\n    padding: ${props => props.theme.spacing(12, 6, 6, 6)};\n    color: white;\n    font-weight: 800;\n    line-height: 1.3;\n` as typeof Text\n\nconst BadgeWrap = styled(Stack)`\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    bottom: 0;\n`\n\nconst Root = styled(Link)`\n    display: block;\n    position: relative;\n    overflow: hidden;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    transition: filter ${props => props.theme.transitions.duration.shorter}ms;\n    &:hover,\n    &:focus-visible {\n        filter: brightness(0.9);\n    }\n    ${props => props.theme.breakpoints.down('md')} {\n        ${Title as any} {\n            padding: ${props => props.theme.spacing(6, 3, 3, 3)};\n            font-size: ${props => props.theme.typography.h5.fontSize};\n        }\n    }\n    ${props => props.theme.breakpoints.down('sm')} {\n        ${Title as any} {\n            font-size: ${props => props.theme.typography.h6.fontSize};\n        }\n    }\n    ${props => props.theme.breakpoints.down('xs')} {\n        ${Title as any} {\n            padding: ${props => props.theme.spacing(3, 2, 2, 2)};\n            font-size: ${props => props.theme.typography.body1.fontSize};\n        }\n    }\n`\n\nconst Thumbnail = styled.img`\n    display: block;\n    width: 100%;\n    max-width: 100%;\n    height: auto;\n    background-color: ${props => props.theme.palette.divider};\n`\n","import { Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { EventDefinition } from '../types/eventTypes'\nimport { Link } from 'react-router-dom'\nimport { Theme, useMediaQuery } from '@material-ui/core'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport {Badge} from \"components/Badge\";\nimport {ManagableEventDefinition} from \"../types/eventTypesV2\";\n\ninterface CurrentEventProps {\n    event: EventDefinition|ManagableEventDefinition\n}\n\nexport const OngoingEventBanner: React.FC<CurrentEventProps> = ({ event }) => {\n    const isSmallDevice = useMediaQuery<Theme>(theme => theme.breakpoints.down('md'), { noSsr: true })\n    const t = useTranslate()\n\n    return (\n        <Root to={`/app/events/${event.slug}`}>\n            <Image src={event.banner?.image} width=\"1600\" height=\"400\" />\n            {event.hasGroupInfo && <BadgeContainer>\n                <BadgeWrap>\n                    <Badge>{event.groupSlug}</Badge>\n                    <Badge forceNoTopMargin>Ongoing: {(event.groupCount||0)-(event.closedCount||0)} / {event.groupCount||0}</Badge>\n                </BadgeWrap>\n            </BadgeContainer>}\n            {!!event.banner?.text && (\n                <TextWrap spacing={isSmallDevice ? 2 : 4} $background={event.banner?.background}>\n                    <TextInner>\n                        <Title variant=\"h1\">{t(event.banner.text)}</Title>\n                    </TextInner>\n                </TextWrap>\n            )}\n        </Root>\n    )\n}\n\nconst Description = styled(Text)``\n\nconst TextInner = styled.div`\n    max-width: 66%;\n`\n\nconst TextWrap = styled(Stack)<{ $background?: string }>`\n    position: absolute;\n    width: 66%;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    background: ${props => props.$background ?? 'linear-gradient(to right, rgba(32, 35, 35, 0.7), transparent)'};\n    padding: ${props => props.theme.spacing(6)};\n    color: #fff;\n`\n\nconst BadgeContainer = styled(Stack)`\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    bottom: 0;\n`\n\nconst BadgeWrap = styled(Stack)`\n    display: flex;\n    flex-shrink: 0;\n    align-items: flex-start;\n    justify-content: flex-end;\n    gap: 3px;\n`\n\nconst Title = styled(Text)`\n    font-weight: 800;\n    line-height: 1.3;\n`\n\nconst Image = styled.img`\n    display: block;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    width: 100%;\n    max-width: 100%;\n    height: auto;\n    background-color: ${props => props.theme.palette.divider};\n`\n\nconst Root = styled(Link)`\n    display: block;\n    position: relative;\n    overflow: hidden;\n    transition: filter ${props => props.theme.transitions.duration.shorter}ms;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    text-decoration: none;\n    &:hover,\n    &:focus-visible {\n        filter: brightness(0.9);\n    }\n    ${props => props.theme.breakpoints.down('md')} {\n        ${TextWrap} {\n            padding: ${props => props.theme.spacing(4)};\n            max-width: 70%;\n        }\n        ${Title} {\n            font-size: ${props => props.theme.typography.body2.fontSize};\n        }\n        ${Description} {\n            font-size: ${props => props.theme.typography.body2.fontSize};\n            line-height: 1.45;\n        }\n    }\n`\n","import { Theme, useMediaQuery } from '@material-ui/core'\nimport { Stack } from 'components/layout'\nimport { Panel, PanelTitle } from 'components/panel'\nimport React from 'react'\nimport { EventDefinition } from '../types/eventTypes'\nimport { OngoingEventBanner } from './OngoingEventBanner'\nimport { EventGrid } from './EventGrid'\nimport { EventThumbnail } from './EventThumbnail'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport {ManagableEventDefinition} from \"../types/eventTypesV2\";\n\ninterface OngoingEventListProps {\n    events: (EventDefinition | ManagableEventDefinition)[]\n}\n\nexport const OngoingEventList: React.FC<OngoingEventListProps> = ({ events }) => {\n    const isSmallDevice = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'), { noSsr: true })\n    const t = useTranslate()\n\n    if (events.length === 0) {\n        return null\n    }\n\n    return (\n        <Panel>\n            <PanelTitle>{events.length > 1 ? t('events::currentEvents') : t('events::currentEvent')}</PanelTitle>\n            {isSmallDevice ? (\n                <EventGrid size=\"big\">\n                    {events.map(event => {\n                        return <EventThumbnail key={event.slug} event={event} />\n                    })}\n                </EventGrid>\n            ) : (\n                <Stack>\n                    {events.map(event => {\n                        return <OngoingEventBanner key={event.slug} event={event} />\n                    })}\n                </Stack>\n            )}\n        </Panel>\n    )\n}\n","import { ErrorBoundary } from 'components/ErrorBoundary'\nimport { Stack } from 'components/layout'\nimport { Panel, PanelHeader, PanelTitle } from 'components/panel'\nimport { CookieHunt } from 'features/cookie-hunt'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { EventDefinition } from '../types/eventTypes'\nimport { EventGrid } from './EventGrid'\nimport { EventThumbnail } from './EventThumbnail'\nimport { OngoingEventList } from './OngoingEventList'\nimport {ManagableEventDefinition} from \"../types/eventTypesV2\";\n\ninterface EventListProps {\n    events: (EventDefinition | ManagableEventDefinition)[]\n}\n\nexport const EventList: React.FC<EventListProps> = ({ events }) => {\n    const t = useTranslate()\n\n    const onGoingEvents = events.filter(event => event.ongoing === true)\n    const pastEvents = events.filter(event => event.ongoing === false)\n\n    return (\n        <Stack spacing={10}>\n            <ErrorBoundary silent>\n                <OngoingEventList events={onGoingEvents} />\n            </ErrorBoundary>\n            <ErrorBoundary silent>\n                <Panel>\n                    <PanelHeader>\n                        <PanelTitle>{t('events::previousEvents')}</PanelTitle>\n                    </PanelHeader>\n                    <EventGrid size=\"small\">\n                        {pastEvents.map((event, i) => (\n                            <CookieHunt name=\"prev-event-list\" index={i} key={event.slug}>\n                                <EventThumbnail event={event} />\n                            </CookieHunt>\n                        ))}\n                    </EventGrid>\n                </Panel>\n            </ErrorBoundary>\n        </Stack>\n    )\n}\n","import { ErrorBoundary } from 'components/ErrorBoundary'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { Stack } from 'components/layout'\nimport { PageContent } from 'components/page'\nimport { useHasShowAdvancedStats } from 'contexts/UserContext'\nimport dayjs from 'dayjs'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React, { Suspense } from 'react'\nimport { useRouteMatch, Switch, Route } from 'react-router-dom'\nimport { activityEventToEventDefinition } from '../activity-events/helpers/activityEventHelpers'\nimport { ActivityEvent, ActivityEventWithGroupInfo } from '../activity-events/types/activityEventTypes'\nimport { EventDefinition } from '../types/eventTypes'\nimport { EventDetailsBreadcrumb } from './details/EventDetailsBreadcrumb'\nimport { EventDetailsBase } from './EventDetailsBase'\nimport { EventList } from './EventList'\nimport { EventLoader } from './EventLoader'\nimport { ScrollRestoration } from 'lib/router/Scrollrestoration'\nimport { isManagableEvent, ManagableEventDefinition } from '../types/eventTypesV2'\nimport { useEventsData } from '../useEventsData'\nimport { CampChallengeDynamicPage } from '../camp-challenge/components/CampChallengePage'\nimport { ActivityEventContextProvider } from '../activity-events/components/ActivityEventContextProvider'\n\nconst DigitalMission2020Page = React.lazy(() => import('../pages/digital-misson-2020'))\nconst TrainerContest2020Page = React.lazy(() => import('../pages/trainer-contest-2020'))\nconst Digigirlz2020Page = React.lazy(() => import('../pages/digigirlz-2020'))\nconst DigitalMission2021Page = React.lazy(() => import('../pages/digital-mission-2021'))\nconst TrainerContest2021Page = React.lazy(() => import('../pages/trainer-contest-2021'))\nconst OnboardingPage = React.lazy(() => import('../pages/onboarding'))\nconst ActivityEventPage = React.lazy(() => import('../activity-events/components/ActivityEventDetails'))\nconst CampChallengePage = React.lazy(() => import('../camp-challenge/components/CampChallengePage'))\nconst EventTemplateView = React.lazy(() => import('../components/template'))\n\nconst eventSlugComponentMap: Record<string, React.FC<{ event: EventDefinition }>> = {\n    'digital-mission-2021': DigitalMission2021Page,\n    'digital-mission-2020': DigitalMission2020Page,\n    'trainer-contest-2020': TrainerContest2020Page,\n    'trainer-contest-2021': TrainerContest2021Page,\n    'camp-challenge-2023': CampChallengePage,\n    'digigirlz-2020': Digigirlz2020Page,\n    'mylogiscool-mission': OnboardingPage,\n}\n\nconst eventTemplateToComponentMap: Record<string, React.FC<{ event: ManagableEventDefinition }>> = {\n    'drawing-contest': EventTemplateView,\n    'camp-challenge': CampChallengeDynamicPage,\n}\n\nconst normalizeEventList = (\n    events: (EventDefinition | ManagableEventDefinition)[],\n    activityEvents: ActivityEvent[],\n    isAdvancedStatsTurnedOn: boolean,\n) => {\n    const groupedActivityEvents: ActivityEventWithGroupInfo[] = []\n    for (const activityEvent of activityEvents) {\n        if (activityEvent.group) {\n            const groupEntry = groupedActivityEvents.find(event => event.group === activityEvent.group)\n            if (groupEntry) {\n                groupEntry.hasGroupInfo = true\n                groupEntry.closedCount = (groupEntry.closedCount || 0) + (activityEvent.closed ? 1 : 0)\n                groupEntry.groupCount = (groupEntry.groupCount || 0) + 1\n            } else {\n                let newEntry: ActivityEventWithGroupInfo = { ...activityEvent }\n                newEntry.closedCount = activityEvent.closed ? 1 : 0\n                newEntry.groupCount = 1\n                groupedActivityEvents.push(newEntry)\n            }\n        } else {\n            groupedActivityEvents.push(activityEvent)\n        }\n    }\n\n    return [\n        ...groupedActivityEvents.map(event => activityEventToEventDefinition(event, isAdvancedStatsTurnedOn)),\n        ...events,\n    ].sort((a, b) => {\n        if (!a.startDate || b.startDate) {\n            return 0\n        }\n        const startDateA = dayjs(a.startDate)\n        const startDateB = dayjs(b.startDate)\n        if (startDateA.isSame(startDateB)) {\n            return 0\n        }\n        return startDateA.isBefore(startDateB) ? 1 : -1\n    })\n}\n\nexport const FullEventsRouter: React.FC = () => {\n    const { path } = useRouteMatch()\n    const hasShowAdvancedStats = useHasShowAdvancedStats()\n    const events = useEventsData()\n\n    const normalisedEventList = React.useMemo(\n        () => (events ? normalizeEventList(events.normalEvents, events.activityEvents, hasShowAdvancedStats) : []),\n        [events, hasShowAdvancedStats],\n    )\n\n    if (!events) {\n        return <EventLoader />\n    }\n\n    return (\n        <Switch>\n            <Route\n                path={path}\n                exact\n                render={() => (\n                    <>\n                        <ScrollRestoration />\n                        <PageContent>\n                            <EventList events={normalisedEventList} />\n                        </PageContent>\n                    </>\n                )}\n            ></Route>\n            {events.activityEvents.map(event => (\n                <Route\n                    key={event.slug}\n                    path={`${path}/${event.slug}`}\n                    render={() => {\n                        if (event.template) {\n                            return (\n                                <ActivityEventContextProvider\n                                    event={event}\n                                    allActivityEvents={events.activityEvents}\n                                    fallback={<EventLoader />}\n                                >\n                                    <ManagableEventDetail event={(event as any).managableEvent} />\n                                </ActivityEventContextProvider>\n                            )\n                        } else {\n                            return (\n                                <Suspense fallback={<EventLoader />}>\n                                    <ActivityEventPage event={event} allActivityEvents={events.activityEvents} />\n                                </Suspense>\n                            )\n                        }\n                    }}\n                />\n            ))}\n            {events.normalEvents.map(event => (\n                <Route\n                    key={event.slug}\n                    path={`${path}/${event.slug}`}\n                    render={() => {\n                        if (isManagableEvent(event)) {\n                            return <ManagableEventDetail event={event} />\n                        } else {\n                            return <EventDetail event={event} />\n                        }\n                    }}\n                />\n            ))}\n            <Route render={() => <EventNotFound />} />\n        </Switch>\n    )\n}\n\nexport const GuestEventsRouter: React.FC = () => {\n    const { path } = useRouteMatch()\n    const events = useEventsData()\n\n    if (!events) {\n        return <EventLoader />\n    }\n\n    const onboardingEvent = events.normalEvents.find(event => event.slug === 'mylogiscool-mission')\n\n    return (\n        <Switch>\n            {onboardingEvent && (\n                <Route\n                    path={`${path}/${onboardingEvent.slug}`}\n                    render={() => {\n                        return <EventDetail event={onboardingEvent as EventDefinition} />\n                    }}\n                />\n            )}\n            <Route render={() => <EventNotFound />} />\n        </Switch>\n    )\n}\n\nconst ManagableEventDetail: React.FC<{ event: ManagableEventDefinition }> = ({ event }) => {\n    const Component = eventTemplateToComponentMap[event.template]\n\n    if (!Component) {\n        return <EventNotFound />\n    }\n\n    return (\n        <Suspense fallback={<EventLoader />}>\n            <ErrorBoundary\n                fallback={\n                    <EventDetailsBase event={event}>\n                        <ErrorMessage />\n                    </EventDetailsBase>\n                }\n            >\n                <Component event={event} />\n            </ErrorBoundary>\n        </Suspense>\n    )\n}\n\nconst EventDetail: React.FC<{ event: EventDefinition }> = ({ event }) => {\n    const Component = eventSlugComponentMap[event.slug]\n\n    if (!Component) {\n        return <EventNotFound />\n    }\n\n    return (\n        <Suspense fallback={<EventLoader />}>\n            <ErrorBoundary\n                fallback={\n                    <EventDetailsBase event={event}>\n                        <ErrorMessage />\n                    </EventDetailsBase>\n                }\n            >\n                <Component event={event} />\n            </ErrorBoundary>\n        </Suspense>\n    )\n}\n\nconst EventNotFound: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <PageContent>\n            <Stack>\n                <EventDetailsBreadcrumb />\n                <ErrorMessage>{t('events::notFound')}</ErrorMessage>\n            </Stack>\n        </PageContent>\n    )\n}\n","import { CurrencyBadge } from 'components/CurrencyBadge'\nimport { Tooltip } from 'components/Tooltip'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React, { useMemo } from 'react'\nimport { useActivityEventContext } from '../helpers/activityEventContext'\nimport { ActivityEventContextProvider } from './ActivityEventContextProvider'\nimport dayjs from 'dayjs'\nimport { useEventsData } from '../../useEventsData'\n\nexport const ActivityEventPageCurrency: React.FC = () => {\n    const events = useEventsData()\n\n    const event = useMemo(() => {\n        const now = dayjs()\n        return events?.activityEvents.find(\n            event =>\n                dayjs(event.startDate).isBefore(now) &&\n                dayjs(event.endDate).isAfter(now) &&\n                !(event as any).managableEvent,\n        )\n    }, [events])\n\n    if (!events || !event) {\n        return null\n    }\n\n    return (\n        <ActivityEventContextProvider fallback={null} event={event} allActivityEvents={events.activityEvents}>\n            <ActivityEventPageCurrencyInner />\n        </ActivityEventContextProvider>\n    )\n}\n\nconst ActivityEventPageCurrencyInner: React.FC = () => {\n    const t = useTranslate()\n    const { event, points } = useActivityEventContext()\n\n    return (\n        <Tooltip title={t(event.pointTooltipKey ?? 'digitalMission2022::missionPointsCounterTooltip')}>\n            <CurrencyBadge\n                backgroundColor={{ light: '#b7dae3', dark: '#005368' }}\n                color={{ light: '#2b464d', dark: '#a8d9e5' }}\n                iconUrl={event.pointImage}\n                to={`/app/events/${event.slug}`}\n                value={points.total ?? 0}\n            />\n        </Tooltip>\n    )\n}\n","import produce from 'immer'\nimport { Reducer } from 'redux'\nimport { loadEvents } from './eventsActions'\nimport { INIT_EVENTS } from './eventsActionTypes'\nimport { ActivityEvent } from '../activity-events/types/activityEventTypes'\nimport { ManagableEventDefinition } from '../types/eventTypesV2'\nimport { EventDefinition } from '../types/eventTypes'\n\ntype EventsState = {\n    activityEvents: ActivityEvent[]\n    normalEvents: (ManagableEventDefinition | EventDefinition)[]\n    hasEventsGrant: boolean\n}\n\ntype EventsAction = ReturnType<typeof loadEvents>\n\nexport const eventsReducer: Reducer<EventsState, EventsAction> = (\n    state = {\n        activityEvents: [],\n        normalEvents: [],\n        hasEventsGrant: false,\n    },\n    action,\n) => {\n    if (action.type === INIT_EVENTS) {\n        return produce(state, draft => {\n            draft.activityEvents = action.payload.activityEvents\n            draft.normalEvents = action.payload.normalEvents\n            draft.hasEventsGrant = action.payload.hasEventsGrant\n        })\n    }\n    return state\n}\n","import React, { useEffect, useState } from 'react'\nimport { Dialog } from 'components/dialog'\n\nconst GrantDevTool = React.lazy(() => import('./GrantDevTool'))\n\nexport const GrantDevToolDialog: React.FC = () => {\n    const [isOpen, setIsOpen] = useState(false)\n\n    useEffect(() => {\n        window.openGrantDevtool = () => {\n            setIsOpen(true)\n        }\n    }, [])\n\n    return (\n        <Dialog\n            fullWidth\n            maxWidth=\"sm\"\n            open={isOpen}\n            onClose={() => {\n                setIsOpen(false)\n            }}\n        >\n            <GrantDevTool />\n        </Dialog>\n    )\n}\n","export class NotFoundError extends Error {}\n","import { AnyAction } from 'redux'\n\ntype Listener = (action: AnyAction) => void\n\ntype ListenerWithMetadata = {\n    fn: Listener\n    once: boolean\n}\n\nclass StoreActionListener {\n    private listeners: Record<string, ListenerWithMetadata[]> = {}\n\n    private add = (actionType: string, listener: Listener, once: boolean) => {\n        if (this.listeners[actionType]) {\n            this.listeners[actionType].push({ once, fn: listener })\n        } else {\n            this.listeners[actionType] = [{ once, fn: listener }]\n        }\n    }\n\n    emit = (action: AnyAction) => {\n        if (this.listeners[action.type]) {\n            for (const listener of this.listeners[action.type]) {\n                listener.fn(action)\n                if (listener.once) {\n                    this.removeListener(action.type, listener.fn)\n                }\n            }\n        }\n    }\n\n    on = (actionType: string, listener: Listener) => {\n        this.add(actionType, listener, false)\n    }\n\n    once = (actionType: string, listener: Listener) => {\n        this.add(actionType, listener, true)\n    }\n\n    removeListener = (actionType: string, listener: Listener) => {\n        if (this.listeners[actionType]) {\n            this.listeners[actionType] = this.listeners[actionType].filter(({ fn }) => fn !== listener)\n        }\n    }\n}\n\nexport const storeActionListener = new StoreActionListener()\n","import { Flex } from 'components/layout'\nimport { Text } from 'components/Text'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\ntype PageTitleProps = {\n    icon: React.ReactNode\n}\n\nexport const PageTitle: React.FC<PageTitleProps> = ({ children, icon }) => {\n    return (\n        <Root variant=\"h3\" component=\"h2\">\n            <Inner align=\"center\">{icon}</Inner>\n            {children}\n        </Root>\n    )\n}\n\nconst Root = styled(Text)`\n    display: flex;\n    align-items: center;\n    align-self: center;\n    ${props => props.theme.breakpoints.down('xs')} {\n        font-size: ${props => props.theme.typography.body1.fontSize};\n    }\n` as typeof Text\n\nconst Inner = styled(Flex)`\n    margin-inline-end: ${props => props.theme.spacing(2)};\n`\n","import React from 'react'\nimport { Inline } from 'components/layout'\nimport styled from 'styled-components/macro'\nimport { currencyStyles } from './currencyStyles'\nimport { useHasGrant } from 'lib/grants'\n\nexport interface CookieCountProps {\n    count?: number\n    goldenCount?: number\n    displayCount?: boolean\n    cookied?: boolean\n    goldenCookied?: boolean\n    className?: string\n}\n\nexport const CookieCount: React.FC<CookieCountProps> = ({\n    count = 0,\n    goldenCookied = false,\n    displayCount = true,\n    cookied = false,\n    goldenCount = 0,\n    className,\n}) => {\n    const hasGrant = useHasGrant()\n    const hasGiveGoldenCookieGrant = hasGrant('give-golden-cookie')\n    const isGolenCookieColored = !hasGiveGoldenCookieGrant || goldenCookied\n\n    return (\n        <Root className={className}>\n            {goldenCount > 0 && (\n                <>\n                    <Inner spacing={1} $isColored={isGolenCookieColored}>\n                        <span>{goldenCount}</span>\n                        <Image src={currencyStyles['golden-cookie'].icon[isGolenCookieColored ? 'colored' : 'solid']} />\n                    </Inner>\n                    <Divider />\n                </>\n            )}\n            <Inner spacing={1} $isColored={cookied}>\n                {displayCount && <span>{count}</span>}\n                <Image src={currencyStyles.cookie.icon[cookied ? 'colored' : 'solid']} />\n            </Inner>\n        </Root>\n    )\n}\n\nconst Root = styled.div`\n    display: flex;\n    grid-gap: ${props => props.theme.spacing(2)};\n    font-size: ${props => props.theme.typography.body1.fontSize};\n`\n\nconst Divider = styled.div`\n    width: 1px;\n    background-color: #ffffff4d;\n`\n\nconst Image = styled.img`\n    width: 1.3em;\n`\n\nconst Inner = styled(Inline)<{ $isColored: boolean }>`\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    color: ${props => (props.$isColored ? currencyStyles.cookiedColor : props.theme.palette.common.white)};\n`\n","import { Flex } from 'components/layout'\nimport { getUserPublicName } from 'contexts/UserContext'\nimport { Avatar, createAvatarUrl } from 'features/avatar'\nimport { UserBadge } from 'features/profile'\nimport { MinimalAccount } from 'lib/api'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\n\ntype ProjectCardUserProps = {\n    user?: MinimalAccount\n    className?: string\n}\n\nexport const ProjectCardUser: React.FC<ProjectCardUserProps> = ({ user, className }) => {\n    if (!user) {\n        return null\n    }\n\n    return (\n        <Flex className={className}>\n            <StyledLink to={`/app/user/${user.username}`}>\n                <StyledAvatar size=\"tiny\" src={createAvatarUrl(user.profileImage)} />\n                <Name>\n                    {getUserPublicName(user)}\n                    <StyledUserBadge user={user} />\n                </Name>\n            </StyledLink>\n        </Flex>\n    )\n}\n\nconst StyledUserBadge = styled(UserBadge)`\n    font-size: ${props => props.theme.typography.body1.fontSize};\n    margin-inline-start: ${props => props.theme.spacing(1)};\n`\n\nconst StyledAvatar = styled(Avatar)`\n    flex-shrink: 0;\n`\n\nconst StyledLink = styled(Link)`\n    overflow: hidden;\n    display: inline-flex;\n    align-items: center;\n    color: inherit;\n    text-decoration: none;\n    &:hover,\n    &:focus-visible {\n        text-decoration: underline;\n    }\n    > * + * {\n        margin-inline-start: ${props => props.theme.spacing(2)};\n    }\n`\n\nconst Name = styled.span`\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n`\n","import React from 'react'\nimport { useProjectModalContext } from '../modal/projectModalContext'\nimport styled from 'styled-components/macro'\nimport { Avatar, createAvatarUrl } from 'features/avatar'\nimport { Inline } from 'components/layout'\nimport { Link } from 'react-router-dom'\nimport { getUserPrivateName, getUserPublicName, useUserState } from 'contexts/UserContext'\nimport { UserBadge } from 'features/profile'\n\nexport const ProjectDetailsUser: React.FC = () => {\n    const { project, isOwnProject } = useProjectModalContext()\n    const { account } = useUserState()\n\n    if (!project) {\n        return null\n    }\n\n    const displayName = (() => {\n        if (isOwnProject) {\n            return getUserPrivateName(account)\n        }\n        if (project.metadata.owner) {\n            return getUserPublicName(project.metadata.owner)\n        }\n        return null\n    })()\n\n    return (\n        <ProjectDetailsUserAvatarWrap component={Link} to={`/app/user/${project.metadata.owner?.username}`}>\n            <StyledAvatar size=\"small\" src={createAvatarUrl(project.metadata.owner?.profileImage)} />\n            <Name>\n                {displayName} {project.metadata.owner && <StyledUserBadge user={project.metadata.owner} />}\n            </Name>\n        </ProjectDetailsUserAvatarWrap>\n    )\n}\n\nexport const StyledUserBadge = styled(UserBadge)`\n    font-size: ${props => props.theme.typography.body1.fontSize};\n    margin-inline-start: ${props => props.theme.spacing(1)};\n`\n\nexport const StyledAvatar = styled(Avatar)`\n    flex-shrink: 0;\n`\n\nexport const Name = styled.span`\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n`\n\nexport const ProjectDetailsUserAvatarWrap = styled(Inline)`\n    display: flex;\n    align-items: center;\n    color: inherit;\n    text-decoration: none;\n    font-weight: 600;\n    &:hover {\n        text-decoration: underline;\n    }\n` as typeof Inline & Link\n","export { ScoolcodeChallengeList } from './components/ScoolcodeChallengeList'\nexport { ScoolcodeChallengeApi } from './data/ScoolcodeChallengeApi'\nexport { useInvalidateMyChallengeSetsQuery } from './data/scoolcodeChallengeQueries'\nexport * from './types/scoolcodeChallengeTypes'\n","export default __webpack_public_path__ + \"static/media/not-found.2a430818.png\";","import { Loader } from 'components/Loader'\nimport React, { forwardRef, useEffect, useState } from 'react'\nimport { useProjectModalContext } from './projectModalContext'\nimport styled, { keyframes } from 'styled-components/macro'\nimport { Text } from 'components/Text'\nimport { Img } from 'components/Img'\nimport { Stack } from 'components/layout'\nimport notFoundImage from './not-found.png'\nimport { ProjectVariant } from '../projectHelpers'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { PROJECT_MODAL_MOBILE_BREAKPOINT } from './ProjectModalBase'\n\ninterface ProjectModalEmbedProps {\n    // null means that we don't know yet which variant to render so let's just show the loader\n    projectVariant: ProjectVariant | null\n    src: string\n}\n\nexport const ProjectModalEmbed = forwardRef<HTMLIFrameElement, ProjectModalEmbedProps>(\n    ({ projectVariant, src }, ref) => {\n        const { project, error } = useProjectModalContext()\n\n        // we need to suspense while translations are not ready\n        // because suspense and measuring dom nodes dont really\n        // work well together in legacy mode\n        // https://github.com/facebook/react/issues/18141#issuecomment-591648972\n        useTranslate()\n\n        const [status, setStatus] = useState<'idle' | 'loading'>('loading')\n\n        useEffect(() => {\n            const onMessage = (event: MessageEvent<{ type?: string }>) => {\n                if (event.origin.indexOf('.scoolcode.') !== -1 && event.data?.type === 'ready') {\n                    setStatus('idle')\n                }\n            }\n\n            window.addEventListener('message', onMessage)\n            return () => {\n                window.removeEventListener('message', onMessage)\n            }\n        }, [])\n\n        if (error === 'NOT_FOUND') {\n            return (\n                <Root>\n                    <Wrap>\n                        <Stack textAlign=\"center\" spacing={6}>\n                            <ErrorImage src={notFoundImage} />\n                            <ErrorText variant=\"h2\">Not found.</ErrorText>\n                        </Stack>\n                    </Wrap>\n                </Root>\n            )\n        }\n\n        if (error === 'GENERAL') {\n            return <Root></Root>\n        }\n\n        const iframeProps: React.DetailedHTMLProps<React.IframeHTMLAttributes<HTMLIFrameElement>, HTMLIFrameElement> = {\n            style: { width: '100%', height: '100%', opacity: status === 'loading' ? 0 : 1 },\n            allowFullScreen: true,\n            allow: 'camera *; microphone *; geolocation *; fullscreen *; midi *; accelerometer *; gyroscope *; gamepad *;',\n            title: project?.file.title || '',\n            src,\n            frameBorder: '0',\n            ref: ref,\n        }\n\n        return (\n            <Root>\n                {(projectVariant === null || status === 'loading') && (\n                    <Wrap>\n                        <Loader />\n                    </Wrap>\n                )}\n                {/* eslint-disable-next-line jsx-a11y/iframe-has-title */}\n                {projectVariant !== null && <iframe {...iframeProps} />}\n            </Root>\n        )\n    },\n)\n\nconst notFoundAnimation = keyframes`\n    0% {\n        transform: rotate(0)\n    }\n    50% {\n        transform: rotate(-10deg);\n    }\n    100% {\n        transform: rotate(10deg);\n    }\n`\n\nconst ErrorImage = styled(Img)`\n    animation: ${notFoundAnimation} 5s ease-in-out infinite alternate;\n`\n\nconst ErrorText = styled(Text)`\n    color: #898db1;\n`\n\nconst Root = styled.div`\n    position: relative;\n    overflow: hidden;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    ${props => props.theme.breakpoints.down(PROJECT_MODAL_MOBILE_BREAKPOINT)} {\n        height: 40vh;\n        @media (orientation: landscape) {\n            height: 100vh;\n            height: 100dvh;\n        }\n    }\n`\n\nconst Wrap = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n`\n","import React, { useRef, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { projectModalContext, ProjectModalState } from './projectModalContext'\nimport styled from 'styled-components/macro'\nimport { ProjectModalEmbed } from './ProjectModalEmbed'\nimport { Dialog } from 'components/dialog'\nimport { useSelector } from 'lib/store'\nimport { useMyPendingProjectsQuery, useProjectQuery } from '../projectQueries'\nimport { useUserState } from 'contexts/UserContext'\nimport { Project } from '../store'\nimport { AxiosError } from 'axios'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { ProjectModalError } from './ProjectModalError'\nimport { ProjectVariant } from '../projectHelpers'\nimport { Theme, useMediaQuery } from '@material-ui/core'\nimport { Paper } from 'components/Paper'\nimport { runtimeEnv } from 'utils/env'\nimport { api } from 'lib/api'\nimport { useModal } from 'lib/router/modals/modalContext'\nimport { usePauseDialogQueue } from 'features/dialog-queue'\n\ninterface ProjectModalBaseProps {\n    projectVariant: ProjectVariant | ((project: Project) => ProjectVariant)\n    asideWidth?: string\n    embedOwnerInFileRequest?: boolean\n    isNotFound: (context: Pick<ProjectModalState, 'project' | 'query' | 'isOwnProject' | 'id'>) => boolean\n    transformIframeSrc?: (originalSrc: string) => string\n    renderMainContent?: (id: string) => React.ReactNode\n}\n\nexport const PROJECT_MODAL_MOBILE_BREAKPOINT = 'sm'\n\nexport const ProjectModalBase: React.FC<ProjectModalBaseProps> = ({\n    children,\n    asideWidth = '400px',\n    projectVariant,\n    isNotFound,\n    embedOwnerInFileRequest = false,\n    transformIframeSrc,\n    renderMainContent,\n}) => {\n    const { id } = useParams<{ id: string }>()\n    const query = useProjectQuery(id, embedOwnerInFileRequest)\n    const { closeModal } = useModal()\n    const project = useSelector(state => state.projects.all[id]) as Project | undefined\n    const iframeRef = useRef<HTMLIFrameElement>(null)\n    const { account, i18n } = useUserState()\n    const { data: pendingProjects } = useMyPendingProjectsQuery(project?.metadata.shareable === true)\n    const isPendingProject = pendingProjects?.includes(id)\n    const isMobile = useMediaQuery<Theme>(theme => theme.breakpoints.down(PROJECT_MODAL_MOBILE_BREAKPOINT), {\n        noSsr: true,\n    })\n    const [embedLoaded, setEmbedLoaded] = useState<boolean>(false)\n    const [embedOrigin, setEmbedOrigin] = useState<string | null>(null)\n\n    usePauseDialogQueue()\n\n    const isOwnProject = project ? project.file.owner === account.id : undefined\n    const computedProjectVariant = (() => {\n        if (typeof projectVariant === 'string') {\n            return projectVariant\n        }\n        if (!project) {\n            return null\n        }\n        return projectVariant(project)\n    })()\n\n    const error = (() => {\n        if (query.status === 'error') {\n            const statusCode = (query.error as AxiosError)?.response?.status\n            if (statusCode === 400 || statusCode === 404) {\n                return 'NOT_FOUND'\n            } else {\n                return 'GENERAL'\n            }\n        }\n        if (project?.file.deleted) {\n            return 'NOT_FOUND'\n        }\n        if (isNotFound({ project, query, isOwnProject, id })) {\n            return 'NOT_FOUND'\n        }\n        return undefined\n    })()\n\n    React.useEffect(() => {\n        const onMessage = (event: MessageEvent<{ type?: string }>) => {\n            if (event.origin.indexOf(\".scoolcode.\") !== -1 && event.data?.type === 'ready') {\n                setEmbedOrigin(event.origin);\n                setEmbedLoaded(true)\n            }\n        }\n\n        window.addEventListener('message', onMessage)\n        return () => {\n            window.removeEventListener('message', onMessage)\n        }\n    }, [])\n\n    const iframeSrc = (() => {\n        let src = `${runtimeEnv.REACT_APP_PLAY_URL}/${id}?version=next&access_token=${api.accessToken}&lang=${i18n.locale}`\n        if (computedProjectVariant !== 'normal') {\n            src = src + `&variant=${computedProjectVariant}`\n        }\n        if (transformIframeSrc) {\n            src = transformIframeSrc?.(src)\n        }\n        return src\n    })()\n\n    return (\n        <Dialog\n            open\n            hideCloseButton={isMobile}\n            fullWidth\n            fullScreen={isMobile}\n            maxWidth=\"xl\"\n            PaperComponent={DialogPaper}\n            onClose={closeModal}\n        >\n            <projectModalContext.Provider\n                value={{\n                    id,\n                    query,\n                    project,\n                    close: closeModal,\n                    iframeRef,\n                    isOwnProject,\n                    isPendingProject,\n                    error,\n                    variant: computedProjectVariant,\n                    embedLoaded,\n                    embedOrigin: embedOrigin || ''\n                }}\n            >\n                <Grid asideWidth={asideWidth}>\n                    {renderMainContent ? (\n                        renderMainContent(id)\n                    ) : (\n                        <ProjectModalEmbed\n                            key={iframeSrc}\n                            projectVariant={computedProjectVariant}\n                            src={iframeSrc}\n                            ref={iframeRef}\n                        />\n                    )}\n                    <Aside>\n                        <ErrorBoundary fallback={<ProjectModalError error=\"GENERAL\" />}>{children}</ErrorBoundary>\n                    </Aside>\n                </Grid>\n            </projectModalContext.Provider>\n        </Dialog>\n    )\n}\n\nconst DialogPaper = styled(Paper)`\n    height: 100%;\n    overflow-y: hidden;\n    background: #1b1c26;\n    ${props => props.theme.extras?.dialog?.projectDialogPaper}\n`\n\nconst Aside = styled.aside`\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    overflow-y: auto;\n    background-color: ${props => props.theme.palette.background.default};\n`\n\nconst Grid = styled.div<{ asideWidth: string }>`\n    display: grid;\n    grid-template-columns: 1fr ${props => props.asideWidth};\n    height: 100%;\n    ${props => props.theme.breakpoints.down(PROJECT_MODAL_MOBILE_BREAKPOINT)} {\n        display: flex;\n        flex-direction: column;\n        @media (orientation: landscape) {\n            display: block;\n        }\n    }\n`\n","import { Button } from 'components/Button'\nimport { FormControl, FormLabel } from 'components/form'\nimport { useUserState } from 'contexts/UserContext'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { isGrantDevToolEnabled } from './grantDevToolUtilts'\nimport React from 'react'\n\nexport const GrantDevToolButton: React.FC = () => {\n    const user = useUserState()\n    const t = useTranslate()\n    const isEnabled = isGrantDevToolEnabled(user)\n\n    if (!isEnabled) {\n        return null\n    }\n\n    return (\n        <FormControl>\n            <FormLabel>{t('User schemas')}</FormLabel>\n            <div>\n                <Button onClick={() => window.openGrantDevtool?.()}>Open grant tool</Button>\n            </div>\n        </FormControl>\n    )\n}\n","import { CertificateType } from 'features/certificates/certificateTypes'\nimport { QueuedDialogData } from 'features/dialog-queue/store/dialogQueueReducer'\n\nexport const NOTIFICATION_TYPES = [\n    'GENERAL',\n    'NEW_PROJECT_SHARED',\n    'PROJECT_UPDATED',\n    'UNLOCK_ACHIEVEMENT',\n    'DM2021_WINNER',\n    'WEEKLY_TOP_100_PRESENCE',\n    'NEW_CERTIFICATION',\n    'DM2021_CERT',\n    'NEW_CERT',\n] as const\n\nexport type NotificationType = typeof NOTIFICATION_TYPES[number]\n\nexport type NotificationDisplayType = 'one-off' | 'silent' | 'normal' | 'unlisted-normal' | 'fancy' | 'tooltip'\n\nexport type NotificationCTA =\n    | {\n          type: 'internal-link'\n          link:\n              | {\n                    pathname: string\n                    state?: { modal?: boolean; bubblePhaseIndex?: number; fromNotification?: boolean }\n                    hash?: string\n                }\n              | string\n      }\n    | { type: 'external-link'; link: string }\n    | { type: 'dialog'; data: QueuedDialogData }\n    | { type: 'custom'; onClick: VoidFunction }\n\nexport const NotificationStatTypes = ['Easy', 'Medium', 'Hard'] as const\n\ntype NotificationStat = typeof NotificationStatTypes[number]\n\nexport interface Notification {\n    id: string\n    createdAt: string\n    read: boolean\n    displayed?: boolean\n    message: {\n        title?: string\n        body?: string\n        data: {\n            type: NotificationType\n            display: NotificationDisplayType\n            payload: {\n                _image?: string\n                _cta?: NotificationCTA\n                _button?: string\n                achievementId?: string\n                seasonPoints?: number\n                cookies?: number\n                views?: number\n                likes?: number\n                follows?: number\n                favorites?: number\n                tooltipId?: string\n                projectId?: string\n                name?: string\n                username?: string\n                modalContent?: any\n                title?: any\n                body?: any\n                userId?: string\n                project?: { title: string; isMiniQuiz: boolean }\n                trophy?: 'platinum' | 'silver' | 'gold' | 'bronze'\n                stat?: NotificationStat\n                dm2021successCatalogItemId?: string\n                subjectId?: string\n                subjectFormat?: CertificateType\n                variables?: Record<string, any>\n            }\n        }\n    }\n}\n","import { Theme } from '@material-ui/core'\nimport { css } from 'styled-components/macro'\n\nexport const visuallyHidden = css`\n    clip: rect(0 0 0 0);\n    clip-path: inset(50%);\n    height: 1px;\n    overflow: hidden;\n    position: absolute;\n    top: 0;\n    left: 0;\n    white-space: nowrap;\n    width: 1px;\n`\n\nexport const NBSP = '\\u00A0'\n\nexport const resetBtnStyle = css`\n    font-family: inherit;\n    font-size: 100%;\n    line-height: inherit;\n    color: inherit;\n    text-transform: none;\n    border: none;\n    margin: 0;\n    padding: 0;\n    width: auto;\n    overflow: visible;\n    background: transparent;\n    text-align: inherit;\n    border-radius: 0;\n`\n\nexport const actionablePaperStyles = css`\n    background-color: ${props => props.theme.palette.background.paper};\n    transition: all ${props => props.theme.transitions.duration.shortest}ms;\n    &:focus {\n        outline: none;\n    }\n    &:hover,\n    &:focus-visible {\n        background-color: ${props => props.theme.palette.action.hover};\n    }\n    &:focus-visible {\n        outline: solid 1px ${props => props.theme.palette.primary.main};\n    }\n\n    ${props => props.theme.extras?.actionablePaper?.root}\n`\n\nexport const customScrollbar = css`\n    &::-webkit-scrollbar-track {\n        background-color: ${props => props.theme.palette.background.paper};\n    }\n\n    &::-webkit-scrollbar {\n        width: 8px;\n        background-color: ${props => props.theme.palette.background.paper};\n    }\n\n    &::-webkit-scrollbar-thumb {\n        border-radius: 10px;\n        background-color: ${props => props.theme.palette.divider};\n    }\n`\n\nexport interface LightDarkColor {\n    light: string\n    dark: string\n}\n\nexport function pickLightDarkColor(theme: Theme): undefined\nexport function pickLightDarkColor(theme: Theme, color?: LightDarkColor): string\nexport function pickLightDarkColor(theme: Theme, color?: LightDarkColor) {\n    return theme.palette.type === 'dark' ? color?.dark : color?.light\n}\n","import { Button } from 'components/Button'\nimport { RestoreIcon } from 'components/icons'\nimport dayjs from 'dayjs'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport {\n    createProjectThumbnailUrl,\n    Project,\n    ProjectCard,\n    ProjectCardBadge,\n    ProjectCardButtonBadge,\n    ProjectCardContent,\n    ProjectCardImage,\n} from '..'\nimport { ProjectStripe } from '../stripe'\nimport { useProjectActions } from '../useProjectActions'\n\ninterface MyDeletedProjectCardProps {\n    project: Project\n    displayType: 'grid' | 'list'\n}\n\nexport const MyDeletedProjectCard: React.FC<MyDeletedProjectCardProps> = ({ project, displayType }) => {\n    const t = useTranslate()\n    const { restoreProject } = useProjectActions()\n    const remainingDays = dayjs(project.file.deletedAt).diff(dayjs(), 'days') + 30\n    const title = project.file.name\n    const thumbnailUrl = createProjectThumbnailUrl(project.file.id, 'normal')\n\n    if (displayType === 'list') {\n        return (\n            <ProjectStripe\n                thumbnailUrl={thumbnailUrl}\n                metadata={\n                    <>\n                        {project.file.deletedAt && (\n                            <span>{t('general::nDaysRemaining', { count: remainingDays })}</span>\n                        )}\n                    </>\n                }\n                title={title}\n                actions={\n                    <>\n                        <Button\n                            size=\"small\"\n                            startIcon={<RestoreIcon />}\n                            onClick={() => {\n                                restoreProject(project.file.id)\n                            }}\n                        >\n                            {t('general::restore')}\n                        </Button>\n                    </>\n                }\n            />\n        )\n    }\n\n    return (\n        <ProjectCard key={project.file.id}>\n            <ProjectCardImage\n                src={thumbnailUrl}\n                badges={\n                    <>\n                        {project.file.deletedAt && (\n                            <ProjectCardBadge>\n                                {t('general::nDaysRemaining', { count: remainingDays })}\n                            </ProjectCardBadge>\n                        )}\n                        <ProjectCardButtonBadge\n                            size=\"small\"\n                            startIcon={<RestoreIcon />}\n                            position=\"top-right\"\n                            onClick={() => {\n                                restoreProject(project.file.id)\n                            }}\n                        >\n                            {t('general::restore')}\n                        </ProjectCardButtonBadge>\n                    </>\n                }\n            />\n            <ProjectCardContent title={{ label: title }} />\n        </ProjectCard>\n    )\n}\n","import { Breadcrumbs } from 'components/Breadcrumbs'\nimport { Button } from 'components/Button'\nimport { LeftAngleIcon } from 'components/icons'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\n\nexport interface EventDetailsBreadcrumbProps {\n    children?: React.ReactNode\n}\n\nexport const EventDetailsBreadcrumb: React.FC = ({ children }) => {\n    const t = useTranslate()\n\n    return (\n        <Breadcrumbs>\n            <Button component={Link} variant=\"text\" startIcon={children ? null : <LeftAngleIcon />} to=\"/app/events\">\n                {t('events::allEvents')}\n            </Button>\n            {children}\n        </Breadcrumbs>\n    )\n}\n","export const INIT_EVENTS = 'EVENTS/INIT'\n","import React from 'react'\nimport ReactMarkdown from 'react-markdown'\n\ninterface MarkdownProps {\n    children: string\n}\n\nexport const Markdown: React.FC<MarkdownProps> = ({ children }) => {\n    // TODO: use <Text />\n    return <ReactMarkdown>{children}</ReactMarkdown>\n}\n","import { client } from 'redux-socket-client'\nimport { REPORT_PROJECT } from '../constants'\n\nexport const reportProject = client((project: string, reason: string, notes?: string) => ({\n    type: REPORT_PROJECT,\n    payload: { project, reason, notes },\n}))\n","import { Theme } from '@material-ui/core'\nimport { Text } from 'components/Text'\nimport { Tooltip } from 'components/Tooltip'\nimport dayjs from 'dayjs'\nimport { useHumanReadableCountdown } from 'hooks/useCountdown'\nimport { useDateFormat } from 'hooks/useDateFormat'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React, { useMemo, useEffect } from 'react'\nimport styled, { keyframes, css } from 'styled-components/macro'\n\ninterface HighScorePanelCountdownProps {\n    date: string\n    onEnd?: VoidFunction\n}\n\nexport const HighScoreRoomCountdown: React.FC<HighScorePanelCountdownProps> = ({ date, onEnd }) => {\n    const t = useTranslate()\n    const { formatDate } = useDateFormat()\n    const dayjsDate = useMemo(() => dayjs(date), [date])\n    const { remaining, isEnd, label } = useHumanReadableCountdown(dayjsDate)\n\n    useEffect(() => {\n        if (isEnd) {\n            onEnd?.()\n        }\n    }, [isEnd, onEnd])\n\n    const isLastMinute = isEnd === false && remaining.days <= 0 && remaining.hours <= 0 && remaining.minutes <= 0\n    const isLast20Seconds = isLastMinute && remaining.seconds <= 20\n\n    return (\n        <div>\n            <Text>{t('general::remainingTime')}</Text>\n            <Tooltip title={formatDate(dayjsDate.toDate())}>\n                <span>\n                    <CountdownValue $pulse={isLast20Seconds}>{label}</CountdownValue>\n                </span>\n            </Tooltip>\n        </div>\n    )\n}\n\nconst pulseAnimation = (theme: Theme) => {\n    return keyframes`\n    0% {\n        color: ${theme.palette.error.light};\n        transform: scale(1)\n    }\n    100% {\n        color: ${theme.palette.error.main};\n        transform: scale(1.05)\n    }\n`\n}\n\nconst CountdownValue = styled(Text)<{ $pulse: boolean }>`\n    font-weight: 700;\n    display: inline-block;\n    position: relative;\n    animation: ${props =>\n        props.$pulse\n            ? css`\n                  ${pulseAnimation(props.theme)} 0.5s infinite alternate\n              `\n            : undefined};\n`\n","import { api } from 'lib/api'\nimport { useMemo } from 'react'\nimport { useQuery, useQueryCache } from 'react-query'\n\nconst KEY = 'latest-generated-quiz-session'\n\nexport function useInvalidateGeneratedQuizSessions() {\n    const queryCache = useQueryCache()\n\n    return useMemo(\n        () => ({\n            invalidateGeneratedQuizSessions: () => {\n                queryCache.invalidateQueries(KEY)\n            },\n        }),\n        [queryCache],\n    )\n}\n\nexport function useGeneratedQuizSessionsQuery() {\n    return useQuery(KEY, async () => api.quizzes.getActiveGeneratedSessions())\n}\n","export default __webpack_public_path__ + \"static/media/fallback-thumbnail.971e9264.png\";","import { Box, Flex } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { Project, ProjectCardBadge } from '..'\nimport { useBlockGalleriesQuery } from '../projectQueries'\nimport styled from 'styled-components/macro'\nimport { BloxIcon, MixIcon } from 'components/icons'\nimport { motion } from 'framer-motion'\nimport { useHasGrant } from 'lib/grants'\nimport { NBSP } from 'utils/styleUtils'\nimport { ProjectListLayout } from './MyProjects'\n\ninterface MyProjectBlockGalleryProps {\n    project: Project\n    blockGalleriesQuery?: ReturnType<typeof useBlockGalleriesQuery>\n    layout: ProjectListLayout\n}\n\nexport const MyProjectBlockGallery: React.FC<MyProjectBlockGalleryProps> = ({\n    project,\n    blockGalleriesQuery,\n    layout,\n}) => {\n    const t = useTranslate()\n    const blockGallery = blockGalleriesQuery?.data?.data.find(\n        gallery => gallery.id === project.file.metadata?.palette,\n    )?.name\n\n    const isMix = project.file.kind.includes('mix')\n    const hasGrant = useHasGrant()\n    const hasAdvancedThumbnail = hasGrant({ product: 'edup.scoolcode.ide', feature: 'advanced-project-thumbnail' })\n    const isEnabled =\n        hasGrant({ product: 'edup.scoolcode.ide', feature: 'create-project.mix' }) ||\n        hasGrant({ product: 'edup.scoolcode.ide', feature: 'offboarding.mix' })\n\n    const isMultiLanguageUser =\n        isMix &&\n        hasGrant({ product: 'edup.scoolcode.ide', feature: 'language-python' }) &&\n        hasGrant({ product: 'edup.scoolcode.ide', feature: 'language-stagescript' });\n\n    if (!blockGalleriesQuery) {\n        return null\n    }\n\n    const displayBlockGallery = hasAdvancedThumbnail && !!blockGallery && !isMix\n\n    if (!isEnabled) {\n        return null\n    }\n\n    return (\n        <>\n            {layout === 'grid' ? (\n                <>\n                    {!isMultiLanguageUser && <BadgeWrapper initial=\"hidden\" whileHover=\"hover\" animate=\"hidden\">\n                        <ProjectCardBadge position=\"bottom-left\">\n                            <Container>\n                                {isMix ? <MixIcon /> : <BloxIcon />}\n                                {displayBlockGallery ? (\n                                    <BlockGalleryText variants={textMotion}>{blockGallery}</BlockGalleryText>\n                                ) : (\n                                    NBSP\n                                )}\n                            </Container>\n                        </ProjectCardBadge>\n                    </BadgeWrapper>}\n                </>\n            ) : (\n                <>\n                    {displayBlockGallery && (\n                        <StripeRoot>\n                            <Text color=\"textSecondary\" variant=\"caption\">\n                                {t('projects::palette')}\n                            </Text>\n                            <Text variant=\"body2\">{blockGallery}</Text>\n                        </StripeRoot>\n                    )}\n                    <Flex align=\"center\" fontSize=\"1.25em\">\n                        {isMix ? <MixIcon /> : <BloxIcon />}\n                    </Flex>\n                </>\n            )}\n        </>\n    )\n}\n\nconst BadgeWrapper = styled(motion.div)`\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n`\n\nconst textMotion = {\n    hidden: {\n        opacity: 0,\n        transform: 'translateX(-10px)',\n        width: 0,\n        marginInlineStart: '0px',\n    },\n    hover: {\n        opacity: 1,\n        transform: 'translateX(0px)',\n        width: 'auto',\n        marginInlineStart: '8px',\n    },\n}\n\nconst BlockGalleryText = styled(motion.span)`\n    transform-origin: left;\n`\n\nconst Container = styled(motion.div)`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`\n\nconst StripeRoot = styled(Box)`\n    white-space: pre;\n    ${props => props.theme.breakpoints.down('xs')} {\n        display: none;\n    }\n`\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { LightDarkColor, pickLightDarkColor } from 'utils/styleUtils'\n\ninterface CurrencyBadgeProps {\n    value: number\n    iconUrl: string\n    to: string\n    backgroundColor?: LightDarkColor\n    color?: LightDarkColor\n}\n\nexport const CurrencyBadge = React.forwardRef<any, CurrencyBadgeProps>(\n    ({ backgroundColor, color, iconUrl, to, value, ...rest }, ref) => {\n        return (\n            <Root ref={ref} to={to} $backgroundColor={backgroundColor} $color={color} {...rest}>\n                <Image width=\"24\" height=\"24\" src={iconUrl} alt=\"\" />\n                <span>{value}</span>\n            </Root>\n        )\n    },\n)\n\nconst Root = styled(Link)<{\n    $backgroundColor?: LightDarkColor\n    $color?: LightDarkColor\n}>`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(2)};\n    padding: ${props => props.theme.spacing(2, 3)};\n    background-color: ${props => pickLightDarkColor(props.theme, props.$backgroundColor)};\n    color: ${props => pickLightDarkColor(props.theme, props.$color)};\n    font-weight: 800;\n    border-radius: 20px;\n    font-size: ${props => props.theme.typography.body2.fontSize};\n    text-decoration: none;\n    transition: filter ${props => props.theme.transitions.duration.short}ms;\n\n    &:hover,\n    &:focus-visible {\n        filter: brightness(0.95);\n    }\n`\n\nconst Image = styled.img`\n    width: 1.5rem;\n    max-width: 100%;\n    height: auto;\n`\n","import React from 'react'\nimport { ProjectModalBase } from 'features/projects'\nimport { HighScoreDetails } from 'features/high-score'\nimport { useLocation } from 'react-router-dom'\n\n// A custom hook that builds on useLocation to parse\n// the query string for you.\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search)\n}\n\nexport const HighScorePage = () => {\n    const query = useQuery()\n    const room = query.get('room') || ''\n\n    return (\n        <ProjectModalBase\n            projectVariant=\"normal\"\n            isNotFound={() => false}\n            transformIframeSrc={src => {\n                if (!room) {\n                    return src\n                }\n                return src + `&room=${room}`\n            }}\n        >\n            <HighScoreDetails room={room} />\n        </ProjectModalBase>\n    )\n}\n","import React, { useEffect } from 'react'\nimport styled from 'styled-components/macro'\nimport { useSelector } from 'lib/store'\nimport { getHighScoreRoom, requestRooms } from 'lib/liveops'\nimport { HighScoreGame } from './highScoreGames'\nimport { DialogContent, DialogTitle } from 'components/dialog'\nimport { HighScoreGameLeaderboard } from 'features/high-score/HighScoreGameLeaderboard'\nimport { Text } from 'components/Text'\nimport { Loader } from 'components/Loader'\nimport { Stack } from 'components/layout'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Card, CardContent } from 'components/card'\nimport { HighScoreGameThumbnail } from './HighScoreGameThumbnail'\nimport { HighScoreRoom } from 'lib/liveops/reducers/shared/leaderboard'\nimport { useState } from 'react'\nimport { useCallback } from 'react'\nimport { Button } from 'components/Button'\nimport { Link } from 'react-router-dom'\nimport { HighScoreRoomCountdown } from './HighScoreRoomCountdown'\nimport { transparentize } from 'polished'\nimport { customScrollbar } from 'utils/styleUtils'\nimport { useTitle } from 'hooks/useTitle'\nimport { useDispatch } from 'react-redux'\n\ninterface HighScoreRoomResultsProps {\n    game: HighScoreGame\n    roomId: string\n}\n\nexport const HighScoreRoomResults: React.FC<HighScoreRoomResultsProps> = ({ game, roomId }) => {\n    const t = useTranslate()\n    const dispatch = useDispatch()\n    const highScoreRoom = useSelector(state => getHighScoreRoom(state, roomId))\n\n    useTitle(highScoreRoom?.name)\n\n    useEffect(() => {\n        if (!highScoreRoom) {\n            dispatch(requestRooms())\n        }\n    }, [highScoreRoom, dispatch])\n\n    return (\n        <>\n            <DialogTitle>{t('highScoreRoom::label')}</DialogTitle>\n            <DialogContent>\n                <Grid>\n                    <Card>\n                        <LeaderboardCardContent>\n                            <HighScoreGameLeaderboard projectId={game.projectId} room={roomId} />\n                        </LeaderboardCardContent>\n                    </Card>\n                    <div>\n                        {!highScoreRoom ? (\n                            <Loader />\n                        ) : (\n                            <HighScoreRoomResultsInner game={game} roomId={roomId} highScoreRoom={highScoreRoom} />\n                        )}\n                    </div>\n                </Grid>\n            </DialogContent>\n        </>\n    )\n}\n\ninterface HighScoreRoomResultsInnerProps extends HighScoreRoomResultsProps {\n    highScoreRoom: HighScoreRoom\n}\n\nconst HighScoreRoomResultsInner: React.FC<HighScoreRoomResultsInnerProps> = ({ game, highScoreRoom }) => {\n    const [isFinished, setIsFinished] = useState(false)\n    const t = useTranslate()\n\n    const onEnd = useCallback(() => {\n        setIsFinished(true)\n    }, [])\n\n    return (\n        <Card>\n            <HighScoreGameThumbnailWithSecretCode\n                game={game}\n                isFinished={isFinished}\n                secretCode={highScoreRoom.secretCode}\n            />\n            <CardContent>\n                <Stack>\n                    <Text variant=\"h3\">\n                        <RoomName>{highScoreRoom.name}</RoomName> <GameTitle>({t(game.title)})</GameTitle>\n                    </Text>\n                    <HighScoreRoomCountdown date={highScoreRoom.expireAt} onEnd={onEnd} />\n                    {!isFinished && (\n                        <Button\n                            component={Link}\n                            replace\n                            to={`/app/high-score/${highScoreRoom.target}?room=${highScoreRoom.id}`}\n                        >\n                            {t('general::play')}\n                        </Button>\n                    )}\n                </Stack>\n            </CardContent>\n        </Card>\n    )\n}\n\ninterface HighScoreGameThumbnailWithSecretCodeProps {\n    game: HighScoreGame\n    isFinished: boolean\n    secretCode: string\n}\n\nconst HighScoreGameThumbnailWithSecretCode: React.FC<HighScoreGameThumbnailWithSecretCodeProps> = ({\n    game,\n    isFinished,\n    secretCode,\n}) => {\n    const t = useTranslate()\n\n    return (\n        <HighScoreGameThumbnailWithSecretCodeRoot>\n            {!isFinished && (\n                <HighScoreGameThumbnailWithSecretCodeOverlay $overlayColor={game.overlayColor ?? '#000'}>\n                    <div>\n                        <Text>{t('secretCode::label')}</Text>\n                        <SecretCode>{secretCode}</SecretCode>\n                    </div>\n                </HighScoreGameThumbnailWithSecretCodeOverlay>\n            )}\n            <StyledHighScoreGameThumbnail game={game} />\n        </HighScoreGameThumbnailWithSecretCodeRoot>\n    )\n}\n\nconst HighScoreGameThumbnailWithSecretCodeRoot = styled.div`\n    position: relative;\n`\n\nconst HighScoreGameThumbnailWithSecretCodeOverlay = styled.div<{ $overlayColor: string }>`\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    text-align: center;\n    padding-bottom: ${props => props.theme.spacing(2)};\n    background: ${props =>\n        `linear-gradient(to top, ${transparentize(0.15, props.$overlayColor)} 44%, ${transparentize(\n            1,\n            props.$overlayColor,\n        )})`};\n    color: white;\n`\n\nconst SecretCode = styled(Text)`\n    font-weight: 800;\n    font-size: 4rem;\n    line-height: 1;\n    letter-spacing: 4px;\n`\n\nconst StyledHighScoreGameThumbnail = styled(HighScoreGameThumbnail)`\n    display: block;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n`\n\nconst RoomName = styled.span`\n    word-break: break-word;\n`\n\nconst GameTitle = styled.span`\n    font-weight: 400;\n    color: ${props => props.theme.palette.text.disabled};\n`\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: ${props => props.theme.spacing(8)};\n    height: 100%;\n    ${props => props.theme.breakpoints.down('sm')} {\n        height: auto;\n        grid-template-columns: auto;\n    }\n`\n\nconst LeaderboardCardContent = styled(CardContent)`\n    overflow: auto;\n    height: 100%;\n    ${customScrollbar}\n`\n","import React from 'react'\nimport { CommunityProjectDetails, LimitedCommunityProjectDetails, ProjectModalBase } from 'features/projects'\nimport { LimitedProjectModalContent } from 'features/limited-accounts'\nimport { useHasGrant } from 'lib/grants'\n\nexport const LimitedCommunityProjectDetailsPage = () => {\n    const hasGrant = useHasGrant()\n    const canViewProject = hasGrant('limited-app.view-community-projects')\n\n    return (\n        <ProjectModalBase\n            embedOwnerInFileRequest={true}\n            projectVariant={project => {\n                if (project.file.shared) {\n                    return 'production'\n                }\n                return 'normal'\n            }}\n            isNotFound={() => false}\n            renderMainContent={canViewProject ? undefined : id => <LimitedProjectModalContent id={id} />}\n        >\n            {canViewProject ? <CommunityProjectDetails /> : <LimitedCommunityProjectDetails />}\n        </ProjectModalBase>\n    )\n}\n","import React from 'react'\nimport { ClassroomProjectDetails, CommunityProjectDetails, ProjectModalBase } from 'features/projects'\nimport { useProjectModalContext } from 'features/projects/modal/projectModalContext'\n\nexport const ProjectDetailsPage = () => {\n    return (\n        <ProjectModalBase\n            embedOwnerInFileRequest={true}\n            projectVariant={project => {\n                if (project.file.shared) {\n                    return 'production'\n                }\n                return 'normal'\n            }}\n            isNotFound={({ project, isOwnProject }) => {\n                if (!project || isOwnProject) {\n                    return false\n                }\n                return !(project.metadata.shareable && project.file.shared)\n            }}\n        >\n            <Details />\n        </ProjectModalBase>\n    )\n}\n\nconst Details: React.FC = () => {\n    const { isOwnProject, project } = useProjectModalContext()\n\n    if (isOwnProject === undefined || project === undefined) {\n        return null\n    }\n\n    return project.metadata.shareable ? <CommunityProjectDetails /> : <ClassroomProjectDetails />\n}\n","import { Dialog } from 'components/dialog'\nimport { useModal } from 'lib/router/modals/modalContext'\nimport React from 'react'\nimport { MiniQuizEditorSkeleton } from './MiniQuizEditorSkeleton'\n\nconst MiniQuizEditor = React.lazy(() => import('./MiniQuizEditor'))\n\nexport const MiniQuizEditorModal = () => {\n    const { closeModal } = useModal()\n\n    return (\n        <Dialog PaperProps={{ style: { height: '100%' } }} open fullWidth onClose={closeModal} maxWidth=\"md\">\n            <React.Suspense fallback={<MiniQuizEditorSkeleton />}>\n                <MiniQuizEditor close={closeModal} />\n            </React.Suspense>\n        </Dialog>\n    )\n}\n","import { DownloadIcon } from 'components/icons'\nimport { Stack } from 'components/layout'\nimport { Panel, PanelHeader, PanelTitle } from 'components/panel'\nimport { Text } from 'components/Text'\nimport { api } from 'lib/api'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { transparentize } from 'polished'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { Wallpaper } from '../types/wallpaperTypes'\n\ninterface WallpaperListProps {\n    title: string\n    wallpapers: Wallpaper[]\n    imageWidth: number\n    imageHeight: number\n}\n\nexport const WallpaperList: React.FC<WallpaperListProps> = ({ wallpapers, title, imageWidth, imageHeight }) => {\n    const t = useTranslate()\n\n    return (\n        <Panel>\n            <PanelHeader>\n                <PanelTitle>{title}</PanelTitle>\n            </PanelHeader>\n            <Grid>\n                {wallpapers.map(wallpaper => (\n                    <ImageLink\n                        key={wallpaper.id}\n                        href={wallpaper.image}\n                        download\n                        target=\"_blank\"\n                        onClick={() => {\n                            api.wallpapers.incrementWallpaperDownloadCount(wallpaper.id)\n                        }}\n                    >\n                        <Image width={imageWidth} height={imageHeight} src={wallpaper.image} alt=\"\" />\n                        <ImageOverlay spacing={1}>\n                            <DownloadIcon fontSize=\"1.5rem\" />\n                            <Text>{t('download')}</Text>\n                        </ImageOverlay>\n                    </ImageLink>\n                ))}\n            </Grid>\n        </Panel>\n    )\n}\n\nconst ImageOverlay = styled(Stack)`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    opacity: 0;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    color: ${props => props.theme.palette.primary.contrastText};\n    background-color: ${props => transparentize(0.2, props.theme.palette.primary.main)};\n    transition: ${props => props.theme.transitions.duration.standard}ms;\n    p {\n        font-weight: 600;\n    }\n`\n\nconst ImageLink = styled.a`\n    display: block;\n    position: relative;\n    overflow: hidden;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    &:hover,\n    &:focus-visible {\n        ${ImageOverlay} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Image = styled.img`\n    max-width: 100%;\n    height: auto;\n    display: block;\n    background-color: ${props => props.theme.palette.divider};\n`\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(15rem, 1fr));\n    gap: ${props => props.theme.spacing(6)};\n\n    ${props => props.theme.breakpoints.down('sm')} {\n        grid-template-columns: repeat(2, 1fr);\n    }\n`\n","import ShareProjectPage from 'pages/share-project'\nimport HighScorePage from 'pages/high-score'\nimport HighScoreRoomResultsPage from 'pages/high-score-room-results'\nimport { ClassroomQuizIframe, SelfHostQuizIframe, GeneratedQuizIframe, HostQuizIframe } from 'features/quiz'\nimport { XmasProjectDetailsPage } from 'features/xmas-projects'\nimport React from 'react'\nimport { LimitedCommunityProjectDetailsPage } from 'pages/community-project-details'\nimport { AppVariantRecord } from 'lib/app-variant'\nimport { ProjectDetailsPage } from 'pages/project-details/ProjectDetailsPage'\nimport { OnlinefirstChallengeDialog } from 'features/online-first-challenge'\nimport { MiniQuizEditorModal } from 'features/mini-quizzes/editor/components/MiniQuizEditorModal'\nimport { LongformDialog } from 'features/feed/components/LongformDialog'\nimport { WallpapersDialog } from 'features/wallpapers/components/WallpapersDialog'\n\ninterface ModalRoute {\n    path: string\n    Component: React.FC | AppVariantRecord<React.FC>\n}\n\nexport const modalRoutes: ModalRoute[] = [\n    {\n        path: '/app/project/:id',\n        Component: {\n            normal: ProjectDetailsPage,\n            'open-day': LimitedCommunityProjectDetailsPage,\n            guest: LimitedCommunityProjectDetailsPage,\n        },\n    },\n    { path: '/app/high-score/:id', Component: HighScorePage },\n    { path: '/app/high-score-room-results/:id/:roomId', Component: HighScoreRoomResultsPage },\n    { path: '/app/share-project/:id', Component: ShareProjectPage },\n    { path: '/app/quiz/:id', Component: SelfHostQuizIframe },\n    { path: '/app/classroom-quiz/:id', Component: ClassroomQuizIframe },\n    { path: '/app/quiz-mania/:id', Component: GeneratedQuizIframe },\n    { path: '/app/host-quiz/:id', Component: HostQuizIframe },\n    { path: '/app/xmas-game/:id', Component: XmasProjectDetailsPage },\n    { path: '/app/coding-challenge/:setId/:id', Component: OnlinefirstChallengeDialog },\n    { path: '/app/quiz-editor/:id', Component: MiniQuizEditorModal },\n    { path: '/app/post/:id', Component: LongformDialog },\n    { path: '/app/wallpapers', Component: WallpapersDialog },\n]\n","import React from 'react'\nimport { Dialog } from 'components/dialog'\nimport { useModal } from 'lib/router/modals/modalContext'\nimport { Redirect, useParams } from 'react-router-dom'\n\nimport { highScoreGames } from 'features/high-score/highScoreGames'\nimport { HighScoreRoomResults } from 'features/high-score/HighScoreRoomResults'\n\nexport const HighScoreRoomResultsPage = () => {\n    const { closeModal } = useModal()\n    const { id, roomId } = useParams<{ id: string; roomId: string }>()\n    const game = highScoreGames.find(game => game.projectId === id)\n\n    if (!game) {\n        return <Redirect to=\"/app\" />\n    }\n\n    return (\n        <Dialog\n            maxWidth=\"md\"\n            fullWidth\n            PaperProps={{ style: { height: '100%' } }}\n            open={true}\n            onClose={() => {\n                closeModal()\n            }}\n        >\n            <HighScoreRoomResults game={game} roomId={roomId} />\n        </Dialog>\n    )\n}\n","import { ProjectShare } from 'features/projects'\nimport { ProjectModalBase } from 'features/projects'\nimport React from 'react'\n\nexport const ShareProjectPage = () => {\n    return (\n        <ProjectModalBase\n            projectVariant=\"normal\"\n            asideWidth=\"600px\"\n            isNotFound={({ project, isOwnProject }) => {\n                if (project) {\n                    if (!isOwnProject) {\n                        return true\n                    }\n                    return !project.metadata.shareable\n                }\n                return false\n            }}\n        >\n            <ProjectShare />\n        </ProjectModalBase>\n    )\n}\n","import React from 'react'\nimport { Dialog, DialogContent, DialogTitle } from 'components/dialog'\nimport { useSelector } from 'lib/store'\nimport { TextBody } from 'components/layout/TextBody'\nimport { NBSP } from 'utils/styleUtils'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useFeedEntryQuery } from '../useFeed'\nimport { Loader } from 'components/Loader'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { useModal } from 'lib/router/modals/modalContext'\nimport { useParams } from 'react-router-dom'\nimport { getFeedEntryById } from '../store/feedSelectors'\n\nexport const LongformDialog: React.FC = () => {\n    const { id } = useParams<{ id: string }>()\n\n    const entryFromRedux = useSelector(state => getFeedEntryById(state, id))\n\n    const t = useTranslate()\n    const { data: entryFromQuery, status } = useFeedEntryQuery(id, !entryFromRedux)\n    const { closeModal } = useModal()\n\n    const entry = entryFromRedux ?? entryFromQuery\n\n    const body = (() => {\n        if (status === 'error') {\n            return (\n                <>\n                    <DialogTitle>{NBSP}</DialogTitle>\n                    <DialogContent>\n                        <ErrorMessage />\n                    </DialogContent>\n                </>\n            )\n        }\n\n        if (!entry) {\n            return (\n                <>\n                    <DialogTitle>{NBSP}</DialogTitle>\n                    <DialogContent>\n                        <Loader />\n                    </DialogContent>\n                </>\n            )\n        }\n\n        if (entry?.action?.actionType !== 'longform') {\n            return (\n                <>\n                    <DialogTitle>{NBSP}</DialogTitle>\n                    <DialogContent>\n                        <ErrorMessage />\n                    </DialogContent>\n                </>\n            )\n        }\n\n        return (\n            <>\n                <DialogTitle>{entry.title ? t(entry.title) : NBSP}</DialogTitle>\n                <DialogContent>\n                    {entry.action.details && <TextBody dangerouslySetInnerHTML={{ __html: entry.action?.details }} />}\n                </DialogContent>\n            </>\n        )\n    })()\n\n    return (\n        <Dialog fullWidth maxWidth=\"md\" open={true} PaperProps={{ style: { height: '100%' } }} onClose={closeModal}>\n            {body}\n        </Dialog>\n    )\n}\n","import { Dialog, DialogContent, DialogLoader, DialogTitle } from 'components/dialog'\nimport { Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useModal } from 'lib/router/modals/modalContext'\nimport React from 'react'\nimport { useWallpapersQuery } from '../data/wallpaperQueries'\nimport { WallpaperList } from './WallpaperList'\n\nexport const WallpapersDialog: React.FC = () => {\n    const { data: wallpapers } = useWallpapersQuery()\n    const t = useTranslate()\n    const { closeModal } = useModal()\n\n    return (\n        <Dialog open onClose={closeModal} maxWidth=\"lg\" fullWidth fullHeight>\n            <DialogTitle>{t('newbieMissionCourse::backgroundimages::title')}</DialogTitle>\n            <DialogContent>\n                {wallpapers ? (\n                    <Stack spacing={8}>\n                        <Text>{t('newbieMissionCourse::backgroundimages::description')}</Text>\n                        <Stack spacing={8}>\n                            <WallpaperList\n                                title={t('newbieMissionCourse::backgroundimages::Desktopwallpapers')}\n                                wallpapers={wallpapers.desktop}\n                                imageWidth={1920}\n                                imageHeight={1080}\n                            />\n                            <WallpaperList\n                                title={t('newbieMissionCourse::backgroundimages::Mobilewallpapers')}\n                                wallpapers={wallpapers.mobile}\n                                imageWidth={415}\n                                imageHeight={897}\n                            />\n                        </Stack>\n                    </Stack>\n                ) : (\n                    <DialogLoader />\n                )}\n            </DialogContent>\n        </Dialog>\n    )\n}\n","import { api } from 'lib/api'\nimport { useQuery } from 'react-query'\nimport { Wallpaper, WallpaperKind } from '../types/wallpaperTypes'\n\nexport const useWallpapersQuery = () => {\n    return useQuery(\n        'wallpapers',\n        async () => {\n            const wallpapers = await api.wallpapers.getWallpapers()\n            const wallpapersByKind = wallpapers.data.reduce<Record<WallpaperKind, Wallpaper[]>>(\n                (acc, curr) => {\n                    acc[curr.kind].push(curr)\n                    return acc\n                },\n                { desktop: [], mobile: [] },\n            )\n            return wallpapersByKind\n        },\n        { staleTime: Infinity },\n    )\n}\n","export default __webpack_public_path__ + \"static/media/survey-icon.fced3291.svg\";","import { Button } from 'components/Button'\nimport { Card, CardContent } from 'components/card'\nimport { Box, Inline, Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { Loader } from 'components/Loader'\nimport { ForwardIcon } from 'components/icons'\nimport { PoorMansSuspenseTicker, usePoorMansSuspenseTick } from 'hooks/usePoorMansSuspense'\nimport { api } from 'lib/api'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { useQuery } from 'react-query'\nimport styled, { css } from 'styled-components/macro'\nimport { useDateFormat } from 'hooks/useDateFormat'\nimport { darken } from 'polished'\nimport { NBSP } from 'utils/styleUtils'\nimport surveyImage from '../media/survey-icon.svg'\nimport { useUserState, isTrainerUser } from 'contexts/UserContext'\nimport { useColumnHighlightWidth } from 'lib/store/pageReducer'\n\ninterface SurveyListProps extends PoorMansSuspenseTicker {}\n\nexport const SurveyList: React.FC<SurveyListProps> = ({ onReady }) => {\n    const t = useTranslate()\n    const { formatDate } = useDateFormat('short')\n    const user = useUserState()\n    const isTrainer = isTrainerUser(user)\n\n    const { data: surveys, status } = useQuery('surveys', () => api.surveys.getUserSurveys(), {\n        staleTime: 5 * 60 * 1000,\n        refetchOnWindowFocus: 'always',\n    })\n    usePoorMansSuspenseTick(status !== 'loading', onReady)\n\n    const maxWidth = useColumnHighlightWidth()\n\n    if (status === 'error') {\n        return null\n    }\n\n    if (!surveys) {\n        return <Loader />\n    }\n\n    if (surveys.length === 0) {\n        return null\n    }\n\n    const hasOnlyOneSurvey = surveys.length === 1\n\n    return (\n        <Box maxWidth={maxWidth} marginLeft=\"auto\" marginRight=\"auto\">\n            <StyledCard>\n                <CardContent>\n                    <Grid spacing={hasOnlyOneSurvey ? 0 : 4} $hasOnlyOneSurvey={hasOnlyOneSurvey}>\n                        <Inner spacing={5}>\n                            <Image src={surveyImage}></Image>\n                            <Label>\n                                {t(\n                                    isTrainer\n                                        ? 'survey::surveysTodayDescription'\n                                        : 'survey::surveysTodayDescriptionStudent2',\n                                )}\n                            </Label>\n                        </Inner>\n                        <ButtonGrid $hasOnlyOneSurvey={hasOnlyOneSurvey}>\n                            {surveys.map(({ groupName, url, subjectName, startDate, endDate }) => (\n                                <StyledButton\n                                    key={url}\n                                    component=\"a\"\n                                    fullWidth\n                                    href={url}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                    endIcon={<ForwardIcon />}\n                                >\n                                    {t(isTrainer ? 'survey::openDetailedDates' : 'survey::openStudentType', {\n                                        groupName,\n                                        startDate: formatDate(new Date(startDate)).replaceAll(' ', NBSP),\n                                        endDate: formatDate(new Date(endDate)).replaceAll(' ', NBSP),\n                                        subject: t(subjectName),\n                                        interpolation: { escapeValue: false },\n                                    })}\n                                </StyledButton>\n                            ))}\n                        </ButtonGrid>\n                    </Grid>\n                </CardContent>\n            </StyledCard>\n        </Box>\n    )\n}\n\nconst StyledCard = styled(Card)`\n    overflow: visible;\n    position: relative;\n    color: ${props => props.theme.palette.primary.contrastText};\n    background: linear-gradient(\n        45deg,\n        ${props => props.theme.palette.primary.main},\n        ${props => darken(0.15, props.theme.palette.primary.main)}\n    );\n`\n\nconst Grid = styled(Stack)<{ $hasOnlyOneSurvey: boolean }>`\n    ${props =>\n        props.$hasOnlyOneSurvey &&\n        css`\n            display: grid;\n            grid-template-columns: 1fr 14rem;\n            align-items: center;\n            grid-gap: ${props.theme.spacing(4)};\n            ${props.theme.breakpoints.down('sm')} {\n                grid-template-columns: auto;\n            }\n        `}\n`\n\nconst ButtonGrid = styled.div<{ $hasOnlyOneSurvey: boolean }>`\n    ${props =>\n        !props.$hasOnlyOneSurvey &&\n        css`\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            grid-gap: ${props.theme.spacing(4)};\n            ${props.theme.breakpoints.down('sm')} {\n                grid-template-columns: auto;\n            }\n        `}\n`\n\nconst StyledButton = styled(Button)`\n    background: #fff;\n    color: #000;\n    text-align: center;\n    line-height: 1.5;\n    &:hover,\n    &:focus-visible {\n        background: #fff;\n        filter: brightness(0.9);\n    }\n` as typeof Button\n\nconst Image = styled.img`\n    position: relative;\n    left: -1.65rem;\n    top: -1.75rem;\n    width: 5.75rem;\n    margin-right: -1.65rem;\n    margin-bottom: -1.75rem;\n    flex-shrink: 0;\n    filter: drop-shadow(2px 4px 2px rgba(0, 0, 0, 0.1));\n    ${props => props.theme.breakpoints.down('xs')} {\n        width: 5rem;\n        left: -1.5rem;\n        margin-right: -1.5rem;\n    }\n`\n\nconst Label = styled(Text)`\n    font-weight: 600;\n`\n\nconst Inner = styled(Inline)`\n    display: flex;\n    align-items: flex-start;\n    align-self: flex-start;\n`\n","import { ApiBase } from 'lib/api/ApiBase'\nimport { Survey } from '../types/SurveyTypes'\nimport { getSubjectNameKey } from '../../certificates/certificateHelpers'\n\nexport class SurveysApi extends ApiBase {\n    getUserSurveys = async () => {\n        const res = await this.client.get<Survey[]>('/accounts/my-surveys-v2')\n\n        const surveys = res.data.map((survey: Survey) => {\n            survey.subjectName = this.getSurveySubjectTranslation(survey.subject_key)\n            return survey\n        })\n        return surveys\n    }\n\n    getSurveySubjectTranslation = (subjectKey: string = '') => {\n        const key = getSubjectNameKey(subjectKey)\n        return key ? `certificate::${key}::name` : ''\n    }\n}\n","import { UserState } from 'contexts/UserContext'\n\nconst data: Record<string, { secretCode: string; projectId: string }> = {\n    'en-US': { secretCode: 'XMASUS', projectId: '5fd347fd0e706e0008d4c2f0' },\n    'hu-HU': { secretCode: 'XMASHU', projectId: '5fd34ede41a27f000938d842' },\n    'ro-RO': { secretCode: 'XMASRO', projectId: '5fd34eef41a27f000938d845' },\n    'cs-CZ': { secretCode: 'XMASCZ', projectId: '5fd34f460e706e0008d4c366' },\n    'de-DE': { secretCode: 'XMASDE', projectId: '5fd34f5541a27f000938d84f' },\n    'de-CH': { secretCode: 'XMASCH', projectId: '5fd34f640e706e0008d4c368' },\n    'es-ES': { secretCode: 'XMASES', projectId: '5fd34f720e706e0008d4c36d' },\n    'es-MX': { secretCode: 'XMASMX', projectId: '5fd34f7c41a27f000938d853' },\n    'es-CO': { secretCode: 'XMASES', projectId: '5fd34f720e706e0008d4c36d' },\n    'fr-BE': { secretCode: 'XMASBE', projectId: '5fd34fbf0e706e0008d4c37c' },\n    'fr-CA': { secretCode: 'XMASBE', projectId: '5fd34fbf0e706e0008d4c37c' },\n    'fr-CH': { secretCode: 'XMASBE', projectId: '5fd34fbf0e706e0008d4c37c' },\n    'fr-FR': { secretCode: 'XMASBE', projectId: '5fd34fbf0e706e0008d4c37c' },\n    'en-IN': { secretCode: 'XMASIN', projectId: '5fd34f9c0e706e0008d4c376' },\n    'bg-BG': { secretCode: 'XMASBG', projectId: '5fd34fb441a27f000938d857' },\n    'sk-SK': { secretCode: 'XMASSK', projectId: '5fd34f880e706e0008d4c370' },\n    'zh-TW': { secretCode: 'XMASTW', projectId: '5fd38e0b0e706e0008d4f202' },\n    'nl-BE': { secretCode: 'XMASNL', projectId: '61c1a56c96c1558ea7287fc6' },\n    'vi-VN': { secretCode: 'XMASVN', projectId: '61c1a8a5289ead043ac73767' },\n}\n\nexport const isValidXmasProjectId = (id: string) => {\n    return !!Object.entries(data).find(([_, value]) => value.projectId === id)\n}\n\nexport const getXmasProjectSecretCode = ({ i18n }: UserState) => {\n    return data[i18n.locale]?.secretCode ?? data['en-US'].secretCode\n}\n\nexport const getXmasProjectId = ({ i18n }: UserState) => {\n    return data[i18n.locale]?.projectId ?? data['en-US'].projectId\n}\n","import { Button } from 'components/Button'\nimport { Stack } from 'components/layout'\nimport { useUserState, canUserCreateProject } from 'contexts/UserContext'\nimport { useNotifications } from 'features/notifications'\nimport { ProjectModalDescription } from 'features/projects'\nimport { useProjectModalContext } from 'features/projects/modal/projectModalContext'\nimport { useProcessSecretCodeRedeemResponse } from 'features/secret-code'\nimport { api } from 'lib/api'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React, { useState } from 'react'\nimport { isValidXmasProjectId, getXmasProjectSecretCode } from '../data/xmasData'\n\nexport const XmasProjectDetails: React.FC = () => {\n    const processSecretCodeRedeemResponse = useProcessSecretCodeRedeemResponse()\n    const t = useTranslate()\n    const user = useUserState()\n    const { id } = useProjectModalContext()\n    const [isLoading, setIsLoading] = useState(false)\n    const { notify } = useNotifications()\n\n    if (!isValidXmasProjectId(id)) {\n        return null\n    }\n\n    const unlockProject = async () => {\n        if (!isLoading) {\n            try {\n                setIsLoading(true)\n                const { data } = await api.secretCodes.redeem(getXmasProjectSecretCode(user))\n                if (data.success) {\n                    processSecretCodeRedeemResponse(data, () => {})\n                } else {\n                    throw new Error()\n                }\n            } catch (e) {\n                notify(t('error::somethingWentWrong'), { variant: 'error' })\n                console.error(e)\n            } finally {\n                setIsLoading(false)\n            }\n        }\n    }\n\n    if (!canUserCreateProject(user)) {\n        return <ProjectModalDescription>{t('XmasGiftBanner::QuizProject::description')}</ProjectModalDescription>\n    }\n\n    return (\n        <Stack>\n            <ProjectModalDescription>{t('XmasGiftBanner::QuizProject::description')}</ProjectModalDescription>\n            <ProjectModalDescription>{t('XmasGiftBanner::QuizProject::description02')}</ProjectModalDescription>\n            <Button isLoading={isLoading} onClick={unlockProject}>\n                {t('Xmas2021::PersonalizeQuizProject::button')}\n            </Button>\n        </Stack>\n    )\n}\n","import React from 'react'\nimport { ProjectModalBase, ProjectModalContent, ProjectModalHeader } from 'features/projects'\nimport { Text } from 'components/Text'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { isValidXmasProjectId } from '../data/xmasData'\nimport { XmasProjectDetails } from './XmasProjectDetails'\n\nexport const XmasProjectDetailsPage = () => {\n    const t = useTranslate()\n\n    return (\n        <ProjectModalBase projectVariant=\"normal\" isNotFound={({ id }) => !isValidXmasProjectId(id)}>\n            <ProjectModalHeader>\n                <Text variant=\"h3\">{t('XmasGiftBanner::QuizProject::title')}</Text>\n            </ProjectModalHeader>\n            <ProjectModalContent>\n                <XmasProjectDetails />\n            </ProjectModalContent>\n        </ProjectModalBase>\n    )\n}\n","import { motion, Variants } from 'framer-motion'\nimport React, { createContext, useContext, useCallback, useState } from 'react'\nimport styled from 'styled-components/macro'\n\ninterface FloatingTextState {\n    showFloatingText: (data: { label: string; x: number; y: number; color: string }) => void\n}\n\ninterface FloatingText {\n    id: string\n    label: string\n    color: string\n    x: number\n    y: number\n}\n\nconst FloatingTextContext = createContext<FloatingTextState | undefined>(undefined)\n\nexport const FloatingTextProvider: React.FC = ({ children }) => {\n    const [texts, setTexts] = useState<FloatingText[]>([])\n\n    const showFloatingText: FloatingTextState['showFloatingText'] = useCallback(({ label, x, y, color }) => {\n        setTexts(texts => [...texts, { id: Math.random().toString(16).slice(2), label, x, y, color }])\n    }, [])\n\n    return (\n        <FloatingTextContext.Provider value={{ showFloatingText }}>\n            {children}\n            {texts.map((text, i) => (\n                <Text\n                    key={text.id}\n                    style={{\n                        left: text.x,\n                        top: text.y,\n                    }}\n                    $color={text.color}\n                    variants={animationVariants}\n                    initial=\"start\"\n                    animate=\"end\"\n                    transition={{ default: { duration: 1.25 }, opacity: { duration: 1.05, delay: 0.2 } }}\n                    onAnimationComplete={() => {\n                        setTexts(texts => texts.filter(({ id }) => text.id !== id))\n                    }}\n                >\n                    {text.label}\n                </Text>\n            ))}\n        </FloatingTextContext.Provider>\n    )\n}\n\nconst animationVariants: Variants = {\n    start: { opacity: 0, y: 5 },\n    end: { opacity: [1, 0], y: -45 },\n}\n\nconst Text = styled(motion.div)<{ $color: string }>`\n    position: fixed;\n    z-index: 1000000;\n    font-size: 1rem;\n    font-weight: 600;\n    color: ${props => props.$color};\n`\n\nexport const useFloatingText = () => {\n    const context = useContext(FloatingTextContext)\n\n    if (context === undefined) {\n        throw new Error(`'useFloatingText' must be used within 'FloatingTextProvider'`)\n    }\n\n    return context\n}\n","import React from 'react'\nimport { Project } from 'features/projects'\nimport { CookieCount } from 'features/projects/CookieCount'\nimport { Badge } from 'components/Badge'\n\ninterface MiniQuizCardCookieCountProps {\n    project: Project\n}\n\nexport const MiniQuizCardCookieCount: React.FC<MiniQuizCardCookieCountProps> = ({ project }) => {\n    return (\n        <Badge>\n            <CookieCount\n                count={project.file.cookieCount ?? 0}\n                cookied={project.metadata.cookied}\n                goldenCount={project.file.goldenCookieCount ?? 0}\n                goldenCookied={project.metadata.goldenCookied}\n            />\n        </Badge>\n    )\n}\n","import { Inline } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { Project } from 'features/projects'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { MiniQuizCardCookieCount } from './MiniQuizCardCookieCount'\n\ninterface MiniQuizCardMetadataProps {\n    project: Project\n    variant: 'normal' | 'production'\n}\n\nexport const MiniQuizCardMetadata: React.FC<MiniQuizCardMetadataProps> = ({ project, variant }) => {\n    const t = useTranslate()\n\n    return (\n        <Root>\n            <Text>{t('general::nQuestions', { count: project.metadata.numberOfQuestions?.[variant] ?? 0 })}</Text>\n            {project.file.shared && <MiniQuizCardCookieCount project={project} />}\n        </Root>\n    )\n}\n\nconst Root = styled(Inline)`\n    display: flex;\n    align-items: center;\n`\n","import React from 'react'\nimport { ErrorMessage } from './ErrorMessage'\n//import * as Sentry from '@sentry/react'\n\ninterface Props {\n    silent?: boolean\n    fallback?: React.ReactElement\n    onError?: () => void\n}\n\ninterface State {\n    hasError: boolean\n}\n\nexport class ErrorBoundary extends React.Component<Props, State> {\n    constructor(props: any) {\n        super(props)\n        this.state = { hasError: false }\n    }\n\n    static getDerivedStateFromError() {\n        return { hasError: true }\n    }\n\n    componentDidCatch(error: any, errorInfo: any) {\n        //Sentry.captureException(error)\n        console.error(error, errorInfo)\n        this.props.onError?.()\n\n        if (error.name === 'ChunkLoadError') {\n            window.location.reload()\n        }\n    }\n\n    render() {\n        if (this.state.hasError) {\n            if (this.props.silent) {\n                return null\n            }\n\n            return this.props.fallback ?? <ErrorMessage />\n        }\n\n        return this.props.children || null\n    }\n}\n","import React from 'react'\nimport { Alert } from '@material-ui/lab'\nimport { WarningIcon } from 'components/icons'\nimport { useTranslate } from 'lib/i18n/useTranslate'\n\ninterface ErrorMessageProps {}\n\nexport const ErrorMessage: React.FC<ErrorMessageProps> = ({ children }) => {\n    const t = useTranslate()\n\n    return (\n        <Alert icon={<WarningIcon />} severity=\"error\">\n            {children ?? t('error::somethingWentWrong')}\n        </Alert>\n    )\n}\n","import { Stack } from 'components/layout'\nimport React from 'react'\n\nexport const Panel: React.FC = ({ children }) => {\n    return <Stack spacing={4}>{children}</Stack>\n}\n","import { Inline } from 'components/layout'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nexport const PanelActions: React.FC = ({ children }) => {\n    return <StyledInline spacing={2}>{children}</StyledInline>\n}\n\nconst StyledInline = styled(Inline)`\n    margin-inline-start: ${props => props.theme.spacing(2)};\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface PanelHeaderProps {\n    id?: string\n}\n\nexport const PanelHeader: React.FC<PanelHeaderProps> = ({ children, ...rest }) => {\n    return <Root {...rest}>{children}</Root>\n}\n\nconst Root = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    ${props => props.theme.breakpoints.down('sm')} {\n        align-items: center;\n    }\n`\n","import { Text } from 'components/Text'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nexport const PanelTitle: React.FC = ({ children }) => {\n    return (\n        <Root variant=\"h3\" component=\"h2\">\n            {children}\n        </Root>\n    )\n}\n\nconst Root = styled(Text)`\n    text-transform: uppercase;\n    line-height: 1.2;\n` as typeof Text\n","import { Button } from 'components/Button'\nimport { RightAngleIcon } from 'components/icons'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { useIncrementActivityScore } from '../../hooks/useIncrementActivityScore'\n\ninterface PanelMoreButtonProps {\n    to: string\n    activity?: string\n}\n\nexport const PanelMoreButton: React.FC<PanelMoreButtonProps> = ({ to, activity, children }) => {\n    const incrementActivityScore = useIncrementActivityScore()\n    return (\n        <StyledButton\n            endIcon={<RightAngleIcon />}\n            component={Link}\n            to={to}\n            color=\"primary\"\n            variant=\"outlined\"\n            onClick={() => {\n                if (activity) incrementActivityScore(activity)\n                return true\n            }}\n        >\n            {children}\n        </StyledButton>\n    )\n}\n\nconst StyledButton = styled(Button)`\n    text-align: right;\n    line-height: 1.3;\n` as typeof Button\n","import { UserStage, UserSubStage } from 'lib/api'\nimport { allGrants, Grant } from '..'\n\nexport type userPreSets = {\n    title: string\n    neededGrants?: Grant[]\n    userStage?: UserStage\n    userSubStage?: UserSubStage\n}\n\nconst guestGrants: Grant[] = [\n    { product: 'edup.quiz', feature: 'login' },\n    { product: 'edup.universe', feature: 'content.certificates' },\n    { product: 'edup.universe', feature: 'content.onboarding-event' },\n    { product: 'edup', feature: 'change-ui-language' },\n]\n\nexport const preDefinedUserSchemas: userPreSets[] = [\n    {\n        title: 'Guest',\n        userStage: 'lead',\n        neededGrants: guestGrants,\n    },\n    {\n        title: 'Registered Guest',\n        userStage: 'registered-lead',\n        neededGrants: guestGrants,\n    },\n    {\n        title: 'Guest with unlocked content',\n        userStage: 'lead',\n        neededGrants: [{ product: 'edup.universe', feature: 'content.challenges.onboarding-points' }, ...guestGrants],\n    },\n    {\n        title: 'Open day applicant',\n        userStage: 'user',\n        userSubStage: 'open-day',\n        neededGrants: [{ product: 'edup.universe', feature: 'content.challenges.onboarding-points' }, ...guestGrants],\n    },\n    {\n        title: 'Open day participant',\n        userStage: 'user',\n        userSubStage: 'open-day',\n        neededGrants: [\n            { product: 'edup.universe', feature: 'content.challenges.onboarding-points' },\n            { product: 'edup.universe', feature: 'content.challenges.open-day-participation' },\n            { product: 'edup.universe', feature: 'limited-app.latest-challenges' },\n            { product: 'edup.universe', feature: 'limited-app.view-community-projects' },\n            { product: 'edup.universe', feature: 'follow-users' },\n            ...guestGrants,\n        ],\n    },\n    {\n        title: 'Normal user',\n        userStage: 'user',\n        neededGrants: [\n            { product: 'edup.scoolcode.ide', feature: 'create-project.blox' },\n            { product: 'edup.universe', feature: 'share-project' },\n            { product: 'edup.universe', feature: 'content.digital-mission' },\n            { product: 'edup.universe', feature: 'content.certificates' },\n            { product: 'edup.universe', feature: 'content.onboarding-event' },\n            { product: 'edup.universe', feature: 'content.challenges.onboarding-points' },\n            { product: 'edup.universe', feature: 'content.challenges.open-day-participation' },\n            { product: 'edup.quiz', feature: 'login' },\n            { product: 'edup', feature: 'change-ui-language' },\n            { product: 'edup.universe', feature: 'follow-users' },\n        ],\n    },\n    {\n        title: 'License user',\n        userStage: 'user',\n        neededGrants: [\n            { product: 'edup.scoolcode.ide', feature: 'create-project.blox' },\n            { product: 'edup.universe', feature: 'share-project' },\n            { product: 'edup.universe', feature: 'share-project-user-consent' },\n            { product: 'edup.universe', feature: 'content.digital-mission' },\n            { product: 'edup.universe', feature: 'content.certificates' },\n            { product: 'edup.universe', feature: 'content.onboarding-event' },\n            { product: 'edup.universe', feature: 'content.challenges.onboarding-points' },\n            { product: 'edup.universe', feature: 'content.challenges.open-day-participation' },\n            { product: 'edup.quiz', feature: 'login' },\n            { product: 'edup', feature: 'change-ui-language' },\n            { product: 'edup.universe', feature: 'follow-users' },\n        ],\n    },\n    // {\n    //     title: 'Trainer User',\n    //     neededGrants: [\n    //         { product: 'edup.universe', feature: 'share-project' },\n    //         { product: 'edup.universe', feature: 'content.digital-mission' },\n    //         { product: 'edup.universe', feature: 'content.certificates' },\n    //         { product: 'edup.universe', feature: 'content.trainer-contest-nomination' },\n    //         { product: 'edup.universe', feature: 'content.onboarding-event' },\n    //         { product: 'edup.universe', feature: 'view-community-projects' },\n    //         { product: 'edup.universe', feature: 'view-recommended-projects' },\n    //         // wait for feature release\n    //         // { product: 'edup.universe', feature: 'create-high-score-room' },\n    //         // { product: 'edup.universe', feature: 'join-high-score-room' },\n    //         { product: 'edup.quiz', feature: 'login' },\n    //         { product: 'edup.universe', feature: 'change-bio-without-approval' },\n    //         { product: 'edup.scoolcode.ide', feature: 'create-project.blox' },\n    //         { product: 'edup.scoolcode.ide', feature: 'create-project.mix' },\n    //         { product: 'edup.scoolcode.ide', feature: 'offboarding.mix' },\n    //         { product: 'edup.scoolcode.ide', feature: 'reset-challenge-set' },\n    //         { product: 'edup', feature: 'change-ui-language' },\n    //         { product: 'edup', feature: 'change-email' },\n    //     ],\n    // },\n    // {\n    //     title: 'Translator User',\n    //     neededGrants: [\n    //         { product: 'edup.universe', feature: 'share-project' },\n    //         { product: 'edup.universe', feature: 'content.digital-mission' },\n    //         { product: 'edup.universe', feature: 'content.certificates' },\n    //         { product: 'edup.universe', feature: 'content.trainer-contest-nomination' },\n    //         { product: 'edup.universe', feature: 'content.onboarding-event' },\n    //         { product: 'edup.universe', feature: 'view-community-projects' },\n    //         { product: 'edup.universe', feature: 'view-recommended-projects' },\n    //         // wait for feature release\n    //         // { product: 'edup.universe', feature: 'create-high-score-room' },\n    //         // { product: 'edup.universe', feature: 'join-high-score-room' },\n    //         { product: 'edup.quiz', feature: 'login' },\n    //         { product: 'edup.universe', feature: 'change-bio-without-approval' },\n    //         { product: 'edup.scoolcode.ide', feature: 'create-project.blox' },\n    //         { product: 'edup.scoolcode.ide', feature: 'create-project.mix' },\n    //         { product: 'edup.scoolcode.ide', feature: 'offboarding.mix' },\n    //         { product: 'edup.scoolcode.ide', feature: 'reset-challenge-set' },\n    //         { product: 'edup', feature: 'change-ui-language' },\n    //         { product: 'edup', feature: 'all-languages' },\n    //         { product: 'edup', feature: 'change-email' },\n    //         { product: 'edup', feature: 'change-default-school' },\n    //     ],\n    // },\n    {\n        title: 'All Grants',\n        userStage: 'user',\n        neededGrants: [...allGrants],\n    },\n]\n","import * as React from 'react'\nimport ReactDOM from 'react-dom'\nimport { nameStyles } from '../PdfTemplates'\nimport '../certificates.css'\nimport { api } from 'lib/api'\n\ninterface PdfTemplateProps {\n    school?: string\n    finishedAt: string\n    name: string\n    locale: string\n    id: string\n    translations: {\n        section_first?: string\n        section_second?: string\n        blurb?: string\n    }\n    year?: number\n}\n\nexport const PdfTemplateDrawingContestScoolRound: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateDrawingContest variant=\"drawingContest2020School\" {...props} />\n}\n\nexport const PdfTemplateDrawingContestNational: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateDrawingContest variant=\"drawingContest2020National\" {...props} />\n}\n\nexport const PdfTemplateDrawingContestInternationalParticipant: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateDrawingContest variant=\"drawingContest2020InternationalParticipant\" {...props} />\n}\n\nexport const PdfTemplateDrawingContestInternationalJuniorDesigner: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateDrawingContest variant=\"drawingContest2020International\" {...props} />\n}\n\nexport const PdfTemplateDrawingContest2021Base: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateDrawingContest variant=\"drawingContest2021\" {...props} />\n}\n\nexport const PdfTemplateDrawingContest2022: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateDrawingContest variant=\"drawingContest2022\" {...props} />\n}\n\nexport const PdfTemplateDrawingContest2023: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateDrawingContest year={2023} variant=\"drawingContest2023\" {...props} />\n}\n\nexport const PdfTemplateDrawingContest2024: React.FC<PdfTemplateProps> = props => {\n    return <PdfTemplateDrawingContest year={2024} variant=\"drawingContest2024\" {...props} />\n}\n\n\nexport const PdfTemplateDrawingContest: React.FC<\n    PdfTemplateProps & {\n        variant:\n            | 'drawingContest2020School'\n            | 'drawingContest2020National'\n            | 'drawingContest2020InternationalParticipant'\n            | 'drawingContest2020International'\n            | 'drawingContest2021'\n            | 'drawingContest2022'\n            | 'drawingContest2023'\n            | 'drawingContest2024'\n    }\n> = ({ translations: translationsRaw, year, finishedAt, variant, name, locale, id }) => {\n    const translations = year ? {\n        section_first: (translationsRaw.section_first || '').replace('$YEAR$', ''+year).replace('$NEXT_YEAR$', ''+(year+1)),\n        section_second: (translationsRaw.section_second || '').replace('$YEAR$', ''+year).replace('$NEXT_YEAR$', ''+(year+1)),\n        blurb: (translationsRaw.blurb || '').replace('$YEAR$', ''+year).replace('$NEXT_YEAR$', ''+(year+1)),\n    } : translationsRaw;\n\n    if (variant === 'drawingContest2020International') {\n        return ReactDOM.createPortal(\n            <div className={'templateWrap'}>\n                <div id={id} className={'templateRoot'}>\n                    <img className={'templateFrame'} src={getFrameSrc(variant, locale)} alt=\"\" />\n                    <div className={'templateText'} style={{ top: name.length > 22 ? '160mm' : '185mm' }}>\n                        <div className={'templateCustomName'} style={nameStyles(name)}>\n                            {name}\n                        </div>\n                        {translations.blurb && (\n                            <div\n                                style={{ marginTop: '18mm', maxWidth: translations.blurb ? '330mm' : '200mm' }}\n                                className={'templateCustomBlurp'}\n                                dangerouslySetInnerHTML={{ __html: translations.blurb }}\n                            ></div>\n                        )}\n                        {translations.section_first && (\n                            <div\n                                style={{ marginTop: '20mm', maxWidth: translations.blurb ? '300mm' : '200mm' }}\n                                className={'templateSection'}\n                                dangerouslySetInnerHTML={{ __html: translations.section_first }}\n                            ></div>\n                        )}\n                        {translations.section_second && (\n                            <div\n                                style={{ marginTop: '18mm', maxWidth: translations.blurb ? '250mm' : '200mm' }}\n                                className={'templateSection'}\n                                dangerouslySetInnerHTML={{ __html: translations.section_second }}\n                            ></div>\n                        )}\n                    </div>\n                </div>\n            </div>,\n            document.body,\n        )\n    } else {\n        return ReactDOM.createPortal(\n            <div className={'templateWrap'}>\n                <div id={id} className={'templateRoot'}>\n                    <img\n                        className={'templateFrame'}\n                        src={getFrameSrc(\n                            variant === 'drawingContest2020InternationalParticipant'\n                                ? 'drawingContest2020International'\n                                : variant,\n                            locale,\n                        )}\n                        alt=\"\"\n                    />\n                    <div className={'templateText'} style={{ top: translations.blurb ? '160mm' : '185mm' }}>\n                        <div className={'templateCustomName'} style={nameStyles(name)}>\n                            {name}\n                        </div>\n                        {translations.section_first && (\n                            <div\n                                style={{ marginTop: '20mm', maxWidth: translations.blurb ? '340mm' : '200mm' }}\n                                className={'templateSection'}\n                                dangerouslySetInnerHTML={{ __html: translations.section_first }}\n                            ></div>\n                        )}\n                        {translations.blurb && (\n                            <div\n                                style={{ marginTop: '18mm', maxWidth: translations.blurb ? '340mm' : '200mm' }}\n                                className={'templateCustomBlurp'}\n                                dangerouslySetInnerHTML={{ __html: translations.blurb }}\n                            ></div>\n                        )}\n                        {translations.section_second && (\n                            <div\n                                style={{ marginTop: '18mm', maxWidth: translations.blurb ? '340mm' : '200mm' }}\n                                className={'templateSection'}\n                                dangerouslySetInnerHTML={{ __html: translations.section_second }}\n                            ></div>\n                        )}\n                    </div>\n                </div>\n            </div>,\n            document.body,\n        )\n    }\n}\n\ntype FrameType =\n    | 'drawingContest2020School'\n    | 'drawingContest2020National'\n    | 'drawingContest2020International'\n    | 'drawingContest2021'\n    | 'drawingContest2022'\n    | 'drawingContest2023'\n    | 'drawingContest2024';\n\nconst getFrameSrc = (type: FrameType, locale: string) => {\n    return `${api.baseUrl}/certificates/frame-image-for-kind?kind=${type}&locale=${locale}`\n}\n","export interface CustomCert {\n    certName: string\n    certCode: string\n    date: Date\n    schoolName?: string\n    texts: {\n        section_first?: string\n        section_second?: string\n        blurb?: string | [string, Object]\n    }\n}\n\ntype PlaceType = '1st' | '2nd' | '3rd' | '4th' | '5th' | undefined\n\nexport const drawingContest2020ScoolroundParticipation: CustomCert = {\n    certName: 'drawingContest2020::participation',\n    certCode: 'drawUnit',\n    date: new Date(2020, 10, 30),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2020::participation',\n        section_second: 'certificate::text2::DrawingContest2020::participation',\n    },\n}\nexport const drawingContest2021ScoolroundParticipation: CustomCert = {\n    certName: 'drawingContest2021::participation',\n    certCode: 'draw2021-base',\n    date: new Date(2021, 11, 8),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2021::participation',\n        section_second: 'certificate::text2::DrawingContest2021::participation',\n    },\n}\n\nexport const drawingContest2020ScoolroundPlaced = (school: string, place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2020::schoolround',\n    certCode: 'drawUnit',\n    date: new Date(2020, 10, 30),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2020::schoolround',\n        blurb: ['certificate::blurb::DrawingContest2020::schoolround' + place, { school }],\n        section_second: 'certificate::text2::DrawingContest2020::schoolround',\n    },\n})\nexport const drawingContest2021ScoolroundPlaced = (school: string, place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2021::schoolround',\n    certCode: 'draw2021-base',\n    date: new Date(2021, 11, 8),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2021::schoolround',\n        blurb: ['certificate::blurb::DrawingContest2021::schoolround' + place, { school }],\n        section_second: 'certificate::text2::DrawingContest2021::schoolround',\n    },\n})\n\nexport const drawingContest2020ScoolroundTrainerChoice = (school: string): CustomCert => ({\n    certName: 'drawingContest2020::schoolround',\n    certCode: 'drawUnit',\n    date: new Date(2020, 10, 30),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2020::schoolroundtrainerschoice',\n        blurb: ['certificate::blurb::DrawingContest2020::schoolroundtrainerschoice', { school }],\n        section_second: 'certificate::text2::DrawingContest2020::schoolround',\n    },\n})\nexport const drawingContest2021ScoolroundTrainerChoice = (school: string): CustomCert => ({\n    certName: 'drawingContest2021::schoolround',\n    certCode: 'draw2021-base',\n    date: new Date(2021, 11, 8),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2021::schoolroundtrainerschoice',\n        blurb: ['certificate::blurb::DrawingContest2021::schoolroundtrainerschoice', { school }],\n        section_second: 'certificate::text2::DrawingContest2021::schoolround',\n    },\n})\n\nexport const drawingContest2020National = (school: string, place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2020::nationalround',\n    certCode: 'drawNational',\n    date: new Date(2020, 10, 30),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2020::schoolround',\n        blurb: ['certificate::blurb::DrawingContest2020::nationalround' + place, { school }],\n        section_second: 'certificate::text2::DrawingContest2020::schoolround',\n    },\n})\n\nexport const drawingContest2021National = (school: string, place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2021::nationalround',\n    certCode: 'draw2021-base',\n    date: new Date(2021, 11, 8),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2021::schoolround',\n        blurb: ['certificate::blurb::DrawingContest2021::nationalround' + place, { school }],\n        section_second: 'certificate::text2::DrawingContest2021::schoolround',\n    },\n})\n\nexport const drawingContest2020InterationalParticipation: CustomCert = {\n    certName: 'drawingContest2020::internationalround',\n    certCode: 'drawInternParticipant',\n    date: new Date(2020, 11, 14),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2020::internationaltop10',\n        blurb: 'certificate::blurb::DrawingContest2020::internationaltop10',\n        section_second: 'certificate::text2::DrawingContest2020::internationaltop10',\n    },\n}\n\nexport const drawingContest2021InterationalParticipation: CustomCert = {\n    certName: 'drawingContest2021::internationalround',\n    certCode: 'draw2021-base',\n    date: new Date(2022, 2, 17),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2021::internationaltop10',\n        blurb: 'certificate::blurb::DrawingContest2021::internationaltop10',\n        section_second: 'certificate::text2::DrawingContest2021::internationaltop10',\n    },\n}\n\nexport const drawingContest2020JuniorDesigner = (place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2020::juniordesigner',\n    certCode: 'drawInternJuniorDesigner',\n    date: new Date(2020, 11, 14),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2020::juniordesigner',\n        blurb: 'certificate::blurb::DrawingContest2020::juniordesigner' + place,\n        section_second: 'certificate::text2::DrawingContest2020::juniordesigner',\n    },\n})\n\nexport const drawingContest2021JuniorDesigner = (place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2021::juniordesigner',\n    certCode: 'draw2021-base',\n    date: new Date(2022, 2, 17),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2021::juniordesigner',\n        blurb: 'certificate::blurb::DrawingContest2021::juniordesigner' + place,\n        section_second: 'certificate::text2::DrawingContest2021::juniordesigner',\n    },\n})\n\nexport const drawingContest2022ScoolroundParticipation: CustomCert = {\n    certName: 'drawingContest2022::schoolround',\n    certCode: 'drawing-contest-2022',\n    date: new Date(2022, 10, 25),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2022::participation',\n        section_second: 'certificate::text2::DrawingContest2022::participation',\n    },\n}\n\nexport const drawingContest2022ScoolroundPlaced = (school: string, place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2022::schoolround',\n    certCode: 'drawing-contest-2022',\n    date: new Date(2022, 10, 25),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2022::schoolround',\n        blurb: ['certificate::blurb::DrawingContest2022::schoolround' + place, { school }],\n        section_second: 'certificate::text2::DrawingContest2022::schoolround',\n    },\n})\n\nexport const drawingContest2022ScoolroundTrainerChoice = (school: string): CustomCert => ({\n    certName: 'drawingContest2022::schoolround',\n    certCode: 'drawing-contest-2022',\n    date: new Date(2022, 10, 25),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2022::schoolroundtrainerschoice',\n        blurb: ['certificate::blurb::DrawingContest2022::schoolroundtrainerschoice', { school }],\n        section_second: 'certificate::text2::DrawingContest2022::schoolround',\n    },\n})\n\nexport const drawingContest2022National = (school: string, place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2022::nationalround',\n    certCode: 'drawing-contest-2022',\n    date: new Date(2022, 11, 1),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2022::schoolround',\n        blurb: ['certificate::blurb::DrawingContest2022::nationalround' + place, { school }],\n        section_second: 'certificate::text2::DrawingContest2022::schoolround',\n    },\n})\n\nexport const drawingContest2022InterationalParticipation: CustomCert = {\n    certName: 'drawingContest2022::internationalround',\n    certCode: 'drawing-contest-2022',\n    date: new Date(2022, 11, 16),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2022::internationaltop10',\n        blurb: 'certificate::blurb::DrawingContest2022::internationaltop10',\n    },\n}\n\nexport const drawingContest2022JuniorDesigner = (place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2022::juniordesigner',\n    certCode: 'drawing-contest-2022',\n    date: new Date(2022, 11, 16),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2022::internationaltop10',\n        blurb: 'certificate::blurb::DrawingContest2022::juniordesigner' + place,\n    },\n})\n\nexport const drawingContest2023ScoolroundParticipation: CustomCert = {\n    certName: 'drawingContest2023::schoolround',\n    certCode: 'drawing-contest-2023',\n    date: new Date(2023, 10, 14),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2023::participation',\n        section_second: 'certificate::text2::DrawingContest2023::participation',\n    },\n}\n\nexport const drawingContest2023ScoolroundPlaced = (school: string, place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2023::schoolround',\n    certCode: 'drawing-contest-2023',\n    date: new Date(2023, 10, 14),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2023::schoolround',\n        blurb: ['certificate::blurb::DrawingContest2022::schoolround' + place, { school }],\n        section_second: 'certificate::text2::DrawingContest2023::schoolround',\n    },\n})\n\nexport const drawingContest2023ScoolroundTrainerChoice = (school: string): CustomCert => ({\n    certName: 'drawingContest2023::schoolround',\n    certCode: 'drawing-contest-2023',\n    date: new Date(2023, 10, 14),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2023::schoolroundtrainerschoice',\n        blurb: ['certificate::blurb::DrawingContest2022::schoolroundtrainerschoice', { school }],\n        section_second: 'certificate::text2::DrawingContest2022::schoolround',\n    },\n})\n\nexport const drawingContest2023National = (school: string, place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2023::nationalround',\n    certCode: 'drawing-contest-2023',\n    date: new Date(2023, 11, 6),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2023::schoolround',\n        blurb: ['certificate::blurb::DrawingContest2022::nationalround' + place, { school }],\n        section_second: 'certificate::text2::DrawingContest2022::schoolround',\n    },\n})\n\nexport const drawingContest2023InterationalParticipation: CustomCert = {\n    certName: 'drawingContest2023::internationalround',\n    certCode: 'drawing-contest-2023',\n    date: new Date(2023, 11, 16),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2023::internationaltop10',\n        blurb: 'certificate::blurb::DrawingContest2022::internationaltop10',\n    },\n}\n\nexport const drawingContest2023JuniorDesigner = (place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2023::juniordesigner',\n    certCode: 'drawing-contest-2023',\n    date: new Date(2023, 11, 16),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2023::internationaltop10',\n        blurb: 'certificate::blurb::DrawingContest2022::juniordesigner' + place,\n    },\n})\n\n// 2024\nexport const drawingContest2024ScoolroundParticipation: CustomCert = {\n    certName: 'drawingContest2024::schoolround',\n    certCode: 'drawing-contest-2024',\n    date: new Date(2024, 10, 14),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2024::participation',\n        section_second: 'certificate::text2::DrawingContest2024::participation',\n    },\n}\n\nexport const drawingContest2024ScoolroundPlaced = (school: string, place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2024::schoolround',\n    certCode: 'drawing-contest-2024',\n    date: new Date(2024, 10, 14),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2024::schoolround',\n        blurb: ['certificate::blurb::DrawingContest2022::schoolround' + place, { school }],\n        section_second: 'certificate::text2::DrawingContest2024::schoolround',\n    },\n})\n\nexport const drawingContest2024ScoolroundTrainerChoice = (school: string): CustomCert => ({\n    certName: 'drawingContest2024::schoolround',\n    certCode: 'drawing-contest-2024',\n    date: new Date(2024, 10, 14),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2024::schoolroundtrainerschoice',\n        blurb: ['certificate::blurb::DrawingContest2022::schoolroundtrainerschoice', { school }],\n        section_second: 'certificate::text2::DrawingContest2022::schoolround',\n    },\n})\n\n\nexport const drawingContest2024National = (school: string, place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2024::nationalround',\n    certCode: 'drawing-contest-2024',\n    date: new Date(2024, 11, 6),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2024::schoolround',\n        blurb: ['certificate::blurb::DrawingContest2022::nationalround' + place, { school }],\n        section_second: 'certificate::text2::DrawingContest2022::schoolround',\n    },\n})\n\nexport const drawingContest2024InterationalParticipation: CustomCert = {\n    certName: 'drawingContest2024::internationalround',\n    certCode: 'drawing-contest-2024',\n    date: new Date(2024, 11, 16),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2024::internationaltop10',\n        blurb: 'certificate::blurb::DrawingContest2022::internationaltop10',\n    },\n}\n\nexport const drawingContest2024JuniorDesigner = (place: PlaceType): CustomCert => ({\n    certName: 'drawingContest2024::juniordesigner',\n    certCode: 'drawing-contest-2024',\n    date: new Date(2024, 11, 16),\n    texts: {\n        section_first: 'certificate::text1::DrawingContest2024::internationaltop10',\n        blurb: 'certificate::blurb::DrawingContest2022::juniordesigner' + place,\n    },\n})\n\n\n\n\n","import { useTranslation } from 'react-i18next'\nimport {\n    PdfTemplateDrawingContestScoolRound,\n    PdfTemplateDrawingContestNational,\n    PdfTemplateDrawingContestInternationalParticipant,\n    PdfTemplateDrawingContestInternationalJuniorDesigner,\n    PdfTemplateDrawingContest2021Base,\n    PdfTemplateDrawingContest2022, PdfTemplateDrawingContest2023, PdfTemplateDrawingContest2024,\n} from './CustomPdfTemplates'\nimport {\n    CustomCert,\n    drawingContest2020ScoolroundParticipation,\n    drawingContest2020ScoolroundTrainerChoice,\n    drawingContest2020ScoolroundPlaced,\n    drawingContest2020National,\n    drawingContest2020InterationalParticipation,\n    drawingContest2020JuniorDesigner,\n    drawingContest2021ScoolroundParticipation,\n    drawingContest2021ScoolroundTrainerChoice,\n    drawingContest2021ScoolroundPlaced,\n    drawingContest2021National,\n    drawingContest2021InterationalParticipation,\n    drawingContest2021JuniorDesigner,\n    drawingContest2022InterationalParticipation,\n    drawingContest2022JuniorDesigner,\n    drawingContest2022National,\n    drawingContest2022ScoolroundParticipation,\n    drawingContest2022ScoolroundPlaced,\n    drawingContest2022ScoolroundTrainerChoice,\n    drawingContest2023ScoolroundParticipation,\n    drawingContest2023ScoolroundTrainerChoice,\n    drawingContest2023ScoolroundPlaced,\n    drawingContest2023National,\n    drawingContest2023InterationalParticipation, drawingContest2023JuniorDesigner, drawingContest2024ScoolroundParticipation, drawingContest2024ScoolroundTrainerChoice, drawingContest2024ScoolroundPlaced, drawingContest2024National, drawingContest2024InterationalParticipation, drawingContest2024JuniorDesigner,\n} from './CustomCertData'\nimport { InventoryState } from 'lib/liveops/reducers/client/inventory'\nimport React from 'react'\nimport { useNotifications } from 'features/notifications'\nimport { certificateTypeColorMap, downloadFile, formatDate } from '../certificateHelpers'\nimport styled from 'styled-components/macro'\nimport { Loader } from 'components/Loader'\nimport { Text } from 'components/Text'\nimport { ActionCard } from 'components/action-card'\nimport { Img } from 'components/Img'\nimport logiscoolLogo from '../logiscool-logo.png'\nimport { TypedTFunction, useTranslate } from 'lib/i18n/useTranslate'\nimport { useUserState } from 'contexts/UserContext'\nimport { CertificateRibbon } from '../CertificateRibbon'\nimport { CertificateType } from '../certificateTypes'\nimport { CertificateDialog } from '../CertifiateDialog'\nimport { generateId, generatePdf } from '../PdfGenerator'\nimport { LocalisationKey } from 'lib/i18n'\nimport { filterNulls } from 'utils/arrayUtilts'\n\nexport const DRAWING_CONTEST_2020_SCHOOLROUND_ID = '5fc790b56ef94b00091a6148'\nexport const DRAWING_CONTEST_2020_NATIONAL_ID = '5fc790e9e8200100093514b8'\nexport const DRAWING_CONTEST_2020_INTERNATIONAL_ID = '5fd776a74a7e0a00092ea597'\n\nexport const DRAWING_CONTEST_2021_SCHOOLROUND_ID = '61af36449ee42e0f33d77988'\nexport const DRAWING_CONTEST_2021_NATIONAL_ID = '61af36529ee42ebe46d7798c'\nexport const DRAWING_CONTEST_2021_INTERNATIONAL_ID = '61af3667663b061ef539af7b'\n\nexport const DRAWING_CONTEST_2022_SCHOOLROUND_ID = '6377a7898900654454a986ed'\nexport const DRAWING_CONTEST_2022_NATIONAL_ID = '6377a79bc6a946edb6fe1845'\nexport const DRAWING_CONTEST_2022_INTERNATIONAL_ID = '6377a7b3c166c0f1923a9493'\n\nexport const DRAWING_CONTEST_2023_SCHOOLROUND_ID = '6552940f612ca13257058e3a'\nexport const DRAWING_CONTEST_2023_NATIONAL_ID = '65529417612ca1aa92058e96'\nexport const DRAWING_CONTEST_2023_INTERNATIONAL_ID = '6552941f612ca1cde3058ea9'\n\nexport const DRAWING_CONTEST_2024_SCHOOLROUND_ID = '66fdb0ceff66bcce21aafbb5'\nexport const DRAWING_CONTEST_2024_NATIONAL_ID = '66fdb0c5ff66bcce21aafb91'\nexport const DRAWING_CONTEST_2024_INTERNATIONAL_ID = '66fdb0baff66bcce21aafb74'\n\n\nexport type DrawingContestRound = 'schoolRound' | 'nationalRound' | 'internationalRound'\n\nconst drawingContests = [\n    {\n        year: 2020,\n        schoolRound: {\n            inventoryItem: DRAWING_CONTEST_2020_SCHOOLROUND_ID,\n            participantCertificate: drawingContest2020ScoolroundParticipation,\n            trainersChoiceCertificate: drawingContest2020ScoolroundTrainerChoice,\n            winnerCertificate: drawingContest2020ScoolroundPlaced,\n        },\n        nationalRound: {\n            inventoryItem: DRAWING_CONTEST_2020_NATIONAL_ID,\n            certificate: drawingContest2020National,\n        },\n        internationalRound: {\n            inventoryItem: DRAWING_CONTEST_2020_INTERNATIONAL_ID,\n            participantCertificate: drawingContest2020InterationalParticipation,\n            juniorDesignerCertificate: drawingContest2020JuniorDesigner,\n        },\n    },\n    {\n        year: 2021,\n        schoolRound: {\n            inventoryItem: DRAWING_CONTEST_2021_SCHOOLROUND_ID,\n            participantCertificate: drawingContest2021ScoolroundParticipation,\n            trainersChoiceCertificate: drawingContest2021ScoolroundTrainerChoice,\n            winnerCertificate: drawingContest2021ScoolroundPlaced,\n        },\n        nationalRound: {\n            inventoryItem: DRAWING_CONTEST_2021_NATIONAL_ID,\n            certificate: drawingContest2021National,\n        },\n        internationalRound: {\n            inventoryItem: DRAWING_CONTEST_2021_INTERNATIONAL_ID,\n            participantCertificate: drawingContest2021InterationalParticipation,\n            juniorDesignerCertificate: drawingContest2021JuniorDesigner,\n        },\n    },\n    {\n        year: 2022,\n        schoolRound: {\n            inventoryItem: DRAWING_CONTEST_2022_SCHOOLROUND_ID,\n            participantCertificate: drawingContest2022ScoolroundParticipation,\n            trainersChoiceCertificate: drawingContest2022ScoolroundTrainerChoice,\n            winnerCertificate: drawingContest2022ScoolroundPlaced,\n        },\n        nationalRound: {\n            inventoryItem: DRAWING_CONTEST_2022_NATIONAL_ID,\n            certificate: drawingContest2022National,\n        },\n        internationalRound: {\n            inventoryItem: DRAWING_CONTEST_2022_INTERNATIONAL_ID,\n            participantCertificate: drawingContest2022InterationalParticipation,\n            juniorDesignerCertificate: drawingContest2022JuniorDesigner,\n        },\n    },\n    {\n        year: 2023,\n        schoolRound: {\n            inventoryItem: DRAWING_CONTEST_2023_SCHOOLROUND_ID,\n            participantCertificate: drawingContest2023ScoolroundParticipation,\n            trainersChoiceCertificate: drawingContest2023ScoolroundTrainerChoice,\n            winnerCertificate: drawingContest2023ScoolroundPlaced,\n        },\n        nationalRound: {\n            inventoryItem: DRAWING_CONTEST_2023_NATIONAL_ID,\n            certificate: drawingContest2023National,\n        },\n        internationalRound: {\n            inventoryItem: DRAWING_CONTEST_2023_INTERNATIONAL_ID,\n            participantCertificate: drawingContest2023InterationalParticipation,\n            juniorDesignerCertificate: drawingContest2023JuniorDesigner,\n        },\n    },\n    {\n        year: 2024,\n        schoolRound: {\n            inventoryItem: DRAWING_CONTEST_2024_SCHOOLROUND_ID,\n            participantCertificate: drawingContest2024ScoolroundParticipation,\n            trainersChoiceCertificate: drawingContest2024ScoolroundTrainerChoice,\n            winnerCertificate: drawingContest2024ScoolroundPlaced,\n        },\n        nationalRound: {\n            inventoryItem: DRAWING_CONTEST_2024_NATIONAL_ID,\n            certificate: drawingContest2024National,\n        },\n        internationalRound: {\n            inventoryItem: DRAWING_CONTEST_2024_INTERNATIONAL_ID,\n            participantCertificate: drawingContest2024InterationalParticipation,\n            juniorDesignerCertificate: drawingContest2024JuniorDesigner,\n        },\n    },\n]\n\nexport const createDrawingContestCustomCertificate = (\n    year: number,\n    place: string,\n    round: DrawingContestRound,\n    schoolName: string,\n) => {\n    const contestData = drawingContests.find(contest => contest.year === year)\n\n    if (!contestData) {\n        throw new Error('Contest data not found.')\n    }\n\n    switch (round) {\n        case 'schoolRound':\n            if (place === 'participation') {\n                return contestData.schoolRound.participantCertificate\n            } else if (place === 'schoolroundtrainerschoice') {\n                return contestData.schoolRound.trainersChoiceCertificate(schoolName)\n            } else {\n                return contestData.schoolRound.winnerCertificate(schoolName, place as any)\n            }\n\n        case 'nationalRound':\n            return contestData.nationalRound.certificate(schoolName, place as any)\n\n        case 'internationalRound':\n            if (place === 'participation') {\n                return contestData.internationalRound.participantCertificate\n            } else {\n                return contestData.internationalRound.juniorDesignerCertificate(place as any)\n            }\n    }\n}\n\nexport const getCertFromInventroy = (inventory: InventoryState, schoolName: string) => {\n    let customCerts: CustomCert[] = []\n\n    for (const drawingContest of drawingContests) {\n        const scoolRoundItem =\n            inventory && inventory.find(item => item.item === drawingContest.schoolRound.inventoryItem)\n        if (scoolRoundItem) {\n            const cert = createDrawingContestCustomCertificate(\n                drawingContest.year,\n                scoolRoundItem.metadata.place,\n                'schoolRound',\n                schoolName,\n            )\n            if (cert) {\n                customCerts.push(cert)\n            }\n        }\n\n        const nationaRoundItem =\n            inventory && inventory.find(item => item.item === drawingContest.nationalRound.inventoryItem)\n        if (nationaRoundItem) {\n            const cert = createDrawingContestCustomCertificate(\n                drawingContest.year,\n                nationaRoundItem.metadata.place,\n                'nationalRound',\n                schoolName,\n            )\n            if (cert) {\n                customCerts.push(cert)\n            }\n        }\n\n        const internationalRoundItem =\n            inventory && inventory.find(item => item.item === drawingContest.internationalRound.inventoryItem)\n\n        if (internationalRoundItem) {\n            const cert = createDrawingContestCustomCertificate(\n                drawingContest.year,\n                internationalRoundItem.metadata.place,\n                'internationalRound',\n                schoolName,\n            )\n            if (cert) {\n                customCerts.push(cert)\n            }\n        }\n    }\n\n    return customCerts\n}\n\ninterface ItemProps {\n    cert: CustomCert\n    fullName: string\n    isOpening: boolean\n    setOpening: (isOpening: boolean) => void\n}\n\nexport const DrawingContestCertItem: React.FC<ItemProps> = ({ cert, fullName, isOpening, setOpening }) => {\n    const t = useTranslate()\n    const { i18n } = useUserState()\n    const { notify } = useNotifications()\n    const [status, setStatus] = React.useState<'idle' | 'generating-pdf' | 'open-dialog'>('idle')\n    const [imgData, setImgData] = React.useState<{ img: string; blob: Blob }>()\n\n    const handleClick = () => {\n        if (status === 'idle' && !isOpening) {\n            setStatus('generating-pdf')\n            setOpening(true)\n        }\n    }\n\n    const handleGenerateSucces = (blob: Blob, imgData: string) => {\n        setImgData({ img: imgData, blob })\n        setStatus('open-dialog')\n    }\n\n    const handleDownload = () => {\n        if (!imgData) return\n        let filename = `Logiscool ${t('certificate::simpletitle')}`\n        const translations = getCertificateTranslations(t, cert)\n        if (translations) {\n            const finishedAt = formatDate(cert.date, i18n.language)\n            filename = `Logiscool ${t('certificate::simpletitle')} – ${translations.certName} ${finishedAt}`\n        }\n        filename = filename.replace(/[\\\\/:*?\"<>|.]/g, '')\n        downloadFile(imgData.blob, filename)\n    }\n\n    const translations = getCertificateTranslations(t, cert)\n\n    const courseInfo = React.useMemo(() => CustomCerts.find(course => course.code === cert.certCode), [cert.certCode])\n\n    if (!translations.certName || !Object.values(translations.texts).filter(filterNulls)) {\n        console.log(`missing translations for ${cert.certName}`)\n        return null\n    }\n\n    const finishedAt = formatDate(cert.date, i18n.language)\n    const { color, highlightColor } = certificateTypeColorMap['event']\n\n    return (\n        <>\n            <Root onClick={handleClick} certificateType={'event'}>\n                <Inner>\n                    <StyledCertificateRibbon color={color} highlightColor={highlightColor} />\n                    <TextWrap>\n                        <Title>{translations.certName}</Title>\n                        <Text variant=\"caption\">{finishedAt}</Text>\n                    </TextWrap>\n                    <ThumbnailWrap>\n                        <Thumbnail src={courseInfo?.thumbnail || logiscoolLogo} />\n                    </ThumbnailWrap>\n                </Inner>\n                {status === 'generating-pdf' && (\n                    <LoaderWrap>\n                        <Loader size=\"1rem\" />\n                    </LoaderWrap>\n                )}\n            </Root>\n            {status === 'generating-pdf' && (\n                <CustomPdfGenerator\n                    cert={cert}\n                    fullName={fullName}\n                    onSuccess={handleGenerateSucces}\n                    onError={() => {\n                        setStatus('idle')\n                        notify(t('error::somethingWentWrong'), { variant: 'error' })\n                    }}\n                />\n            )}\n            {imgData && (\n                <CertificateDialog\n                    open={status === 'open-dialog'}\n                    close={() => {\n                        setStatus('idle')\n                        setOpening(false)\n                    }}\n                    imgData={imgData.img}\n                    title={translations.certName}\n                    download={handleDownload}\n                />\n            )}\n        </>\n    )\n}\n\ninterface CustomPdfGeneratorProps {\n    cert: CustomCert\n    fullName: string\n    onSuccess: (blob: Blob, imgData: string) => void\n    onError: (code: 'NO_COURSE_INFO' | 'GENERAL') => void\n    language?: string\n}\n\nexport const CustomPdfGenerator: React.FC<CustomPdfGeneratorProps> = ({ cert, fullName, language, onSuccess, onError }) => {\n    const { t } = useTranslation()\n    const { i18n } = useUserState()\n    const id = React.useRef(generateId())\n\n    const courseInfo = React.useMemo(() => CustomCerts.find(course => course.code === cert.certCode), [cert.certCode])\n\n    const translations = React.useMemo(() => getCertificateTranslations(t, cert), [cert, t])\n\n    React.useEffect(() => {\n        let ignore = false\n\n        if (!courseInfo) {\n            onError('NO_COURSE_INFO')\n            return\n        }\n\n        generatePdf(id.current)\n            .then(({ blob, imgData }) => {\n                if (!ignore) {\n                    onSuccess(blob, imgData)\n                }\n            })\n            .catch(e => {\n                if (!ignore) {\n                    console.error(e)\n                    onError('GENERAL')\n                }\n            })\n\n        return () => {\n            ignore = true\n        }\n    }, [onError, onSuccess, translations.texts, courseInfo])\n\n    if (!courseInfo) return null\n\n    const finishedAt = formatDate(cert.date, i18n.language)\n\n    return (\n        <courseInfo.template\n            translations={translations.texts}\n            finishedAt={finishedAt}\n            name={fullName}\n            id={id.current}\n            locale={language || i18n.locale}\n        />\n    )\n}\n\nconst getCertificateTranslations = (t: TypedTFunction, cert: CustomCert) => {\n    return {\n        certName: t(cert.certName as LocalisationKey, { defaultValue: null }),\n        ...(cert.texts && {\n            texts: {\n                ...(cert.texts.blurb && {\n                    blurb: Array.isArray(cert.texts.blurb)\n                        ? t(cert.texts.blurb[0] as LocalisationKey, { ...cert.texts.blurb[1], defaultValue: null })\n                        : t(cert.texts.blurb as LocalisationKey),\n                }),\n                ...(cert.texts.section_first && {\n                    section_first: t(cert.texts.section_first as LocalisationKey, { defaultValue: null }),\n                }),\n                ...(cert.texts.section_second && {\n                    section_second: t(cert.texts.section_second as LocalisationKey, { defaultValue: null }),\n                }),\n            },\n        }),\n    }\n}\n\ninterface CustomCourse {\n    code: string\n    template: typeof PdfTemplateDrawingContestScoolRound\n    thumbnail: string\n}\n\nconst CustomCerts: CustomCourse[] = [\n    {\n        code: 'drawUnit',\n        template: PdfTemplateDrawingContestScoolRound,\n        thumbnail: '/certificate/thumbnails/drawingcontest2020.png',\n    },\n    {\n        code: 'drawNational',\n        template: PdfTemplateDrawingContestNational,\n        thumbnail: '/certificate/thumbnails/drawingcontest2020.png',\n    },\n    {\n        code: 'drawInternParticipant',\n        template: PdfTemplateDrawingContestInternationalParticipant,\n        thumbnail: '/certificate/thumbnails/drawingcontest2020.png',\n    },\n    {\n        code: 'drawInternJuniorDesigner',\n        template: PdfTemplateDrawingContestInternationalJuniorDesigner,\n        thumbnail: '/certificate/thumbnails/drawingcontest2020.png',\n    },\n    {\n        code: 'draw2021-base',\n        template: PdfTemplateDrawingContest2021Base,\n        thumbnail: '/certificate/thumbnails/drawingcontest2021.png',\n    },\n    {\n        code: 'drawIntern-2021', // Marketing: no frame differences between that and draw2021-base\n        template: PdfTemplateDrawingContest2021Base,\n        thumbnail: '/certificate/thumbnails/drawingcontest2021.png',\n    },\n    {\n        code: 'drawing-contest-2022',\n        template: PdfTemplateDrawingContest2022,\n        thumbnail: '/certificate/thumbnails/drawingcontest2022.png',\n    },\n    {\n        code: 'drawing-contest-2023',\n        template: PdfTemplateDrawingContest2023,\n        thumbnail: '/certificate/thumbnails/drawingcontest2023.png',\n    },\n    {\n        code: 'drawing-contest-2024',\n        template: PdfTemplateDrawingContest2024,\n        thumbnail: '/certificate/thumbnails/drawingcontest2024.png',\n    },\n]\n\nconst StyledCertificateRibbon = styled(CertificateRibbon)`\n    position: relative;\n    top: -${props => props.theme.spacing(3)};\n    width: 100%;\n    filter: drop-shadow(0 5px 3px rgba(0, 0, 0, 0.25));\n    transition: transform ${props => props.theme.transitions.duration.standard}ms;\n`\n\nconst Root = styled(ActionCard) <{ certificateType: CertificateType }>`\n    position: relative;\n    overflow: visible;\n    &:hover,\n    &:focus-visible {\n        ${StyledCertificateRibbon} {\n            transform: translateY(-3px);\n        }\n    }\n`\n\nconst LoaderWrap = styled.div`\n    position: absolute;\n    top: ${props => props.theme.spacing(2)};\n    right: ${props => props.theme.spacing(2)};\n`\n\nconst TextWrap = styled.div`\n    align-self: center;\n`\n\nconst ThumbnailWrap = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    align-self: flex-end;\n    padding: ${props => props.theme.spacing(0, 3, 3, 0)};\n`\n\nconst Thumbnail = styled(Img)`\n    display: block;\n    width: 7rem;\n    height: 7rem;\n    object-fit: contain;\n    object-position: bottom right;\n`\n\nconst Inner = styled.div`\n    display: grid;\n    grid-template-columns: 3.25rem 8fr 6fr;\n    gap: ${props => props.theme.spacing(3)};\n    padding-inline-start: ${props => props.theme.spacing(4)};\n`\n\nconst Title = styled(Text)`\n    font-weight: 600;\n    line-height: 1.2;\n`\n","import { useEffect } from 'react'\nimport { useIncrementActivityScore } from './useIncrementActivityScore'\n\nexport function useRegisterActivityOnLoad(activity: string) {\n    const incrementActivityScore = useIncrementActivityScore()\n    useEffect(() => {\n        if (incrementActivityScore && activity) {\n            incrementActivityScore(activity)\n        }\n    }, [incrementActivityScore, activity])\n}\n","interface RuntimeEnv {\n    REACT_APP_API_URL: string\n    REACT_APP_OAUTH_URL: string\n    REACT_APP_PLAY_URL: string\n    REACT_APP_SHARE_URL: string\n    REACT_APP_SCOOLCODE_URL: string\n    REACT_APP_SCOOLCODE_CREATE_URL: string\n    REACT_APP_QUIZ_URL: string\n    REACT_APP_LIVEOPS_URL: string\n    REACT_APP_SITE_URL: string\n    REACT_APP_CRM_URL: string\n    REACT_APP_DASHBOARD_URL: string\n    REACT_APP_ONBOARDING_ENABLED: string\n    REACT_APP_EXTRA_SLOT_IS_ENABLED: string\n    NODE_ENV: 'development' | 'production'\n    REACT_APP_DEPLOY: 'dev' | 'beta' | 'prod'\n    REACT_APP_OAUTH_OVERRIDE: string\n    REACT_APP_ONLINE_TRAINING: string\n}\n\nexport const runtimeEnv: RuntimeEnv = (window as any)._env_ ? (window as any)._env_ : process.env\nexport const isProd = runtimeEnv.REACT_APP_DEPLOY === 'prod'\n\ninterface Values {\n    dev: string\n    beta: string\n    prod: string\n}\n\nexport function createEnvironmentVariable(values: Values) {\n    const DEPLOY = runtimeEnv.REACT_APP_DEPLOY as keyof Values\n    return values[DEPLOY]\n}\n\nruntimeEnv.REACT_APP_OAUTH_URL = (runtimeEnv.REACT_APP_OAUTH_OVERRIDE || runtimeEnv.REACT_APP_OAUTH_URL) as string\n","import { Text } from 'components/Text'\nimport React from 'react'\n\nexport const EventDetailsSubtitle: React.FC = ({ children }) => {\n    return <Text variant=\"h3\">{children}</Text>\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { useActivityEventContext } from '../helpers/activityEventContext'\n\ninterface ActivityEventCurrencyProps {\n    className?: string\n}\n\nexport const ActivityEventPointIcon: React.FC<ActivityEventCurrencyProps> = props => {\n    const { event } = useActivityEventContext()\n\n    return <Root src={event.pointImage} {...props} />\n}\n\nconst Root = styled.img`\n    vertical-align: text-bottom;\n    width: 1.5em;\n`\n","import { UserState } from 'contexts/UserContext'\nimport { hasGrant } from 'lib/grants'\n\nexport const isRecordingDevToolEnabled = (user: UserState) => {\n    return (\n        hasGrant(user.grants)('liveops-recorder') || window.localStorage.getItem('liveops-recording-enabled') === 'true'\n    )\n}\n\nexport function downloadFile(filename: string, text: string) {\n    var element = document.createElement('a')\n    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text))\n    element.setAttribute('download', filename)\n\n    element.style.display = 'none'\n    document.body.appendChild(element)\n\n    element.click()\n\n    document.body.removeChild(element)\n}\n\nexport function isLiveopsRecording() {\n    return window.localStorage.getItem('liveops-is-recording') === 'true'\n}\n\nexport function setLiveopsRecording(value: boolean) {\n    window.localStorage.setItem('liveops-is-recording', `${value}`)\n}\n","import { Grant, GrantFeature } from 'lib/grants'\nimport React from 'react'\nconst FirstTimeOnboarding = React.lazy(() => import('../variants/first-time-onboarding/components/FirstTimeOnboarding'))\nconst NextBigReleaseOnboarding = React.lazy(\n    () => import('../variants/next-big-relase-onboarding/components/NextBigReleaseOnboarding'),\n)\nconst MiniQuizOnboarding = React.lazy(() => import('../variants/mini-quiz-onboarding/components/MiniQuizOnboarding'))\n\nexport type OnboardingVariant = '2022-APR' | 'FIRST-TIME' | 'MINI-QUIZ'\n\nexport type OnboardingUserSettings = Partial<Record<OnboardingVariant, boolean>>\n\nexport interface OnboardingDefinition<T extends OnboardingVariant> {\n    userCreatedBefore?: string\n    Component: React.FC\n    enabledForGuest: boolean\n    variant: T\n    enabled: boolean\n    requiredGrant?: Grant | GrantFeature\n}\n\nexport const onboardingDefinitionsByVariant: { [Key in OnboardingVariant]: OnboardingDefinition<Key> } = {\n    'FIRST-TIME': {\n        variant: 'FIRST-TIME',\n        Component: FirstTimeOnboarding,\n        enabledForGuest: true,\n        enabled: true,\n    },\n    '2022-APR': {\n        variant: '2022-APR',\n        userCreatedBefore: '2022-03-30T06:00:00Z',\n        Component: NextBigReleaseOnboarding,\n        enabledForGuest: false,\n        enabled: true,\n    },\n    'MINI-QUIZ': {\n        variant: 'MINI-QUIZ',\n        Component: MiniQuizOnboarding,\n        enabledForGuest: false,\n        enabled: true,\n        userCreatedBefore: '2022-09-13T06:00:00Z',\n        requiredGrant: 'mini-quiz-create-and-share',\n    },\n}\n","import React, { createContext, useContext } from 'react'\nimport { UserState, useUserActions, useUserState } from 'contexts/UserContext'\nimport { Dialog, DialogContent, DialogTitle } from 'components/dialog'\nimport { Flex } from 'components/layout'\nimport { Loader } from 'components/Loader'\nimport dayjs from 'dayjs'\nimport {\n    OnboardingDefinition,\n    onboardingDefinitionsByVariant,\n    OnboardingUserSettings,\n    OnboardingVariant,\n} from '../data/onboardingData'\nimport { isGuestOrRegisteredGuestUser } from '../../../contexts/UserContext'\nimport { NBSP } from 'utils/styleUtils'\nimport { hasGrant } from 'lib/grants'\n\ninterface OnboardingManagerState {\n    isOpen: boolean\n    closeCurrent: VoidFunction\n    markCurrentAsDisplayed: VoidFunction\n    open: (variant: OnboardingVariant) => void\n}\n\nconst onboardingManagerContext = createContext<OnboardingManagerState | undefined>(undefined)\n\nexport const OnboardingManagerProvider: React.FC = ({ children }) => {\n    const user = useUserState()\n    const [currentOnboarding, setCurrentOnboarding] = React.useState<OnboardingDefinition<any> | null>(\n        getInitialOnboarding(user),\n    )\n    const { updateUserSettings } = useUserActions()\n\n    const open = React.useCallback((variant: OnboardingVariant) => {\n        const onboarding = onboardingDefinitionsByVariant[variant]\n\n        if (onboarding) {\n            setCurrentOnboarding(onboarding)\n        }\n    }, [])\n\n    const markCurrentAsDisplayed = React.useCallback(() => {\n        if (!currentOnboarding) return\n\n        const values = {\n            ...getOnboardingUserSetting(user),\n            [currentOnboarding.variant]: true,\n        }\n\n        updateUserSettings({ 'mylogiscool-onboardings': JSON.stringify(values) }).catch(e => {\n            console.error(e)\n        })\n    }, [user, updateUserSettings, currentOnboarding])\n\n    const closeCurrent = React.useCallback(() => {\n        setCurrentOnboarding(null)\n    }, [])\n\n    return (\n        <onboardingManagerContext.Provider\n            value={{\n                isOpen: !!currentOnboarding,\n                markCurrentAsDisplayed,\n                closeCurrent,\n                open,\n            }}\n        >\n            {children}\n            {currentOnboarding ? (\n                <React.Suspense fallback={<OnboardingLoader />}>\n                    <currentOnboarding.Component />\n                </React.Suspense>\n            ) : null}\n        </onboardingManagerContext.Provider>\n    )\n}\n\nfunction getOnboardingUserSetting(user: UserState): OnboardingUserSettings | null {\n    try {\n        const raw = user.settings['mylogiscool-onboardings']\n        return raw ? JSON.parse(raw) : null\n    } catch (error) {\n        console.error(error)\n        return null\n    }\n}\n\nfunction getInitialOnboarding(user: UserState): OnboardingDefinition<any> | null {\n    try {\n        const onboardingSetting = getOnboardingUserSetting(user)\n\n        const availableOnboardings = Object.values(onboardingDefinitionsByVariant)\n            .filter(details => details.enabled)\n            .filter(details =>\n                details.userCreatedBefore ? dayjs(details.userCreatedBefore).isAfter(user.account.createdAt!) : true,\n            )\n            .filter(details => (details.requiredGrant ? hasGrant(user.grants)(details.requiredGrant) : true))\n            .filter(details => (onboardingSetting ? onboardingSetting[details.variant] !== true : true))\n            .filter(details => (isGuestOrRegisteredGuestUser(user) ? details.enabledForGuest : true))\n\n        return availableOnboardings[0] || null\n    } catch (e) {\n        console.error(e)\n        return null\n    }\n}\n\nexport const useOnboardingManager = () => {\n    const context = useContext(onboardingManagerContext)\n\n    if (context === undefined) {\n        throw new Error(`useOnboardingManager must be used within OnboardingManagerProvider`)\n    }\n\n    return context\n}\n\nconst OnboardingLoader = () => {\n    return (\n        <Dialog open maxWidth=\"sm\" fullWidth hideCloseButton>\n            <DialogTitle>{NBSP}</DialogTitle>\n            <DialogContent>\n                <Flex justify=\"center\">\n                    <Loader />\n                </Flex>\n            </DialogContent>\n        </Dialog>\n    )\n}\n","import React, { useReducer, useEffect, useRef } from 'react';\nimport { IconButton, CircularProgress, Tooltip } from \"@material-ui/core\";\nimport { UploadIcon } from 'components/icons'\nimport {api} from \"lib/api\";\n\ntype SrcType = 'url' | 'reference'\n\ntype ImageOrVideoUploadProps = {\n    onUpload?: (value: string) => void\n    srcType?: SrcType\n    type?: 'image' | 'video'\n    disabled?: boolean\n}\n\nexport const ImageUploadButton: React.FC<ImageOrVideoUploadProps> = ({\n                                                                         onUpload = () => {},\n                                                                          srcType = 'reference',\n                                                                          type = 'image',\n                                                                         disabled = false\n                                                                      }) => {\n    const [state, dispatch] = useReducer(uploadReducer, { name: 'idle' });\n    const inputRef = useRef<HTMLInputElement>(null)\n    const id = React.useMemo(() => Math.random().toString(36).substr(2, 9), [])\n\n    useEffect(() => {\n        let ignore = false\n\n        if (state.name === 'uploading') {\n            api.management.uploadImage(state.file).then(res => {\n                if (ignore) return;\n                if (srcType === 'url') {\n                    onUpload(`${api.baseUrl}/files/${res.data.id}/data`)\n                }\n                else {\n                    onUpload(res.data.id)\n                }\n                dispatch({ type: 'UPLOAD_SUCCESS' })\n            }).catch(() => {\n                if (ignore) return;\n                dispatch({ type: 'UPLOAD_ERROR' })\n            }).finally(() => {\n                if (ignore) return;\n                if (inputRef.current) {\n                    inputRef.current.value = ''\n                }\n            })\n        }\n\n        return () => {\n            ignore = true\n        }\n    }, [state, onUpload, srcType])\n\n    return (<>\n        {state.name === 'uploading' ? (\n            <CircularProgress />\n        ) : (\n            <label htmlFor={id}>\n                <Tooltip title='Upload media'>\n                    <IconButton\n                        component='span'\n                        color='primary'\n                        disabled={disabled}\n                    >\n                        <UploadIcon />\n                    </IconButton>\n                </Tooltip>\n            </label>\n        )}\n        <input\n            ref={inputRef}\n            disabled={disabled || state.name === 'uploading'}\n            onChange={(e) => {\n                if (e.target.files && e.target.files[0]) {\n                    const maxAllowedSize = 5 * 1024 * 1024;\n\n                    if (e.target.files[0].size > maxAllowedSize) {\n                        dispatch({\n                            type: 'MAXSIZE_ERROR',\n                        });\n                    } else {\n                        dispatch({\n                            type: 'START_UPLOAD',\n                            file: e.target.files[0],\n                        });\n                    }\n                }\n            }}\n            style={{ display: 'none' }}\n            accept={type === 'image' ? 'image/*' : 'video/*'}\n            id={id}\n            type='file'\n        ></input>\n    </>);\n};\n\ntype UploadReducerState =\n    | { name: 'idle'; message?: string }\n    | { name: 'uploading'; file: File }\n\ntype UploadReducerAction =\n    {\n        type: 'START_UPLOAD';\n        file: File;\n    }\n    | {\n    type: 'UPLOAD_SUCCESS';\n}\n    | {\n    type: 'UPLOAD_ERROR';\n}\n    | {\n    type: 'MAXSIZE_ERROR';\n};\n\nconst uploadReducer: React.Reducer<UploadReducerState, UploadReducerAction> = (state, action) => {\n    switch (state.name) {\n        case 'idle':\n            if (action.type === 'START_UPLOAD') {\n                return { name: 'uploading', file: action.file }\n            }\n            if (action.type === 'MAXSIZE_ERROR') {\n                return {\n                    name: 'idle',\n                    message: 'Maximum size is 5mb'\n                }\n            }\n            return state\n\n        case 'uploading':\n            if (action.type === 'UPLOAD_SUCCESS') {\n                return {\n                    name: 'idle'\n                }\n            }\n            if (action.type === 'UPLOAD_ERROR') {\n                return {\n                    name: 'idle',\n                    message: 'Failed to upload.'\n                }\n            }\n\n            return state\n    }\n}\n","import React from \"react\";\nimport {FormControl, Switch} from \"components/form\";\nimport {Inline} from \"components/layout\";\nimport styled from \"styled-components/macro\";\n\nexport interface BooleanFieldProps {\n    label: string,\n    value?: number,\n    onChange?: (e: any, newValue: string) => any\n}\nexport const BooleanField: React.FC<BooleanFieldProps & any> = ({ value, onChange, children, multiline, endAdornment, ...rest }) => {\n    return (\n        <FormControl fullWidth>\n            <Wrap>\n                <Switch checked={value} onChange={e => onChange(e, e.target.checked)} {...rest} />\n                {endAdornment}\n            </Wrap>\n        </FormControl>\n    )\n}\n\nconst Wrap = styled(Inline)`\n    display: flex;\n    flex-shrink: 0;\n    align-items: center;\n    justify-content: space-between;\n`","import React, { useEffect, useReducer } from 'react'\nimport { Grid, Stack, Box } from 'components/layout'\nimport { ManagementModalContentProps, ManagementModalTitle } from './ManagementModal'\nimport { Text } from 'components/Text'\nimport { Button } from 'components/Button'\nimport { useManagementContext } from '../helpers/managementContext'\nimport { BatchManagementMutationTask } from './MutationTask'\nimport { Switch } from 'components/form'\nimport { WarningIcon } from 'components/icons'\nimport { DialogActions, DialogSecondaryButton } from 'components/dialog'\nimport { ImageField } from './editors/ImageField'\nimport { DateField } from './editors/DateField'\nimport { NumberField } from './editors/NumberField'\nimport { BooleanField } from './editors/BooleanField'\nimport { TextMultiEditField } from './editors/TextMultiEditField'\nimport { JSONMultiEditField } from './editors/JSONMultiEditField'\n\nexport interface ManagementMultiEditFieldConfiguration {\n    label: string\n    type: 'text' | 'number' | 'date' | 'boolean' | 'image' | 'json'\n    editorProps?: Record<string, any>\n}\n\nconst TYPE_TO_EDITOR = {\n    text: TextMultiEditField,\n    json: JSONMultiEditField,\n    number: NumberField,\n    date: DateField,\n    boolean: BooleanField,\n    image: ImageField,\n}\n\nexport interface ManagementMultiEditConfiguration {\n    primaryField: string\n    displayTargetAs?: string\n    displayTargetAsPlural?: string\n    mutationTaskKind: string\n    hidePrimaryField?: boolean\n    mutateUnchanged?: boolean\n    wideModal?: boolean\n    description?: string\n    fields: Record<string, ManagementMultiEditFieldConfiguration>\n}\n\nexport interface ManagementMultiEdit {\n    configuration: ManagementMultiEditConfiguration\n}\n\nexport interface ManagementMultiEditStepBasePath {\n    path: string\n    fieldPrefix: string\n}\n\nexport interface ManagementMultiEditStep<TData> {\n    kind: string\n    editedField: string\n    mutationTaskKind?: string\n    hidePrimaryField?: boolean\n    groupEntriesByValue?: boolean\n    mutateUnchanged?: boolean\n    wideModal?: boolean\n    description?: string\n    basePath?: string | ManagementMultiEditStepBasePath\n    data: TData[]\n    dirtyData?: TData[]\n}\n\nconst EDITS: Record<string, ManagementMultiEdit> = {}\n\nexport const registerManagementMultiEdit: (kind: string, configuration: ManagementMultiEditConfiguration) => void = (\n    kind,\n    configuration,\n) => {\n    EDITS[kind] = EDITS[kind] || { configuration }\n}\n\nexport const useManagementMultiEdit: (kind: string) => ManagementMultiEditConfiguration | undefined = kind => {\n    const edit = EDITS[kind]\n    return React.useMemo(() => (edit ? { ...edit.configuration } : edit), [edit])\n}\n\nexport function setDeep(obj: any, path: string[], value: any): any {\n    const newLevel = Array.isArray(obj) ? [...obj] : { ...obj }\n    const [field, ...newPath] = path\n    if (!field) return newLevel\n    newLevel[field] = newPath.length ? setDeep(newLevel[field] || {}, newPath, value) : value\n    return newLevel\n}\n\nexport function getDeep(obj: any, path: string[]): any {\n    if (!obj) return obj\n    const [field, ...newPath] = path\n    if (!field) return obj\n    return getDeep(obj[field], newPath)\n}\n\nexport const useMultiEditField = (\n    fieldName: string,\n    configuration: ManagementMultiEditConfiguration,\n    basePath?: string | ManagementMultiEditStepBasePath,\n) => {\n    const field = React.useMemo(() => {\n        const fieldPrefix = basePath && typeof basePath === 'object' ? basePath.fieldPrefix : basePath\n        const fullFieldName = `${fieldPrefix ? `${fieldPrefix}.` : ''}${fieldName}`\n        const field = configuration.fields[fullFieldName] || {\n            label: fieldName,\n            type: 'text',\n        }\n        field.editorProps = field.editorProps || {}\n        return field\n    }, [fieldName, configuration.fields, basePath])\n\n    const EditorComponent = TYPE_TO_EDITOR[field.type]\n\n    return {\n        field,\n        EditorComponent,\n    }\n}\n\nfunction reduceResults(results: any[], action: { index: number | number[]; field: string[]; newValue: any }) {\n    const newResults = [...results]\n    if (Array.isArray(action.index)) {\n        action.index.forEach(i => {\n            newResults[i] = setDeep(newResults[i], action.field, action.newValue)\n        })\n        return newResults\n    } else {\n        newResults[action.index] = setDeep(newResults[action.index], action.field, action.newValue)\n    }\n    return newResults\n}\n\nexport const MultiEditStepManagementModalContent: React.FC<ManagementModalContentProps<ManagementMultiEditStep<any>>> =\n    ({ modal }) => {\n        const multiEdit = EDITS[modal.data.kind]\n        const entries = modal.data.data\n        const [results, changeResult] = useReducer(reduceResults, modal.data.dirtyData || modal.data.data)\n        const { closeModal, updateModal, widenModal } = useManagementContext()\n        const [groupEntriesByValue, setGroupEntriesByValue] = React.useState(modal.data.groupEntriesByValue || false)\n\n        const wideModal =\n            typeof modal.data.wideModal === 'boolean' ? modal.data.wideModal : multiEdit?.configuration?.wideModal\n\n        useEffect(() => {\n            if (wideModal && !modal.wide) widenModal(modal.key)\n        }, [wideModal, widenModal, modal.key, modal.wide])\n\n        const editedField = modal.data.editedField\n        const realBasePath = typeof modal.data.basePath === 'string' ? modal.data.basePath : modal.data.basePath?.path\n        const basePathParts = realBasePath ? realBasePath.split('.') : []\n        const editedFieldParts = [...basePathParts, ...editedField.split('.')]\n\n        const handleNext = async () => {\n            const mutateUnchanged =\n                typeof modal.data.mutateUnchanged === 'boolean'\n                    ? modal.data.mutateUnchanged\n                    : multiEdit.configuration.mutateUnchanged\n\n            let finalResults = results\n            if (!mutateUnchanged) {\n                finalResults = results.filter(\n                    (result, i) => getDeep(result, editedFieldParts) !== getDeep(entries[i], editedFieldParts),\n                )\n                if (!finalResults.length) {\n                    closeModal(modal.key)\n                    return\n                }\n            }\n\n            const task: BatchManagementMutationTask<any> = {\n                type: 'batch',\n                kind: modal.data.mutationTaskKind || multiEdit.configuration.mutationTaskKind,\n                data: finalResults,\n            }\n            updateModal(modal.key, 'mutation-task', task)\n        }\n\n        if (!multiEdit)\n            return (\n                <Stack spacing={5} margin={4}>\n                    <h2>Missing multiedit config for {modal.data.kind}</h2>\n                </Stack>\n            )\n\n        const hidePrimaryField =\n            typeof modal.data.hidePrimaryField === 'boolean'\n                ? modal.data.hidePrimaryField\n                : multiEdit.configuration.hidePrimaryField\n\n        const description =\n            typeof modal.data.description === 'string' ? modal.data.description : multiEdit.configuration.description\n\n        const fieldPrefix =\n            modal.data.basePath && typeof modal.data.basePath === 'object'\n                ? modal.data.basePath.fieldPrefix\n                : modal.data.basePath\n        const fullFieldName = `${fieldPrefix ? `${fieldPrefix}.` : ''}${editedField}`\n        const field = multiEdit.configuration.fields[fullFieldName] || {\n            label: editedField,\n            type: 'text',\n        }\n        field.editorProps = field.editorProps || {}\n        const EditorComponent = TYPE_TO_EDITOR[field.type]\n\n        const entriesByValue = results.reduce<{ value: any; entries: any[]; indices: number[] }[]>((acc, entry, i) => {\n            const value = getDeep(entry, editedFieldParts)\n            const group = acc.find(group => group.value === value)\n            if (group) {\n                group.entries.push(entry)\n                group.indices.push(i)\n            } else {\n                acc.push({\n                    value,\n                    indices: [i],\n                    entries: [entry],\n                })\n            }\n            return acc\n        }, [])\n\n        return (\n            <>\n                <Stack spacing={5} margin={4}>\n                    <ManagementModalTitle\n                        title={`Edit ${\n                            multiEdit.configuration.displayTargetAsPlural ||\n                            `${multiEdit.configuration.displayTargetAs || modal.data.kind} Entries`\n                        }`}\n                    />\n                    {description && <Text>{description}</Text>}\n                    <Switch\n                        label=\"Group entries by value\"\n                        checked={groupEntriesByValue}\n                        onChange={(_, checked) => setGroupEntriesByValue(checked)}\n                    />\n                    <Grid container spacing={2}>\n                        {!hidePrimaryField && <Grid item xs={4}></Grid>}\n                        <Grid item xs={hidePrimaryField ? 12 : 8}>\n                            <Text>\n                                <strong style={{ textTransform: 'capitalize' }}>{field.label}</strong>\n                            </Text>\n                        </Grid>\n                        {groupEntriesByValue &&\n                            !!multiEdit.configuration.primaryField &&\n                            entriesByValue.map(({ value, entries, indices }, i) => {\n                                return (\n                                    <React.Fragment key={`${i}-${value}`}>\n                                        {!hidePrimaryField && (\n                                            <Grid item xs={4}>\n                                                <Stack marginTop={0} marginBottom={4} spacing={1}>\n                                                    {entries.map((entry, i) => (\n                                                        <Text key={i}>\n                                                            {entry[multiEdit.configuration.primaryField]}\n                                                            {value !==\n                                                                getDeep(\n                                                                    modal.data.data[indices[i]],\n                                                                    editedFieldParts,\n                                                                ) && (\n                                                                <>\n                                                                    &nbsp;\n                                                                    <WarningIcon />\n                                                                </>\n                                                            )}\n                                                        </Text>\n                                                    ))}\n                                                </Stack>\n                                            </Grid>\n                                        )}\n                                        <Grid item xs={hidePrimaryField ? 12 : 8}>\n                                            <Box marginTop={0} marginBottom={4}>\n                                                <EditorComponent\n                                                    value={value}\n                                                    multiline\n                                                    onChange={(_: any, newValue: any) =>\n                                                        changeResult({\n                                                            index: indices,\n                                                            field: editedFieldParts,\n                                                            newValue,\n                                                        })\n                                                    }\n                                                    {...field.editorProps}\n                                                />\n                                            </Box>\n                                        </Grid>\n                                    </React.Fragment>\n                                )\n                            })}\n                        {!groupEntriesByValue &&\n                            entries.map((entry, i) => {\n                                const result = results[i]\n                                const dirty = getDeep(result, editedFieldParts) !== getDeep(entry, editedFieldParts)\n                                return (\n                                    <React.Fragment key={i}>\n                                        {!hidePrimaryField && (\n                                            <Grid item xs={4}>\n                                                <Text>\n                                                    {multiEdit.configuration.primaryField\n                                                        ? entry[multiEdit.configuration.primaryField]\n                                                        : `Entry ${i + 1}`}\n                                                </Text>\n                                            </Grid>\n                                        )}\n                                        <Grid item xs={hidePrimaryField ? 12 : 8}>\n                                            <EditorComponent\n                                                value={getDeep(result, editedFieldParts)}\n                                                multiline\n                                                endAdornment={dirty ? <WarningIcon /> : undefined}\n                                                onChange={(_: any, newValue: any) =>\n                                                    changeResult({\n                                                        index: i,\n                                                        field: editedFieldParts,\n                                                        newValue,\n                                                    })\n                                                }\n                                                {...field.editorProps}\n                                            />\n                                        </Grid>\n                                    </React.Fragment>\n                                )\n                            })}\n                    </Grid>\n                </Stack>\n                <DialogActions>\n                    <DialogSecondaryButton onClick={() => closeModal(modal.key)}>Cancel</DialogSecondaryButton>\n                    <Button onClick={handleNext}>Next</Button>\n                </DialogActions>\n            </>\n        )\n    }\n","import React from \"react\";\nimport {TextField} from \"components/form\";\n\nexport interface TextMultiEditFieldProps {\n    label: string,\n    value?: string,\n    onChange?: (e: any, newValue: string) => any\n}\nexport const TextMultiEditField: React.FC<TextMultiEditFieldProps & any> = ({ value, onChange, children, multiline, ...rest }) => {\n    function handleChange(e: React.ChangeEvent<HTMLTextAreaElement>) {\n        if(onChange) onChange(e, e.target.value);\n    }\n\n    return (\n        <TextField value={value} type=\"text\" onChange={handleChange} {...rest} />\n    )\n}","import React from 'react'\nimport { TextField } from 'components/form'\n\nexport interface JSONMultiEditFieldProps {\n    label: string\n    value?: string\n    onChange?: (e: any, newValue: string) => any\n}\nexport const JSONMultiEditField: React.FC<JSONMultiEditFieldProps & any> = ({\n    value,\n    onChange,\n    children,\n    multiline,\n    ...rest\n}) => {\n    const [text, setText] = React.useState(JSON.stringify(value, null, 2))\n    const [error, setError] = React.useState(false)\n    function handleChange(e: React.ChangeEvent<HTMLTextAreaElement>) {\n        setText(e.target.value)\n        try {\n            const parsed = JSON.parse(e.target.value)\n            if (onChange) onChange(e, parsed)\n            setError(false)\n        } catch (e) {\n            setError(true)\n        }\n    }\n    function handleBlur(e: React.ChangeEvent<HTMLTextAreaElement>) {\n        try {\n            const parsed = JSON.parse(e.target.value)\n            setText(JSON.stringify(parsed, null, 2))\n            setError(false)\n        } catch (e) {\n            setError(true)\n        }\n    }\n\n    return (\n        <TextField\n            error={error}\n            errorText={error ? 'Invalid JSON' : undefined}\n            value={text}\n            type=\"text\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            multiline\n            rows={4}\n            {...rest}\n        />\n    )\n}\n","import React from \"react\";\nimport {TextField} from \"components/form\";\n\nexport interface NumberFieldProps {\n    label: string,\n    value?: number,\n    onChange?: (e: any, newValue: number) => any\n}\nexport const NumberField: React.FC<NumberFieldProps & any> = ({ value, onChange, children, multiline, ...rest }) => {\n    function handleChange(e: React.ChangeEvent<HTMLTextAreaElement>) {\n        let realValue = +e.target.value\n        if(typeof rest.min === \"number\") realValue = Math.max(rest.min, realValue);\n        if(typeof rest.max === \"number\") realValue = Math.min(rest.max, realValue);\n        if(onChange) onChange(e, realValue);\n    }\n\n    return (\n        <TextField value={value} type=\"number\" onChange={handleChange} {...rest} />\n    )\n}","import React, {useEffect, useState} from \"react\";\nimport dayjs from \"dayjs\";\nimport {TextField} from \"components/form\";\n\nexport interface DateFieldProps {\n    label: string,\n    value?: string,\n    onChange?: (e: any, newValue: string) => any\n}\nexport const DateField: React.FC<DateFieldProps & any> = ({ value, onChange, children, multiline, ...rest }) => {\n    const dateValue = value ? dayjs(value).format(\"YYYY-MM-DD\") : null;\n    const [ fieldValue, setFieldValue ] = useState(\"\");\n    const ref = React.useRef<HTMLInputElement>(null);\n\n    useEffect(() => {\n        if(ref.current) {\n            if(dateValue) {\n                if (ref.current.value !== fieldValue) {\n                    ref.current.value = dateValue\n                }\n            }\n            else {\n                if (ref.current.value !== \"\") {\n                    ref.current.value = \"\"\n                }\n            }\n        }\n    }, [ ref, dateValue, fieldValue ]);\n\n    function handleChange(e: React.ChangeEvent<HTMLTextAreaElement>) {\n        setFieldValue(e.target.value);\n        try {\n            const realValue = e.target.value ? new Date(e.target.value).toISOString() : undefined;\n            if (onChange) onChange(e, realValue);\n        }\n        catch (err) {\n            //Do not save invalid values\n        }\n    }\n\n    return (\n        <TextField ref={ref} defaultValue={dateValue} type=\"date\" onChange={handleChange} {...rest} />\n    )\n}","import React, {useCallback} from \"react\";\nimport {runtimeEnv} from \"../../../../utils/env\";\nimport {FormControl, FormLabel, TextField} from \"components/form\";\nimport {Box} from \"components/layout\";\nimport {ImageZoom} from \"components/ImageZoom\";\nimport {ImageUploadButton} from \"./ImageUploadButton\";\n\nexport interface ImageFieldProps {\n    label: string,\n    value?: string,\n    onChange?: (e: any, newValue: string) => any,\n    width?: number,\n    disabled?: boolean\n}\n\nexport const ImageField: React.FC<ImageFieldProps & any> = ({ label, width, value, onChange, disabled, children, endAdornment, ...rest }) => {\n    const id = value ? value.split('/')[4] : '';\n\n    function handleChange(e: React.ChangeEvent<HTMLTextAreaElement>) {\n        const realValue = value ? value.replace(id, e.target.value) : `${runtimeEnv.REACT_APP_API_URL}/files/${e.target.value}/data`;\n        if(onChange) onChange(e, realValue);\n    }\n\n    const handleUpload = useCallback((value: string) => {\n        onChange(null, `${runtimeEnv.REACT_APP_API_URL}/files/${value}/data`);\n    }, [ onChange ]);\n\n    return (\n        <FormControl fullWidth>\n            <FormLabel>{label}</FormLabel>\n            <Box margin={2}>\n                <ImageZoom src={value} width={width || 300} />\n            </Box>\n            <TextField value={id} onChange={handleChange} disabled={disabled}\n                       endAdornment={<>\n                           <ImageUploadButton disabled={disabled} onUpload={handleUpload} />\n                           {endAdornment}\n                       </>}\n                       {...rest} />\n        </FormControl>\n    )\n}","import React, { useState } from 'react'\nimport { Dialog, DialogProps } from 'components/dialog'\nimport styled from 'styled-components/macro'\n\ninterface ImageZoomProps extends React.ImgHTMLAttributes<HTMLImageElement> {\n    DialogProps?: Partial<DialogProps>\n}\n\nexport const ImageZoom: React.FC<ImageZoomProps> = ({ onClick, src, alt, DialogProps, ...rest }) => {\n    const [isOpen, setIsOpen] = useState(false)\n\n    return (\n        <>\n            <Image\n                src={src}\n                alt={alt}\n                onClick={e => {\n                    onClick?.(e)\n                    setIsOpen(true)\n                }}\n                {...rest}\n            />\n            <Dialog\n                transitionDuration={200}\n                maxWidth={false}\n                open={isOpen}\n                onClose={() => {\n                    setIsOpen(false)\n                }}\n                {...DialogProps}\n            >\n                <DialogImg src={src} alt={alt} />\n            </Dialog>\n        </>\n    )\n}\n\nconst Image = styled.img`\n    cursor: zoom-in;\n`\n\nconst DialogImg = styled.img`\n    max-height: calc(100vh - 64px);\n`\n","import {AccordionDetails, AccordionSummary, Accordion as MuiAccordion, AccordionProps as MuiAccordionProps} from \"@material-ui/core\";\nimport {ChevronDownIcon} from \"./icons\";\nimport React from \"react\";\n\nexport interface AccordionProps extends MuiAccordionProps {\n    header: React.ReactNode\n}\n\nexport const Accordion: React.FC<AccordionProps> = props => {\n    return (\n        <MuiAccordion elevation={0} {...props}>\n            <AccordionSummary expandIcon={<ChevronDownIcon />}>\n                {props.header}\n            </AccordionSummary>\n            <AccordionDetails>\n                {props.children}\n            </AccordionDetails>\n        </MuiAccordion>\n    )\n}","import { FOLLOW_USER, UNFOLLOW_USER } from '../constants'\nimport { client } from 'redux-socket-client'\n\nexport const followUser = client((target: string) => ({\n    type: FOLLOW_USER,\n    payload: { target },\n}))\n\nexport const unFollowUser = client((target: string) => ({\n    type: UNFOLLOW_USER,\n    payload: { target },\n}))\n","import { useEffect } from 'react'\nimport { useLocation } from 'react-router-dom'\n\nexport const useScrollToHash = () => {\n    const { hash } = useLocation()\n    useEffect(() => {\n        if (hash) {\n            const id = hash.replace('#', '')\n            const element = document.getElementById(id)\n\n            if (element) {\n                setTimeout(() => {\n                    element.scrollIntoView({ behavior: 'smooth' })\n                })\n            }\n        }\n    }, [hash])\n}\n\nexport const ScrollToHash = () => {\n    useScrollToHash()\n    return null\n}\n","import React, { Dispatch, useCallback, useEffect, useReducer, useState } from 'react'\nimport { Grid, Stack } from 'components/layout'\nimport { ManagementModalContentProps, ManagementModalTitle } from './ManagementModal'\nimport { MutationResult, useMutation, useQueryCache } from 'react-query'\nimport { ActivityEvent } from '../../events/activity-events/types/activityEventTypes'\nimport { Text } from 'components/Text'\nimport { Button } from 'components/Button'\nimport { useManagementContext } from '../helpers/managementContext'\nimport { DialogActions, DialogSecondaryButton } from 'components/dialog'\nimport { CheckBox } from '../../../components/form'\nimport { CheckIcon, CloseIcon } from '../../../components/icons'\nimport { CircularProgress } from '@material-ui/core'\nimport { useEvents } from '../../events/useEvents'\nimport { useUserState } from 'contexts/UserContext'\n\nexport type ManagementMutationFunction<TData> = (data: TData) => Promise<TData>\n\nexport interface ManagementMutationConfiguration {\n    primaryField?: string\n    displayTargetAs?: string\n    displayTargetAsPlural?: string\n    crudKind?: string\n    allowFiltering?: boolean\n    invalidateQueries?: (string | any[])[]\n}\n\nexport interface ManagementMutation<TData> {\n    configuration: ManagementMutationConfiguration\n    mutate: ManagementMutationFunction<TData>\n}\n\nexport interface SingleManagementMutationTask<TData> {\n    type: 'single'\n    kind: string\n    data: TData\n}\n\nexport interface BatchManagementMutationTask<TData> {\n    type: 'batch'\n    kind: string\n    data: TData[]\n}\n\nexport type ManagementMutationTask<TData> = SingleManagementMutationTask<TData> | BatchManagementMutationTask<TData>\n\nconst MUTATIONS: Record<string, ManagementMutation<any>> = {}\n\nconst CRUD_TO_FILTERING: Record<string, boolean> = {\n    create: true,\n    update: false,\n    delete: true,\n}\nconst CRUD_TO_LABEL: Record<string, string> = {\n    create: 'created',\n    update: 'updated',\n    patch: 'updated',\n    delete: 'deleted',\n}\n\nexport const registerManagementMutationTask: <TData>(\n    kind: string,\n    configuration: ManagementMutationConfiguration,\n    mutation: ManagementMutationFunction<TData>,\n) => void = (kind, configuration, mutation) => {\n    MUTATIONS[kind] = MUTATIONS[kind] || { configuration, mutate: mutation }\n}\n\nconst AsyncIdentity = async (x: any) => x\n\nconst reduceSelected = (selected: boolean[], action: { index: number; value: boolean }) => {\n    const newSelected = [...selected]\n    newSelected[action.index] = action.value\n    return newSelected\n}\n\ninterface WrappedMutateResult {\n    status: 'loading' | 'success' | 'error' | 'idle'\n    error?: any\n    data?: any\n}\n\nconst reduceResults = (\n    results: WrappedMutateResult[],\n    action: { index: number; result: WrappedMutateResult | WrappedMutateResult[] },\n) => {\n    if (Array.isArray(action.result)) return action.result\n\n    const newResults = [...results]\n    newResults[action.index] = { ...action.result }\n    return newResults\n}\n\nconst handleMutate = (\n    mutate: Promise<MutationResult<ActivityEvent>>,\n    index: number,\n    dispatch: Dispatch<{ index: number; result: WrappedMutateResult | WrappedMutateResult[] }>,\n) => {\n    const result: WrappedMutateResult = {\n        status: 'loading',\n    }\n\n    dispatch({ index, result })\n\n    mutate\n        .then(output => {\n            result.status = output.status || 'success'\n            result.data = output.data\n            result.error = output.error\n            dispatch({ index, result })\n        })\n        .catch(error => {\n            result.status = 'error'\n            result.error = error\n            dispatch({ index, result })\n        })\n}\n\nexport const MutationTaskManagementModalContent: React.FC<ManagementModalContentProps<ManagementMutationTask<any>>> = ({\n    modal,\n}) => {\n    const mutation = MUTATIONS[modal.data.kind]\n    const [mutate] = useMutation(mutation?.mutate || AsyncIdentity, {})\n    const entries = modal.data.type === 'single' ? [modal.data.data] : modal.data.data\n    const [selection, updateSelection] = useReducer(\n        reduceSelected,\n        entries.map(() => true),\n    )\n    const [results, updateResults] = useReducer(reduceResults, [])\n    const { closeModal } = useManagementContext()\n    const [done, setDone] = useState(false)\n    const queryCache = useQueryCache()\n\n    const hasSelected = selection.some(x => x)\n    const selectedEntries = entries.filter((_, i) => selection[i])\n\n    const inProgress = !!results.length\n    const allReady = inProgress && results.every(result => result?.status === 'success' || result?.status === 'error')\n\n    const user = useUserState()\n    const { initEvents } = useEvents()\n\n    useEffect(() => {\n        if (allReady) {\n            ;(async () => {\n                if (mutation && mutation.configuration.invalidateQueries?.length) {\n                    await Promise.all(\n                        mutation.configuration.invalidateQueries.map(query => queryCache.invalidateQueries(query)),\n                    )\n                    await initEvents(user)\n                }\n                setDone(true)\n            })()\n        }\n    }, [allReady, queryCache, mutation, initEvents, user])\n\n    const handleConfirm = useCallback(async () => {\n        if (!mutation) return\n        if (modal.data.type === 'single') {\n            handleMutate(mutate(modal.data.data), 0, updateResults)\n        } else {\n            const filteredData = modal.data.data.filter((_, i) => selection[i])\n            for (let i = 0; i < filteredData.length; i++) {\n                const entry = filteredData[i]\n                handleMutate(mutate(entry), i, updateResults)\n            }\n        }\n    }, [mutate, modal.data.data, modal.data.type, selection, mutation])\n\n    useEffect(() => {\n        if (mutation && modal.data.type === 'single') {\n            handleConfirm().then(() => {})\n        }\n    }, [mutation, modal.data.type, handleConfirm])\n\n    if (!mutation)\n        return (\n            <Stack spacing={5} margin={4}>\n                <h2>Missing mutation for {modal.data.kind}</h2>\n            </Stack>\n        )\n\n    const allowFiltering =\n        modal.data.type !== 'single' &&\n        !inProgress &&\n        (typeof mutation.configuration.allowFiltering === 'boolean'\n            ? mutation.configuration.allowFiltering\n            : CRUD_TO_FILTERING[mutation.configuration.crudKind || 'update'])\n\n    const activeEntries = inProgress ? selectedEntries : entries\n\n    return (\n        <>\n            <Stack spacing={5} margin={4}>\n                {modal.data.type !== 'single' && (\n                    <ManagementModalTitle\n                        title={`Confirm Batch ${mutation.configuration.crudKind || 'Operation'}`}\n                        subTitle={mutation.configuration.displayTargetAs || modal.data.kind}\n                    />\n                )}\n                {modal.data.type === 'single' && (\n                    <ManagementModalTitle\n                        title={`${mutation.configuration.crudKind || 'Operation'} ${\n                            mutation.configuration.displayTargetAs || modal.data.kind\n                        }`}\n                    />\n                )}\n                {!inProgress && (\n                    <Text>\n                        <strong>\n                            Once confirmed, the {allowFiltering ? 'selected' : 'following'}{' '}\n                            {mutation.configuration.displayTargetAsPlural ||\n                                `${mutation.configuration.displayTargetAs || modal.data.kind} entries`}{' '}\n                            will be {CRUD_TO_LABEL[mutation.configuration.crudKind || 'update']}:\n                        </strong>\n                    </Text>\n                )}\n                {inProgress && !done && (\n                    <Text>\n                        <strong>Please wait, processing...</strong>\n                    </Text>\n                )}\n                {done && (\n                    <Text>\n                        <strong>\n                            Operation completed, the following{' '}\n                            {mutation.configuration.displayTargetAsPlural ||\n                                `${mutation.configuration.displayTargetAs || modal.data.kind} entries`}{' '}\n                            have been {CRUD_TO_LABEL[mutation.configuration.crudKind || 'update']}:\n                        </strong>\n                    </Text>\n                )}\n                <Grid container spacing={2}>\n                    {activeEntries.map((entry, i) => {\n                        const result = results[i]\n                        const label = mutation.configuration.primaryField\n                            ? entry[mutation.configuration.primaryField]\n                            : `Entry ${i + 1}`\n\n                        return (\n                            <React.Fragment key={`${label}-${i}`}>\n                                {allowFiltering && (\n                                    <Grid item xs={12}>\n                                        <CheckBox\n                                            label={label}\n                                            checked={selection[i]}\n                                            onChange={e => updateSelection({ index: i, value: e.target.checked })}\n                                        />\n                                    </Grid>\n                                )}\n                                {!allowFiltering && (\n                                    <Grid item xs={inProgress ? 10 : 12}>\n                                        <Text>{label}</Text>\n                                    </Grid>\n                                )}\n                                {inProgress && (\n                                    <Grid item xs={2}>\n                                        {result?.status === 'success' && <CheckIcon />}\n                                        {result?.status === 'error' && <CloseIcon />}\n                                        {(!result || result.status === 'loading') && (\n                                            <CircularProgress size={20} thickness={5} />\n                                        )}\n                                    </Grid>\n                                )}\n                            </React.Fragment>\n                        )\n                    })}\n                </Grid>\n            </Stack>\n            {!inProgress && (\n                <DialogActions>\n                    <DialogSecondaryButton onClick={() => closeModal(modal.key)}>Cancel</DialogSecondaryButton>\n                    <Button onClick={handleConfirm} disabled={!hasSelected}>\n                        Confirm Operation\n                    </Button>\n                </DialogActions>\n            )}\n            {inProgress && (\n                <DialogActions>\n                    <Button onClick={() => closeModal(modal.key)} disabled={!done}>\n                        Done\n                    </Button>\n                </DialogActions>\n            )}\n        </>\n    )\n}\n","import React from 'react'\nimport { MinimalAccount } from 'lib/api'\nimport { Project, createProjectThumbnailUrl } from 'features/projects'\nimport { ProjectCardUser } from 'features/projects/card/ProjetCardUser'\nimport styled from 'styled-components/macro'\nimport { MiniQuizCardMetadata } from './MiniQuizCardMetadata'\nimport { ProjectStripe } from 'features/projects/stripe'\nimport { Theme, useMediaQuery } from '@material-ui/core'\n\ninterface MyMiniQuizCardProps {\n    project: Project\n    user?: MinimalAccount\n}\n\nexport const PublicMiniQuizCard: React.FC<MyMiniQuizCardProps> = ({ project, user }) => {\n    const isSmallScreen = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'), { noSsr: true })\n\n    return (\n        <ProjectStripe\n            thumbnailUrl={createProjectThumbnailUrl(project.file.id, 'production')}\n            title={project.file.title ?? ''}\n            actions={\n                isSmallScreen ? null : (\n                    <>\n                        <StyledProjectCardUser user={user} />\n                        <MiniQuizCardMetadata project={project} variant=\"production\" />\n                    </>\n                )\n            }\n            to={`/app/project/${project.file.id}`}\n        />\n    )\n}\n\nconst StyledProjectCardUser = styled(ProjectCardUser)`\n    text-align: left;\n    padding-right: ${props => props.theme.spacing(6)};\n    border-right: ${props => `1px solid ${props.theme.palette.divider}`};\n`\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { HighScoreGame } from './highScoreGames'\nimport { HighScoreGameThumbnail } from './HighScoreGameThumbnail'\n\ninterface HighScoreGameThumbnailLinkProps {\n    highlighted?: boolean\n    game: HighScoreGame\n}\n\nexport const HighScoreGameThumbnailLink: React.FC<HighScoreGameThumbnailLinkProps> = ({\n    highlighted = false,\n    game,\n}) => {\n    return (\n        <Root $highlighted={highlighted} to={`/app/high-score/${game.projectId}`}>\n            <HighScoreGameThumbnail game={game} />\n        </Root>\n    )\n}\n\nconst Root = styled(Link)<{ $highlighted?: boolean }>`\n    display: inline-block;\n    text-decoration: none;\n    color: inherit;\n    &:hover,\n    &:focus-visible {\n        video,\n        image {\n            filter: grayscale(0) brightness(1.25);\n            transform: ${props => (props.$highlighted ? undefined : 'scale(1.05)')};\n        }\n    }\n`\n","import { ActionCard } from 'components/action-card'\nimport { Card, CardContent } from 'components/card'\nimport { Img } from 'components/Img'\nimport { Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { LockedChallengeOverlay } from 'features/limited-accounts'\nimport { LocalisationKey } from 'lib/i18n'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { Trans } from 'react-i18next'\nimport styled, { css } from 'styled-components/macro'\nimport { QuizSetWithEmbeddedTemplates } from '../QuizApi'\nimport fallbackThumbnail from './fallback-thumbnail.png'\n\ntype NormalizedQuizSets = Omit<QuizSetWithEmbeddedTemplates, 'templates'> & {\n    templates: { id: string; isFinished: boolean }[]\n}\n\ninterface HomeQuizCardProps {\n    set: NormalizedQuizSets\n}\n\nexport const HomeQuizCard: React.FC<HomeQuizCardProps> = ({ set }) => {\n    const t = useTranslate()\n\n    const progress = (() => {\n        let value = 0\n        set.templates.forEach(template => {\n            if (template.isFinished) {\n                value++\n            }\n        })\n        return value\n    })()\n\n    const body = (\n        <>\n            <LockedChallengeOverlay isLocked={set.locked} grant={set.grantRequiredToUnlock}>\n                <ThumbnailWrap>\n                    <Thumbnail src={set.thumbnail || fallbackThumbnail} />\n                </ThumbnailWrap>\n            </LockedChallengeOverlay>\n            <CardContent>\n                <Stack spacing={2}>\n                    <div>\n                        {set.tags && (\n                            <Text variant=\"body2\" color=\"textSecondary\">\n                                {set.tags.map(tag => t(tag as LocalisationKey)).join(', ')}\n                            </Text>\n                        )}\n                        <Text variant=\"h3\">{t(set.name as LocalisationKey)}</Text>\n                    </div>\n                    <Progress max={set.templates.length} value={progress} />\n                    <Text variant=\"body2\">\n                        <Trans\n                            i18nKey=\"quiz::nCompleted\"\n                            values={{\n                                value: progress,\n                                max: set.templates.length,\n                            }}\n                            components={{\n                                strong: <strong />,\n                            }}\n                        />\n                    </Text>\n                </Stack>\n            </CardContent>\n        </>\n    )\n\n    return set.locked ? (\n        <StyledCard>{body}</StyledCard>\n    ) : (\n        <StyledActionCard type=\"link\" to={`/app/challenges/quizzes/${set.id}`}>\n            {body}\n        </StyledActionCard>\n    )\n}\n\nconst ThumbnailWrap = styled.div`\n    overflow: hidden;\n`\n\nconst Thumbnail = styled(Img)`\n    display: block;\n    height: 200px;\n    width: 100%;\n    object-fit: cover;\n    transition: transform ${props => props.theme.transitions.duration.standard}ms;\n    background-color: ${props => props.theme.palette.divider};\n`\n\nconst cardStyles = css`\n    height: 100%;\n`\n\nconst StyledCard = styled(Card)`\n    ${cardStyles}\n`\n\nconst StyledActionCard = styled(ActionCard)`\n    ${cardStyles}\n    &:hover,\n    &:focus-visible {\n        ${Thumbnail} {\n            transform: scale(1.05);\n        }\n    }\n` as typeof ActionCard\n\nconst Progress: React.FC<{ max: number; value: number }> = ({ value, max }) => {\n    return (\n        <ProgressRoot>\n            <DotWrap>\n                {new Array(max - 1).fill(true).map((_, i) => (\n                    <Tick key={i} />\n                ))}\n            </DotWrap>\n            <ProgressInner style={{ width: `${(value / max) * 100}%` }} />\n        </ProgressRoot>\n    )\n}\n\nconst ProgressRoot = styled.div`\n    position: relative;\n    height: 0.75rem;\n    background-color: ${props => props.theme.palette.divider};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    overflow: hidden;\n`\nconst ProgressInner = styled.div`\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    background-color: ${props => props.theme.palette.primary.main};\n`\n\nconst DotWrap = styled.div`\n    position: absolute;\n    display: flex;\n    justify-content: space-evenly;\n    width: 100%;\n`\n\nconst Tick = styled.div`\n    width: 1px;\n    height: 50px;\n    background-color: ${props => props.theme.palette.background.paper};\n`\n","import { Divider } from 'components/Divider'\nimport React from 'react'\nimport { useProjectModalContext } from '../modal/projectModalContext'\nimport { ProjectModalDescription } from '../modal/ProjectModalDescription'\n\nexport const ProjectDetailsDescription: React.FC = () => {\n    const { project, variant } = useProjectModalContext()\n\n    if (variant === null) {\n        return null\n    }\n\n    const details = project?.metadata.details?.[variant]\n\n    return (\n        <>\n            {!!details && <Divider />}\n            <ProjectModalDescription>{details}</ProjectModalDescription>\n            <Divider />\n        </>\n    )\n}\n","import { useUserState } from 'contexts/UserContext'\nimport { api } from 'lib/api'\nimport * as React from 'react'\nimport { Project } from './store'\n\nconst TIMEOUT = 3000\n\nexport const useIncrementProjectViewCount = (project?: Project) => {\n    const { account } = useUserState()\n    const { id: userId } = account\n    const [isUpdated, setIsUpdated] = React.useState<boolean>(false)\n\n    React.useEffect(() => {\n        let ignore = false\n        if (project?.file.id && project.file.owner !== undefined && project.file.owner !== userId) {\n            setTimeout(() => {\n                if (!ignore) {\n                    api.projects.incrementProjectViewCount(project.file.id)\n                    setIsUpdated(true)\n                }\n            }, TIMEOUT)\n        }\n        return () => {\n            ignore = true\n        }\n    }, [userId, project?.file.id, project?.file.owner, project?.file.shared])\n\n    return isUpdated\n}\n","import React from 'react'\nimport { Link, LinkProps } from 'react-router-dom'\nimport styled from 'styled-components/macro'\n\ninterface BaseProps {\n    src: string\n    alt?: string\n    badges?: React.ReactNode\n    outerBadges?: React.ReactNode\n    turnsGray?: boolean\n    onClick?: any\n}\n\n// 'href' or 'to', but not both of them\ntype ProjectCardImageProps =\n    | (BaseProps & {\n          to?: LinkProps['to']\n          href?: never\n      })\n    | (BaseProps & {\n          href?: string\n          to?: never\n      })\n\nexport const ProjectCardImage: React.FC<ProjectCardImageProps> = ({\n    src,\n    alt,\n    badges,\n    to,\n    href,\n    onClick,\n    outerBadges: clickableBadges,\n    turnsGray,\n}) => {\n    const body = (\n        <>\n            {badges}\n            <Img loading=\"lazy\" width=\"640\" height=\"360\" src={src} alt={alt} $turnsGray={turnsGray} />\n        </>\n    )\n\n    const container = (() => {\n        if (href) {\n            return (\n                <ProjectCardImageRoot as=\"a\" href={href} onClick={onClick} target=\"_blank\">\n                    {body}\n                </ProjectCardImageRoot>\n            )\n        }\n\n        if (to) {\n            return (\n                <ProjectCardImageRoot as={Link} to={to} onClick={onClick}>\n                    {body}\n                </ProjectCardImageRoot>\n            )\n        }\n\n        return <ProjectCardImageRoot>{body}</ProjectCardImageRoot>\n    })()\n\n    return (\n        <ProjectCardImageWrapper>\n            {clickableBadges}\n            {container}\n        </ProjectCardImageWrapper>\n    )\n}\n\nconst RATIO = 360 / 640\n\nexport const ProjectCardImageRoot = styled.div`\n    display: block;\n    position: relative;\n    height: 0;\n    padding-bottom: ${RATIO * 100}%;\n    overflow: hidden;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    will-change: transform;\n    &:hover {\n        > img {\n            transform: scale(1.05);\n            filter: brightness(1.05);\n        }\n    }\n`\n\nconst Img = styled.img<{ $turnsGray: boolean | undefined }>`\n    position: absolute;\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n    display: block;\n    max-width: 100%;\n    background-color: ${props => props.theme.palette.divider};\n    transition: all ${props => props.theme.transitions.duration.standard}ms cubic-bezier(0.68, -0.6, 0.32, 1.6);\n    ${props => (props.$turnsGray ? 'filter:grayscale(1)' : undefined)}\n`\n\nconst ProjectCardImageWrapper = styled.div`\n    position: relative;\n`\n","import io from 'socket.io-client'\nimport { Store } from 'redux'\nimport { connectToSharedStore } from 'redux-socket-client'\nimport { StoreState } from 'lib/store'\nimport { runtimeEnv } from 'utils/env'\n\nlet WSURL = runtimeEnv.REACT_APP_LIVEOPS_URL || 'https://live.dev.scoolcode.com'\nif (WSURL === 'https://live.scoolcode.com') {\n    WSURL =\n        window.location.origin === 'https://my.logiscool.com'\n            ? 'https://live.logiscool.com'\n            : 'https://live.scoolcode.com'\n}\n\nexport function initLiveops(accessToken: string, store: Store<StoreState>) {\n    try {\n        // NOTE: unfortunately, we have no pingInterval neither pingTimeout at client-side\n        // those options are set at server side only\n        const socketManager = new io.Manager(WSURL, {\n            transports: ['websocket'],\n            reconnection: true,\n            reconnectionAttempts: Infinity,\n            reconnectionDelay: 1000, // how long to initially wait before attempting a new reconnection (1000). Affected by +/- randomizationFactor, for example the default initial delay will be between 500 to 1500ms.\n            reconnectionDelayMax: 5000, // maximum amount of time to wait between reconnections (5000). Each attempt increases the reconnection delay by 2x along with a randomization as above\n            randomizationFactor: 0.5, // 0 <= randomizationFactor <= 1\n            timeout: 10000, // connection timeout before a connect_error and connect_timeout events are emitted\n            autoConnect: true, // by setting this false, you have to call manager.open whenever you decide it’s appropriate\n        })\n        const socket = socketManager.socket('/') // TODO what is this namespace for??\n        socket.on('connect', () => {\n            // includes reconnect\n            console.log('socket connected')\n            socket.emit('authentication', {\n                accessToken,\n                segments: 'universe',\n                sessionId: store.getState()?.client?.session?.id ?? null,\n            })\n        })\n        socket.on('reconnect', () => {\n            // includes reconnect\n            console.log('socket reconnected')\n        })\n        socket.on('disconnect', () => {\n            // includes reconnect\n            console.log('socket disconnected')\n        })\n        socket.on('error', (err: string) => {\n            console.error('socket error', err)\n        })\n\n        store.dispatch(connectToSharedStore(socket))\n    } catch (e) {\n        console.error(e)\n    }\n}\n","import { client } from 'redux-socket-client'\nimport { LOAD_ACHIEVEMENTS } from '../constants'\n\nexport const loadAchievements = client(() => ({\n    type: LOAD_ACHIEVEMENTS,\n    payload: {},\n    subscribe: true,\n}))\n","import { api, MinimalAccount } from 'lib/api'\nimport { StoreState } from 'lib/store'\nimport { Middleware } from 'redux'\nimport { PRESENT } from 'redux-socket-client'\nimport {\n    loadInventory,\n    requestCommonStats,\n    loadNotifications,\n    requestWelcomeNotification,\n    enableLeaderboard,\n    disableLeaderboard,\n    incrementActivityScore,\n    requestStats,\n} from './actions'\nimport {\n    ACHIEVEMENTS,\n    DISABLE_ALL_LEADERBOARDS_FOR_PROJECT,\n    LEADERBOARD,\n    LEADERBOARD_FETCHED,\n    LEADERBOARD_VERSION,\n} from './constants'\nimport { FetchedLeaderboard, Leaderboard } from './models'\nimport { loadAchievements } from './actions/achievement'\nimport { AchievementWithMetadata } from './reducers/client/achievement'\nimport { filterNulls } from 'utils/arrayUtilts'\n\nlet requestedWelcome = false\n\nexport const liveopsMiddleware: Middleware =\n    ({ dispatch, getState }) =>\n    next =>\n    action => {\n        if (action.type === PRESENT) {\n            dispatch(requestCommonStats())\n            dispatch(loadInventory())\n            dispatch(loadAchievements())\n            dispatch(loadNotifications())\n\n            if (!requestedWelcome) {\n                requestedWelcome = true\n                dispatch(requestWelcomeNotification())\n                dispatch(incrementActivityScore('auth:login'))\n            }\n        }\n        if (action.type === LEADERBOARD) {\n            fetchLeaderboard(action.payload.leaderboard).then(leaderboard => {\n                dispatch({ type: LEADERBOARD_FETCHED, payload: { leaderboard } })\n            })\n        }\n        if (action.type === LEADERBOARD_VERSION) {\n            const prev = action.payload.latest - 1\n            if (prev) {\n                dispatch(enableLeaderboard(action.payload.group, action.payload.stat, '' + prev))\n            }\n            dispatch(enableLeaderboard(action.payload.group, action.payload.stat))\n        }\n        if (action.type === DISABLE_ALL_LEADERBOARDS_FOR_PROJECT) {\n            const state: StoreState = getState()\n            for (const board of Object.values(state.shared.stats.leaderboard)) {\n                if (board && board.group.includes(action.payload.projectId)) {\n                    dispatch(disableLeaderboard(board.group, board.stat, board.version))\n                }\n            }\n        }\n        if (action.type === ACHIEVEMENTS) {\n            const stats = action.payload.achievements\n                .map((item: AchievementWithMetadata) => {\n                    if (item.achievement.unlock.group && item.achievement.unlock.stat) {\n                        return {\n                            group: item.achievement.unlock.group,\n                            stat: item.achievement.unlock.stat,\n                        }\n                    }\n                    return null\n                })\n                .filter(filterNulls)\n\n            dispatch(requestStats(stats))\n        }\n        next(action)\n    }\n\nasync function fetchLeaderboard(lb: Leaderboard): Promise<FetchedLeaderboard> {\n    if (lb.items.length === 0) {\n        return {\n            ...lb,\n            items: [],\n        }\n    }\n\n    const users = await api.accounts.getUsers(lb.items.map(({ owner }) => owner))\n    const usersById = users.reduce<Record<string, MinimalAccount>>((prev, curr) => {\n        prev[curr.id] = curr\n        return prev\n    }, {})\n\n    return {\n        ...lb,\n        items: lb.items.filter(item => usersById[item.owner]).map(item => ({ ...item, owner: usersById[item.owner] })),\n    }\n}\n","import { Reducer } from 'redux'\nimport { PRESENT } from 'redux-socket-client'\nimport { InventoryItem } from '../../models'\nimport { produce } from 'immer'\nimport * as InventoryActions from '../../actions/inventory'\nimport { ActionType } from 'typesafe-actions'\nimport { CAST_VOTE_REQUEST, ADD_TO_INVENTORY, REMOVE_FROM_INVENTORY, INVENTORY } from 'lib/liveops/constants'\n\nexport type InventoryAction = ActionType<typeof InventoryActions>\nexport type InventoryState = InventoryItem[] | null\nconst transactionToItem: Record<string, string> = {}\ntype InventoryTransactionAction = {\n    payload: {\n        target: string\n        status?: 'done' | 'error'\n    }\n    meta: {\n        context: any\n        transaction: string\n    }\n}\n\nfunction handleInventoryTransaction(\n    state: InventoryState,\n    action: InventoryTransactionAction,\n    sucessRecipe: (item: string) => (state: InventoryState) => void,\n    errorRecipe: (item: string) => (state: InventoryState) => void,\n) {\n    let { target, status } = action.payload\n    const { transaction, context } = action.meta\n    if (status) {\n        target = transactionToItem[transaction]\n\n        if (target) {\n            if (status === 'done') {\n                delete transactionToItem[transaction]\n            } else if (status === 'error') {\n                delete transactionToItem[transaction]\n                console.error(CAST_VOTE_REQUEST, context.error)\n\n                //TODO: Handle errors\n                return produce(state, errorRecipe(target))\n            }\n        }\n    } else {\n        transactionToItem[transaction] = target\n        return produce(state, sucessRecipe(target))\n    }\n    return state\n}\n\nexport const inventoryReducer: Reducer<InventoryState, InventoryAction> = (state = null, action) => {\n    switch (action.type) {\n        case CAST_VOTE_REQUEST: {\n            return handleInventoryTransaction(\n                state,\n                action,\n                inventoryItem => draft => {\n                    if (draft) {\n                        draft.push({\n                            id: 'CLIENT_ONLY',\n                            item: 'CLIENT_ONLY',\n                            kind: 'vote',\n                            metadata: {\n                                target: inventoryItem,\n                            },\n                            name: 'CLIENT_ONLY',\n                            catalog: 'CLIENT_ONLY',\n                            createdAt: new Date(),\n                        })\n                    }\n                },\n                inventoryItem => draft => {\n                    if (draft) {\n                        const index = draft.findIndex(\n                            item =>\n                                item.id === 'CLIENT_ONLY' && item.metadata && item.metadata.target === inventoryItem,\n                        )\n                        if (index !== -1) {\n                            draft.splice(index, 1)\n                        }\n                    }\n                },\n            )\n        }\n        case ADD_TO_INVENTORY:\n            if (state) {\n                return [...state, action.payload.item]\n            }\n            return state\n        case REMOVE_FROM_INVENTORY:\n            if (state) {\n                return state.filter(item => item.id !== action.payload.item.id)\n            }\n            return state\n        case INVENTORY:\n            return action.payload.inventory\n        case PRESENT:\n            return null\n        default:\n            return state\n    }\n}\n","import { StatisticName } from 'lib/liveops/actions'\nimport { SET_STATISTIC, STATISTIC } from 'lib/liveops/constants'\nimport { Reducer } from 'redux'\nimport { PRESENT } from 'redux-socket-client'\nimport { PartialRecord } from 'utils/typeUtils'\n\nexport type StatisticState = PartialRecord<StatisticName, number>\n\nfunction statName({ group, stat }: any) {\n    const statName = `${group}:${stat}` as StatisticName\n    return statName\n}\n\nexport const statisticReducer: Reducer<StatisticState> = (state = {}, { type, payload = {} }) => {\n    switch (type) {\n        case STATISTIC:\n            return { ...state, [statName(payload)]: payload.value }\n        case SET_STATISTIC:\n            return { ...state, [statName(payload)]: payload.value }\n        case PRESENT:\n            return {}\n        default:\n            return state\n    }\n}\n","import { Reducer } from 'redux'\nimport { Notification, NOTIFICATION_TYPES } from 'lib/liveops/models/notification'\nimport {\n    READ_NOTIFICATION,\n    NOTIFICATIONS,\n    PUSH_NOTIFICATION,\n    MARK_ALL_NOTIFICATION_AS_DISPLAYED,\n    MARK_NOTIFICATION_AS_DISPLAYED,\n} from 'lib/liveops/constants'\nimport produce from 'immer'\nimport dayjs from 'dayjs'\nimport duration from 'dayjs/plugin/duration'\ndayjs.extend(duration)\n\nexport interface NotificationsState {\n    byId: Record<string, Notification>\n    allIds: string[] | undefined\n    welcomeStats: {\n        views?: number\n        cookies?: number\n        goldenCookies?: number\n        likes?: number\n        follows?: number\n    } | null\n}\n\nconst InitialNotificationsState: NotificationsState = {\n    byId: {},\n    allIds: undefined,\n    welcomeStats: null,\n}\n\nconst GENERATED = 'generated-'\n\nexport function isGeneratedId(id: string) {\n    return id.startsWith(GENERATED)\n}\n\nexport const generateId = () => GENERATED + Math.random().toString(36).substr(2, 9)\n\nconst isValidNotificationType = (notification: Notification) =>\n    NOTIFICATION_TYPES.includes(notification.message.data.type)\n\nlet requestedNotifications = false\n\nexport const notificationsReducer: Reducer<NotificationsState> = (\n    state = InitialNotificationsState,\n    { type, payload = {} },\n) => {\n    switch (type) {\n        case NOTIFICATIONS: {\n            if (!payload.notifications || requestedNotifications) {\n                return state\n            }\n            requestedNotifications = true\n            return produce(state, draft => {\n                // for some reason sometimes there's an empty array in the payload\n                const notifications: Notification[] = payload.notifications\n                    .filter((noti: Notification) => Array.isArray(noti) === false)\n                    .filter(isValidNotificationType)\n\n                notifications.forEach(noti => {\n                    draft.byId[noti.id] = noti\n                })\n\n                draft.allIds\n                    ? draft.allIds.unshift(...notifications.map(noti => noti.id))\n                    : (draft.allIds = notifications.map(noti => noti.id))\n            })\n        }\n\n        case PUSH_NOTIFICATION: {\n            return produce(state, draft => {\n                if (isValidNotificationType(payload.notification)) {\n                    const id = payload.notification.id || generateId()\n                    draft.byId[id] = payload.notification\n                    draft.allIds?.unshift(id)\n                }\n                if (payload.notification.message.data.type === 'WELCOME_STATS') {\n                    draft.welcomeStats = payload.notification.message.data.payload\n                }\n            })\n        }\n\n        case READ_NOTIFICATION: {\n            return produce(state, draft => {\n                const notification = draft.byId[payload.id]\n                if (notification) {\n                    notification.read = true\n                }\n            })\n        }\n\n        case MARK_NOTIFICATION_AS_DISPLAYED:\n            return produce(state, draft => {\n                const notification = draft.byId[payload.id]\n                if (notification) {\n                    notification.displayed = true\n                }\n            })\n\n        case MARK_ALL_NOTIFICATION_AS_DISPLAYED: {\n            return produce(state, draft => {\n                draft.allIds?.forEach(id => {\n                    draft.byId[id].displayed = true\n                })\n            })\n        }\n\n        default:\n            return state\n    }\n}\n","import { combineReducers } from 'redux'\nimport { currencyReducer as currency, CurrencyState } from './currency'\nimport { inventoryReducer as inventory, InventoryState } from './inventory'\nimport { statisticReducer as statistics, StatisticState } from './statistic'\nimport { readyReducer as ready, ReadyState } from './ready'\nimport { voteReducer as vote, VoteState } from './vote'\nimport { sessionReducer as session, SessionState } from './session'\nimport { notificationsReducer as notifications, NotificationsState } from './notifications'\nimport { achievementsReducer as achievements, AchievementsState } from './achievement'\n\ninterface ClientState {\n    currency: CurrencyState\n    inventory: InventoryState\n    statistics: StatisticState\n    ready: ReadyState\n    vote: VoteState\n    session: SessionState\n    notifications: NotificationsState\n    achievements: AchievementsState\n}\n\nexport const clientReducer = combineReducers<ClientState>({\n    currency,\n    inventory,\n    statistics,\n    ready,\n    vote,\n    session,\n    notifications,\n    achievements,\n})\n","import { SET_CURRENCY, SET_CURRENCY_REFILL } from 'lib/liveops/constants'\nimport { Reducer } from 'redux'\nimport { PRESENT } from 'redux-socket-client'\n\nexport interface CurrencyValue {\n    value: number | null\n    refillsAt?: string\n    refillAfterMinutes?: number\n}\n\nexport interface CurrencyState {\n    cookie: CurrencyValue\n    'golden-cookie': CurrencyValue\n}\n\nexport type CurrencyName = keyof CurrencyState\n\nexport const currencyReducer: Reducer<CurrencyState> = (\n    state = { cookie: { value: null }, 'golden-cookie': { value: null } },\n    { type, payload = {} },\n) => {\n    switch (type) {\n        case SET_CURRENCY:\n            return {\n                ...state,\n                [payload.currency]: { ...((state as any)[payload.currency] || {}), value: payload.value },\n            }\n        case SET_CURRENCY_REFILL:\n            return {\n                ...state,\n                [payload.currency]: { ...((state as any)[payload.currency] || {}), refillsAt: payload.refillsAt },\n            }\n        case PRESENT:\n            return payload.state.client.currency\n        default:\n            return state\n    }\n}\n","import { Reducer } from 'redux'\nimport { PRESENT } from 'redux-socket-client'\n\nexport interface ReadyState {\n    app: number\n}\n\nexport const readyReducer: Reducer<ReadyState> = (state = { app: 0 }, { type }) => {\n    switch (type) {\n        case PRESENT:\n            return { ...state, app: state.app + 1 }\n\n        default:\n            return state\n    }\n}\n","import { Reducer } from 'redux'\nimport { CAST_VOTE_REQUEST } from '../../constants'\nimport produce from 'immer'\n\nexport interface VoteState {\n    phase: 'idle' | 'begin' | 'done' | 'error'\n    target: string | null\n}\n\nexport const voteReducer: Reducer<VoteState> = (state = { phase: 'idle', target: null }, action) => {\n    switch (action.type) {\n        case CAST_VOTE_REQUEST:\n            return produce(state, draft => {\n                if (action.payload && action.payload.target) {\n                    draft.target = action.payload.target\n                    draft.phase = 'begin'\n                }\n                if (action.payload && action.payload.status) {\n                    draft.phase = action.payload.status\n                    if (action.payload.status === 'done') {\n                        //draft.target = action.payload.target\n                    }\n                }\n            })\n        default:\n            return state\n    }\n}\n","import { Reducer } from 'redux'\nimport { PRESENT } from 'redux-socket-client'\n\nexport interface SessionState {\n    id: string | null\n}\n\nexport const sessionReducer: Reducer<SessionState> = (state = { id: null }, { type, payload }) => {\n    switch (type) {\n        case PRESENT:\n            return { ...state, id: payload.state.sessionId }\n\n        default:\n            return state\n    }\n}\n","import { AnyAction, Reducer } from 'redux'\nimport { produce } from 'immer'\nimport { PRESENT } from 'redux-socket-client'\nimport { ACHIEVEMENTS, ACHIEVEMENT_CHANGED } from 'lib/liveops/constants'\n\nexport type AchievementKind = 'sticker' | 'tiered'\n\nexport interface AchievementWithMetadata {\n    achievement: {\n        id: string\n        kind: AchievementKind\n        name: string\n        description: string\n        image: string\n        group: string\n        color?: string\n        unlock: {\n            group?: string\n            stat?: string\n        }\n    }\n    metadata: {\n        level?: number\n        requiredForCurrentLevel?: number\n        requiredForNextLevel?: number\n        unlocked?: boolean\n    }\n}\n\nexport type AchievementsState = AchievementWithMetadata[] | null\n\nexport const achievementsReducer: Reducer<AchievementsState, AnyAction> = (state = null, action) => {\n    switch (action.type) {\n        case ACHIEVEMENTS:\n            return action.payload.achievements\n\n        case ACHIEVEMENT_CHANGED:\n            return produce(state, draft => {\n                if (draft) {\n                    const achievement = draft.find(item => item.achievement.id === action.payload.achievementId)\n                    if (achievement) {\n                        achievement.metadata = action.payload.metadata\n                    }\n                }\n            })\n\n        case PRESENT:\n            return null\n\n        default:\n            return state\n    }\n}\n","import { combineReducers } from 'redux'\nimport { LeaderboardState, leaderboardReducer as stats } from './leaderboard'\n\ninterface SharedState {\n    stats: LeaderboardState\n}\n\nexport const sharedReducer = combineReducers<SharedState>({\n    stats,\n})\n","import { Reducer } from 'redux'\nimport { PRESENT } from 'redux-socket-client'\nimport { FetchedLeaderboard, LeaderboardRank } from '../../models'\nimport {\n    LEADERBOARD_FETCHED,\n    SCORE_LIST,\n    LEADERBOARD_RANK,\n    LEADERBOARD_VERSION,\n    ROOMS,\n    SHARED_STATE,\n} from '../../constants'\nimport produce from 'immer'\nimport dayjs from 'dayjs'\nimport { HighScoreGame, highScoreGames } from 'features/high-score/highScoreGames'\nimport { filterNulls } from 'utils/arrayUtilts'\n\nexport interface HighScoreRoom {\n    id: string\n    secretCode: string\n    name: string\n    owner: string\n    expireAt: string\n    kind: string\n    target: string\n    game: HighScoreGame\n}\n\nexport interface LeaderboardState {\n    scoreList: Partial<Record<string, string[]>>\n    leaderboard: Partial<Record<string, FetchedLeaderboard>>\n    ranks: Partial<Record<string, LeaderboardRank>>\n    nextIncrements: Partial<Record<string, string>>\n    highScoreRooms: {\n        byId: Record<string, HighScoreRoom>\n        list: string[] | null\n    }\n}\n\nexport const leaderboardReducer: Reducer<LeaderboardState> = (\n    state = {\n        scoreList: {},\n        leaderboard: {},\n        ranks: {},\n        nextIncrements: {},\n        highScoreRooms: { byId: {}, list: null },\n    },\n    { type, payload = {} },\n) => {\n    switch (type) {\n        case ROOMS:\n            return produce(state, draft => {\n                const roomsWithGame = payload.rooms\n                    .map((room: any) => {\n                        const game = highScoreGames.find(game => game.projectId === room.target)\n                        if (!game) {\n                            return null\n                        }\n                        return {\n                            ...room,\n                            game,\n                        }\n                    })\n                    .filter(filterNulls)\n                roomsWithGame.forEach((room: any) => {\n                    draft.highScoreRooms.byId[room.id] = room\n                })\n                draft.highScoreRooms.list = roomsWithGame\n                    .sort((a: HighScoreRoom, b: HighScoreRoom) => (dayjs(a.expireAt).isAfter(b.expireAt) ? -1 : 1))\n                    .map((room: any) => room.id)\n            })\n        case SHARED_STATE:\n            return produce(state, draft => {\n                const game = highScoreGames.find(game => game.projectId === payload.state.persistent.target)\n                if (!game) {\n                    return\n                }\n                draft.highScoreRooms.byId[payload.room] = {\n                    id: payload.room,\n                    secretCode: payload.state.persistent.secretCode,\n                    name: payload.state.persistent.name,\n                    owner: payload.state.persistent.owner,\n                    expireAt: payload.state.persistent.roomExpireAt,\n                    kind: payload.state.persistent.kind,\n                    target: payload.state.persistent.target,\n                    game,\n                }\n            })\n        case LEADERBOARD_FETCHED:\n            const versionName =\n                payload.leaderboard.version === 'latest' ? 'latest' : payload.leaderboard.version ? 'prev' : 'all-time'\n            const key = `${payload.leaderboard.group}:${payload.leaderboard.stat}:${versionName}`\n            return {\n                ...state,\n                leaderboard: {\n                    ...state.leaderboard,\n                    [key]: payload.leaderboard,\n                },\n            }\n        case SCORE_LIST:\n            return {\n                ...state,\n                scoreList: {\n                    ...state.scoreList,\n                    [payload.project]: payload.scores,\n                },\n            }\n        case LEADERBOARD_RANK: {\n            const versionName = payload.version === 'latest' ? 'latest' : payload.version ? 'prev' : 'all-time'\n            const key = `${payload.group}:${payload.stat}:${versionName}`\n            return {\n                ...state,\n                ranks: {\n                    ...state.ranks,\n                    [key]: {\n                        rank: payload.rank,\n                        value: payload.value,\n                    },\n                },\n            }\n        }\n        case LEADERBOARD_VERSION: {\n            const key = `${payload.group}:${payload.stat}`\n\n            return {\n                ...state,\n                nextIncrements: {\n                    ...state.nextIncrements,\n                    [key]: payload.nextIncrementAt,\n                },\n            }\n        }\n        case PRESENT:\n        default:\n            return state\n    }\n}\n","import { StoreState, useSelector } from 'lib/store'\nimport { HighScoreRoom } from './reducers/shared/leaderboard'\n\nexport function getScoreList(state: StoreState, projectId: string): string[] | null {\n    return state.shared.stats.scoreList[projectId] ?? null\n}\n\nexport function getHighScoreRoom(state: StoreState, roomId: string): HighScoreRoom | undefined {\n    return state.shared.stats.highScoreRooms.byId[roomId]\n}\n\nexport function isLiveopsReady(state: StoreState) {\n    return state.client.ready.app\n}\n\nexport function isInventoryReady(state: StoreState) {\n    return state.client.inventory !== null\n}\n\nexport function useHasInventoryItem(itemId?: string) {\n    const inventory = useSelector(state => state.client.inventory)\n\n    if (!inventory || !itemId) {\n        return undefined\n    }\n\n    return !!inventory.find(item => item.item === itemId)\n}\n","import { useUserState } from 'contexts/UserContext'\nimport { CookieHunt } from 'features/cookie-hunt'\nimport { LockedChallengeOverlayWithBorderRadius } from 'features/limited-accounts'\nimport { grantToString } from 'lib/grants'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { getHighscoreGames } from './highScoreGames'\nimport { HighScoreGameThumbnail } from './HighScoreGameThumbnail'\nimport { HighScoreGameThumbnailLink } from './HighScoreGameThumbnailLink'\n\nexport const HighScoreGamesList: React.FC = () => {\n    const user = useUserState()\n    const games = getHighscoreGames(user)\n\n    return (\n        <Grid>\n            {games.slice(1).map((game, i) => (\n                <LockedChallengeOverlayWithBorderRadius\n                    isLocked={game.locked}\n                    key={game.projectId}\n                    grant={game.grantRequiredToUnlock ? grantToString(game.grantRequiredToUnlock) : undefined}\n                >\n                    <CookieHunt name=\"high-score-game-list\" index={i}>\n                        {game.locked ? (\n                            <HighScoreGameThumbnail game={game} />\n                        ) : (\n                            <HighScoreGameThumbnailLink game={game} />\n                        )}\n                    </CookieHunt>\n                </LockedChallengeOverlayWithBorderRadius>\n            ))}\n        </Grid>\n    )\n}\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(20rem, 1fr));\n    grid-gap: ${props => props.theme.spacing(8)};\n`\n","import React, { useState } from 'react'\nimport { Button, ButtonProps } from 'components/Button'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { createPrivateHighScoreRoom } from '../projects'\nimport { useDispatch } from 'react-redux'\nimport { Stack } from '../../components/layout'\nimport { useSelector } from '../../lib/store'\nimport { setLeaderboardLength } from 'lib/liveops'\nimport { Dialog, DialogForm, DialogPrimaryButton, DialogSecondaryButton, DialogTitle } from 'components/dialog'\nimport { Collapse } from 'components/Collapse'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport {\n    FormControl,\n    FormHelperText,\n    FormLabel,\n    ImageSelect,\n    ImageSelectOption,\n    ImageSelectOptionWrap,\n    InputAdornment,\n    TextField,\n} from 'components/form'\nimport { storeActionListener } from 'lib/store/store-action-listener'\nimport { ROOM_CREATED } from 'lib/liveops/constants'\nimport styled from 'styled-components/macro'\nimport { useForm } from 'react-hook-form'\nimport { useEffect } from 'react'\nimport { useHistory } from 'react-router'\nimport { HighScoreGameThumbnail } from './HighScoreGameThumbnail'\nimport { getHighscoreGames, HighScoreGameWithLockedFlag } from './highScoreGames'\nimport { useUserState } from 'contexts/UserContext'\n\ntype Status =\n    | { name: 'idle' }\n    | { name: 'open' }\n    | { name: 'loading'; values: FormValues }\n    | { name: 'error' }\n    | { name: 'success' }\n\ntype ButtonMode = { name: 'list-games' } | { name: 'preselected-game'; projectId: string }\ninterface CreateHighScoreRoomButtonProps {\n    mode: ButtonMode\n    buttonProps?: ButtonProps\n}\n\nexport const CreateHighScoreRoomButton: React.FC<CreateHighScoreRoomButtonProps> = ({ mode, buttonProps }) => {\n    const t = useTranslate()\n    const dispatch = useDispatch()\n    const user = useUserState()\n    const games = React.useMemo(() => getHighscoreGames(user).filter(game => !game.locked), [user])\n\n    const [projectId, setProjectId] = React.useState(() =>\n        mode.name === 'preselected-game' ? mode.projectId : games[0].projectId,\n    )\n    const projectStats = useSelector(state => state.shared.stats.scoreList[projectId])\n    const [status, setStatus] = useState<Status>({ name: 'idle' })\n    const history = useHistory()\n    const isCreateDialogOpen = status.name === 'open' || status.name === 'loading' || status.name === 'error'\n\n    useEffect(() => {\n        if (status.name === 'loading') {\n            const { name, days, hours, minutes } = status.values\n\n            const totalHours = parseInt(days) * 24 + parseInt(hours) + parseInt(minutes) / 60\n            dispatch(createPrivateHighScoreRoom(projectId, name || t('highScoreRoom::defaultRoomName'), totalHours))\n\n            const onSuccess = ({ payload }: any) => {\n                if (projectStats && payload.id) {\n                    projectStats.forEach(stat => {\n                        dispatch(setLeaderboardLength(projectId, stat, 100, payload.id))\n                    })\n                }\n\n                setStatus({ name: 'success' })\n                history.push(`/app/high-score-room-results/${projectId}/${payload.id}`)\n            }\n\n            const timeout = setTimeout(() => {\n                setStatus({ name: 'error' })\n            }, 15000)\n\n            storeActionListener.once(ROOM_CREATED, onSuccess)\n\n            return () => {\n                clearTimeout(timeout)\n                storeActionListener.removeListener(ROOM_CREATED, onSuccess)\n            }\n        }\n    }, [status, dispatch, projectId, t, projectStats, history])\n\n    const createRoom = (values: FormValues) => {\n        if (status.name !== 'loading') {\n            setStatus({ name: 'loading', values })\n        }\n    }\n\n    return (\n        <>\n            <CreateHighScoreRoomDialog\n                open={isCreateDialogOpen}\n                createRoom={createRoom}\n                isLoading={status.name === 'loading'}\n                isError={status.name === 'error'}\n                onClose={() => {\n                    if (status.name !== 'loading') {\n                        setStatus({ name: 'idle' })\n                    }\n                }}\n                projectId={projectId}\n                setProjectId={setProjectId}\n                mode={mode}\n                games={games}\n            />\n            <Stack>\n                <Button\n                    onClick={() => {\n                        if (!isCreateDialogOpen) {\n                            setStatus({ name: 'open' })\n                        }\n                    }}\n                    {...buttonProps}\n                >\n                    {t('highScoreRoom::create')}\n                </Button>\n            </Stack>\n        </>\n    )\n}\n\ninterface FormValues {\n    name: string\n    days: string\n    hours: string\n    minutes: string\n}\n\ninterface CreateHighScoreRoomDialogProps {\n    open: boolean\n    createRoom(values: FormValues): void\n    isLoading: boolean\n    isError: boolean\n    onClose: VoidFunction\n    projectId?: string\n    setProjectId: (id: string) => void\n    mode: ButtonMode\n    games: HighScoreGameWithLockedFlag[]\n}\n\nconst CreateHighScoreRoomDialog: React.FC<CreateHighScoreRoomDialogProps> = ({\n    open,\n    isLoading,\n    onClose,\n    isError,\n    createRoom,\n    projectId,\n    setProjectId,\n    mode,\n    games,\n}) => {\n    const t = useTranslate()\n    const { register, handleSubmit, setError, errors } = useForm<FormValues>({\n        defaultValues: { name: t('highScoreRoom::defaultRoomName'), days: '0', hours: '0', minutes: '0' },\n    })\n\n    return (\n        <Dialog open={open} onClose={onClose}>\n            <DialogTitle>{t('highScoreRoom::create')}</DialogTitle>\n            <DialogForm\n                onSubmit={handleSubmit(values => {\n                    if (parseInt(values.days) <= 0 && parseInt(values.hours) <= 0 && parseInt(values.minutes) <= 0) {\n                        setError('days', { message: t('highScoreRoom::invalidDuration') })\n                        return\n                    }\n                    createRoom(values)\n                })}\n                actions={\n                    <>\n                        <DialogSecondaryButton onClick={onClose}>{t('general::cancel')}</DialogSecondaryButton>\n                        <DialogPrimaryButton isLoading={isLoading} type=\"submit\">\n                            {t('highScoreRoom::create')}\n                        </DialogPrimaryButton>\n                    </>\n                }\n            >\n                <Stack>\n                    {mode.name === 'list-games' && (\n                        <ImageSelect\n                            label={t('challenges::highScoreGames')}\n                            value={projectId}\n                            onChange={e => {\n                                setProjectId(e.target.value as string)\n                            }}\n                        >\n                            {games.map(game => {\n                                return (\n                                    <ImageSelectOption value={game.projectId} key={game.projectId}>\n                                        <ImageSelectOptionWrap\n                                            label={t(game.title)}\n                                            image={<StyleHighscoreThumbnail game={game} />}\n                                        />\n                                    </ImageSelectOption>\n                                )\n                            })}\n                        </ImageSelect>\n                    )}\n                    <TextField\n                        label={t('highScoreRoom::roomName')}\n                        name=\"name\"\n                        inputProps={{ maxLength: 50 }}\n                        ref={register({ maxLength: 50 })}\n                    />\n                    <StyledFieldSet>\n                        <FormControl>\n                            <FormLabel as=\"legend\">{t('general::duration')}</FormLabel>\n                            {errors.days && <FormHelperText error>{errors.days.message}</FormHelperText>}\n                            <TimeWrap>\n                                <TextField\n                                    endAdornment={<InputAdornment position=\"end\">{t('general::days')}</InputAdornment>}\n                                    type=\"number\"\n                                    name=\"days\"\n                                    inputProps={{ min: 0, max: 30 }}\n                                    ref={register({ min: 0, max: 30 })}\n                                />\n                                <TextField\n                                    endAdornment={<InputAdornment position=\"end\">{t('general::hours')}</InputAdornment>}\n                                    type=\"number\"\n                                    name=\"hours\"\n                                    inputProps={{ min: 0, max: 23 }}\n                                    ref={register({ min: 0, max: 23 })}\n                                />\n                                <TextField\n                                    endAdornment={\n                                        <InputAdornment position=\"end\">{t('general::minutes')}</InputAdornment>\n                                    }\n                                    type=\"number\"\n                                    name=\"minutes\"\n                                    inputProps={{ min: 0, max: 59 }}\n                                    ref={register({ min: 0, max: 59 })}\n                                />\n                            </TimeWrap>\n                        </FormControl>\n                    </StyledFieldSet>\n                    <Collapse in={isError}>\n                        <ErrorMessage />\n                    </Collapse>\n                </Stack>\n            </DialogForm>\n        </Dialog>\n    )\n}\n\nconst StyledFieldSet = styled.fieldset`\n    margin-left: 0;\n    margin-right: 0;\n    padding: 0;\n    border: none;\n`\n\nconst TimeWrap = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-gap: ${props => props.theme.spacing(4)};\n`\n\nconst StyleHighscoreThumbnail = styled(HighScoreGameThumbnail)`\n    max-width: 5rem;\n`\n","import React, { useCallback } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Button } from 'components/Button'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Stack } from 'components/layout'\nimport { useSelector } from 'lib/store'\nimport { getHighScoreRoom } from 'lib/liveops'\nimport { Text } from 'components/Text'\nimport { useHistory } from 'react-router'\nimport { Card, CardContent } from 'components/card'\nimport { HighScoreRoomCountdown } from './HighScoreRoomCountdown'\nimport styled from 'styled-components/macro'\n\nexport const HighScoreRoomPanel: React.FC<{ room: string }> = ({ room }) => {\n    const t = useTranslate()\n    const highScoreRoom = useSelector(state => getHighScoreRoom(state, room))\n    const history = useHistory()\n\n    const onEnd = useCallback(() => {\n        history.replace(`/app/high-score-room-results/${highScoreRoom?.target}/${highScoreRoom?.id}`)\n    }, [history, highScoreRoom])\n\n    if (!highScoreRoom) {\n        return null\n    }\n    const { target, name, expireAt, secretCode } = highScoreRoom\n\n    return (\n        <Card>\n            <CardContent>\n                <Stack>\n                    <RoomName variant=\"h4\">{name}</RoomName>\n                    <div>\n                        <Text>{t('secretCode::label')}</Text>\n                        <Text>\n                            <strong>{secretCode}</strong>\n                        </Text>\n                    </div>\n                    <HighScoreRoomCountdown date={expireAt} onEnd={onEnd} />\n                    <Button component={Link} replace to={`/app/high-score-room-results/${target}/${room}`}>\n                        {t('highScoreRoom::openLeaderboard')}\n                    </Button>\n                </Stack>\n            </CardContent>\n        </Card>\n    )\n}\n\nconst RoomName = styled(Text)`\n    word-break: break-word;\n    font-weight: 700;\n`\n","import { ErrorBoundary } from 'components/ErrorBoundary'\nimport { EyeIcon } from 'components/icons'\nimport { Inline, Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { useHasShowAdvancedStats } from 'contexts/UserContext'\nimport { ProjectModalContent } from 'features/projects/modal/ProjectModalContent'\nimport { useProjectModalContext } from 'features/projects/modal/projectModalContext'\nimport { ProjectModalDescription } from 'features/projects/modal/ProjectModalDescription'\nimport { ProjectModalHeader } from 'features/projects/modal/ProjectModalHeader'\nimport { useIncrementHGViewCount } from 'features/projects/useIncrementHGViewCount'\nimport { useTitle } from 'hooks/useTitle'\nimport { useHasGrant } from 'lib/grants'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { CreateHighScoreRoomButton } from './CreateHighScoreRoomButton'\nimport { HighScoreGameLeaderboard } from './HighScoreGameLeaderboard'\nimport { highScoreGames } from './highScoreGames'\nimport { HighScoreRoomPanel } from './HighScoreRoomPanel'\n\ninterface Params {\n    room?: string\n}\n\nexport const HighScoreDetails: React.FC<Params> = ({ room }) => {\n    const { id, project } = useProjectModalContext()\n    const game = highScoreGames.find(game => game.projectId === id)\n    const t = useTranslate()\n    useTitle(t(game?.title))\n    const hasGrant = useHasGrant()\n    const canCreateHighScoreRoom = hasGrant('create-high-score-room')\n    useIncrementHGViewCount(id)\n    const hasShowAdvancedStas = useHasShowAdvancedStats()\n\n    if (!game) {\n        return null\n    }\n\n    return (\n        <>\n            <ProjectModalHeader>\n                <Text variant=\"h3\">{t(game.title)}</Text>\n            </ProjectModalHeader>\n            <ProjectModalContent>\n                <Stack>\n                    {canCreateHighScoreRoom && !room && (\n                        <ErrorBoundary>\n                            <CreateHighScoreRoomButton\n                                mode={{ name: 'preselected-game', projectId: game.projectId }}\n                                buttonProps={{ fullWidth: true }}\n                            />\n                        </ErrorBoundary>\n                    )}\n                    <ProjectModalDescription>{t(game.description)}</ProjectModalDescription>\n                    {room && <HighScoreRoomPanel room={room} />}\n                    <ErrorBoundary>\n                        <HighScoreGameLeaderboard projectId={id} room={room} />\n                    </ErrorBoundary>\n                    {hasShowAdvancedStas ? (\n                        <>\n                            <Text variant=\"caption\">\n                                <Inline spacing={1} display=\"flex\" alignItems=\"center\">\n                                    <EyeIcon /> <strong>{project?.file.viewedCount ?? 0}</strong>\n                                </Inline>\n                            </Text>{' '}\n                        </>\n                    ) : null}\n                </Stack>\n            </ProjectModalContent>\n        </>\n    )\n}\n","import { api } from 'lib/api'\nimport * as React from 'react'\n\nconst TIMEOUT = 3000\n\nexport const useIncrementHGViewCount = (projectId: string) => {\n    React.useEffect(() => {\n        let ignore = false\n        setTimeout(() => {\n            if (!ignore) {\n                api.projects.incrementProjectViewCount(projectId)\n            }\n        }, TIMEOUT)\n\n        return () => {\n            ignore = true\n        }\n    }, [projectId])\n}\n","import React from 'react'\nimport { SecretCodeUnlocker } from 'features/secret-code'\nimport { Dialog, DialogErrorMessage, DialogTitle } from 'components/dialog'\nimport { createHashDialog } from 'hooks/createHashDialog'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\n\nconst [joinHighScoreRoomDialogTo, JoinHighScoreRoomDialogController] = createHashDialog('join-high-score-room')\n\nexport { joinHighScoreRoomDialogTo }\n\nexport const JoinHighScoreRoomDialog: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <JoinHighScoreRoomDialogController>\n            {({ onClose, open }) => (\n                <Dialog onClose={onClose} open={open} maxWidth=\"sm\">\n                    <DialogTitle>{t('highScoreRoom::join')}</DialogTitle>\n                    <ErrorBoundary fallback={<DialogErrorMessage close={onClose} />}>\n                        <SecretCodeUnlocker\n                            close={onClose}\n                            primaryLabel={t('highScoreRoom::join')}\n                            helperText={t('highScoreRoom::description')}\n                        />\n                    </ErrorBoundary>\n                </Dialog>\n            )}\n        </JoinHighScoreRoomDialogController>\n    )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Button } from 'components/Button'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { joinHighScoreRoomDialogTo } from './JoinHighScoreRoomDialog'\n\nexport const JoinHighScoreRoomButton = () => {\n    const t = useTranslate()\n\n    return (\n        <Button component={Link} to={joinHighScoreRoomDialogTo}>\n            {t('highScoreRoom::join')}\n        </Button>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/room-empty-state.ab2961e6.svg\";","import { Button } from 'components/Button'\nimport { Card } from 'components/card'\nimport { Flex, Stack, WrappingInline } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { Tooltip } from 'components/Tooltip'\nimport dayjs from 'dayjs'\nimport { useHumanReadableCountdown } from 'hooks/useCountdown'\nimport { useDateFormat } from 'hooks/useDateFormat'\nimport { getHighScoreRoom, requestRooms } from 'lib/liveops'\nimport React, { useEffect, useMemo, useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { isNotUndefined } from 'utils/arrayUtilts'\nimport { HighScoreGameThumbnail } from './HighScoreGameThumbnail'\nimport { useSelector } from 'lib/store'\nimport { Loader } from 'components/Loader'\nimport { useHighScoreLeaderboard } from './HighScoreGameLeaderboard'\nimport { canUnlockSecretCode, useUserState } from 'contexts/UserContext'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { HighScoreRoom } from 'lib/liveops/reducers/shared/leaderboard'\nimport emptyStateImage from './media/room-empty-state.svg'\nimport { CreateHighScoreRoomButton } from './CreateHighScoreRoomButton'\nimport { useHasGrant } from 'lib/grants'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { CreateMultiplayerGeneratedQuizButton } from '../quiz/generated-quiz'\nimport { Pagination } from '@material-ui/lab'\n\nconst TABLET_BREAKPOINT = 'md'\nconst MOBILE_BREAKPOINT = 'sm'\n\nexport const HighScoreRoomList: React.FC = () => {\n    const dispatch = useDispatch()\n    const t = useTranslate()\n    const rooms = useSelector(state =>\n        state.shared.stats.highScoreRooms.list\n            ?.map(roomId => getHighScoreRoom(state, roomId))\n            .filter(isNotUndefined)\n            .sort((a, b) => {\n                const aExpireAt = dayjs(a.expireAt)\n                const bExpireAt = dayjs(b.expireAt)\n                const now = dayjs()\n\n                if (aExpireAt.isBefore(now) && bExpireAt.isBefore(now)) {\n                    return aExpireAt.diff(bExpireAt)\n                } else if (aExpireAt.isBefore(now)) {\n                    return 1\n                } else {\n                    return -1\n                }\n            }),\n    )\n    const [page, setPage] = useState(1)\n    const pages = rooms ? Math.ceil(rooms.length / 5) : 0\n    const paginatedRooms = rooms ? rooms.slice((page - 1) * 5, page * 5) : []\n\n    useEffect(() => {\n        dispatch(requestRooms())\n    }, [dispatch])\n\n    if (!rooms) {\n        return <Loader />\n    }\n\n    if (rooms.length === 0) {\n        return <EmptyState />\n    }\n\n    return (\n        <Stack spacing={6}>\n            <Stack spacing={2}>\n                <Flex direction=\"row\" style={{ gap: '0.5rem' }}>\n                    <CreateHighscoreButton />\n                    <CreateMultiplayerGeneratedQuizButton />\n                </Flex>\n            </Stack>\n            <Stack spacing={2}>\n                <LabelsWrap>\n                    <Grid>\n                        <Text variant=\"body2\">{t('highScoreRoom::room')}</Text>\n                        <span></span>\n                        <Text variant=\"body2\">{t('general::rank')}</Text>\n                        <Text variant=\"body2\">{t('general::remainingTime')}</Text>\n                    </Grid>\n                </LabelsWrap>\n                <Card>\n                    <ListRoot>\n                        {paginatedRooms.map(room => (\n                            <HighScoreRoomListItem key={room.id} room={room} />\n                        ))}\n                    </ListRoot>\n                </Card>\n                {pages > 1 && (\n                    <div style={{ display: 'flex', justifyContent: 'center' }}>\n                        <Pagination page={page} count={pages} onChange={(_, value) => setPage(value)} />\n                    </div>\n                )}\n            </Stack>\n        </Stack>\n    )\n}\n\nconst HighScoreRoomListItem: React.FC<{ room: HighScoreRoom }> = ({ room }) => {\n    const [isActive, setIsActive] = useState(true)\n    const { formatDate } = useDateFormat()\n    const expireAt = useMemo(() => dayjs(room.expireAt), [room.expireAt])\n    const { label: countdownLabel, isEnd } = useHumanReadableCountdown(expireAt)\n    const { leaderboards } = useHighScoreLeaderboard(room.target, room.id, room.game, false)\n    const { account } = useUserState()\n    const t = useTranslate()\n\n    useEffect(() => {\n        if (isEnd) {\n            setIsActive(false)\n        }\n    }, [isEnd])\n\n    return (\n        <ItemRoot $isActive={isActive}>\n            <ItemInner>\n                <Grid>\n                    <HighScoreGameThumbnail game={room.game} />\n                    <Name>{room.name}</Name>\n                    <ItemDefinition label={t('general::rank')}>\n                        {leaderboards?.map(leaderboard => {\n                            const index = leaderboard.allTimeResults?.items.findIndex(\n                                item => item.owner.id === account.id,\n                            )\n                            const rank = index && index !== -1 ? index + 1 : leaderboard.myAllTimeResult?.rank\n                            const stat = room.game.stats?.find(stat => stat.name === leaderboard.name)\n\n                            if (!rank) {\n                                return null\n                            }\n\n                            return (\n                                <div>\n                                    {leaderboards.length > 1 && (\n                                        <Text variant=\"body2\" component=\"span\">\n                                            {stat ? t(stat.i18nKey) : leaderboard.name}:\n                                        </Text>\n                                    )}{' '}\n                                    {rank || '-'}/{leaderboard.allTimeResults?.count || '-'}\n                                </div>\n                            )\n                        })}\n                    </ItemDefinition>\n                    <ItemDefinition label={t('general::remainingTime')}>\n                        <Tooltip title={formatDate(expireAt.toDate())}>\n                            <span>{countdownLabel}</span>\n                        </Tooltip>\n                    </ItemDefinition>\n                    <ActionsWrap>\n                        <Button\n                            variant=\"outlined\"\n                            component={Link}\n                            to={`/app/high-score-room-results/${room.game.projectId}/${room.id}`}\n                        >\n                            {t('highScoreRoom::openLeaderboard')}\n                        </Button>\n                        {isActive && (\n                            <Button\n                                disabled={!isActive}\n                                component={Link}\n                                to={`/app/high-score/${room.game.projectId}?room=${room.id}`}\n                            >\n                                {t('general::play')}\n                            </Button>\n                        )}\n                    </ActionsWrap>\n                </Grid>\n            </ItemInner>\n        </ItemRoot>\n    )\n}\n\nconst CreateHighscoreButton = () => {\n    const hasGrant = useHasGrant()\n    const user = useUserState()\n    const canCreateHighScoreRoom =\n        hasGrant('create-high-score-room') && canUnlockSecretCode(user, 'scoolcode-live-room')\n\n    return (\n        <>\n            {canCreateHighScoreRoom ? (\n                <ErrorBoundary>\n                    <CreateHighScoreRoomButton mode={{ name: 'list-games' }} />\n                </ErrorBoundary>\n            ) : null}\n        </>\n    )\n}\n\nconst EmptyState: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <Stack spacing={6}>\n            <Stack spacing={2}>\n                <Flex direction=\"row\" style={{ gap: '0.5rem' }}>\n                    <CreateHighscoreButton />\n                    <CreateMultiplayerGeneratedQuizButton />\n                </Flex>\n            </Stack>\n            <EmptyStateRoot>\n                <img src={emptyStateImage} alt=\"\" width=\"300\" height=\"142\" />\n                <div>\n                    <Text>\n                        {t('highScoreRoom::noRooms02')} <br /> {t('highScoreRoom::description')}\n                    </Text>\n                </div>\n            </EmptyStateRoot>\n        </Stack>\n    )\n}\n\nconst ItemDefinition: React.FC<{ label: string }> = ({ label, children }) => {\n    return (\n        <div>\n            <InfoLabel variant=\"body2\" component=\"dt\">\n                {label}\n            </InfoLabel>\n            <Text component=\"dd\">\n                <strong>{children}</strong>\n            </Text>\n        </div>\n    )\n}\n\nconst Name = styled(Text)`\n    word-break: break-word;\n    font-weight: 700;\n`\n\nconst InfoLabel = styled(Text)`\n    color: ${props => props.theme.palette.text.secondary};\n    display: none;\n    ${props => props.theme.breakpoints.down(TABLET_BREAKPOINT)} {\n        display: block;\n    }\n` as typeof Text\n\nconst LabelsWrap = styled.div`\n    border-left: solid 4px transparent;\n    padding: ${props => props.theme.spacing(0, 4, 0, 4)};\n    ${props => props.theme.breakpoints.down(TABLET_BREAKPOINT)} {\n        display: none;\n    }\n`\n\nconst ListRoot = styled.ul`\n    list-style: none;\n    padding: 0;\n    margin: 0;\n`\n\nconst ItemRoot = styled.li<{ $isActive: boolean }>`\n    border-left: solid 4px ${props => (props.$isActive ? props.theme.palette.primary.main : 'transparent')};\n    color: ${props => (props.$isActive ? props.theme.palette.text.primary : props.theme.palette.text.secondary)};\n    &:not(:last-of-type) {\n        border-bottom: solid 1px ${props => props.theme.palette.divider};\n    }\n`\n\nconst ActionsWrap = styled(WrappingInline)`\n    justify-content: flex-end;\n    ${props => props.theme.breakpoints.down(TABLET_BREAKPOINT)} {\n        grid-row: 1;\n        grid-column: 3 / 4;\n    }\n    ${props => props.theme.breakpoints.down(MOBILE_BREAKPOINT)} {\n        grid-row: auto;\n        justify-self: flex-start;\n        grid-column: span 2;\n    }\n`\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: 7rem 12rem 8rem 10rem 1fr;\n    grid-gap: ${props => props.theme.spacing(4)};\n    align-items: center;\n    ${props => props.theme.breakpoints.down(TABLET_BREAKPOINT)} {\n        grid-template-columns: 7rem 10rem 1fr;\n    }\n    ${props => props.theme.breakpoints.down(MOBILE_BREAKPOINT)} {\n        grid-template-columns: 7rem 1fr;\n    }\n`\n\nconst ItemInner = styled.div`\n    padding: ${props => props.theme.spacing(4)};\n`\n\nconst EmptyStateRoot = styled(Stack)`\n    text-align: center;\n    max-width: 55rem;\n    margin-left: auto;\n    margin-right: auto;\n    p {\n        font-weight: 600;\n    }\n    img {\n        width: 100%;\n        height: auto;\n        display: block;\n        margin-left: auto;\n        margin-right: auto;\n        max-width: 80%;\n    }\n`\n","import { Button } from 'components/Button'\nimport { Card, CardContent } from 'components/card'\nimport { Img } from 'components/Img'\nimport { Inline, Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { useMyChallengeSetResults } from 'features/scoolcode-challenge/data/scoolcodeChallengeQueries'\nimport { getIdeUrl } from 'lib/api/helpers'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { OfcSetWithChallenges } from 'features/scoolcode-challenge/data/ScoolcodeChallengeApi'\nimport { Skeleton } from 'components/Skeleton'\nimport { PoorMansSuspenseTicker, usePoorMansSuspenseTick } from 'hooks/usePoorMansSuspense'\n\ninterface OnlinefirstChallengeItemProps extends PoorMansSuspenseTicker {\n    set: OfcSetWithChallenges\n}\n\nexport const OnlinefirstChallengeCard: React.FC<OnlinefirstChallengeItemProps> = ({ set, onReady }) => {\n    const url = (index: number = 1) => getIdeUrl(`/challenge-sets/${set.id}/challenges/${index}`)\n    const t = useTranslate()\n    const { data, status } = useMyChallengeSetResults(set.id)\n    usePoorMansSuspenseTick(status !== 'loading', onReady)\n\n    const buttons = (() => {\n        if (!data) {\n            return <Skeleton variant=\"rect\" width=\"8rem\" height=\"3rem\" />\n        }\n        const lastChallenge = set.challenges[set.challenges.length - 1]\n        const lastResults = data.find(\n            challenge => challenge.challenge === lastChallenge.id && (challenge?.lastScore ?? 0) > 0,\n        )\n\n        if (data.length === 0) {\n            return (\n                <Button component=\"a\" target=\"_blank\" href={url()}>\n                    {t('general::start')}\n                </Button>\n            )\n        }\n\n        if (!lastResults) {\n            return (\n                <Button component=\"a\" target=\"_blank\" href={url(data.length)}>\n                    {t('general::continue')}\n                </Button>\n            )\n        }\n        return (\n            <>\n                <Button component={Link} to={{ pathname: `/app/coding-challenge/${set.id}/${lastResults?.project}` }}>\n                    {t('general::playGame')}\n                </Button>\n                <Button component=\"a\" target=\"_blank\" href={url(set.challenges.length)}>\n                    {t('general::editGame')}\n                </Button>\n            </>\n        )\n    })()\n\n    return (\n        <Card>\n            <CardContent>\n                <Grid>\n                    <Stack display=\"flex\" flexDirection=\"column\">\n                        <Text variant=\"h3\">{t(`ofc::${set.internalName}::title`)}</Text>\n                        <Text>{t(`ofc::${set.internalName}::description`)}</Text>\n                        <Inline display=\"flex\" alignItems=\"flex-end\" flexBasis=\"1 1 auto\" height=\"100%\">\n                            {buttons}\n                        </Inline>\n                    </Stack>\n                    <MediaWrapper>\n                        <Media src={set.coverUrl} />\n                    </MediaWrapper>\n                </Grid>\n            </CardContent>\n        </Card>\n    )\n}\n\nconst MediaWrapper = styled.div`\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    overflow: hidden;\n`\n\nconst Media = styled(Img)`\n    height: 100%;\n    object-fit: cover;\n`\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    padding: ${props => props.theme.spacing(4)};\n    grid-gap: ${props => props.theme.spacing(4)};\n    ${props => props.theme.breakpoints.down('sm')} {\n        display: flex;\n        flex-direction: column;\n    }\n`\n","import React from 'react'\nimport { ProjectModalBase, ProjectModalDescription } from 'features/projects'\nimport { Stack } from 'components/layout'\nimport { ProjectModalContent } from 'features/projects/modal/ProjectModalContent'\nimport { ProjectModalHeader } from 'features/projects/modal/ProjectModalHeader'\nimport styled from 'styled-components/macro'\nimport { Text } from 'components/Text'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Loader } from 'components/Loader'\nimport { useMyOFCsets } from 'features/scoolcode-challenge/data/scoolcodeChallengeQueries'\nimport { useParams } from 'react-router-dom'\nimport { ErrorMessage } from 'components/ErrorMessage'\n\nexport const OnlinefirstChallengeDialog = () => {\n    return (\n        <ProjectModalBase projectVariant={'normal'} isNotFound={() => false} embedOwnerInFileRequest={false}>\n            <OfcChallengeDialogDetails />\n        </ProjectModalBase>\n    )\n}\n\nconst OfcChallengeDialogDetails: React.FC = () => {\n    const t = useTranslate()\n    const { setId } = useParams<{ setId: string }>()\n\n    const { data, status } = useMyOFCsets()\n\n    if (status === 'error') {\n        return <ErrorMessage />\n    }\n\n    if (!data) {\n        return <Loader />\n    }\n\n    const game = data.find(item => item.id === setId)\n\n    return (\n        <>\n            <ProjectModalHeader>\n                <Title variant=\"h3\">{t(`ofc::${game?.internalName}::title`)}</Title>\n            </ProjectModalHeader>\n            <ProjectModalContent>\n                <Stack spacing={5}>\n                    <ProjectModalDescription>{t(`ofc::${game?.internalName}::description`)}</ProjectModalDescription>\n                </Stack>\n            </ProjectModalContent>\n        </>\n    )\n}\n\nconst Title = styled(Text)`\n    line-height: 1.2;\n    word-break: break-all;\n` as typeof Text\n","import { ErrorBoundary } from 'components/ErrorBoundary'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { Skeleton } from 'components/Skeleton'\nimport { useMyOFCsets } from 'features/scoolcode-challenge/data/scoolcodeChallengeQueries'\nimport { PoorMansSuspenseTicker } from 'hooks/usePoorMansSuspense'\nimport React from 'react'\nimport { Route, useRouteMatch } from 'react-router-dom'\nimport { OnlinefirstChallengeCard } from '..'\nimport { OnlinefirstChallengeDialog } from './OnlinefirstChallengeDialog'\n\ninterface OnlinefirstChallengeListProps extends PoorMansSuspenseTicker {\n    limit?: number\n}\n\nexport const OnlinefirstChallengeList: React.FC<OnlinefirstChallengeListProps> = ({ limit, onReady }) => {\n    const { data, status } = useMyOFCsets()\n    const { path } = useRouteMatch()\n\n    if (status === 'error') {\n        return <ErrorMessage />\n    }\n\n    if (!data) {\n        return <Skeleton variant=\"rect\" width=\"100%\" height=\"18rem\" />\n    }\n\n    return (\n        <>\n            {data.slice(0, limit).map(set => {\n                return <OnlinefirstChallengeCard set={set} key={set.id} onReady={onReady} />\n            })}\n            <Route\n                path={`${path}/:setId/:id`}\n                render={() => (\n                    <ErrorBoundary>\n                        <OnlinefirstChallengeDialog />\n                    </ErrorBoundary>\n                )}\n            />\n        </>\n    )\n}\n","import { useHasGrant } from 'lib/grants'\n\nexport const useHasOfcAccess = () => {\n    const hasGrant = useHasGrant()\n    return hasGrant({ product: 'edup.universe', feature: 'content.challenges.ofc' })\n}\n","import { canUserCreateShareableProject, UserState, canUserMoveToProduction } from 'contexts/UserContext'\nimport { getMiniQuizAccessLevel } from 'features/mini-quizzes/helpers/miniQuizHelpers'\nimport { api } from 'lib/api'\nimport { getIdeUrl } from 'lib/api/helpers'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { FieldError, ValidationRules } from 'react-hook-form'\nimport { MyProjectsQuery, SHAREABLE_TRAINERCONTEST_PROJECT_TAG } from './ProjectsApi'\nimport { Project, ProjectLabel } from './store'\n\nexport type ProjectVariant = 'normal' | 'staging' | 'production'\n\nconst thumbnailCacheBusts = new Map()\n\nexport function cacheBustThumbnail(id: string) {\n    thumbnailCacheBusts.set(id, Math.random())\n}\n\nexport function getProjectEditLink(\n    project: Project,\n    user: UserState,\n): { type: 'internal'; to: string } | { type: 'external'; href: string } {\n    const isOwn = project.file.owner === user.account.id\n\n    if (project.metadata.isMiniQuiz) {\n        return {\n            type: 'internal',\n            to: `/app/quiz-editor/${project.file.id}`,\n        }\n    } else {\n        return {\n            type: 'external',\n            href: getIdeUrl(`/ide/${project.file.id}${isOwn ? '' : '?variant=production'}`),\n        }\n    }\n}\n\nexport function createProjectThumbnailUrl(id: string, variant: ProjectVariant) {\n    let url = `${api.baseUrl}/files/${id}/thumbnail`\n\n    if (variant !== 'normal') {\n        url = url + `.${variant}`\n    }\n\n    if (thumbnailCacheBusts.has(id)) {\n        url = url + `?cachebust=${thumbnailCacheBusts.get(id)}`\n    }\n\n    return url\n}\n\nexport const MIN_PROJECT_NAME_LENGTH = 3\nexport const MAX_PROJECT_NAME_LENGTH = 32\nexport const PROJECT_NAME_NOT_UNIQUE_FIELD_ERROR = 'notUnique'\nexport const projectNameRules: ValidationRules = {\n    required: true,\n    minLength: MIN_PROJECT_NAME_LENGTH,\n    maxLength: MAX_PROJECT_NAME_LENGTH,\n}\n\nexport const PROJECT_TITLE_MAX_LENGTH = 32\nexport const PROJECT_DETAILS_MAX_LENGTH = 3000\n\nexport function getProjectNameValidationMessage(\n    fieldError: FieldError | undefined,\n    t: ReturnType<typeof useTranslate>,\n) {\n    if (fieldError?.type === 'minLength' || fieldError?.type === 'required') {\n        return t('projects::nameTooShort', { length: MIN_PROJECT_NAME_LENGTH })\n    }\n    if (fieldError?.type === 'maxLength') {\n        return t('projects::nameTooLong', { length: MAX_PROJECT_NAME_LENGTH })\n    }\n    if (fieldError?.type === PROJECT_NAME_NOT_UNIQUE_FIELD_ERROR) {\n        return t('projects::nameNotUnique')\n    }\n\n    return undefined\n}\n\ntype ProjectActionType =\n    | 'rename'\n    | 'duplicate'\n    | 'delete'\n    | 'share'\n    | 'report-incorrect-tag'\n    | 'unshare'\n    | 'share-new-version'\n    | 'edit'\n    | 'enable-on-mobile'\n    | 'move-to-production'\n    | 'unshare-nominated'\n    | 'nominate'\n    | 'share-new-version-contest'\n    | 'edit-details'\n\nexport function getProjectActions(\n    project: Project,\n    isPending: boolean | undefined,\n    user: UserState,\n): Set<ProjectActionType> | null {\n    const actions = new Set<ProjectActionType>(['edit', 'duplicate'])\n    const canShareProject = canUserCreateShareableProject(user)\n    const canMoveToProduction = canUserMoveToProduction(user)\n    const miniQuizAccessLevel = getMiniQuizAccessLevel(user)\n\n    if (project.file.shareSpecial) {\n        actions.add('unshare-nominated')\n    }\n\n    if (project.file.shareSpecial && doesContestProjectHaveNewVersion(project)) {\n        actions.add('share-new-version-contest')\n    }\n\n    if (project.metadata.shareable) {\n        if (isPending === undefined) {\n            return null\n        }\n\n        if (!project.file.shared && !project.file.deleted && !isPending) {\n            actions.add('delete')\n            actions.add('rename')\n            actions.add('edit-details')\n        }\n        if (project.metadata.isMiniQuiz ? miniQuizAccessLevel === 'full' : canShareProject) {\n            const hasNewVersion = doesProjectHaveNewVersion(project)\n\n            if (!project.file.shared && !isPending && !project.file.shareSpecial) {\n                if (canMoveToProduction) {\n                    actions.add('move-to-production')\n                }\n                actions.add('share')\n            }\n            if (hasNewVersion && !isPending) {\n                actions.add('share-new-version')\n            }\n            if (project.file.shared || isPending) {\n                actions.add('unshare')\n            }\n        }\n    } else {\n        !project.file.shareSpecial && actions.add('rename')\n        if (canMoveToProduction && !project.file.tags?.includes(SHAREABLE_TRAINERCONTEST_PROJECT_TAG)) {\n            actions.add('move-to-production')\n        }\n        if (!project.file.deleted && !project.file.shareSpecial) {\n            actions.add('delete')\n            if (canShareProject) {\n                actions.add('report-incorrect-tag')\n            }\n        }\n    }\n\n    return actions\n}\n\nexport function doesProjectHaveNewVersion(project: Project) {\n    return !!(\n        project.file.shared &&\n        project.file.updatedAt &&\n        project.file.approvedAt &&\n        project.file.updatedAt > project.file.approvedAt\n    )\n}\n\nexport function doesContestProjectHaveNewVersion(project: Project) {\n    return !!(project.file.updatedAt && project.file.approvedAt && project.file.updatedAt > project.file.approvedAt)\n}\n\nexport function getRemainingShareSlotCount(user: UserState, sharedProjects: Project[], pendingProjects: Project[]) {\n    const projects = [...sharedProjects, ...pendingProjects]\n    const normalProjectIds = projects.filter(project => !project.metadata.isMiniQuiz).map(project => project.file.id)\n    const minQuizIds = projects.filter(project => project.metadata.isMiniQuiz).map(project => project.file.id)\n\n    const normalLength = Array.from(new Set(normalProjectIds)).length\n    const miniQuizLength = Array.from(new Set(minQuizIds)).length\n\n    return {\n        normal: Math.max((user.account.sharedProjectLimit ?? 0) - normalLength, 0),\n        miniQuiz: Math.max((user.account.sharedMiniQuizLimit ?? 0) - miniQuizLength, 0),\n    }\n}\n\nexport const getDefaultProjectListSort = (settings: UserState['settings']): MyProjectsQuery['sort'] => {\n    const validValues = new Set<MyProjectsQuery['sort']>([\n        '-createdAt',\n        'createdAt',\n        '-name',\n        'name',\n        '-updatedAt',\n        'updatedAt',\n    ])\n    const settingValue = settings['mylogiscool-project-list-sort']\n    if (settingValue && validValues.has(settingValue as MyProjectsQuery['sort'])) {\n        return settingValue as MyProjectsQuery['sort']\n    }\n    return '-updatedAt'\n}\n\nexport const deserializeProjectLabel = (label: ProjectLabel) => label.value\nexport const serializeProjectLabel = (label: string) => ({ kind: 'custom', value: label } as const)\nexport const isCustomProjectLabel = ({ kind }: ProjectLabel) => kind === 'custom'\n","import i18next from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport Backend from 'i18next-xhr-backend'\nimport { api } from '../api'\n\ntype directionChangeHandler = (direction: 'rtl' | 'ltr') => void\n\nclass I18n {\n    public isInitialized = false\n    private rtlLocales: string[] = []\n    private directionChangeHandlers: directionChangeHandler[] = []\n\n    private init = async (locale: string) => {\n        await i18next\n            .use(Backend)\n            .use(initReactI18next)\n            .init({\n                ns: ['general'],\n                returnEmptyString: false,\n                load: 'currentOnly',\n                keySeparator: '::',\n                nsSeparator: '$',\n                defaultNS: 'general',\n                backend: {\n                    loadPath: `${api.baseUrl}/language-files/my-next/{{lng}}.json`,\n                    crossDomain: true,\n                    parse: (response: string) => ({ ...JSON.parse(response).data }),\n                },\n                fallbackLng: 'en',\n                lng: locale,\n                react: {\n                    transKeepBasicHtmlNodesFor: ['li', 'strong', 'em'],\n                },\n            })\n        this.isInitialized = true\n    }\n\n    private setDirection = (locale: string) => {\n        const direction = this.rtlLocales.includes(locale) ? 'rtl' : 'ltr'\n        document.documentElement.setAttribute('dir', direction)\n        this.directionChangeHandlers.forEach(handler => {\n            handler(direction)\n        })\n    }\n\n    addDirectionChangeListener = (handler: directionChangeHandler) => {\n        this.directionChangeHandlers.push(handler)\n    }\n\n    removeDirectionChangeListener = (handler: directionChangeHandler) => {\n        this.directionChangeHandlers = this.directionChangeHandlers.filter(h => h !== handler)\n    }\n\n    setLocale = async (locale?: string) => {\n        if (!locale) {\n            return\n        }\n        this.setDirection(locale)\n        document.documentElement.lang = locale\n        if (this.isInitialized) {\n            await i18next.changeLanguage(locale)\n        } else {\n            await this.init(locale)\n        }\n    }\n}\n\nexport const i18n = new I18n()\n","import { api } from 'lib/api'\nimport { useHasGrant } from 'lib/grants'\nimport { useQuery } from 'react-query'\n\nexport function useLanguagesQuery() {\n    const hasGrant = useHasGrant()\n    const publishedOnly = !hasGrant({ product: 'edup', feature: 'all-languages' })\n    const query = useQuery(['languages', publishedOnly], () => api.languages.getLanguages(publishedOnly), {\n        staleTime: Infinity,\n    })\n    return query\n}\n\nexport function useLocalesQuery() {\n    const hasGrant = useHasGrant()\n    const publishedOnly = !hasGrant({ product: 'edup', feature: 'all-languages' })\n    const query = useQuery(['locales', publishedOnly], () => api.languages.getLocales(publishedOnly), {\n        staleTime: Infinity,\n    })\n    return query\n}\n","import { ApiBase } from '../api/ApiBase'\nimport { ApiTypes } from '../api/types'\n\nexport class LanguagesApi extends ApiBase {\n    getLanguages = (publishedOnly: boolean) => {\n        const params: Record<any, any> = {\n            sort: 'displayName',\n        }\n        if (publishedOnly) {\n            params.published = true\n        }\n        return this.client.get<ApiTypes['language'][]>('/languages', {\n            params,\n        })\n    }\n\n    getLocales = async (enabled: boolean) => {\n        const params: Record<any, any> = {\n            sort: 'name',\n        }\n        if (enabled) {\n            params.enabled = true\n        }\n\n        return (\n            await this.client.get<Locales[]>('/locales', {\n                params,\n            })\n        ).data\n    }\n\n    getSchoolCountryCodes = async () => {\n        return (await this.client.get<Country[]>('/locales/school-countrycodes')).data.map((country) => country.code);\n    }\n}\n\ninterface Locales {\n    code: string\n    enabled: boolean\n    name: string\n}\n\n\ninterface Country {\n    code: string\n    name: string\n}","import { StringMap, TOptions } from 'i18next'\nimport { useCallback } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { runtimeEnv } from 'utils/env'\nimport { LocalisationKey } from './generated/LocalisationKeys'\n\n// loose keys:\ntype LiteralUnion<T extends U, U = string> = T | (U & { IGNORED?: never })\nexport type Key = LiteralUnion<LocalisationKey>\n\n// strict keys:\n//export type Key = LocalisationKey\n\nconst DEBUG_MISSING_TRANSLATIONS: boolean = false\nconst DEBUG_LONG_WORDS: boolean = false\n\nexport function useTranslate() {\n    const { t } = useTranslation()\n\n    return useCallback(\n        (key?: Key, options?: TOptions) => {\n            if (runtimeEnv.NODE_ENV === 'development') {\n                if (DEBUG_MISSING_TRANSLATIONS === true) {\n                    return t(key as string, { defaultValue: null }) ? 'TRANSLATED' : `_MISSING TRANSLATION ${key}_`\n                }\n                if (DEBUG_LONG_WORDS === true) {\n                    const translation = t(key as string)\n                    return translation + translation\n                }\n            }\n            return t(key as string, options) as string\n        },\n        [t],\n    )\n}\n\nexport type TypedTFunction = (key?: Key | undefined, options?: TOptions<StringMap> | undefined) => string\n","import React from 'react'\nimport { Badge } from 'components/Badge'\nimport { MinimalAccount } from 'lib/api'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { CommunityIcon } from 'components/icons'\nimport { Project, doesProjectHaveNewVersion, createProjectThumbnailUrl } from 'features/projects'\nimport { ProjectCardFavoriteBadge } from 'features/projects/card/ProjectCardFavoriteBadge'\nimport { MyCustomRightClickMenu } from 'features/projects/my/MyCustomRightClickMenu'\nimport { MyProjectStripeActions } from 'features/projects/my/MyProjectStripeActions'\nimport { ProjectActionsMenu } from 'features/projects/ProjectActionsMenu'\nimport { ProjectStripe } from 'features/projects/stripe'\nimport { MiniQuizCardMetadata } from './MiniQuizCardMetadata'\nimport { Theme, useMediaQuery } from '@material-ui/core'\n\ninterface MyMiniQuizCardProps {\n    project: Project\n    user: MinimalAccount\n    isPending?: boolean\n}\n\nexport const MyMiniQuizCard: React.FC<MyMiniQuizCardProps> = ({ project, isPending }) => {\n    const t = useTranslate()\n    const hasNewVersion = doesProjectHaveNewVersion(project)\n    const title =\n        project.file.shared || isPending === true ? project.file.title || project.file.name : project.file.name\n\n    const newVersion = hasNewVersion && isPending === false\n    const thumbnail = createProjectThumbnailUrl(project.file.id, project.file.shared ? 'production' : 'normal')\n    const isSmallScreen = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'), { noSsr: true })\n\n    return (\n        <MyCustomRightClickMenu\n            menu={<ProjectActionsMenu location=\"stripe\" isPending={isPending} id={project.file.id} isInContextMenu />}\n        >\n            <ProjectStripe\n                thumbnailUrl={thumbnail}\n                metadata={\n                    isSmallScreen ? null : (\n                        <MiniQuizCardMetadata\n                            project={project}\n                            variant={project.file.shared ? 'production' : 'normal'}\n                        />\n                    )\n                }\n                tags={\n                    <>\n                        {project.file.shared && (\n                            <Badge\n                                color=\"#2d3057\"\n                                backgroundColor={newVersion ? '#f4a103' : '#f4d003'}\n                                icon={<CommunityIcon />}\n                            >\n                                {newVersion ? t('projects::newVersionAvailable') : t('projects::shared')}\n                            </Badge>\n                        )}\n                        {isPending && <Badge>{t('projects::pendingApproval')}</Badge>}\n                    </>\n                }\n                title={title}\n                to={`/app/project/${project.file.id}`}\n                actions={<MyProjectStripeActions project={project} isPending={isPending} />}\n                favorite={<ProjectCardFavoriteBadge project={project} inList />}\n            />\n        </MyCustomRightClickMenu>\n    )\n}\n","import { Button } from 'components/Button'\nimport { useUserState } from 'contexts/UserContext'\nimport { useNotifications } from 'features/notifications'\nimport { LocalisationKey } from 'lib/i18n'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { CertificateDialog } from './CertifiateDialog'\nimport { createSubjectToCertificateFunction, downloadFile, formatDate } from './certificateHelpers'\nimport { CertInventoryItem } from './certificateTypes'\nimport { PdfGenerator } from './PdfGenerator'\n\ninterface GetCustomCertButtonProps {\n    courseItem: CertInventoryItem\n}\n\nexport const GetCustomCertButton: React.FC<GetCustomCertButtonProps> = ({ courseItem, children }) => {\n    const t = useTranslate()\n    const certInfo = createSubjectToCertificateFunction(t)(courseItem)\n\n    const { i18n, crm } = useUserState()\n    const { notify } = useNotifications()\n    const [status, setStatus] = React.useState<'idle' | 'generating-pdf' | 'open-dialog'>('idle')\n    const [imgData, setImgData] = React.useState<{ img: string; blob: Blob }>()\n\n    if (!certInfo) {\n        return null\n    }\n\n    const { subjectInfo, translations } = certInfo\n\n    const handleClick = () => {\n        if (status === 'idle') {\n            setStatus('generating-pdf')\n        }\n    }\n\n    const handleGenerateSucces = (blob: Blob, imgData: string) => {\n        setImgData({ img: imgData, blob })\n        setStatus('open-dialog')\n    }\n\n    const handleDownload = () => {\n        if (!imgData) return\n        let filename = `Logiscool ${t('certificate::simpletitle')}`\n\n        const finishedAt = formatDate(subjectInfo.lastDay, i18n.language)\n        filename = `Logiscool ${t('certificate::simpletitle')} – ${t(subjectInfo.key as LocalisationKey)} ${finishedAt}`\n\n        filename = filename.replace(/[\\\\/:*?\"<>|.]/g, '')\n        downloadFile(imgData.blob, filename)\n    }\n\n    return (\n        <>\n            <Button onClick={() => handleClick()} isLoading={status === 'generating-pdf'}>\n                {children}\n            </Button>\n            {status === 'generating-pdf' && (\n                <PdfGenerator\n                    subject={subjectInfo}\n                    fullName={crm.fullName ?? ''}\n                    locale={subjectInfo.locale ?? i18n.locale}\n                    language={subjectInfo.language ?? i18n.language}\n                    onSuccess={handleGenerateSucces}\n                    onError={() => {\n                        setStatus('idle')\n                        notify(t('error::somethingWentWrong'), { variant: 'error' })\n                    }}\n                />\n            )}\n            {imgData && (\n                <CertificateDialog\n                    open={status === 'open-dialog'}\n                    close={() => {\n                        setStatus('idle')\n                    }}\n                    imgData={imgData.img}\n                    title={translations.name}\n                    download={handleDownload}\n                />\n            )}\n        </>\n    )\n}\n","import React from 'react'\nimport { Tooltip as MuiTooltip, TooltipProps as MuiTooltipProps } from '@material-ui/core'\nimport styled from 'styled-components/macro'\n\ninterface TooltipProps extends MuiTooltipProps {}\n\nexport const Tooltip = styled<React.FC<TooltipProps>>(({ className, ...rest }) => (\n    <MuiTooltip classes={{ popper: className }} {...rest} />\n))`\n    & .MuiTooltip-tooltip {\n        padding: ${props => props.theme.spacing(2, 3)};\n        background-color: ${props => props.theme.palette.primary.main};\n        color: ${props => props.theme.palette.primary.contrastText};\n        font-size: ${props => props.theme.typography.caption.fontSize};\n    }\n`\n","import { action } from 'typesafe-actions'\nimport { CAST_VOTE_REQUEST } from '../constants'\nimport { client } from 'redux-socket-client'\n\nexport const castVote = client((campaign: string, target: string, count: number = 1, skipToken?: boolean) =>\n    action(CAST_VOTE_REQUEST, {\n        campaign,\n        target,\n        count,\n        skipToken,\n    }),\n)\n","import dayjs, { Dayjs } from 'dayjs'\nimport { ApiBase } from 'lib/api/ApiBase'\nimport {\n    Attendances,\n    CalendarEntry,\n    CalendarEntryRaw,\n    CourseType,\n    Group,\n    GroupRaw,\n    LessonAndTimesheet,\n    Timesheet,\n} from '../types/groupTypes'\nimport { removeTokenFromParams } from 'lib/api'\n\nfunction prepareTime(time: Date) {\n    const raw = new Date(time)\n    return dayjs().set('hours', raw.getUTCHours()).set('minutes', raw.getUTCMinutes())\n}\n\nfunction prepareDateTime(time: Date | string) {\n    if (typeof time === 'string') {\n        return dayjs(time.replace(/Z$/, \"\"))\n    }\n    const raw = new Date(time)\n    return dayjs(time).set('hours', raw.getHours()).set('minutes', raw.getMinutes())\n}\n\nexport class GroupsApi extends ApiBase {\n    uploadImage = async (file: File) => {\n        const formData = new FormData()\n        formData.append('name', file.name)\n        formData.append('kind', file.type)\n        formData.append('metadata', JSON.stringify({ public: true }))\n        formData.append('folder', '57ce8756f714a714cd6f9b2f') //timesheets-data folder\n        formData.append('file', file)\n        const resp = await this.client.post('files/upload', formData)\n        const id = resp.data.id\n        return `${this.client.defaults.baseURL}/files/${id}/data`\n    }\n\n    submitTimesheetFeedback = async (feedback: any) => {\n        const res = await this.client.post('timesheet-surveys', feedback)\n        return res.data\n    }\n\n    getTermsDate = async () => {\n        const res = await this.client.get<{ value: string }>(\n            'apps/5b9633e5c78855e09bbb7a55/settings/trainer-portal-terms?fields=value',\n        )\n        return res.data\n    }\n\n    getCalendar = async (startDate: dayjs.Dayjs, endDate: dayjs.Dayjs) => {\n        const start = startDate.format('YYYY-MM-DD')\n        const end = endDate.format('YYYY-MM-DD')\n        const res = await this.client.get<CalendarEntryRaw[]>('accounts/me/crm-calendar', {\n            params: {\n                startDate: start,\n                endDate: end,\n            },\n        })\n        return res.data.map(\n            entry =>\n                ({\n                    ...entry,\n                    start: prepareDateTime(entry.start),\n                    end: prepareDateTime(entry.end),\n                    data: {\n                        ...entry.data,\n                        eventData: {\n                            ...entry.data.eventData,\n                            startTime: prepareDateTime(entry.start),\n                            endTime: prepareDateTime(entry.end),\n                        },\n                    },\n                } as CalendarEntry),\n        )\n    }\n\n    getChallengeSet = async (id: string) => {\n        const res = await this.client.get<any>(`challenge-sets/${id}`, {})\n        return res.data\n    }\n\n    getGroups = async () => {\n        const res = await this.client.get<{ groups: GroupRaw[]; participation: GroupRaw[] }>(\n            'accounts/me/crm-groups',\n            {},\n        )\n        const { groups, participation } = res.data\n        return {\n            groups: groups.map(\n                group =>\n                    ({\n                        ...group,\n                        lastDay: prepareDateTime(group.lastDay),\n                        firstDay: prepareDateTime(group.firstDay),\n                        schedules: group.schedules.map(sch => ({\n                            ...sch,\n                            startTime: prepareTime(sch.startTime),\n                            endTime: prepareTime(sch.endTime),\n                            startDate: prepareDateTime(sch.startDate),\n                            endDate: prepareDateTime(sch.endDate),\n                        })),\n                    } as Group),\n            ),\n            participation: participation.map(\n                group =>\n                    ({\n                        ...group,\n                        lastDay: prepareDateTime(group.lastDay),\n                        firstDay: prepareDateTime(group.firstDay),\n                        schedules: group.schedules.map(sch => ({\n                            ...sch,\n                            startTime: prepareTime(sch.startTime),\n                            endTime: prepareTime(sch.endTime),\n                            startDate: prepareDateTime(sch.startDate),\n                            endDate: prepareDateTime(sch.endDate),\n                        })),\n                    } as Group),\n            ),\n        }\n    }\n\n    getCourseType = async (id: string, publishedOnly: boolean): Promise<CourseType> => {\n        const publishedParam = publishedOnly ? '?published=true' : ''\n        const { data: courseType } = await this.client.get<{\n            id: string\n            name: string\n            summary: string\n            description: string\n            subject: string\n            language: string\n            version: number\n        }>(`/course-types/${id}${publishedParam}`)\n        const { data: lessons } = await this.client.get<any>(`/course-types/${id}/lessons${publishedParam}`)\n        const { data: tutorials } = await this.client.get<any>(`/course-types/${id}/tutorials${publishedParam}`)\n        return { ...courseType, lessons, tutorials }\n    }\n\n    getLesson = async (courseTypeId: string, id: string, useCache: boolean): Promise<LessonAndTimesheet> => {\n        const { data: lesson } = await this.client.get<any>(`/course-types/${courseTypeId}/lessons/${id}`)\n        const endpoint = useCache ? 'data' : 'data-no-cache'\n        const { data: timesheet } = await this.client.get<any>(\n            `/files/${lesson.timesheet}/${endpoint}`,\n            useCache ? { params: removeTokenFromParams() } : {},\n        )\n        return { lesson, timesheet }\n    }\n\n    getTimesheet = async (id: string): Promise<Timesheet> => {\n        const { data: timesheet } = await this.client.get<any>(`/files/${id}/data-no-cache`)\n        return timesheet\n    }\n\n    saveTimesheet = async (id: string, timesheet: Timesheet) => {\n        var formData = new FormData()\n        var blob = new Blob([JSON.stringify(timesheet)], { type: 'application/json' })\n        formData.append('id', id)\n        formData.append('metadata', JSON.stringify({ public: true }))\n        formData.append('kind', 'document/timesheet')\n        formData.append('file', blob)\n        return this.client.post('/files/replace', formData)\n    }\n\n    getTimestampString = (startTime: Dayjs | undefined): string => {\n        return dayjs(startTime).set('seconds', 0).set('milliseconds', 0).toISOString()\n    }\n\n    getAttendance = async (sessionId: string, timestamp: string, groupId?: string): Promise<Attendances> => {\n        let part1 = `groupId=${groupId}`\n        if (!groupId) {\n            part1 = `type=makeup`\n        } else {\n            part1 += '&type=combined'\n        }\n        const { data } = await this.client.get(\n            `/accounts/crm-attendance?${part1}&sessionId=${sessionId}&startDate=${timestamp}&endDate=${timestamp}`,\n        )\n        return data\n    }\n\n    postAttendances = async (items: any[]) => {\n        const { data } = await this.client.post('/accounts/crm-attendance', items)\n        return data\n    }\n\n    getCurriculum = async (publishedOnly: boolean) => {\n        const publishedParam = publishedOnly ? '?published=true' : ''\n        const [cu, su, co] = await Promise.all([\n            this.client.get<any[]>(`/curricula${publishedParam}`),\n            this.client.get<{ id: string; curriculum: string; courseTypes: any[] }[]>(`/subjects${publishedParam}`),\n            this.client.get<({ id: string; name: string; summary: string; subject: string } | any)[]>(\n                `/course-types${publishedParam}`,\n            ),\n        ])\n\n        const curricula = cu.data\n        const subjects = su.data.slice().sort(({ name: a }: any, { name: b }: any) => (a <= b ? -1 : 1))\n        const courseTypes = co.data\n\n        const processedSubjects: any[] = []\n\n        const processedCuricula = curricula\n            .map((curriculum: any) => ({\n                ...curriculum,\n                subjects: subjects\n                    .reduce<any[]>((res, subject) => {\n                        if (subject.curriculum === curriculum.id) {\n                            const processedSubject = {\n                                ...subject,\n                                courseTypes: courseTypes.reduce<any[]>((res, courseType) => {\n                                    const label = `${courseType.language}-${courseType.locale}${\n                                        courseTypes.every(({ version: v }: any) => v === courseType.version)\n                                            ? ''\n                                            : ` | ${courseType.version}`\n                                    }${!!courseType.edition ? ` | ${courseType.edition}` : ''}`\n                                    return courseType.subject === subject.id\n                                        ? [\n                                              ...res,\n                                              {\n                                                  ...courseType,\n                                                  label,\n                                              },\n                                          ]\n                                        : [...res]\n                                }, []),\n                            }\n                            processedSubjects.push(processedSubject)\n                            return [...res, processedSubject]\n                        }\n\n                        return res\n                    }, [])\n                    .filter(s => s.courseTypes.length > 0),\n            }))\n            .filter(({ subjects }) => subjects.length > 0)\n            .sort(({ name: a }, { name: b }) =>\n                a.toLowerCase() <= b.toLowerCase() ? (a.toLowerCase() !== b.toLowerCase() ? -1 : 0) : 1,\n            )\n\n        return { curricula: processedCuricula, subjects: processedSubjects }\n    }\n}\n","export default __webpack_public_path__ + \"static/media/Sleepy Owl Idle Sleepy.d18307b3.png\";","import { AxiosError } from 'axios'\nimport { getUserProjectLanguages, useUserState } from 'contexts/UserContext'\nimport { api } from 'lib/api'\nimport { useLanguagesQuery } from 'lib/i18n'\nimport { PROJECT_SHARE_APPROVED } from 'lib/liveops/constants'\nimport { storeActionListener } from 'lib/store/store-action-listener'\nimport { useCallback, useEffect, useMemo } from 'react'\nimport { useInfiniteQuery, useQuery, useQueryCache } from 'react-query'\nimport { useDispatch } from 'react-redux'\nimport { UnwrapPromise } from 'utils/typeUtils'\nimport { ProjectVariant } from './projectHelpers'\nimport { DiscoverProjectsQuery, FilterSharedByOwnerOrTitleResponse, MyProjectsQuery } from './ProjectsApi'\nimport { fetchProjectsSucces, updateMetadata } from './store'\n\nexport const KEYS = {\n    MY_PROJECTS: 'my-projects',\n    SHARED_PROJECTS: 'shared-projects',\n    MY_SHARED_PROJECTS: 'my-shared-projects',\n    DISCOVER_PROJECTS: 'disover-projects',\n    MY_SHAREABLE_PROJECTS: 'my-shareable-projects',\n    PROJECT: 'project',\n    MY_LATEST_PROJECTS: 'my-latest-projects',\n    BLOCK_GALLERIES: 'block-galleries',\n    COMMUNITY_PROJECT_DATA: 'community-project-data',\n    CLASSROOM_PROJECT_DATA: 'classroom-project-data',\n    MY_FAVORITE_PROJECTS: 'my-favorite-projects',\n    MY_PENDING_PROJECTS: 'my-pending-projects',\n    //eventsQuery keys is also defined here for query invalidation\n    MY_SHAREABLE_CONTEST_PROJECTS: 'my-shareable-contest-projects',\n    MY_SHARED_CONTEST_PROJECTS: 'my-shared-contest-projects',\n    CONTESTPROJECTS_FOR_VOTING: 'contest-projects-for-voting',\n    TRAINER_CONTEST_2021_RESULTS: 'trainer-contest-2021-results',\n    MY_MODERATION_REPORTS: 'my-moderation-reports',\n    RECOMMENDED_PROJECTS: 'recommended-projects',\n    MY_CUSTOM_PROJECT_LABELS: 'my-custom-project-labels',\n} as const\n\nexport function useSharedProjectsQuery(userId: string) {\n    const dispatch = useDispatch()\n    const { account } = useUserState()\n\n    function normalizeProjects(projects: NonNullable<ReturnType<typeof useSharedProjectsQuery>['data']>) {\n        return projects.data.map(p => {\n            const { cookied, ...file } = p\n            return { file: file, metadata: { cookied: p.cookied } }\n        })\n    }\n\n    const query = useQuery(\n        [userId === account.id ? KEYS.MY_SHARED_PROJECTS : KEYS.SHARED_PROJECTS, userId],\n        async () => {\n            const res = await api.projects.getSharedProjectsOfUser(userId)\n            dispatch(fetchProjectsSucces(normalizeProjects(res)))\n            return res\n        },\n        { staleTime: 1000 * 60 * 5 },\n    )\n    return query\n}\n\nexport function useMyProjectsQuery(apiCallQuery: Omit<MyProjectsQuery, 'skip'>, skipCorrection: number) {\n    const dispatch = useDispatch()\n\n    function normalizeProjects(projects: NonNullable<ReturnType<typeof useMyProjectsQuery>['data']>[0]) {\n        return projects.response.data.map(project => {\n            return {\n                file: project,\n                metadata: {},\n            }\n        })\n    }\n\n    return useInfiniteQuery(\n        [KEYS.MY_PROJECTS, apiCallQuery],\n        async (_, __, skip: number = 0) => {\n            const res = await api.projects.getMyProjects({ skip, ...apiCallQuery })\n            const normalizedProjects = normalizeProjects(res)\n            dispatch(fetchProjectsSucces(normalizedProjects))\n            return res\n        },\n        {\n            getFetchMore: lastPage => {\n                return lastPage.nextSkip === null ? null : lastPage.nextSkip + skipCorrection\n            },\n            refetchOnMount: false,\n            cacheTime: 60 * 1000,\n        },\n    )\n}\n\nexport function useMyFavoriteProjectsQuery(enabled: boolean) {\n    return useQuery(KEYS.MY_FAVORITE_PROJECTS, api.projects.getMyFavoriteProjects, {\n        enabled,\n        staleTime: Infinity,\n    })\n}\n\nexport function useProjectDiscoverQuery({\n    query,\n    enabled,\n}: {\n    query: Omit<DiscoverProjectsQuery, 'skip'>\n    enabled: boolean\n}) {\n    const dispatch = useDispatch()\n\n    return useInfiniteQuery(\n        [KEYS.DISCOVER_PROJECTS, query],\n        async (_, __, skip: number = 0) => {\n            const res = await api.projects.getProjectsForDiscovery({ ...query, skip })\n            dispatch(fetchProjectsSucces(normalizeSharedProjects(res.response.data)))\n            return res\n        },\n        {\n            getFetchMore: lastPage => {\n                return lastPage.nextSkip\n            },\n            refetchOnMount: false,\n            staleTime: 5 * 60 * 1000,\n            enabled: enabled,\n        },\n    )\n}\n\nexport function useProjectQuery(id: string, embedOwner: boolean) {\n    const dispatch = useDispatch()\n\n    return useQuery(\n        [KEYS.PROJECT, id],\n        async () => {\n            if (embedOwner) {\n                const res = await api.projects.getProjectWithEmbeddedOwner(id)\n                dispatch(\n                    fetchProjectsSucces([\n                        {\n                            file: { ...res.data, owner: res.data.owner.id },\n                            metadata: { owner: res.data.owner },\n                        },\n                    ]),\n                )\n                return res\n            } else {\n                const res = await api.projects.getProject(id)\n                dispatch(fetchProjectsSucces([{ file: res.data, metadata: {} }]))\n                return res\n            }\n        },\n        {\n            retry: (retryCount, error: AxiosError) =>\n                error.response?.status === 400 || error.response?.status === 404 ? false : retryCount <= 2,\n        },\n    )\n}\n\nexport function useCommunityProjectDetailsQuery(id: string, variant: ProjectVariant | null, enabled: boolean) {\n    const dispatch = useDispatch()\n\n    function normalizeProject(project: UnwrapPromise<ReturnType<typeof api.projects.getCommunityProjectDetails>>) {\n        return {\n            details: {\n                ...(variant === 'normal' && { normal: project.fileData.data.details }),\n                ...(variant === 'staging' && { staging: project.fileData.data.details }),\n                ...(variant === 'production' && { production: project.fileData.data.details }),\n            },\n            cookied: project.cookied.normal,\n            goldenCookied: project.cookied.golden,\n            favorited: project.favorited,\n        }\n    }\n\n    return useQuery(\n        [KEYS.COMMUNITY_PROJECT_DATA, id, variant],\n        async () => {\n            // query is not enabled while variant is null, so we are sure it's defined here\n            const res = await api.projects.getCommunityProjectDetails(id, variant!)\n            dispatch(updateMetadata(id, normalizeProject(res)))\n            return res\n        },\n        { enabled: variant !== null && enabled, staleTime: 1000 * 60 * 5 },\n    )\n}\n\nexport function useClassroomProjectDetailsQuery(id: string, enabled: boolean) {\n    const dispatch = useDispatch()\n\n    function normalizeProject(project: UnwrapPromise<ReturnType<typeof api.projects.getClassromProjectDetails>>) {\n        return {\n            details: {\n                normal: project.fileData.data.details,\n            },\n        }\n    }\n\n    return useQuery(\n        [KEYS.CLASSROOM_PROJECT_DATA, id],\n        async () => {\n            const res = await api.projects.getClassromProjectDetails(id)\n            dispatch(updateMetadata(id, normalizeProject(res)))\n            return res\n        },\n        { enabled: enabled, staleTime: 1000 * 60 * 5 },\n    )\n}\n\nexport function useMyShareableProjectsQuery(type: 'normal' | 'mini-quiz') {\n    const dispatch = useDispatch()\n    return useQuery(\n        [KEYS.MY_SHAREABLE_PROJECTS, type],\n        async () => {\n            const res = await api.projects.getMyShareableProjects(type)\n            dispatch(fetchProjectsSucces(res.data.map(p => ({ file: p, metadata: {} }))))\n            return res\n        },\n        { cacheTime: 0 },\n    )\n}\n\nexport function useRecommendedProjectsQuery(type: 'coding' | 'mini-quiz') {\n    const user = useUserState()\n    const { data: allLanguages } = useLanguagesQuery()\n    const languages = allLanguages ? getUserProjectLanguages(user, allLanguages.data) : undefined\n    const dispatch = useDispatch()\n\n    return useQuery(\n        [KEYS.RECOMMENDED_PROJECTS, { languages, type }],\n        async () => {\n            const res = await api.projects.getRecommendedProjects(type, languages!)\n            dispatch(fetchProjectsSucces(normalizeSharedProjects(res.data)))\n            return res\n        },\n        { staleTime: Infinity, enabled: !!languages },\n    )\n}\n\nexport function useInvalidatePendingProjectsOnApprove() {\n    const invalidate = useProjectQueryInvalidation()\n\n    useEffect(() => {\n        const onProjectShareApproved = () => {\n            invalidate('MY_PENDING_PROJECTS')\n            invalidate('MY_SHARED_PROJECTS')\n            invalidate('MY_PROJECTS')\n        }\n\n        storeActionListener.on(PROJECT_SHARE_APPROVED, onProjectShareApproved)\n\n        return () => {\n            storeActionListener.removeListener(PROJECT_SHARE_APPROVED, onProjectShareApproved)\n        }\n    }, [invalidate])\n}\n\nexport function useInvalidateProjectData() {\n    const queryCache = useQueryCache()\n\n    const invalidate = useCallback(\n        (id: string, variant: ProjectVariant) => {\n            queryCache.invalidateQueries([KEYS.COMMUNITY_PROJECT_DATA, id, variant])\n        },\n        [queryCache],\n    )\n\n    return invalidate\n}\n\nexport function useProjectQueryInvalidation() {\n    const queryCache = useQueryCache()\n\n    return useCallback(\n        (key: keyof typeof KEYS, remove = false) => {\n            if (remove) {\n                queryCache.removeQueries(KEYS[key])\n            } else {\n                return queryCache.invalidateQueries(KEYS[key])\n            }\n        },\n        [queryCache],\n    )\n}\n\nexport function useBlockGalleriesQuery() {\n    return useQuery([KEYS.BLOCK_GALLERIES], () => api.projects.getBlockGalleries(), {\n        staleTime: Infinity,\n    })\n}\n\nfunction normalizeSharedProjects(data: FilterSharedByOwnerOrTitleResponse) {\n    return data.map(project => ({\n        file: project,\n        metadata: {\n            cookied: project.cookied,\n            goldenCookied: project.goldenCookied,\n            owner: {\n                id: project.owner!,\n                username: project.owner_username,\n                profileImage: project.owner_profileImage,\n                primaryKind: project.owner_primaryKind,\n                alias: project.owner_alias,\n                trainingCertificates: project.owner_trainingCertificates || [],\n            },\n        },\n    }))\n}\n\ntype PendingProjects = string[]\n\nexport function useMyPendingProjectsQuery(enabled = true) {\n    const dispatch = useDispatch()\n\n    return useQuery<PendingProjects>(\n        KEYS.MY_PENDING_PROJECTS,\n        async () => {\n            const res = await api.projects.getMyPendingProjects()\n            dispatch(\n                fetchProjectsSucces(\n                    res.data.map(project => {\n                        return { file: project, metadata: {} }\n                    }),\n                ),\n            )\n            return res.data.map(project => project.id)\n        },\n        { enabled, staleTime: Infinity },\n    )\n}\n\nexport function usePendingProjectCache() {\n    const queryCache = useQueryCache()\n\n    return useMemo(\n        () => ({\n            add: (id: string) => {\n                queryCache.setQueryData<PendingProjects | undefined>(KEYS.MY_PENDING_PROJECTS, data => [\n                    ...(data || []),\n                    id,\n                ])\n            },\n            remove: (id: string) => {\n                queryCache.setQueryData<PendingProjects | undefined>(KEYS.MY_PENDING_PROJECTS, data =>\n                    data?.filter(projectId => projectId !== id),\n                )\n            },\n        }),\n        [queryCache],\n    )\n}\n\nexport function useMyActiveIncorrectyTaggedModerationReportsQuery() {\n    return useQuery(KEYS.MY_MODERATION_REPORTS, () => api.projects.getMyActiveIncorrectlyTaggedModerationReports(), {\n        cacheTime: 0,\n    })\n}\n\nexport function useMyCustomProjectLabelsQuery() {\n    return useQuery(KEYS.MY_CUSTOM_PROJECT_LABELS, () => api.projects.getMyCustomProjectLabels(), {\n        staleTime: Infinity,\n    })\n}\n","import { api } from 'lib/api'\n\nimport { useQuery } from 'react-query'\n\nexport function useUserStatisticQuery(userId: string) {\n    return useQuery(['user-statistic', userId], () => api.accounts.getUserStatistics(userId))\n}\n","import { fetchProjectsSucces } from 'features/projects'\nimport { useMyProjectsQuery } from 'features/projects/projectQueries'\nimport { api } from 'lib/api'\nimport { useInfiniteQuery, useQuery } from 'react-query'\nimport { useDispatch } from 'react-redux'\nimport { MyMiniQuizzesQuery } from './MiniQuizApi'\n\nexport function useMiniQuizQuery(id: string) {\n    const query = useQuery(['mini-quiz', id], () => api.miniQuizzes.getMiniQuiz(id), {\n        // https://github.com/TanStack/query/issues/1019\n        cacheTime: 1,\n    })\n\n    return query\n}\n\nexport function useMiniQuizTemplatesQuery() {\n    return useQuery(['mini-quiz-templates'], () => api.miniQuizzes.getTemplates())\n}\n\nexport function useMyMiniQuizzesQuery(apiCallQuery: Omit<MyMiniQuizzesQuery, 'skip'>, skipCorrection: number) {\n    const dispatch = useDispatch()\n\n    function normalizeProjects(projects: NonNullable<ReturnType<typeof useMyProjectsQuery>['data']>[0]) {\n        return projects.response.data.map(project => {\n            return {\n                file: project,\n                metadata: {},\n            }\n        })\n    }\n\n    return useInfiniteQuery(\n        ['my-mini-quizzes', apiCallQuery],\n        async (_, __, skip: number = 0) => {\n            const res = await api.miniQuizzes.getMyMiniQuizzes({ skip, ...apiCallQuery })\n            const normalizedProjects = normalizeProjects(res)\n            dispatch(fetchProjectsSucces(normalizedProjects))\n            return res\n        },\n        {\n            getFetchMore: lastPage => {\n                return lastPage.nextSkip === null ? null : lastPage.nextSkip + skipCorrection\n            },\n            refetchOnMount: false,\n            cacheTime: 60 * 1000,\n        },\n    )\n}\n","import { ActionCard, ActionCardContent } from 'components/action-card'\nimport { CheckIcon, RightAngleIcon, TrophyIcon } from 'components/icons'\nimport { Inline } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { useDateFormat } from 'hooks/useDateFormat'\nimport { ApiTypes } from 'lib/api'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { generatePath, useParams, useRouteMatch } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { NBSP } from 'utils/styleUtils'\nimport { useLocalisedQuizValue } from './quizHelpers'\n\ninterface SingleQuizResultProps {\n    result: ApiTypes['quiz-result']\n}\n\nexport const SingleQuizResult: React.FC<SingleQuizResultProps> = ({ result }) => {\n    const t = useTranslate()\n    const { formatDate } = useDateFormat('long')\n    const { translateQuizLocaleString } = useLocalisedQuizValue()\n    const { path } = useRouteMatch()\n    const { username } = useParams<{ username: string }>();\n    const userPath = generatePath(path, { username });\n\n    return (\n        <ActionCard type=\"link\" to={`${userPath}/${result.session}`}>\n            <SingleQuizResultContent>\n                <Inline spacing={4} display=\"flex\" alignItems=\"center\">\n                    {result.finalRank === 1 || result.finalRank === 2 || result.finalRank === 3 ? (\n                        <Icon placement={result.finalRank} as={TrophyIcon} />\n                    ) : (\n                        <Icon placement={result.finalRank ?? 0} as={CheckIcon} />\n                    )}\n                    <div>\n                        <Placement>\n                            <span style={{ fontWeight: 800 }}>{result.finalRank}</span>\n                            <span>\n                                {NBSP}/{NBSP}\n                            </span>\n                            <span>{result.nParticipants}</span>\n                        </Placement>\n                        <Small>{t('quiz::placement')}</Small>\n                    </div>\n                </Inline>\n                <TitleWrap>\n                    <Title>{translateQuizLocaleString(result.name, result.nameKeys)}</Title>\n                    <Small>{formatDate(new Date(result.createdAt || ''))}</Small>\n                </TitleWrap>\n\n                <div>\n                    <RightAngleIcon />\n                </div>\n            </SingleQuizResultContent>\n        </ActionCard>\n    )\n}\n\nconst trophyColors = {\n    1: '#ffd700',\n    2: '#cad8e0',\n    3: '#ff9900',\n}\n\nconst SingleQuizResultContent = styled(ActionCardContent)`\n    display: grid;\n    grid-template-columns: auto 1fr auto;\n    align-items: center;\n    grid-column-gap: ${props => props.theme.spacing(4)};\n    height: 100%;\n    text-decoration: none;\n`\n\nexport const Title = styled(Text)`\n    font-weight: 600;\n    line-height: 1.1;\n`\n\nexport const Small = styled(Text).attrs(() => ({\n    variant: 'caption',\n}))``\n\nconst Icon = styled.div<{ placement: number }>`\n    color: ${props =>\n        props.placement in trophyColors\n            ? trophyColors[props.placement as 1 | 2 | 3]\n            : props.theme.palette.success.main};\n    font-size: 2rem;\n`\n\nconst Placement = styled.div`\n    font-size: ${props => props.theme.typography.body1.fontSize};\n    line-height: 1.1;\n`\n\nconst TitleWrap = styled.div`\n    padding-left: ${props => props.theme.spacing(4)};\n    border-left: solid 1px ${props => props.theme.palette.divider};\n`\n","import styled from 'styled-components/macro'\n\nexport const QuizResultsGrid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(24rem, 1fr));\n    gap: ${props => props.theme.spacing(6)};\n    ${props => props.theme.breakpoints.down('xs')} {\n        grid-template-columns: 1fr;\n    }\n`\n","import React from 'react'\nimport { useQuery } from 'react-query'\nimport { api } from 'lib/api'\nimport { Loader } from 'components/Loader'\nimport { Stack } from 'components/layout'\nimport styled from 'styled-components/macro'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { ChoiceResponse, ImageDialogue, NumberResponse } from 'features/quiz'\nimport { useDateFormat } from 'hooks/useDateFormat'\nimport { ListItemText } from 'components/list'\nimport { Text } from 'components/Text'\nimport { Card, CardHeader, CardContent } from 'components/card'\nimport { useLocalisedQuizValue } from './quizHelpers'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { CheckIcon, FavoriteIcon, TrophyIcon } from 'components/icons'\nimport { StatCard } from 'components/stat'\nimport { transparentize } from 'polished'\nimport { QuizResult } from './QuizApi'\n\ntype Props = {\n    sessionId: string\n}\n\nexport const DetailedQuizResult: React.FC<Props> = ({ sessionId }) => {\n    const t = useTranslate()\n    const { formatDate } = useDateFormat('long')\n    const { translateQuizLocaleString } = useLocalisedQuizValue()\n\n    const { data: detailedQuizResult, status: detailedQuizStatus } = useQuery(\n        ['detailedQuizResult', sessionId],\n        () => api.quizzes.getDetailedQuizResult(sessionId),\n        { staleTime: Infinity },\n    )\n\n    const { data: quizResult, status: quizResultStatus } = useQuery(\n        ['quizResult', sessionId],\n        () => api.quizzes.getQuizResult(sessionId),\n        { staleTime: Infinity },\n    )\n\n    const isLoading = detailedQuizStatus === 'loading' || quizResultStatus === 'loading'\n\n    const isError = detailedQuizStatus === 'error' || quizResultStatus === 'error'\n\n    if (isLoading) {\n        return <Loader />\n    }\n\n    if (isError || !quizResult || !detailedQuizResult) {\n        return <ErrorMessage />\n    }\n\n    const result = { ...quizResult, ...detailedQuizResult }\n\n    return (\n        <Stack spacing={6}>\n            <ListItemText\n                primary={<Text variant=\"h2\">{translateQuizLocaleString(result.name, result.nameKeys)}</Text>}\n                secondary={`${t('general::completedAt')}: ${formatDate(new Date(quizResult.createdAt || ''))}`}\n            />\n            <Stack spacing={10}>\n                <StatsWrap>\n                    {result.nParticipants && result.nParticipants > 1 && (\n                        <StatCard\n                            icon={<TrophyIcon />}\n                            title={t('quiz::placement')}\n                            value={`${result.finalRank} / ${result.nParticipants}`}\n                        />\n                    )}\n                    <StatCard icon={<FavoriteIcon />} title={t('quiz::score')} value={result.finalScore} />\n                    <StatCard\n                        icon={<CheckIcon />}\n                        title={t('quiz::correctAnswers')}\n                        value={`${result.nCorrectAnswers} / ${result.nQuestions}`}\n                    />\n                </StatsWrap>\n                <Questions result={result} />\n            </Stack>\n        </Stack>\n    )\n}\n\nconst StatsWrap = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(6rem, 1fr));\n    gap: ${props => props.theme.spacing(6)};\n`\n\nconst Header = styled.header`\n    display: grid;\n    grid-template-columns: auto 1fr;\n    grid-gap: ${props => props.theme.spacing(6)};\n    padding: ${props => props.theme.spacing(6)};\n    padding-bottom: ${props => props.theme.spacing(2)};\n    .MuiCardHeader-root {\n        padding: 0;\n    }\n    ${props => props.theme.breakpoints.down('xs')} {\n        grid-template-columns: 1fr;\n        grid-gap: ${props => props.theme.spacing(2)};\n    }\n`\n\nconst StyledTypoTitle = styled(Text).attrs(() => ({\n    variant: 'h3',\n}))`\n    font-weight: 600;\n`\n\ntype QuestionsProps = {\n    result: QuizResult\n}\n\nconst Questions: React.FC<QuestionsProps> = ({ result }) => {\n    const t = useTranslate()\n    const { translateQuizLocaleString } = useLocalisedQuizValue()\n\n    return (\n        <QuestionsRoot spacing={8}>\n            {result.questions.map((question, i) => {\n                const userResponse = result.userResponses.find(response => response.question === question._id)\n\n                const hasImage = !!(question?.primaryArt?.uri?.values && question.primaryArt.uri.values.length !== 0)\n\n                const hasOldImage = !!(question?.primaryArt?.uri && !question?.primaryArt?.uri?.values)\n\n                let imgSrc = hasOldImage ? question.primaryArt && question.primaryArt.uri : ''\n\n                if (hasImage) {\n                    imgSrc = question.primaryArt && translateQuizLocaleString(question?.primaryArt?.uri)\n                }\n\n                const responseTimeInSeconds = ((userResponse?.time || 0) / 1000).toFixed(2)\n                const isCorrect = userResponse !== undefined && userResponse.score !== 0\n\n                return (\n                    <StyledCard $isCorrect={isCorrect} key={question._id}>\n                        <Header>\n                            {imgSrc && <ImageDialogue src={imgSrc as string} size={'6rem'} />}\n                            <CardHeader\n                                title={\n                                    <StyledTypoTitle>\n                                        {`${i + 1}. ${translateQuizLocaleString(question.description)}`}\n                                    </StyledTypoTitle>\n                                }\n                                subheader={\n                                    userResponse ? (\n                                        <>\n                                            {t('quiz::earnedScore')}: <strong>{userResponse?.score ?? 0}</strong>,{' '}\n                                            {t('quiz::answerTime')}:{' '}\n                                            <strong>{t('quiz::nSeconds', { value: responseTimeInSeconds })}</strong>\n                                        </>\n                                    ) : (\n                                        <NoAnswer text={t('quiz::noAnswer')} />\n                                    )\n                                }\n                            />\n                        </Header>\n                        <CardContent>\n                            <Stack>\n                                {question.kind === 'single-choice' && (\n                                    <ChoiceResponse\n                                        options={question?.data?.options}\n                                        response={userResponse?.data?.selectedIndex}\n                                        correctIndices={\n                                            result.validationInfo && result.validationInfo[i].correctIndices\n                                        }\n                                    />\n                                )}\n\n                                {question.kind === 'multiple-choice' && (\n                                    <ChoiceResponse\n                                        options={question?.data?.options}\n                                        response={userResponse?.data?.selectedIndices}\n                                        correctIndices={\n                                            result.validationInfo && result.validationInfo[i].correctIndices\n                                        }\n                                    />\n                                )}\n                                {question.kind === 'number' && (\n                                    <NumberResponse\n                                        response={userResponse?.data?.value}\n                                        correctValue={result.validationInfo && result.validationInfo[i].correctValue}\n                                    />\n                                )}\n                            </Stack>\n                        </CardContent>\n                    </StyledCard>\n                )\n            })}\n        </QuestionsRoot>\n    )\n}\n\ntype NoAnswerProps = {\n    text: string\n}\n\nconst NoAnswer: React.FC<NoAnswerProps> = ({ text }) => <Container>😟 {text}</Container>\n\nconst QuestionsRoot = styled(Stack)`\n    max-width: 60rem;\n    margin-left: auto;\n    margin-right: auto;\n`\n\nconst Container = styled.div`\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    color: ${props => props.theme.palette.text.primary};\n`\n\nconst StyledCard = styled(Card)<{ $isCorrect: boolean }>`\n    border: solid 2px\n        ${props => (props.$isCorrect ? 'transparent' : transparentize(0.3, props.theme.palette.error.main))};\n`\n","import styled from 'styled-components/macro'\n\nexport const HomeQuizGrid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(17rem, 1fr));\n    grid-gap: ${props => props.theme.spacing(6)};\n`\n","import { Card, CardContent } from 'components/card'\nimport { DialogContent, DialogTitle } from 'components/dialog'\nimport { Stack } from 'components/layout'\nimport { Skeleton } from 'components/Skeleton'\nimport React from 'react'\nimport { NBSP } from 'utils/styleUtils'\n\nexport const MiniQuizEditorSkeleton: React.FC = () => {\n    return (\n        <>\n            <DialogTitle>{NBSP}</DialogTitle>\n            <DialogContent>\n                <Stack>\n                    {new Array(3).fill(true).map((_, i) => (\n                        <Card key={i}>\n                            <CardContent>\n                                <Stack>\n                                    <Skeleton width=\"100%\" height={50}></Skeleton>\n                                    <Skeleton width=\"100%\" height={50}></Skeleton>\n                                    <Skeleton width=\"100%\" height={50}></Skeleton>\n                                    <Skeleton width=\"100%\" height={50}></Skeleton>\n                                </Stack>\n                            </CardContent>\n                        </Card>\n                    ))}\n                </Stack>\n            </DialogContent>\n        </>\n    )\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { LockIcon } from './icons'\nimport { Tooltip } from './Tooltip'\n\ninterface LockedProps {\n    disabled?: boolean\n    tooltip?: string\n}\n\nexport const Locked: React.FC<LockedProps> = ({ children, tooltip, disabled = false }) => {\n    if (disabled) {\n        return <>{children}</>\n    }\n\n    const body = (\n        <Root>\n            <Icon /> {children}\n        </Root>\n    )\n\n    return tooltip ? <Tooltip title={tooltip}>{body}</Tooltip> : body\n}\n\nconst Icon = styled(LockIcon)`\n    position: absolute;\n    top: 0;\n    right: 0;\n    z-index: 1;\n    transform: translate(35%, -35%) rotate(15deg);\n    font-size: 1.15rem;\n    color: ${props => props.theme.palette.text.disabled};\n`\n\nconst Root = styled.span`\n    position: relative;\n    > *:not(${Icon}) {\n        width: 100%;\n    }\n`\n","import React from 'react'\nimport { ViewIcon } from 'components/icons'\nimport { Inline } from 'components/layout'\nimport { ProjectCardBadge } from './ProjectCardBadge'\nimport styled from 'styled-components/macro'\n\ninterface ProjectCardViewCountProps {\n    count: number\n}\n\nexport const ProjectCardViewCount: React.FC<ProjectCardViewCountProps> = ({ count }) => {\n    if (count === 0) {\n        return null\n    }\n\n    return (\n        <ProjectCardBadge position=\"bottom-left\">\n            <Inner spacing={1}>\n                <span>{count}</span>\n                <ViewIcon />\n            </Inner>\n        </ProjectCardBadge>\n    )\n}\n\nconst Inner = styled(Inline)`\n    display: flex;\n    align-items: center;\n    color: ${props => props.theme.palette.common.white};\n`\n","import React from 'react'\nimport { createProjectThumbnailUrl, doesProjectHaveNewVersion } from '../projectHelpers'\nimport { Project } from '../store'\nimport { ProjectCard, ProjectCardImage, ProjectCardCookieCount, ProjectCardContent, ProjectCardBadge } from '../card'\nimport { MyProjectBlockGallery } from './MyProjectBlockGallery'\nimport { MyProjectCardActionsMenu } from './MyProjectCardActionsMenu'\nimport { useBlockGalleriesQuery } from '../projectQueries'\nimport { ProjectStripe } from '../stripe'\nimport { Badge, BadgeProps } from 'components/Badge'\nimport { MyProjectStripeActions } from './MyProjectStripeActions'\nimport { MyCustomRightClickMenu } from './MyCustomRightClickMenu'\nimport { ProjectActionsMenu } from '../ProjectActionsMenu'\nimport { MinimalAccount } from 'lib/api'\nimport { ProjectCardFavoriteBadge } from '../card/ProjectCardFavoriteBadge'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { CommunityIcon } from 'components/icons'\nimport { ProjectListLayout } from './MyProjects'\nimport { MyProjectLanguage } from './MyProjectLanguage'\nimport { useHasGrant } from '../../../lib/grants'\n\ninterface MyCommunityProjectCardProps {\n    project: Project\n    user: MinimalAccount\n    blockGalleriesQuery?: ReturnType<typeof useBlockGalleriesQuery>\n    isPending?: boolean\n    layout: ProjectListLayout\n}\n\nexport const MyCommunityProjectCard: React.FC<MyCommunityProjectCardProps> = ({\n    project,\n    blockGalleriesQuery,\n    isPending,\n    layout,\n}) => {\n    const t = useTranslate()\n    const hasNewVersion = doesProjectHaveNewVersion(project)\n    const to = `/app/project/${project.file.id}`\n    const title =\n        project.file.shared || isPending === true ? project.file.title || project.file.name : project.file.name\n    const displayPendingBadge = isPending\n\n    const newVersion = hasNewVersion && isPending === false\n    const thumbnail = createProjectThumbnailUrl(project.file.id, project.file.shared ? 'production' : 'normal')\n\n    const hasGrant = useHasGrant()\n    const shareableBadge =\n        !hasGrant('area.community') || (hasGrant('share-project-user-consent') && !project.file.shared) ? null : (\n            <ShareableBadge layout={layout} shared={project.file.shared} newVersion={newVersion} />\n        )\n    const languageBadge = <MyProjectLanguage project={project} layout={layout} />\n    const blockGalleryBadge = (\n        <MyProjectBlockGallery layout={layout} project={project} blockGalleriesQuery={blockGalleriesQuery} />\n    )\n\n    if (layout === 'list') {\n        return (\n            <MyCustomRightClickMenu\n                menu={\n                    <ProjectActionsMenu location=\"stripe\" isPending={isPending} id={project.file.id} isInContextMenu />\n                }\n            >\n                <ProjectStripe\n                    thumbnailUrl={thumbnail}\n                    tags={\n                        <>\n                            {shareableBadge}\n                            {displayPendingBadge && <Badge>{t('projects::pendingApproval')}</Badge>}\n                        </>\n                    }\n                    metadata={\n                        <>\n                            {languageBadge}\n                            {blockGalleryBadge}\n                        </>\n                    }\n                    title={title}\n                    to={to}\n                    actions={<MyProjectStripeActions project={project} isPending={isPending} />}\n                    favorite={<ProjectCardFavoriteBadge project={project} inList />}\n                />\n            </MyCustomRightClickMenu>\n        )\n    }\n\n    return (\n        <ProjectCard>\n            <MyCustomRightClickMenu\n                menu={<ProjectActionsMenu location=\"card\" isPending={isPending} id={project.file.id} isInContextMenu />}\n            >\n                <ProjectCardImage\n                    to={to}\n                    src={thumbnail}\n                    badges={\n                        <>\n                            {shareableBadge}\n                            {project.file.shared && (\n                                <ProjectCardCookieCount\n                                    count={project.file.cookieCount}\n                                    goldenCount={project.file.goldenCookieCount}\n                                    cookied={false}\n                                />\n                            )}\n                            {displayPendingBadge && (\n                                <ProjectCardBadge position=\"bottom-left\">\n                                    {t('projects::pendingApproval')}\n                                </ProjectCardBadge>\n                            )}\n                            {blockGalleryBadge}\n                            {languageBadge}\n                        </>\n                    }\n                    outerBadges={<ProjectCardFavoriteBadge project={project} />}\n                ></ProjectCardImage>\n            </MyCustomRightClickMenu>\n            <ProjectCardContent\n                title={{ label: title, to }}\n                action={\n                    <MyProjectCardActionsMenu\n                        location=\"card\"\n                        isPending={isPending}\n                        compensatePadding\n                        id={project.file.id}\n                    />\n                }\n            ></ProjectCardContent>\n        </ProjectCard>\n    )\n}\n\nconst ShareableBadge: React.FC<{ layout: ProjectListLayout; shared?: boolean; newVersion: boolean }> = ({\n    shared,\n    newVersion,\n    layout,\n}) => {\n    const t = useTranslate()\n\n    const badgeProps: BadgeProps = (() => {\n        if (shared) {\n            return {\n                color: '#2d3057',\n                backgroundColor: newVersion ? '#f4a103' : '#f4d003',\n                children: newVersion ? t('projects::newVersionAvailable') : t('projects::shared'),\n                icon: <CommunityIcon />,\n            }\n        }\n        return {\n            color: '#f4d003',\n            backgroundColor: '#2a2b35',\n            children: t('projects::community'),\n            icon: <CommunityIcon />,\n        }\n    })()\n\n    switch (layout) {\n        case 'list':\n            return <Badge {...badgeProps} />\n        case 'grid':\n            return <ProjectCardBadge position=\"top-right\" {...badgeProps} />\n    }\n}\n","import { UserState } from 'contexts/UserContext'\nimport { Gender } from 'lib/api'\nimport { Grant } from 'lib/grants'\nimport { Dayjs } from 'dayjs'\n\nexport interface TimelineItemWithDate {\n    title: string\n    startDate: Dayjs\n    endDate: Dayjs\n}\n\ninterface TimelineWithDate {\n    items: TimelineItemWithDate[]\n}\n\ninterface StateMachineEntry {\n    until?: Dayjs\n    state: string\n    metadata?: any\n    title?: string\n}\n\nexport interface ManagableEventDefinition {\n    slug: string\n    groupSlug?: string\n    ongoing: boolean\n    title: string\n    closedTitle?: string\n    thumbnail: string\n    startDate?: string\n    template: string\n    templateData?: any\n    timeline?: TimelineWithDate\n    state: StateMachineEntry[]\n    enabled?: boolean\n    detailsBanner?: string\n    filters?: {\n        countries?: string[]\n        gender?: Gender\n        grant?: Grant\n    }\n    banner?: {\n        image: string\n        text?: string\n        background?: string\n    }\n    hideBreadCrumb?: boolean\n\n    hasGroupInfo?: boolean\n    closedCount?: number\n    groupCount?: number\n}\n\nexport type DynamicManagableEventDefinition = (user: UserState) => ManagableEventDefinition | null\n\nexport function isManagableEvent(event: any): event is ManagableEventDefinition {\n    return !!(event as ManagableEventDefinition).template\n}\n\nexport function isManagableNonActivityEvent(event: any): event is ManagableEventDefinition {\n    return !!(event as ManagableEventDefinition).template && !event.original\n}\n\nexport function isManagableActivityEvent(event: any): event is ManagableEventDefinition {\n    return !!(event as ManagableEventDefinition).template && event.original\n}\n","import { AxiosInstance } from 'axios'\nimport { ApiTypes } from 'lib/api'\nimport { ApiBase } from 'lib/api/ApiBase'\n\nexport type MiniChallengeSet = ApiTypes['challenge-set'] & { rate: number; locked: boolean }\nexport interface ChallengeSetGroup {\n    id: string\n    name: string\n    description: string\n    grantRequiredToUnlock: string\n    published: boolean\n    thumbnail: string\n    allCount: number\n    completedCount: number\n    newCount: number\n}\n\nexport type OfcSetWithChallenges = ApiTypes['challenge-set'] & { challenges: ApiTypes['challenge'][] }\nexport class ScoolcodeChallengeApi extends ApiBase {\n    constructor(client: AxiosInstance, private getUserId: () => string | null) {\n        super(client)\n    }\n\n    getMyChallengeSets() {\n        return this.client.get<ApiTypes['challenge-set'][]>('challenge-sets/my')\n    }\n\n    getMyChallengeSetGroups() {\n        return this.client.get<ChallengeSetGroup[]>('challenge-set-groups/my')\n    }\n\n    getMiniChallengeSets(groupId?: string) {\n        return this.client.get<MiniChallengeSet[]>('challenge-sets/my-mini', {\n            params: {\n                groupId,\n            },\n        })\n    }\n\n    getRecommendedMiniChallengeSets() {\n        return this.client.get<MiniChallengeSet[]>('challenge-sets/my-recommended-mini')\n    }\n\n    resetChallengeSet(id: string) {\n        return this.client.post('/challenge-results/reset-account-challenge', { challengeSetId: id })\n    }\n\n    async getMyOFCsets() {\n        const res = await this.client.get<ApiTypes['challenge-set'][]>('challenge-sets', {\n            params: {\n                kind: 'ofc',\n            },\n        })\n\n        const sets: OfcSetWithChallenges[] = []\n\n        for await (const set of res.data) {\n            const challenges = await this.client.get<ApiTypes['challenge'][]>(`challenge-sets/${set.id}/challenges`, {\n                params: {\n                    sort: 'index',\n                    published: true,\n                },\n            })\n\n            sets.push({ ...set, challenges: challenges.data })\n        }\n        return sets\n    }\n\n    async getMyChallengeSetResultById(challengeSetId: string) {\n        const res = await this.client.get<ApiTypes['challenge-result'][]>(`challenge-sets/${challengeSetId}/results`, {\n            params: {\n                owner: this.getUserId(),\n            },\n        })\n\n        return res.data\n    }\n}\n","import { createContext, useContext } from 'react'\nimport { ProjectVariant } from '../projectHelpers'\nimport { useProjectQuery } from '../projectQueries'\nimport { Project } from '../store'\n\nexport type ProjectModalState = {\n    id: string\n    query: ReturnType<typeof useProjectQuery>\n    project: Project | undefined\n    variant: ProjectVariant | null\n    close: () => void\n    iframeRef: React.MutableRefObject<HTMLIFrameElement | null>\n    isOwnProject?: boolean\n    isPendingProject?: boolean\n    error: 'NOT_FOUND' | 'GENERAL' | undefined\n    embedLoaded: boolean\n    embedOrigin: string\n}\n\nexport const projectModalContext = createContext<ProjectModalState | undefined>(undefined)\n\nexport const useProjectModalContext = () => {\n    const context = useContext(projectModalContext)\n\n    if (context === undefined) {\n        throw new Error('useProjectModalContext must be used within a ProjectModalProvider')\n    }\n\n    return context\n}\n","import { Inline } from 'components/layout'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface CurriculumListTabProps {\n    isActive?: boolean\n    onClick?: VoidFunction\n    icon?: React.ReactNode\n}\n\nexport const CurriculumListTab: React.FC<CurriculumListTabProps> = ({ isActive, onClick, children, icon }) => {\n    return (\n        <Root isActiva={isActive} onClick={onClick}>\n            <StyledInline component=\"span\" spacing={1}>\n                {icon}\n                <span>{children}</span>\n            </StyledInline>\n        </Root>\n    )\n}\n\nconst StyledInline = styled(Inline)`\n    display: flex;\n    align-items: center;\n`\n\nconst Root = styled.button<{ isActiva?: boolean }>`\n    font-family: inherit;\n    color: ${props => (props.isActiva ? props.theme.palette.primary.main : 'inherit')};\n    text-decoration: none;\n    font-weight: 600;\n    background: none;\n    border: none;\n    cursor: pointer;\n    padding: 0;\n    font-size: ${props => props.theme.typography.body2.fontSize};\n    transition: color ${props => props.theme.transitions.duration.shorter}ms;\n    line-height: 1;\n    &:focus {\n        outline: none;\n    }\n    &:focus-visible {\n        outline: solid 1px ${props => props.theme.palette.primary.main};\n    }\n    &:hover,\n    &:focus-visible {\n        color: ${props => props.theme.palette.primary.main};\n    }\n`\n","import styled from 'styled-components/macro'\nimport { CardContent, CardHeader } from 'components/card'\nimport { Inline } from 'components/layout'\nimport React, { useMemo } from 'react'\nimport { ActionCard } from 'components/action-card'\nimport { RightAngleIcon } from 'components/icons'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Theme, useMediaQuery } from '@material-ui/core'\nimport { sortCourseTypes } from './CurriculumPanel'\n\nconst HorizontalContent = styled(CardContent)`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(4)};\n    justify-content: space-between;\n`\n\nconst NoPaddingHeader = styled(CardHeader)`\n    padding: 0;\n`\n\nconst ActionWrap = styled(Inline)`\n    display: flex;\n    flex-shrink: 0;\n    align-items: center;\n    font-weight: 600;\n    justify-content: flex-end;\n    text-align: right;\n    color: ${props => props.theme.palette.primary.main};\n`\n\nexport const SubjectCard: React.FC<{ entry: any, language: string }> = ({ entry, language }) => {\n    const sortedCourseTypes = useMemo(() => {\n        return sortCourseTypes(entry.courseTypes, language)\n    }, [entry.courseTypes, language])\n    const summary = sortedCourseTypes.length > 0 ? sortedCourseTypes[0]?.summary : entry.courseTypes[0]?.summary\n    const t = useTranslate()\n    const isMobile = useMediaQuery<Theme>(theme => theme.breakpoints.down('xs'), { noSsr: true })\n\n    return (\n        <ActionCard type=\"link\" to={`/app/classroom/curriculum/${entry.id}`}>\n            <HorizontalContent>\n                <NoPaddingHeader\n                    titleTypographyProps={{ variant: 'h4' }}\n                    title={entry.name}\n                    subheader={`${t(\n                        t(`classroom::curriculum::${entry.kind}`, { defaultValue: entry.kind }),\n                    )} • ${summary}`}\n                />\n                {!isMobile && (\n                    <ActionWrap component=\"span\" spacing={0}>\n                        {t('general::details')}\n                        <RightAngleIcon />\n                    </ActionWrap>\n                )}\n            </HorizontalContent>\n        </ActionCard>\n    )\n}\n","import React, { useMemo } from 'react'\nimport { Panel, PanelHeader, PanelTitle } from '../../../../components/panel'\nimport { Stack } from '../../../../components/layout'\nimport { SubjectCard } from './SubjectCard'\nimport { CourseType } from 'features/classroom/types/groupTypes'\n\nexport interface CurriculumFilters {\n    subjectKind: string\n    language: string\n    search?: string\n}\n\nexport const sortCourseTypes = (courseTypes: CourseType[], language: string) => {\n    return [...courseTypes]\n            .filter(courseType => courseType.language === language)\n            .sort((a, b) => {\n                const versionA = a.version || 0\n                const versionB = b.version || 0\n                return versionB - versionA\n            });\n}\n\nexport const CurriculumPanel: React.FC<{ entry: any; filters: CurriculumFilters }> = ({ entry, filters }) => {\n    const filteredSubjects = useMemo(\n        () =>\n            entry.subjects.filter(\n                (subject: any) =>\n                    (filters.subjectKind === 'all' || subject.kind === filters.subjectKind) &&\n                    (!filters.search || subject.name.toLowerCase().includes(filters.search.toLowerCase())),\n            ),\n        [entry, filters],\n    )\n\n    if (filteredSubjects.length === 0) {\n        return null\n    }\n\n    filteredSubjects.sort((a: any, b: any) => {\n        if (a.subjectIndex === undefined && b.subjectIndex === undefined) {\n            return 0; // Both are undefined, keep their relative order\n        }\n        if (a.subjectIndex === undefined) {\n            return 1; // Place subjects without subjectIndex at the end\n        }\n        if (b.subjectIndex === undefined) {\n            return -1; // Place subjects without subjectIndex at the end\n        }\n        return a.subjectIndex - b.subjectIndex;\n    })\n\n    return (\n        <Panel>\n            <PanelHeader>\n                <PanelTitle>{entry.name}</PanelTitle>\n            </PanelHeader>\n            <Stack spacing={2} margin={4}>\n                {filteredSubjects.map((subject: any) => (\n                    <SubjectCard key={subject.id} entry={subject} language={filters.language} />\n                ))}\n            </Stack>\n        </Panel>\n    )\n}\n","import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { CardContent, Theme, useMediaQuery, useTheme } from '@material-ui/core'\nimport { Box, Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { Tutorial } from '../../../types/groupTypes'\nimport { ActionCard } from 'components/action-card'\nimport ReactPlayer from 'react-player'\nimport { Dialog, DialogContent, DialogTitle } from 'components/dialog'\nimport { useVimeoThumbnailQuery } from '../../../groupQueries'\nimport { Card } from 'components/card'\n\nconst HorizontalLeftAlignedStack = styled(Box)`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(1)};\n    justify-content: flex-start;\n`\n\nconst VimeoActionCard: React.FC<{ entry: Tutorial; active?: boolean; onClick: () => void }> = ({\n    entry,\n    onClick,\n    active,\n}) => {\n    const { data: thumbnail } = useVimeoThumbnailQuery(entry.url)\n    const theme = useTheme()\n\n    return (\n        <ActionCard\n            type=\"button\"\n            onClick={e => {\n                e.stopPropagation()\n                e.preventDefault()\n                onClick()\n                return false\n            }}\n            style={{ border: `.1rem solid ${active ? theme.palette.primary.main : 'transparent'}` }}\n        >\n            <CardContent style={{ padding: '0.5rem 0.7rem' }}>\n                <HorizontalLeftAlignedStack>\n                    <img\n                        src={thumbnail}\n                        alt=\"Thumbnail\"\n                        style={{ width: '5rem', borderRadius: '.5rem', marginRight: '.3rem' }}\n                    />\n                    <Text>{entry.title}</Text>\n                </HorizontalLeftAlignedStack>\n            </CardContent>\n        </ActionCard>\n    )\n}\n\nexport const VimeoAttachment: React.FC<{ entry: Tutorial; videoEntries: Tutorial[] }> = ({ entry, videoEntries }) => {\n    const [open, setOpen] = useState(false)\n    const [activeEntry, setActiveEntry] = useState(entry)\n    const isMobile = useMediaQuery<Theme>(theme => theme.breakpoints.down('xs'), { noSsr: true })\n\n    useEffect(() => {\n        if (!open) {\n            setActiveEntry(entry)\n        }\n    }, [open, entry])\n\n    const nextEntry = () => {\n        const index = videoEntries.indexOf(activeEntry)\n        const nextIndex = (index + 1) % videoEntries.length\n        if (!nextIndex) {\n            setOpen(false)\n            return\n        }\n        setActiveEntry(videoEntries[nextIndex])\n    }\n\n    return (\n        <>\n            <VimeoActionCard entry={entry} onClick={() => setOpen(true)} />\n            <Dialog fullWidth fullHeight maxWidth=\"md\" open={open} onClose={() => setOpen(false)}>\n                <DialogTitle>{activeEntry.title}</DialogTitle>\n                <DialogContent>\n                    <Box\n                        display=\"flex\"\n                        flexDirection={isMobile ? 'column' : 'row'}\n                        style={{\n                            gap: '1rem',\n                            height: isMobile ? undefined : '100%',\n                        }}\n                    >\n                        <Card style={{ flex: isMobile ? 'auto' : 3 }}>\n                            <CardContent>\n                                <ReactPlayer\n                                    style={{ borderRadius: '.5rem' }}\n                                    url={activeEntry.url}\n                                    config={{\n                                        vimeo: {\n                                            playerOptions: {\n                                                controls: true,\n                                                autoplay: true,\n                                                byline: false,\n                                                title: false,\n                                            },\n                                        },\n                                    }}\n                                    playing\n                                    controls\n                                    width=\"100%\"\n                                    height={isMobile ? 'auto' : undefined}\n                                    onEnded={nextEntry}\n                                />\n                            </CardContent>\n                        </Card>\n                        <Stack style={{ height: '100%', flex: 1 }} spacing={1}>\n                            {videoEntries.map((video, index) => (\n                                <VimeoActionCard\n                                    key={index}\n                                    entry={video}\n                                    active={activeEntry.index === video.index}\n                                    onClick={() => setActiveEntry(video)}\n                                />\n                            ))}\n                        </Stack>\n                    </Box>\n                </DialogContent>\n            </Dialog>\n        </>\n    )\n}\n","import React from 'react'\nimport { Text } from 'components/Text'\nimport { DownloadIcon, FileIcon, PrintIcon } from 'components/icons'\n\nexport const AttachmentKindIcon: React.FC<{ kind: string; print?: boolean }> = ({ kind, print }) => {\n    switch (kind) {\n        case 'document':\n            return (\n                <Text style={{ marginTop: '.2rem', marginRight: '.3rem' }}>\n                    {!print && <FileIcon />}\n                    {print && <PrintIcon />}\n                </Text>\n            )\n        case 'document/zip':\n            return (\n                <Text style={{ marginTop: '.2rem', marginRight: '.3rem' }}>\n                    <DownloadIcon />\n                </Text>\n            )\n\n        default:\n            return <Text style={{ marginRight: '.3rem' }}>📚</Text>\n    }\n}\n","import React, { useState, useMemo } from 'react'\nimport styled from 'styled-components/macro'\nimport { CardContent } from '@material-ui/core'\nimport { Box } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { Tutorial } from '../../../types/groupTypes'\nimport { ActionCard } from 'components/action-card'\nimport { AttachmentKindIcon } from './AttachmentKindIcon'\nimport { Dialog, DialogActions, DialogContent, DialogPrimaryButton, DialogTitle } from 'components/dialog'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Card } from 'components/card'\n\nconst HorizontalLeftAlignedStack = styled(Box)`\n    display: flex;\n    align-items: flex-start;\n    gap: ${props => props.theme.spacing(1)};\n    justify-content: flex-start;\n`\n\nexport const DocumentAttachment: React.FC<{ entry: Tutorial }> = ({ entry }) => {\n    const t = useTranslate()\n    const [open, setOpen] = useState(false)\n\n    const extension = useMemo(() => entry.url.split('.').pop()?.toLowerCase(), [entry.url])\n\n    const actionTypeOpenInTab = useMemo(() => {\n        const extensionsInNewTab = [\n            'pdf',\n        ]\n        for (const ext of extensionsInNewTab) {\n            if (extension && extension.includes(ext || '')) {\n                return true\n            }\n        }\n        return false\n    },[extension])\n\n    const actionTypeDownload = useMemo(() => {\n        const extensionsInNewTab = [\n            'apk', \n            'doc', \n            'ev3', \n            'kodu', \n            'lmsp',\n            'llsp3',\n            'ppt', \n            'py',\n            'rbxl',\n            'rbxm', \n            'sb2',\n            'xls',\n        ]\n        for (const ext of extensionsInNewTab) {\n            if (extension && extension.includes(ext || '')) {\n                return true\n            }\n        }\n        return false\n    },[extension])\n\n    return (\n        <>\n            <ActionCard\n                type=\"button\"\n                onClick={e => {\n                    e.stopPropagation()\n                    e.preventDefault()\n                    if (actionTypeOpenInTab) {\n                        window.open(entry.url, '_blank')\n                    } \n                    else if (actionTypeDownload) {\n                        const link = document.createElement('a');\n                        link.href = entry.url;\n                        link.download = `${entry.title}.${extension}`; // Optionally set a filename\n                        document.body.appendChild(link);\n                        link.click();\n                        document.body.removeChild(link);\n                    }\n                    else {\n                        setOpen(true)\n                    }\n                    return false\n                }}\n            >\n                <CardContent style={{ padding: '0.5rem 0.7rem' }}>\n                    <HorizontalLeftAlignedStack>\n                        <AttachmentKindIcon kind={entry.kind} print={entry.print} />\n                        <Text>{entry.title}</Text>\n                    </HorizontalLeftAlignedStack>\n                </CardContent>\n            </ActionCard>\n            <Dialog fullHeight fullWidth maxWidth=\"md\" open={open} onClose={() => setOpen(false)}>\n                <DialogTitle>{entry.title}</DialogTitle>\n                <DialogContent>\n                    <Box display=\"flex\" flexDirection=\"column\" style={{ height: '100%', gap: '1rem' }}>\n                        {entry.print && (\n                            <Card>\n                                <Box margin={2}>\n                                    <HorizontalLeftAlignedStack>\n                                        <AttachmentKindIcon kind={entry.kind} print />\n                                        <Text>\n                                            {entry.printPerStudent &&\n                                                t('timesheet.printPerStudent', {\n                                                    defaultValue: 'You should print one for each student in the class.',\n                                                })}\n                                            {!entry.printPerStudent &&\n                                                t('timesheet.printOne', {\n                                                    defaultValue: 'You should print this for the group.',\n                                                })}\n                                        </Text>\n                                    </HorizontalLeftAlignedStack>\n                                </Box>\n                            </Card>\n                        )}\n                        <iframe\n                            style={{ flex: 1, border: 'none' }}\n                            src={entry.url}\n                            title={entry.title}\n                            width=\"100%\"\n                            height=\"100%\"\n                            seamless\n                        />\n                    </Box>\n                </DialogContent>\n                <DialogActions>\n                    <DialogPrimaryButton component={'a'} href={entry.url} download>\n                        {t('general::download')}\n                    </DialogPrimaryButton>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { CardContent } from '@material-ui/core'\nimport { Box } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { Tutorial } from '../../../types/groupTypes'\nimport { ActionCard } from 'components/action-card'\nimport { AttachmentKindIcon } from './AttachmentKindIcon'\n\nconst HorizontalLeftAlignedStack = styled(Box)`\n    display: flex;\n    align-items: flex-start;\n    gap: ${props => props.theme.spacing(1)};\n    justify-content: flex-start;\n`\n\nexport const DownloadAttachment: React.FC<{ entry: Tutorial }> = ({ entry }) => {\n    return (\n        <ActionCard\n            type=\"external-link\"\n            to={entry.url}\n            onClick={e => {\n                e.stopPropagation()\n                return false\n            }}\n        >\n            <CardContent style={{ padding: '0.5rem 0.7rem' }}>\n                <HorizontalLeftAlignedStack>\n                    <AttachmentKindIcon kind={entry.kind} />\n                    <Text>{entry.title}</Text>\n                </HorizontalLeftAlignedStack>\n            </CardContent>\n        </ActionCard>\n    )\n}\n","import React from 'react'\nimport { Tutorial } from '../../../types/groupTypes'\nimport { VimeoAttachment } from './VimeoAttachment'\nimport { DocumentAttachment } from './DocumentAttachment'\nimport { DownloadAttachment } from './DownloadAttachment'\nimport { Card } from 'components/card'\n\nexport const AttachmentEntry: React.FC<{ entry: Tutorial; videoEntries: Tutorial[] }> = ({ entry, videoEntries }) => {\n    switch (entry.kind) {\n        case 'video/vimeo':\n            return <VimeoAttachment entry={entry} videoEntries={videoEntries} />\n        case 'document':\n            return <DocumentAttachment entry={entry} />\n        case 'document/zip':\n            return <DownloadAttachment entry={entry} />\n        default:\n            return (\n                <Card>\n                    <pre>{JSON.stringify(entry, null, 2)}</pre>\n                </Card>\n            )\n    }\n}\n","import React from 'react'\nimport { Tutorial } from '../../../types/groupTypes'\nimport { AttachmentEntry } from './AttachmentEntry'\n\nexport const AttachmentList: React.FC<{ entries: Tutorial[] }> = ({ entries }) => {\n    const sortedEntries = entries.filter(e => e.published).sort((a, b) => a.index - b.index)\n    const videoEntries = sortedEntries.filter(entry => entry.kind === 'video/vimeo')\n\n    return (\n        <>\n            {sortedEntries.map(tutorial => (\n                <AttachmentEntry videoEntries={videoEntries} entry={tutorial} key={tutorial.id} />\n            ))}\n        </>\n    )\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { CardContent } from '@material-ui/core'\nimport { Box } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { TimesheetStatusEntry } from '../../../types/groupTypes'\nimport ComputerOff from '../../../media/Computer Parts Monitor.png'\nimport ComputerOn from '../../../media/Computer Parts Monitor Blue Death.png'\nimport Break from '../../../media/Sleepy Owl Idle Sleepy.png'\nimport { useTranslate } from 'lib/i18n/useTranslate'\n\nconst HorizontalLeftAlignedStack = styled(Box)`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(1)};\n    justify-content: flex-start;\n`\n\nexport const StudentComputerContent: React.FC<{ content: 'on' | 'off' }> = ({ content }) => {\n    const t = useTranslate()\n\n    return (\n        <>\n            <img\n                src={content === 'on' ? ComputerOn : ComputerOff}\n                style={{ width: '4rem', marginRight: '1rem' }}\n                alt=\"Computer\"\n            />\n            <Text>\n                {t(`timesheet.student-computer.${content}`, {\n                    defaultValue: `Students should turn ${content} the computer.`,\n                })}\n            </Text>\n        </>\n    )\n}\n\nexport const BreakContent: React.FC<{ duration: number }> = ({ duration }) => {\n    const t = useTranslate()\n\n    return (\n        <>\n            <img\n                src={Break}\n                style={{ width: '4rem', marginTop: '-1rem', marginBottom: '-1.5rem', marginRight: '1rem' }}\n                alt=\"Sleepy Owl\"\n            />\n            {!!duration && (\n                <Text>\n                    {t('timesheet.break.duration', {\n                        duration,\n                        defaultValue: 'Take a break for ' + duration + ' minutes',\n                    })}\n                </Text>\n            )}\n            {!duration && <Text>{t('timesheet.break.on', { defaultValue: 'Take a break!' })}</Text>}\n        </>\n    )\n}\n\nexport const StatusEntry: React.FC<{ entry: TimesheetStatusEntry }> = ({ entry }) => {\n    return (\n        <CardContent style={{ padding: '0.5rem 0.7rem' }}>\n            <HorizontalLeftAlignedStack>\n                {entry.subtype === 'student-computer' && <StudentComputerContent content={entry.content} />}\n                {entry.subtype === 'break' && <BreakContent duration={entry.duration} />}\n            </HorizontalLeftAlignedStack>\n        </CardContent>\n    )\n}\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAABuCAMAAADyHhqkAAACzVBMVEUQEBYSEhg2Nkc3N0hTU20rKzktLTsvLz4xMUAwMD8xMUEzM0M0NEQ1NUY0NEUzM0IUFBsUFBwVFRwXFx8ZGSEbGyMcHCYdHSceHikgICoeHigQEBYPDxcQEBYSEhgQEBYAAAAAAAAQEBYYGCAQEBYSEhIRERYQEBYQEBYQEBYAAAAQEBYRERcQEBYQEBYQEBYQEBYQEBcRERYQEBUQEBYPDxYPDxYQEBYQEBcPDxYQEBcQEBcPDxUNERQHDxAHDxAFDw8ADw8ODhUQEBYRERUPDxcRERYQEBYQEBYQEBcPDw8QEBYRERcQEBYUFBQMDBcUFBQQEBkAAAARERUAAAAFDg4RERYGDw8FDw8EEBAFDw8KFBQIDxEIDxEKEBIPDxUQEBYAAAAAAAAQEBYQEBYgICAQEBUSEhkRERcTExkqKjcoKDUsLDsuLj0tLTwqKjgWFh4aGiIdHSYbGyQeHickJC8hIS0hISskJDAmJjM8PFA9PVA8PE87O047O006Okw5OUw+PlJNTWVSUmwfHylPT2hMTGNLS2NMTGROTmdJSWBKSmFLS2IHDxAJEBIFDw8GDw8EDg4FDw8FDw8FDw8EEREPDxQRERYMDBgPDxQQEBUNDRsQEBYNDRQQEBYQEBYQEBYQEBYQEBYQEBYQEBYQEBYQEBYQEBZNTWYTExoRERgQEBYQEBYRERcPDxYQEBcQEBYXFx4cHCUmJjJFRVtERFpERFlSUmtBQVVBQVZCQlZDQ1dDQ1lJSV9ISF9ISF5HR11GRlxQUGo1NUU2NkZRUWpRUWtGRltFRVpGRl1HR14VFR0ZGSIWFh0yMkI3N0k5OUo8PE4yMkEwMEAwMD4vLz8vLz0uLjwrKzgnJzQpKTYnJzMlJTEjIy8iIi04OEk4OEo5OUtDQ1hCQldCQlg/P1NAQFRQUGk/P1I+PlEsLDogICshISwjIy4iIi4KeDQwAAAAsXRSTlP////////////////////////////////////dIuMr3gMG9P/oHMhR/X8CpKnS0MnDwLezrqalo5yWk5KFi+D/pxFIc3lmiuSBbxHOTPUNFhkfADwBbGlV+EDpGrf/goTwBAXyoQib///////////////////////////////////////////////////7cfdUR/r/8j00OxUzMRPsJtzZ09Tb4eXm8fb////+0SzHtO3intADAAADZ0lEQVR42u3WX2iVdRzH8ff3dx4ZblrDTEgIolZp1iA2dzNKsL9mMxphNCZSsrboJqgbu2jzoropkAhzmUlG9AeLqItwTXDSH5iRQa2SKLoJumjsDP+0bDufLg7DPbTpnnM8O1/l97o6HB543vB8nh+PtQcdt6eZlcRc3t/CrKyOue3t4PwGzUbhw4/wZs1N7XbgIZ5Sj26lDIELRMOwexerVyeCnbSqNthWLeuxsSlbY2Y10ilj4dRq8pjZPt3VIYFGbNXPzKpH658wM0v0/bi0U3us+w0z+8zWUb4h3St1vTZiFloLnR+/95ttZqYb7N1Hjupq5u2XnI1Trst1LXPbn3/xngSuW7HDbBEAokhNAGBGkUGRBepJ/zVqTLuZafbT7O9zI6kboRwpU4YZJKChlQ04st0ggH3hqoouQRASrihAqAVvWUAClgDw45VU21jjBNCwHRKQAGpupPpGV1AUgLUAwzgwDkXhJBi+GIS3McOdAJxwmSXDndCJ1eBOEJLPbfnMsoLLLDW63JYJd8JLkIvnVobJv4I7wZC5zDKL28qwLZ9ZPOZyW3m5zMJjFuxu8Dl5XGbtx+W2hD+BmJUpa4vPbRGz5isQs7JkxW1d3Fkhbuvif4jmM+vRuK0MFCefwZjPrOa4rQzq/B6ndbhTiNvK4GufWQbhtM9zawnufAcBf67wmdUXv7diVsyKWTErZsWsmHUpZhVwQFCUQJHqzlBtf8yS9Wwv1da/7X9ZTVRfX198Ey+hrAT2LjmBJ0cOAxugx1z5ADZy3wHcabvf2uubD1GixQZ2CiB/iGXHKVo1yt1LKcOdNhDID6pkUy0tLeslSRCkon2gsnw+QEIZ/q75slWsGwLgzasoeqbqB8Q/ErJc8HZu/VuYxG7/a4wLLKEUG8S0k2c+gYJIkVK/lCxI1kZ1cU6DpLQlkwuQJdt0/WIkzmqdYqaaX5XjrBdefVyjlc4aVtPrvaS9Yw8zw8A1pPT+eVi3VHby35isF9I6f+h+IAcARzczcgdpz7dNycjA2snmW008acAO0p5T08ja08snvurU7+kq6IVF2wbHByqYdczsQeqh28DysKeVOR3pAbsM9bOrQy/3H6xgVr1tMkqwsrn/YPw6rYyEjFTY+hYlEEYFt8XS25ZTCn2an//F/wFQLICtsEN/6gAAAABJRU5ErkJggg==\"","import React from 'react'\nimport { Stack } from 'components/layout'\nimport { TimesheetTextGroupEntry, TimesheetGroupEntry } from '../../../types/groupTypes'\nimport { HTMLText } from './HTMLText'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Button } from 'components/Button'\nimport { Divider } from 'components/Divider'\n\nexport const SlideCount: React.FC<{ entry: TimesheetGroupEntry }> = ({ entry: { slide_count = 0 } }) => {\n    const t = useTranslate();\n\n    if(!slide_count) return null;\n    return (\n        <Button variant=\"outlined\" disabled>\n            {(slide_count > 1) ? t('timesheet::slides', { count: slide_count }) : t('timesheet.slide')}\n        </Button>\n    )\n}\n\nexport const TextGroupEntry: React.FC<{ entry: TimesheetTextGroupEntry, nextEntry?: TimesheetGroupEntry }> = ({ entry, nextEntry }) => {\n    return (\n        <Stack>\n            <HTMLText text={entry.content} />\n            {/*<SlideCount entry={entry} />*/}\n            {nextEntry?.type === \"text\" && <Divider />}\n        </Stack>\n    )\n}\n","import React from 'react'\nimport { Box, Stack } from 'components/layout'\nimport { TimesheetTaskGroupEntry } from '../../../types/groupTypes'\nimport { Button } from 'components/Button'\nimport { getIdeUrl } from 'lib/api/helpers'\nimport styled from 'styled-components/macro'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { HTMLText } from './HTMLText'\n\nconst HorizontalLeftAlignedStack = styled(Box)`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(2)};\n    justify-content: flex-start;\n`\n\nexport const TaskGroupEntry: React.FC<{ entry: TimesheetTaskGroupEntry }> = ({ entry }) => {\n    const t = useTranslate()\n    const handleOpen = (projectId: string) => {\n        window.open(getIdeUrl(`/ide/${projectId}`), '_blank')\n    }\n\n    return (\n        <Stack>\n            {entry.content.details && <HTMLText text={entry.content.details} />}\n            <HorizontalLeftAlignedStack>\n                {entry.content.project_id && (\n                    <Button variant=\"contained\" onClick={() => handleOpen(entry.content.project_id)}>\n                        {t('timesheet.openProject', { defaultValue: 'Sample Solution' })}\n                    </Button>\n                )}\n                {entry.content.template_id && (\n                    <Button variant=\"outlined\" onClick={() => handleOpen(entry.content.template_id)}>\n                        {t('timesheet.openTemplate', { defaultValue: 'Template' })}\n                    </Button>\n                )}\n            </HorizontalLeftAlignedStack>\n        </Stack>\n    )\n}\n","import React, { useEffect } from 'react'\nimport { Box, Stack } from 'components/layout'\n\nimport { TimesheetQuizGroupEntry } from '../../../types/groupTypes'\nimport { HTMLText } from './HTMLText'\nimport { Button, ButtonProps } from 'components/Button'\nimport { runtimeEnv } from 'utils/env'\nimport styled from 'styled-components/macro'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useHasGrant } from '../../../../../lib/grants'\n\nconst HorizontalLeftAlignedStack = styled(Box)`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(2)};\n    justify-content: flex-start;\n`\n\nexport const CopyButton: React.FC<ButtonProps & { value: string }> = ({\n    disabled,\n    onClick,\n    children,\n    value,\n    ...props\n}) => {\n    const [state, setState] = React.useState('normal')\n    const t = useTranslate()\n\n    useEffect(() => {\n        if (state === 'done' || state === 'error') {\n            const timeout = setTimeout(() => setState('normal'), 1000)\n            return () => clearTimeout(timeout)\n        }\n    }, [state])\n\n    const handleClick = async () => {\n        setState('progress')\n        try {\n            await navigator.clipboard.writeText(value)\n            setState('done')\n        } catch (error) {\n            setState('error')\n        }\n\n        if (onClick) onClick()\n    }\n\n    return (\n        <Button {...props} onClick={handleClick} disabled={disabled || state !== 'normal'}>\n            {state === 'normal' && children}\n            {state === 'progress' && t('general.copyProgress', { defaultValue: 'Copying...' })}\n            {state === 'done' && t('general.copySuccess', { defaultValue: 'Copied' })}\n            {state === 'error' && t('general.copyError', { defaultValue: 'Failed to copy' })}\n        </Button>\n    )\n}\n\nexport const QuizGroupEntry: React.FC<{ entry: TimesheetQuizGroupEntry; sessionId?: string }> = ({\n    entry,\n    sessionId,\n}) => {\n    const t = useTranslate()\n    const hasGrant = useHasGrant()\n\n    const canHost = hasGrant({ product: 'edup.quiz', feature: 'host' })\n    const canPreview = hasGrant({ product: 'edup.quiz', feature: 'preview' })\n    const canSelfHost = hasGrant({ product: 'edup.quiz', feature: 'self-host' })\n    const isTrialOrSalesDemo =\n        hasGrant({ product: 'edup', feature: 'sales-demo' }) || hasGrant({ product: 'edup', feature: 'trial-demo' })\n\n    // As of May 2025, we want the generic description only.\n    const description = /*entry.content.details ||*/ t('timesheet.quiz.description')\n\n    const getURL = (mode: string) => {\n        return `${runtimeEnv.REACT_APP_QUIZ_URL}/${mode}/${entry.content.quiz_template_id}${\n            mode === 'start' && sessionId ? `/session/${sessionId}` : ''\n        }`\n    }\n    const handleClick = (mode: string) => {\n        window.open(getURL(mode), '_blank')\n    }\n\n    //TODO:\n    //<RichText content={translate(isEvent ? 'timesheet.quiz.eventDescription' : 'timesheet.quiz.description')} />\n\n    return (\n        <Stack>\n            {description && <HTMLText text={description} />}\n            <HorizontalLeftAlignedStack>\n                {canHost && !isTrialOrSalesDemo && (\n                    <Button variant=\"contained\" onClick={() => handleClick('start')}>\n                        {t('timesheet.startQuiz', { defaultValue: 'Start Quiz' })}\n                    </Button>\n                )}\n                {canPreview && (\n                    <Button variant=\"outlined\" onClick={() => handleClick('preview')}>\n                        {t('timesheet.previewQuiz', { defaultValue: 'Preview Quiz' })}\n                    </Button>\n                )}\n                {isTrialOrSalesDemo && (\n                    <Button variant=\"contained\" onClick={() => handleClick('room-for')}>\n                        {t('timesheet.startQuiz', { defaultValue: 'Start Quiz' })}\n                    </Button>\n                )}\n                {canSelfHost && !isTrialOrSalesDemo && (\n                    <CopyButton variant=\"outlined\" value={getURL('room-for')}>\n                        {t('timesheet.copyShLink', { defaultValue: 'Copy Self-Host Link' })}\n                    </CopyButton>\n                )}\n            </HorizontalLeftAlignedStack>\n        </Stack>\n    )\n}\n","import React from 'react'\nimport { Box, Stack } from 'components/layout'\nimport { TimesheetChallengeGroupEntry } from '../../../types/groupTypes'\nimport { Button } from 'components/Button'\nimport styled from 'styled-components/macro'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { HTMLText } from './HTMLText'\nimport { Text } from 'components/Text'\nimport { api } from 'lib/api'\nimport { Dialog, DialogActions, DialogContent, DialogPrimaryButton, DialogTitle } from 'components/dialog'\nimport { useProcessSecretCodeRedeemResponse } from '../../../../secret-code'\n\nconst HorizontalLeftAlignedStack = styled(Box)`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(2)};\n    justify-content: flex-start;\n`\n\nconst generateSecretCode = async (id: string) => {\n    const challengeSet = await api.groups.getChallengeSet(id)\n\n    const response = await api.secretCodes.generate({\n        kind: 'event-participation',\n        target: challengeSet.events[0],\n        reason: 'generatedFromTimesheet',\n    })\n\n    return response.code\n}\n\nexport const ChallengeGroupEntry: React.FC<{ entry: TimesheetChallengeGroupEntry }> = ({ entry }) => {\n    const t = useTranslate()\n    const [state, setState] = React.useState('idle')\n    const [secretCodeState, setSecretCodeState] = React.useState('idle')\n    const [code, setCode] = React.useState('')\n    const processSecretCodeRedeemResponse = useProcessSecretCodeRedeemResponse()\n\n    const handleShowCode = async () => {\n        if (!code) {\n            setState('progress')\n            setCode(await generateSecretCode(entry.content.challenge_set_id))\n        }\n        setState('modal')\n    }\n\n    const handleRedeem = async () => {\n        if (secretCodeState !== 'progress') {\n            setSecretCodeState('progress')\n            try {\n                const { data } = await api.secretCodes.redeem(code)\n                if (data.success) processSecretCodeRedeemResponse(data, () => setState('idle'))\n                setSecretCodeState('idle')\n            } catch (e) {\n                console.error(e)\n                setSecretCodeState('error')\n            }\n        }\n    }\n\n    return (\n        <>\n            <Stack>\n                <HTMLText text={entry.content.details} />\n                <HorizontalLeftAlignedStack>\n                    <Button disabled={state !== 'idle'} variant=\"contained\" onClick={() => handleShowCode()}>\n                        {state !== 'progress' &&\n                            t('timesheet.showChallengeSetCode', { defaultValue: 'Show Secret Code' })}\n                        {state === 'progress' &&\n                            t('timesheet.generatingChallengeSetCode', { defaultValue: 'Generating code...' })}\n                    </Button>\n                </HorizontalLeftAlignedStack>\n            </Stack>\n            <Dialog fullWidth open={state === 'modal'} onClose={() => setState('idle')}>\n                <DialogTitle>{t('secretCode::label')}</DialogTitle>\n                <DialogContent>\n                    <Text variant=\"h1\">{code}</Text>\n                </DialogContent>\n                <DialogActions>\n                    <DialogPrimaryButton\n                        isLoading={secretCodeState === 'progress'}\n                        disabled={secretCodeState === 'error'}\n                        onClick={handleRedeem}\n                    >\n                        {t('redeemSecretCode')}\n                    </DialogPrimaryButton>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}\n","import React from 'react'\nimport { TimesheetVideoGroupEntry } from '../../../types/groupTypes'\nimport { EmbeddedVideo } from 'components/EmbeddedVideo'\nimport { Box, Stack } from 'components/layout'\nimport { HTMLText } from './HTMLText'\n\nexport const VideoGroupEntry: React.FC<{ entry: TimesheetVideoGroupEntry }> = ({ entry }) => {\n    return (\n        <Stack spacing={2}>\n            <HTMLText text={entry.content.details} />\n            <Box style={{ width: '50%' }}>\n                <EmbeddedVideo type={entry.content.source as 'youtube' | 'vimeo'} id={entry.content.id} />\n            </Box>\n        </Stack>\n    )\n}\n","import React, { useEffect, useRef } from 'react'\nimport { TimesheetCodeGroupEntry } from '../../../types/groupTypes'\nimport { Box, Stack } from 'components/layout'\nimport styled from 'styled-components/macro'\nimport hljs from 'highlight.js'\nimport 'highlight.js/styles/github.css'\nimport { HTMLText } from './HTMLText'\n\nconst CodeBlock = styled.pre`\n    margin: 0;\n    padding: 1rem;\n    border-radius: 4px;\n    background-color: #f5f5f5;\n    overflow-x: auto;\n`\n\nexport const CodeGroupEntry: React.FC<{ entry: TimesheetCodeGroupEntry }> = ({ entry }) => {\n    const codeRef = useRef<HTMLElement>(null)\n\n    useEffect(() => {\n        if (codeRef.current) {\n            hljs.highlightElement(codeRef.current)\n        }\n    }, [entry.content.code, entry.content.language])\n\n    return (\n        <Stack spacing={2}>\n            <HTMLText text={entry.content.details} />\n            <Box>\n                <CodeBlock>\n                    <code ref={codeRef} className={entry.content.language}>\n                        {entry.content.code}\n                    </code>\n                </CodeBlock>\n            </Box>\n        </Stack>\n    )\n}\n","import React from 'react'\nimport { TimesheetGroupEntry } from '../../../types/groupTypes'\nimport { TextGroupEntry } from './TextGroupEntry'\nimport { TaskGroupEntry } from './TaskGroupEntry'\nimport { QuizGroupEntry } from './QuizGroupEntry'\nimport { ChallengeGroupEntry } from './ChallengeGroupEntry'\nimport { VideoGroupEntry } from './VideoGroupEntry'\nimport { CodeGroupEntry } from './CodeGroupEntry'\nimport { useInClassContext } from '../InClassModeCard'\nimport styled from 'styled-components/macro'\nimport { Box } from 'components/layout'\nimport { Checkbox, useTheme } from '@material-ui/core'\n\nconst GroupEntryViewContent: React.FC<{\n    entry: TimesheetGroupEntry\n    nextEntry?: TimesheetGroupEntry\n    sessionId?: string\n}> = ({ entry, nextEntry, sessionId }) => {\n    switch (entry.type) {\n        case 'text':\n            return <TextGroupEntry entry={entry} nextEntry={nextEntry} />\n        case 'task':\n            return <TaskGroupEntry entry={entry} />\n        case 'quiz':\n            return <QuizGroupEntry entry={entry} sessionId={sessionId} />\n        case 'challenge':\n            return <ChallengeGroupEntry entry={entry} />\n        case 'video':\n            return <VideoGroupEntry entry={entry} />\n        case 'code':\n            return <CodeGroupEntry entry={entry} />\n        default:\n            return <pre>{JSON.stringify(entry, null, 2)}</pre>\n    }\n}\n\nconst HorizontalLeftAlignedStack = styled(Box)`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(1)};\n    justify-content: flex-start;\n    border-top: 1px solid transparent;\n    border-bottom: 1px solid transparent;\n    border-radius: 1rem;\n`\n\nconst StyledCheckbox = styled(Checkbox)`\n    margin-left: 1rem;\n    margin-right: 0.5rem;\n    color: ${props => props.theme.palette.primary.main};\n`\n\nexport const GroupEntryView: React.FC<{\n    entry: TimesheetGroupEntry\n    nextEntry?: TimesheetGroupEntry\n    groupIndex: number\n    entryIndex: number\n    sessionId?: string\n}> = ({ entry, nextEntry, groupIndex, entryIndex, sessionId }) => {\n    const { isInClassMode, isEntryCompleted, isGroupCompleted, toggleEntry, hasMultipleEntries } = useInClassContext(\n        groupIndex,\n        entryIndex,\n    )\n    const [hover, setHover] = React.useState(false)\n    const theme = useTheme()\n    const checkboxVisible = entry.isActive && hasMultipleEntries\n    const opacity = isInClassMode && checkboxVisible && isEntryCompleted && !isGroupCompleted ? 0.7 : 1\n\n    return (\n        <HorizontalLeftAlignedStack\n            style={\n                hover\n                    ? {\n                          borderBottom: `1px solid ${theme.palette.primary.dark}`,\n                          borderTop: `1px solid ${theme.palette.primary.dark}`,\n                          opacity,\n                      }\n                    : {\n                          opacity,\n                      }\n            }\n        >\n            {isInClassMode && (\n                <StyledCheckbox\n                    color=\"primary\"\n                    style={{ visibility: checkboxVisible ? 'visible' : 'hidden' }}\n                    checked={isEntryCompleted}\n                    onChange={toggleEntry}\n                    onMouseEnter={() => setHover(true)}\n                    onMouseLeave={() => setHover(false)}\n                />\n            )}\n            <GroupEntryViewContent entry={entry} nextEntry={nextEntry} sessionId={sessionId} />\n        </HorizontalLeftAlignedStack>\n    )\n}\n","import React, { useEffect, useState } from 'react'\nimport { CardContent, Checkbox } from '@material-ui/core'\nimport { Box, Stack } from 'components/layout'\nimport { TimesheetEntryGroup } from '../../../types/groupTypes'\nimport { CardHeader } from 'components/card'\nimport { GroupEntryView } from './GroupEntryView'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Accordion } from 'components/Accordion'\nimport styled from 'styled-components/macro'\nimport { useInClassContext } from '../InClassModeCard'\n\nconst HorizontalLeftAlignedStack = styled(Box)`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(1)};\n    justify-content: flex-start;\n`\n\nconst EmbeddedAccordion = styled(Accordion)`\n    .MuiAccordionSummary-root {\n        padding: 0 1rem 0 0;\n    }\n\n    .MuiAccordionSummary-root:hover {\n        background: ${props => props.theme.palette.action.hover};\n    }\n\n    .MuiAccordionSummary-content {\n        margin: 0;\n    }\n\n    .MuiAccordionSummary-content.Mui-expanded {\n        margin: 0.5rem 0;\n    }\n\n    .MuiAccordionSummary-expandIcon {\n        color: ${props => props.theme.palette.text.secondary};\n    }\n`\n\nconst StyledCheckbox = styled(Checkbox)`\n    margin-left: 1rem;\n    margin-right: 0.5rem;\n    color: ${props => props.theme.palette.primary.main};\n`\n\nexport const EntryGroup: React.FC<{ entry: TimesheetEntryGroup; index: number; sessionId?: string }> = ({\n    entry,\n    index,\n    sessionId,\n}) => {\n    const t = useTranslate()\n    const [expanded, setExpanded] = useState(true)\n    const { isInClassMode, isGroupCompleted, toggleGroup } = useInClassContext(index)\n\n    const duration =\n        entry.duration === 0\n            ? ''\n            : entry.duration > 1\n            ? t('common.minutes.mynext', { duration: entry.duration, defaultValue: entry.duration + ' minutes' })\n            : t('common.minute.mynext', { duration: entry.duration, defaultValue: '1 minute' })\n\n    const entries = entry.content.entries\n    const title =\n        entries && entries[0] && entries[0].type === 'quiz'\n            ? t('timesheet.quiz.title', { defaultValue: 'Quiz' })\n            : entry.content.topic\n\n    useEffect(() => {\n        setExpanded(!isGroupCompleted)\n    }, [isGroupCompleted])\n\n    return (\n        <EmbeddedAccordion\n            expanded={expanded}\n            onChange={() => setExpanded(!expanded)}\n            style={{\n                opacity: isInClassMode && isGroupCompleted && entry.isActive ? 0.7 : 1,\n            }}\n            header={\n                <HorizontalLeftAlignedStack>\n                    {isInClassMode && entry.isActive && (\n                        <StyledCheckbox color=\"primary\" checked={isGroupCompleted} onChange={toggleGroup} />\n                    )}\n                    <CardHeader title={title} subheader={entry.duration ? duration : undefined} />\n                </HorizontalLeftAlignedStack>\n            }\n        >\n            <CardContent style={{ padding: '0.5rem 0.7rem' }}>\n                <Stack>\n                    {entries?.map((entry, key) => (\n                        <Box key={key} margin={1}>\n                            <GroupEntryView\n                                entry={entry}\n                                nextEntry={entries[key + 1]}\n                                groupIndex={index}\n                                entryIndex={key}\n                                sessionId={sessionId}\n                            />\n                        </Box>\n                    ))}\n                </Stack>\n            </CardContent>\n        </EmbeddedAccordion>\n    )\n}\n","import React from 'react'\nimport { TimesheetEntry } from '../../types/groupTypes'\nimport { EntryGroup, StatusEntry } from './timesheet'\n\nexport const TimesheetEntryView: React.FC<{ entry: TimesheetEntry; index: number; sessionId?: string }> = ({\n    entry,\n    index,\n    sessionId,\n}) => {\n    switch (entry.type) {\n        case 'group':\n            return <EntryGroup entry={entry} index={index} sessionId={sessionId} />\n        case 'status':\n            return <StatusEntry entry={entry} />\n        default:\n            return <pre>{JSON.stringify(entry, null, 2)}</pre>\n    }\n}\n","import React from 'react'\nimport { Card, CardContent } from 'components/card'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Button } from 'components/Button'\nimport { Stack } from 'components/layout'\nimport { FormControl, FormLabel, TextField } from 'components/form'\nimport { Text } from 'components/Text'\nimport { api } from 'lib/api'\nimport { useUserState } from 'contexts/UserContext'\nimport MoodRating from './elements/MoodRating'\n\nexport interface FeedbackCardProps {\n    timesheet: string\n    lessonType: string\n    lessonIndex: number\n    courseType: string\n    numberOfStudents: number\n}\n\nexport const FeedbackCard: React.FC<FeedbackCardProps> = props => {\n    const t = useTranslate()\n    const user = useUserState()\n    const [status, setStatus] = React.useState<'idle' | 'loading' | 'success' | 'error'>('idle')\n    const [ratingValue, setRatingValue] = React.useState<number | null>(null)\n    const [commentValue, setCommentValue] = React.useState<string | null>(null)\n    const isFilled = ratingValue !== null && commentValue !== null && commentValue.length >= 6\n\n    async function submitFeedback() {\n        setStatus('loading')\n        try {\n            await api.groups.submitTimesheetFeedback({\n                school: user.crm.lastSchoolId,\n                timesheet: props.timesheet,\n                studentRatings: 0,\n                teachersRating: ratingValue,\n                comment: commentValue,\n                lessonLength: 0,\n                lessonType: props.lessonType,\n                lessonIndex: props.lessonIndex,\n                courseType: props.courseType,\n                progress: 0,\n                endClass: false,\n                numberOfStudents: props.numberOfStudents,\n                status: 'waiting',\n            })\n            setStatus('success')\n        } catch (e) {\n            console.error(e)\n            setStatus('error')\n            return\n        }\n    }\n\n    function reset() {\n        setRatingValue(null)\n        setCommentValue(null)\n        setStatus('idle')\n    }\n\n    if (status === 'success') {\n        return (\n            <Card>\n                <CardContent>\n                    <Stack spacing={2}>\n                        <Text>{t('timesheet.feedbackModal.thanks')}</Text>\n                        <Text variant=\"body2\">{t('timesheet.feedbackModal.anythingElse')}</Text>\n                        <Button onClick={reset}>{t('timesheet.feedbackModal.newFeedback')}</Button>\n                    </Stack>\n                </CardContent>\n            </Card>\n        )\n    }\n\n    return (\n        <Card>\n            <CardContent>\n                <Stack spacing={2}>\n                    <FormControl>\n                        <FormLabel>{t('timesheet.feedbackModal.details')}</FormLabel>\n                        <MoodRating value={ratingValue} name=\"teachers-rating\" onChange={(_, v) => setRatingValue(v)} />\n                    </FormControl>\n                    <TextField\n                        readOnly={status === 'loading'}\n                        label={t(`timesheet.feedbackModal.comments`)}\n                        multiline\n                        name=\"feedback-comments\"\n                        rows={3}\n                        value={commentValue || ''}\n                        inputProps={{ minLength: 6, maxLength: 500 }}\n                        onChange={e => {\n                            setCommentValue(e.target.value)\n                        }}\n                    ></TextField>\n                    <Button isLoading={status === 'loading'} disabled={!isFilled} onClick={submitFeedback}>\n                        {t('timesheet.feedbackModal.submit')}\n                    </Button>\n                </Stack>\n            </CardContent>\n        </Card>\n    )\n}\n","import React from 'react'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Button } from 'components/Button'\nimport { Box, Stack } from 'components/layout'\nimport { TextField } from 'components/form'\nimport { api } from 'lib/api'\nimport { Dialog, DialogActions, DialogContent, DialogTitle } from 'components/dialog'\nimport { Text } from 'components/Text'\nimport { Attendance } from '../../types/groupTypes'\nimport styled from 'styled-components/macro'\nimport { Avatar } from '../../../avatar'\n\nconst HorizontalStack = styled(Box)`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(0)};\n    justify-content: flex-start;\n`\n\nexport interface PasswordResetModalProps {\n    participant?: Attendance\n    open: boolean\n    onClose(): void\n}\n\nexport const PasswordResetModal: React.FC<PasswordResetModalProps> = ({ participant, open, onClose }) => {\n    const t = useTranslate()\n    const [status, setStatus] = React.useState<'idle' | 'loading' | 'success' | 'error'>('idle')\n    const [password, setPassword] = React.useState<string>('abcd1234')\n    const isFilled = password.length >= 6 && password.length <= 64\n\n    async function submitPasswordReset() {\n        setStatus('loading')\n        try {\n            await api.accounts.resetPassword(participant?.scUserId || '', password)\n            close()\n        } catch (e) {\n            console.error(e)\n            setStatus('error')\n            return\n        }\n    }\n\n    function close() {\n        setPassword('')\n        setStatus('idle')\n        onClose()\n    }\n\n    return (\n        <Dialog open={open} disableBackdropClick={true} hideCloseButton={true}>\n            <DialogTitle>{t('timesheet.attendance.resetPassword')}</DialogTitle>\n            <DialogContent>\n                <Stack spacing={4}>\n                    <HorizontalStack>\n                        <Avatar src={participant?.profileImage} size=\"tiny\" />\n                        <Text style={{ marginLeft: '.5rem' }}>{participant?.fullName || ''}</Text>\n                        &nbsp;(\n                        <Text>{participant?.alias || participant?.username || ''}</Text>)\n                    </HorizontalStack>\n                    <TextField\n                        readOnly={status === 'loading'}\n                        label={t('timesheet.attendance.newPassword')}\n                        name=\"new-password\"\n                        value={password}\n                        required\n                        inputProps={{ minLength: 6, maxLength: 64 }}\n                        helperText={isFilled || !password ? undefined : t('timesheet.attendance.pwLength')}\n                        onChange={e => setPassword(e.target.value)}\n                    />\n                    {status === 'error' && <Text color=\"error\">{t('timesheet.attendance.somethingWentWrong')}</Text>}\n                </Stack>\n            </DialogContent>\n            <DialogActions>\n                <Button disabled={status === 'loading'} variant=\"outlined\" onClick={close}>\n                    {t('general::cancel')}\n                </Button>\n                <Button isLoading={status === 'loading'} disabled={!isFilled} onClick={submitPasswordReset}>\n                    {t('general::save')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n","import React, { useEffect } from 'react'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Dialog, DialogContent, DialogTitle } from 'components/dialog'\nimport { Attendance } from '../../types/groupTypes'\nimport { api } from 'lib/api'\nimport { Loader } from 'components/Loader'\nimport { QRCodeSVG } from 'qrcode.react'\nimport { Avatar } from '../../../avatar'\nimport { Text } from 'components/Text'\nimport { Stack } from 'components/layout'\nimport styled from 'styled-components/macro'\nimport { Box } from '@material-ui/core'\n\nexport interface QRLoginModalProps {\n    participant?: Attendance\n    open: boolean\n    onClose(): void\n}\n\nconst HorizontalStack = styled(Box)`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(0)};\n    justify-content: flex-start;\n`\n\nexport const QRLoginModal: React.FC<QRLoginModalProps> = ({ participant, open, onClose }) => {\n    const t = useTranslate()\n    const [status, setStatus] = React.useState<'idle' | 'loading' | 'success' | 'error'>('idle')\n    const [uri, setURI] = React.useState<string | null>(null)\n\n    useEffect(() => {\n        if (open && participant?.username) {\n            setStatus('loading')\n            api.accounts.generateOneTimePassword(participant.username).then(password => {\n                setURI(password)\n                setStatus('success')\n            })\n        }\n    }, [open, participant?.username])\n\n    function close() {\n        setStatus('idle')\n        onClose()\n    }\n\n    return (\n        <Dialog open={open} onClose={close}>\n            <DialogTitle>{t('timesheet.attendance.qrLogin')}</DialogTitle>\n            <DialogContent>\n                <Stack spacing={4}>\n                    <HorizontalStack>\n                        <Avatar src={participant?.profileImage} size=\"tiny\" />\n                        <Text style={{ marginLeft: '.5rem' }}>{participant?.fullName || ''}</Text>\n                        &nbsp;(\n                        <Text>{participant?.alias || participant?.username || ''}</Text>)\n                    </HorizontalStack>\n                    {status === 'loading' && <Loader />}\n                    {status === 'success' && uri && <QRCodeSVG value={uri} marginSize={4} size={256} />}\n                </Stack>\n            </DialogContent>\n        </Dialog>\n    )\n}\n","import * as React from 'react'\nimport { CheckCircleIcon, TimesCircleIcon } from 'components/icons'\nimport styled from 'styled-components/macro'\nimport { IconContainerProps, Rating, RatingProps } from '@material-ui/lab'\n\nconst StyledRating = styled(Rating)(({ theme }) => ({\n    '& .MuiRating-icon': {\n        marginRight: theme.spacing(0.8),\n    },\n    '& .MuiRating-iconFilled': {\n        color: theme.palette.primary.main,\n    },\n    marginRight: theme.spacing(1),\n}))\n\nconst customIcons: {\n    [index: string]: {\n        icon: React.ReactElement<unknown>\n        label: string\n    }\n} = {\n    1: {\n        icon: <TimesCircleIcon />,\n        label: 'Not Present',\n    },\n    2: {\n        icon: <CheckCircleIcon />,\n        label: 'Present',\n    },\n}\n\nfunction IconContainer(props: IconContainerProps, selectedValue: number | null | undefined) {\n    const { value, ...other } = props\n    return (\n        <span {...other} className={`MuiRating-icon MuiRating-icon${value === selectedValue ? 'Filled' : 'Empty'}`}>\n            {customIcons[value].icon}\n        </span>\n    )\n}\n\nexport default function AttendanceSwitch(props: RatingProps) {\n    const createIconContainer = (_value: number | null | undefined) => {\n        return (props: IconContainerProps) => IconContainer(props, _value)\n    }\n\n    return (\n        <StyledRating\n            {...props}\n            defaultValue={0}\n            max={2}\n            IconContainerComponent={createIconContainer(props.value)}\n            getLabelText={(value: number) => customIcons[value].label}\n        />\n    )\n}\n","import React, { useContext, useEffect, useMemo, useState } from 'react'\nimport { Card, CardContent } from 'components/card'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Box, Stack } from 'components/layout'\nimport { Attendance, Attendances } from '../../types/groupTypes'\nimport styled from 'styled-components/macro'\nimport { MoreIcon, StatusIconGreen, StatusIconYellow, StatusIconRed, AttendanceListIcon } from 'components/icons'\nimport { PopupMenu, PopupMenuIconButton, PopupMenuItem, PopupMenuList } from 'components/popup-menu'\nimport { getIdeUrl } from 'lib/api/helpers'\nimport { PasswordResetModal } from './PasswordResetModal'\nimport { useHasGrant } from 'lib/grants'\nimport { QRLoginModal } from './QRLoginModal'\nimport dayjs from 'dayjs'\nimport { InClassContext } from './InClassModeCard'\nimport { Tooltip } from 'components/Tooltip'\nimport { api } from 'lib/api'\nimport AttendanceSwitch from './elements/AttendanceSwitch'\nimport { IconButton } from 'components/IconButton'\nimport { useUserState } from 'contexts/UserContext'\nimport { Button } from 'components/Button'\nimport { Theme, useMediaQuery } from '@material-ui/core'\nimport { Popover } from 'components/Popover'\nimport { Text } from 'components/Text'\nimport { useTick } from '../../../../hooks/useCountdown'\n\nfunction hasActivityIn(minutes: number, lastActivityAt: Date) {\n    return dayjs().add(-minutes, 'minutes').isBefore(lastActivityAt)\n}\n\nfunction activityIn(lastActivityAt: Date, locale: string) {\n    return dayjs(lastActivityAt).locale(locale).fromNow()\n}\n\nconst HorizontalStack = styled(Box)<{ spacing: number }>`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(props.spacing)};\n    justify-content: flex-start;\n`\n\nexport interface AttendanceCardProps {\n    participants?: Attendances\n    popup?: boolean\n    setPopupOpen?: (open: boolean) => void\n    available: boolean    \n}\n\nexport const AttendanceCard: React.FC<AttendanceCardProps> = props => {\n    const t = useTranslate()\n    const {\n        i18n: { language },\n    } = useUserState()\n    const { state: inClassState } = useContext(InClassContext)\n    const [passwordModalOpen, setPasswordModalOpen] = useState(false)\n    const [qrModalOpen, setQRModalOpen] = useState(false)\n    const [clickedParticipant, setClickedParticipant] = useState<Attendance>()\n    const hasGrant = useHasGrant()\n    const canResetPassword = hasGrant({ product: 'edup.accounts', feature: 'manage-own-students' })\n    const canUseQRLogin = canResetPassword\n    const [activityStatus, setActivityStatus] = useState<{ canLoadProject: boolean; icon: JSX.Element }[]>([])\n    const [manualAttendance, setManualAttendance] = useState<boolean[]>([])\n    const values = useMemo(() => Object.values(props.participants || {}), [props.participants])\n    const isMobile = useMediaQuery<Theme>(theme => theme.breakpoints.down('xs'), { noSsr: true })\n    const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null)\n    const isPopupOpen = !!anchorEl\n    const activityUpdateTrigger = useTick(60000)\n    const isPast = inClassState.calendarEvent ? dayjs().isAfter(inClassState.calendarEvent?.endTime) : false\n\n    function handleOpenPopup(event: React.MouseEvent<HTMLButtonElement>) {\n        if (props.setPopupOpen) {\n            props.setPopupOpen(true)\n        }\n        setAnchorEl(event.currentTarget)\n    }\n\n    function handleClosePopup() {\n        if (props.setPopupOpen) {\n            props.setPopupOpen(false)\n        }\n        setAnchorEl(null)\n    }\n\n    useEffect(() => {\n        setManualAttendance([])\n    }, [values])\n\n    useEffect(() => {\n        setActivityStatus(\n            values.map(p => ({\n                canLoadProject: !!(\n                    p.username &&\n                    p.lastProject &&\n                    p.lastActivityAt &&\n                    hasActivityIn(300, p.lastActivityAt)\n                ),\n                icon: hasActivityIn(7, p.lastActivityAt) ? (\n                    hasActivityIn(3, p.lastActivityAt) ? (\n                        <StatusIconGreen color=\"#4CAF50\" />\n                    ) : (\n                        <StatusIconYellow color=\"#dfa13b\" />\n                    )\n                ) : (\n                    <StatusIconRed color=\"#F44336\" />\n                ),\n            })),\n        )\n    }, [values, activityUpdateTrigger])\n\n    function openLastProject(participant: Attendance) {\n        window.open(getIdeUrl(`/ide/${participant.lastProject}`), '_blank')\n    }\n\n    function qrLogin(participant: Attendance) {\n        setClickedParticipant(participant)\n        setQRModalOpen(true)\n    }\n\n    function resetPassword(participant: Attendance) {\n        setClickedParticipant(participant)\n        setPasswordModalOpen(true)\n    }\n\n    async function postAttendance(entry: Attendance, checked: boolean) {\n        const data = {\n            person_id: entry.crmUserId,\n            group_id: inClassState.calendarEvent?.group_id,\n            timestamp: api.groups.getTimestampString(inClassState?.calendarEvent?.startTime),\n            attendance: checked,\n            source: 'scoolcode',\n            school_id: inClassState.calendarEvent?.school_id,\n            season_id: inClassState.calendarEvent?.season_id,\n            session_id: entry.makeup ? undefined : inClassState.calendarEvent?._id,\n            subject_id: entry.subject_id,\n            lesson: inClassState.calendarEvent?.lesson,\n            isMakeUp: entry.makeup,\n            madeup: !entry.makeup && !checked ? false : undefined,\n            courseType_id: entry.makeup ? undefined : inClassState.calendarEvent?.crm_courseType_id,\n            makeUpComment: entry.makeup ? entry.makeUpComment : undefined,\n        }\n\n        await api.groups.postAttendances([data])\n    }\n\n    const getAttendanceValue = (entry: Attendance, index: number): number => {\n        return typeof manualAttendance[index] === 'boolean' && props.available\n                                    ? manualAttendance[index]\n                                        ? 2\n                                        : 1\n                                    : typeof entry.attendance === 'boolean' && props.available\n                                    ? entry.attendance\n                                        ? 2\n                                        : 1\n                                    : 0\n    }\n\n    let contentPart = (\n        <Stack spacing={isMobile ? 4 : 1} width='16rem' style={{cursor: props.available ? 'default' : 'wait'}}>\n            {values.map((entry, i) => (\n                <HorizontalStack key={entry.crmUserId} spacing={isMobile ? 2 : 0}>\n                    {inClassState.calendarEvent && (inClassState.enabled || isPast) && entry.crmUserId && (\n                        <AttendanceSwitch\n                            color=\"primary\"\n                            value={getAttendanceValue(entry, i)}\n                            onChange={(_, value) => {\n                                if (value === 0) return\n                                const isChecked = value === 2\n\n                                const newManualAttendance = [...manualAttendance]\n                                newManualAttendance[i] = isChecked\n                                setManualAttendance(newManualAttendance)\n\n                                postAttendance(entry, isChecked)\n                                    .then(() => {\n                                        /* noop */\n                                    })\n                                    .catch(() => {\n                                        /* noop */\n                                    })\n                            }}\n                        />\n                    )}\n                    <Stack spacing={0}>\n                        <Text style={{ flexGrow: 1 }} variant={isMobile ? 'body1' : 'body2'}>\n                            {entry.fullName}\n                        </Text>\n                        {inClassState.calendarEvent?.type !== 'makeup' && entry.makeup && (\n                            <Text variant=\"caption\" color=\"primary\">\n                                {t('timesheet.makeup')}\n                            </Text>\n                        )}\n                    </Stack>\n                    <Box flexGrow={1} />\n                    {inClassState.enabled &&\n                        entry.username &&\n                        props.available &&\n                        getAttendanceValue(entry, i) !== 1 &&\n                        !!activityStatus[i]?.icon && (\n                            <Tooltip\n                                title={t('timesheet::participation::status', {\n                                    minutes: activityIn(entry.lastActivityAt, language),\n                                })}\n                                placement=\"top-start\"\n                            >\n                                <IconButton size=\"small\">{activityStatus[i].icon}</IconButton>\n                            </Tooltip>\n                        )}\n                    <PopupMenu>\n                        <PopupMenuIconButton\n                            size=\"small\"\n                            disabled={\n                                !(\n                                    (canUseQRLogin && entry.username) ||\n                                    (canResetPassword && entry.username) ||\n                                    activityStatus[i]?.canLoadProject                                    \n                                ) ||\n                                !props.available ||\n                                !inClassState.enabled ||\n                                (getAttendanceValue(entry, i) !== 2 && inClassState.enabled)\n                            }\n                            style={{ marginLeft: '-0.4rem', marginRight: '-0.4rem' }}\n                            aria-label={t('general::more')}\n                        >\n                            <MoreIcon />\n                        </PopupMenuIconButton>\n                        <PopupMenuList>\n                            {canUseQRLogin && entry.username && (\n                                <PopupMenuItem onClick={() => qrLogin(entry)}>\n                                    {t('timesheet.attendance.qrLogin')}\n                                </PopupMenuItem>\n                            )}\n                            {canResetPassword && entry.username && (\n                                <PopupMenuItem onClick={() => resetPassword(entry)}>\n                                    {t('timesheet.attendance.resetPassword')}\n                                </PopupMenuItem>\n                            )}\n                            {activityStatus[i]?.canLoadProject && (\n                                <PopupMenuItem onClick={() => openLastProject(entry)}>\n                                    {t('timesheet.attendance.openLastProject')}\n                                </PopupMenuItem>\n                            )}\n                        </PopupMenuList>\n                    </PopupMenu>\n                </HorizontalStack>\n            ))}\n        </Stack>\n    )\n\n    if (props.popup) {\n        const El = props.popup ? StyledPopover : Popover\n        contentPart = (\n            <El\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\n                anchorEl={anchorEl}\n                open={isPopupOpen}\n                onClose={handleClosePopup}\n            >\n                <Box style={{ margin: '1rem', width: '16rem' }}>{contentPart}</Box>\n            </El>\n        )\n    } else {\n        contentPart = (\n            <Card>\n                <CardContent style={{opacity: props.available ? 1 : 0.7}}>{contentPart}</CardContent>\n            </Card>\n        )\n    }\n\n    return (\n        <>\n            {props.popup && (\n                <>\n                    {isMobile && (\n                        <IconButton onClick={handleOpenPopup}>\n                            <AttendanceListIcon />\n                        </IconButton>\n                    )}\n                    {!isMobile && (\n                        <Button variant=\"outlined\" startIcon={<AttendanceListIcon />} onClick={handleOpenPopup}>\n                            {t('timesheet.participation')}\n                        </Button>\n                    )}\n                </>\n            )}\n            {contentPart}\n            {canResetPassword && (\n                <PasswordResetModal\n                    participant={clickedParticipant}\n                    open={passwordModalOpen}\n                    onClose={() => setPasswordModalOpen(false)}\n                />\n            )}\n            {canUseQRLogin && (\n                <QRLoginModal\n                    participant={clickedParticipant}\n                    open={qrModalOpen}\n                    onClose={() => setQRModalOpen(false)}\n                />\n            )}\n        </>\n    )\n}\n\nconst StyledPopover = styled(Popover)`\n    .MuiPopover-paper {\n        transition: none !important;\n    }\n`","import React, { useContext, useEffect, useMemo, useState } from 'react'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Box, Inline, Stack } from 'components/layout'\nimport { Panel, PanelActions, PanelHeader, PanelMoreButton, PanelTitle } from 'components/panel'\nimport { CalendarEntry, InClassContext, useCalendarQuery } from 'features/classroom'\nimport dayjs from 'dayjs'\nimport { Text } from 'components/Text'\nimport { ActionCard } from 'components/action-card'\nimport styled from 'styled-components/macro'\nimport { CardContent } from 'components/card'\nimport { MediumSkeleton, SmallSkeleton } from 'components/Skeleton'\nimport { EmptyState } from 'components/EmptyState'\nimport { useHasGrant } from '../../../../lib/grants'\nimport { Button } from 'components/Button'\nimport { RightAngleIcon } from 'components/icons'\nimport { Theme, useMediaQuery, useTheme } from '@material-ui/core'\nimport { useColumnWidth } from 'lib/store/pageReducer'\n\nconst HorizontalContent = styled(CardContent)`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(4)};\n    justify-content: space-between;\n`\n\nconst HorizontalSubHeader = styled(Text)<{ $opacity: number }>`\n    opacity: ${props => props.$opacity};\n    text-wrap: nowrap;\n    display: flex;\n    flex-direction: row;\n`\n\nconst ActionWrap = styled(Inline)`\n    display: flex;\n    flex-shrink: 0;\n    align-items: center;\n    font-weight: 600;\n    justify-content: flex-end;\n    text-align: right;\n    color: ${props => props.theme.palette.primary.main};\n`\n\nconst ListCard = styled(ActionCard as any)<{ special?: boolean }>`\n    border: ${props => (props.special ? `1px solid ${props.theme.palette.primary.light}` : 'none')};\n`\n\nconst LessonCard: React.FC<{ entry: CalendarEntry; canStart: boolean; isCurrent: boolean; isActive: boolean }> = ({\n    entry: {\n        data: { eventData: evt },\n    },\n    canStart,\n    isCurrent,\n    isActive,\n}) => {\n    const t = useTranslate()\n    const timeSlot = `${evt.startTime.format('HH:mm')}-${evt.endTime.format('HH:mm')}`\n    const isMakeup = evt.type === 'makeup'\n\n    const url = isActive\n        ? canStart || isCurrent\n            ? `/app/classroom/curriculum/start/${evt.courseType_id}/${evt.lesson}/${evt._id}`\n            : `/app/classroom/curriculum/view/${evt.courseType_id}/${evt.lesson}`\n        : undefined\n\n    const isOngoing = isCurrent && !canStart\n    const theme = useTheme()\n    const isPast = dayjs().isAfter(evt.endTime)\n    const opacity = isPast && !isOngoing ? 0.7 : 1\n\n    const isMobile = useMediaQuery<Theme>(theme => theme.breakpoints.down('xs'), { noSsr: true })\n    const room = evt.classroom_name || evt.classroom_code || ''\n    const school = evt.school_name || evt.school_id || ''\n    const roomAndSchool = (\n        <>\n            {room && (\n                <Text variant=\"body2\" color=\"primary\">\n                    {room}\n                </Text>\n            )}\n            {room && school && <>&nbsp;•&nbsp;</>}\n            {school && <Text variant=\"body2\">{school}</Text>}\n        </>\n    )\n    const button = (\n        <Inline display=\"flex\" justifyContent=\"flex-end\" width=\"100%\">\n            {isOngoing && (\n                <Button component=\"a\" href={url}>\n                    {t('classroom::backToSession')}\n                </Button>\n            )}\n            {!isOngoing && isActive && (\n                <ActionWrap component=\"span\" spacing={4}>\n                    {t(\n                        canStart\n                            ? isPast\n                                ? 'timesheet.participation'\n                                : 'timesheet.sessionTitle'\n                            : 'timesheet.lessonPlan',\n                    )}\n                    <RightAngleIcon />\n                </ActionWrap>\n            )}\n        </Inline>\n    )\n\n    return (\n        <ListCard type=\"link\" to={url} special={isMakeup} style={{ opacity }}>\n            <HorizontalContent>\n                <Inline display=\"flex\" alignItems=\"flex-start\" width=\"100%\" spacing={2}>\n                    {!isMobile && (\n                        <Box style={{ minWidth: '6rem' }}>\n                            <HorizontalSubHeader $opacity={0.7}>{timeSlot}</HorizontalSubHeader>\n                        </Box>\n                    )}\n                    <Stack spacing={0}>\n                        {isMobile && <HorizontalSubHeader $opacity={0.7}>{timeSlot}</HorizontalSubHeader>}\n                        <Text\n                            style={{\n                                color: isOngoing ? theme.palette.primary.main : undefined,\n                                fontWeight: isOngoing ? 600 : undefined,\n                            }}\n                        >\n                            {evt.group_name || evt.sessionType || evt.subject_key}\n                        </Text>\n                        <HorizontalSubHeader variant=\"body2\" $opacity={1}>\n                            {isMakeup && (\n                                <>\n                                    <Text variant=\"body2\" color=\"primary\">\n                                        {t('timesheet.makeup')}\n                                    </Text>\n                                    &nbsp;•&nbsp;\n                                </>\n                            )}\n                            {t('classroom::lesson-index', { lessonIndex: evt.lesson })}\n                            {!isMobile && (\n                                <>\n                                    &nbsp;•&nbsp;\n                                    {roomAndSchool}\n                                </>\n                            )}\n                        </HorizontalSubHeader>\n                        {isMobile && (\n                            <HorizontalSubHeader variant=\"body2\" $opacity={1}>\n                                {roomAndSchool}\n                            </HorizontalSubHeader>\n                        )}\n                    </Stack>\n                    {isMobile && (\n                        <Inline display=\"flex\" justifyContent=\"flex-end\" width=\"100%\">\n                            {button}\n                        </Inline>\n                    )}\n                </Inline>\n                {!isMobile && button}\n            </HorizontalContent>\n        </ListCard>\n    )\n}\n\nexport const UpcomingLessons: React.FC<{ feed?: boolean; onReady?: () => any }> = ({ feed, onReady }) => {\n    const t = useTranslate()\n    const today = useMemo(() => dayjs(), [])\n    const { data = [], isLoading } = useCalendarQuery(today, today.add(1, 'day'))\n    const { state: inClassState } = useContext(InClassContext)\n\n    const hasLessons = data.length > 0\n    const hadLessons = !hasLessons && data.length > 0\n\n    const hasGrant = useHasGrant()\n    const hasCourseKindAccess = hasGrant({ product: 'edup.curriculum', feature: 'read.kind.course' })\n    const hasTimetableAreaGrant = hasGrant('area.classroom.timetable')\n    const maxWidth = useColumnWidth()\n\n    const [updateCounter, setUpdateCounter] = useState(0)\n    useEffect(() => {\n        const interval = setInterval(() => {\n            setUpdateCounter(updateCounter + 1)\n        }, 300000) // 5 minutes\n\n        return () => clearInterval(interval)\n    }, [updateCounter])\n\n    useEffect(() => {\n        if (onReady && !isLoading) onReady()\n    }, [isLoading, onReady])\n\n    if (!hasTimetableAreaGrant) return null\n    if (!hasLessons && feed) return null\n\n    if (isLoading) {\n        return (\n            <Panel>\n                <PanelHeader>\n                    <SmallSkeleton width=\"10rem\" />\n                </PanelHeader>\n                <Stack spacing={0}>\n                    <MediumSkeleton />\n                    <MediumSkeleton />\n                </Stack>\n            </Panel>\n        )\n    }\n\n    const isUpcomingLesson = (entry: CalendarEntry): boolean => {\n        const { eventData } = entry.data\n        return eventData && eventData.startTime && eventData.endTime && !dayjs().isAfter(dayjs(eventData.endTime))\n    }\n\n    const lessonList = () => {\n        let isLastUpcoming = false\n        return data.map((entry, i) => {\n            const isUpcoming = isUpcomingLesson(entry)\n            const showSeparator = isUpcoming && !isLastUpcoming\n            isLastUpcoming = isUpcoming\n            const canAccessSubject = entry.subjectKind !== 'course' || hasCourseKindAccess\n            return (\n                <>\n                    {showSeparator && (\n                        <TimelineSeparator>\n                            <TimelineDot />\n                            <TimelineLine />\n                        </TimelineSeparator>\n                    )}\n                    <LessonCard\n                        entry={entry}\n                        key={i}\n                        canStart={!inClassState.enabled && canAccessSubject}\n                        isCurrent={inClassState.sessionId === entry.data.eventData._id}\n                        isActive={canAccessSubject}\n                    />\n                </>\n            )\n        })\n    }\n\n    const content = (\n        <Panel>\n            <PanelHeader>\n                <PanelTitle>{t('classroom::upcominglessons')}</PanelTitle>\n                <PanelActions>\n                    <PanelMoreButton to=\"/app/classroom/timetable\">{t('classroom::timetable::title')}</PanelMoreButton>\n                </PanelActions>\n            </PanelHeader>\n            <Stack spacing={2}>\n                {hadLessons && (\n                    <EmptyState>\n                        {t('classroom::no-more-upcoming-lessons-today', {\n                            defaultValue: \"You don't have any more lessons Today.\",\n                        })}\n                    </EmptyState>\n                )}\n                {!hadLessons && !hasLessons && (\n                    <EmptyState>\n                        {t('classroom::no-upcoming-lessons-today', {\n                            defaultValue: \"You don't have any lessons Today.\",\n                        })}\n                    </EmptyState>\n                )}\n                {lessonList()}\n            </Stack>\n        </Panel>\n    )\n\n    return feed ? (\n        <Box maxWidth={maxWidth} marginLeft=\"auto\" marginRight=\"auto\">\n            {content}\n        </Box>\n    ) : (\n        content\n    )\n}\n\nconst TimelineSeparator = styled.div`\n    display: flex;\n    align-items: center;\n    margin: 0.5rem 0 0.5rem 0;\n`\n\nconst TimelineDot = styled.span`\n    display: inline-block;\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n    background: ${props => props.theme.palette.primary.main};\n`\n\nconst TimelineLine = styled.span`\n    flex: 1;\n    height: 2px;\n    background: ${props => props.theme.palette.primary.main};\n    border-radius: 1px;\n`\n","import React, { useEffect, useState } from 'react'\nimport { Dialog, DialogActions, DialogContent, DialogTitle } from 'components/dialog'\nimport { Button } from 'components/Button'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Text } from 'components/Text'\nimport { CheckBox } from 'components/form'\nimport { Stack } from 'components/layout'\nimport { useUserActions, useUserState } from 'contexts/UserContext'\nimport dayjs from 'dayjs'\nimport { useTermsDateQuery } from '../../groupQueries'\nimport { Markdown } from 'components/Markdown'\n\n\nexport const ViewTrainerRulesModal: React.FC = () => {\n    const [ open, setOpen ] = useState(false);\n    const [ progress, setProgress ] = useState(false);\n    const [ acceptChecked, setAcceptChecked ] = useState(false);\n    const user = useUserState();\n    const userActions = useUserActions();\n    const { data } = useTermsDateQuery();\n    const latestTermsDate = data?.value;\n    const accepted = latestTermsDate && user.account.termsAcceptedAt\n        && dayjs(user.account.termsAcceptedAt).isAfter(latestTermsDate);\n    const t = useTranslate();\n\n    useEffect(() => {\n        if(!accepted && latestTermsDate) {\n            setOpen(true)\n        }\n    }, [accepted, latestTermsDate])\n\n    async function acceptRules() {\n        setProgress(true);\n        await userActions.updateUser({termsAcceptedAt: dayjs().toISOString()})\n        setOpen(false);\n        setProgress(false)\n    }\n\n    return (\n        <Stack spacing={2}>\n            <Button variant=\"outlined\" fullWidth onClick={() => setOpen(true)}>\n                    {t(\"classroom::trainerRules\", { defaultValue: \"Trainer Rules\" })}\n            </Button>\n            <Dialog fullWidth fullHeight maxWidth=\"md\"\n                    open={open}\n                    hideCloseButton={progress || !accepted}\n                    onClose={() => {\n                        if(accepted) setOpen(false)\n                    }}\n            >\n                <DialogTitle>{t(\"classroom::trainerRules\")}</DialogTitle>\n                <DialogContent>\n                    <Markdown>{t(\"classroom::trainerRulesText\")}</Markdown>\n                </DialogContent>\n                <DialogActions>\n                    <Text>\n                        {t(\"classroom::overview::rulesLastUpdated\", { defaultValue: \"Rules last updated at:\" })}\n                        &nbsp;\n                        {dayjs(latestTermsDate).format(\"YYYY-MM-DD\")}\n                    </Text>\n                    <div style={{ flexGrow: 1 }} />\n                    {!accepted && <>\n                        <CheckBox label={t(\"classroom::acceptRules\")}\n                                  checked={acceptChecked}\n                                  disabled={progress}\n                                  onChange={e => setAcceptChecked(e.target.checked)}\n                        />\n                        <Button disabled={!acceptChecked || progress} isLoading={progress}\n                                onClick={() => acceptRules()}>\n                            {t(\"general::accept\")}\n                        </Button>\n                    </>}\n                    {accepted && <Button onClick={() => setOpen(false)}>{t(\"general::close\")}</Button>}\n                </DialogActions>\n            </Dialog>\n        </Stack>\n    )\n}","import React from 'react'\nimport { useNotifications } from 'features/notifications'\nimport { certificateTypeColorMap, downloadFile, formatDate } from './certificateHelpers'\nimport styled from 'styled-components/macro'\nimport { PdfGenerator } from './PdfGenerator'\nimport { Loader } from 'components/Loader'\nimport { Text } from 'components/Text'\nimport { ActionCard } from 'components/action-card'\nimport { Img } from 'components/Img'\nimport logiscoolLogo from './logiscool-logo.png'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useUserState } from 'contexts/UserContext'\nimport { LocalisationKey } from 'lib/i18n'\nimport { CertificateRibbon } from './CertificateRibbon'\nimport { CertificateType, SubjectInfo } from './certificateTypes'\nimport { CertificateDialog } from './CertifiateDialog'\n\ninterface CertificateItemProps {\n    fullName: string\n    certificateInfo: SubjectInfo\n    isOpening: boolean\n    setOpening: (isOpening: boolean) => void\n    userCountry?: string\n}\n\nexport const CertificateItem: React.FC<CertificateItemProps> = ({\n    fullName,\n    certificateInfo,\n    isOpening,\n    setOpening,\n    userCountry,\n}) => {\n    const { subjectInfo, translations } = certificateInfo\n    const t = useTranslate()\n    const { i18n } = useUserState()\n    const { notify } = useNotifications()\n    const [status, setStatus] = React.useState<'idle' | 'generating-pdf' | 'open-dialog'>('idle')\n    const [imgData, setImgData] = React.useState<{ img: string; blob: Blob }>()\n\n    const handleClick = () => {\n        if (status === 'idle' && !isOpening) {\n            setStatus('generating-pdf')\n            setOpening(true)\n        }\n    }\n\n    const handleGenerateSucces = (blob: Blob, imgData: string) => {\n        setImgData({ img: imgData, blob })\n        setStatus('open-dialog')\n    }\n\n    const handleDownload = () => {\n        if (!imgData) return\n        let filename = `Logiscool ${t('certificate::simpletitle')}`\n\n        const finishedAt = formatDate(subjectInfo.lastDay, i18n.language)\n        filename = `Logiscool ${t('certificate::simpletitle')} – ${t(subjectInfo.key as LocalisationKey)} ${finishedAt}`\n\n        filename = filename.replace(/[\\\\/:*?\"<>|.]/g, '')\n        downloadFile(imgData.blob, filename)\n    }\n\n    const finishedAt = formatDate(subjectInfo.lastDay, i18n.language)\n    const { color, highlightColor } = certificateTypeColorMap[subjectInfo.type]\n\n    return (\n        <>\n            <Root onClick={handleClick} certificateType={subjectInfo.type}>\n                <Inner>\n                    <StyledCertificateRibbon color={color} highlightColor={highlightColor} />\n                    <TextWrap>\n                        <Title>{translations.name}</Title>\n                        <Text variant=\"caption\">{finishedAt}</Text>\n                    </TextWrap>\n                    <ThumbnailWrap>\n                        <Thumbnail src={translations.thumbnail || logiscoolLogo} />\n                    </ThumbnailWrap>\n                </Inner>\n                {status === 'generating-pdf' && (\n                    <LoaderWrap>\n                        <Loader size=\"1rem\" />\n                    </LoaderWrap>\n                )}\n            </Root>\n            {status === 'generating-pdf' && (\n                <PdfGenerator\n                    subject={subjectInfo}\n                    fullName={fullName}\n                    userCountry={userCountry}\n                    locale={subjectInfo.locale ?? i18n.locale}\n                    language={subjectInfo.language ?? i18n.language}\n                    onSuccess={handleGenerateSucces}\n                    onError={() => {\n                        setStatus('idle')\n                        notify(t('error::somethingWentWrong'), { variant: 'error' })\n                    }}\n                />\n            )}\n            {imgData && (\n                <CertificateDialog\n                    open={status === 'open-dialog'}\n                    close={() => {\n                        setStatus('idle')\n                        setOpening(false)\n                    }}\n                    imgData={imgData.img}\n                    title={translations.name}\n                    download={handleDownload}\n                />\n            )}\n        </>\n    )\n}\n\nconst StyledCertificateRibbon = styled(CertificateRibbon)`\n    position: relative;\n    top: -${props => props.theme.spacing(3)};\n    width: 100%;\n    filter: drop-shadow(0 5px 3px rgba(0, 0, 0, 0.25));\n    transition: transform ${props => props.theme.transitions.duration.standard}ms;\n`\n\nconst Root = styled(ActionCard) <{ certificateType: CertificateType }>`\n    position: relative;\n    overflow: visible;\n    &:hover,\n    &:focus-visible {\n        ${StyledCertificateRibbon} {\n            transform: translateY(-3px);\n        }\n    }\n`\n\nconst LoaderWrap = styled.div`\n    position: absolute;\n    top: ${props => props.theme.spacing(2)};\n    right: ${props => props.theme.spacing(2)};\n`\n\nconst TextWrap = styled.div`\n    align-self: center;\n`\n\nconst ThumbnailWrap = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    align-self: flex-end;\n    padding: ${props => props.theme.spacing(0, 3, 3, 0)};\n`\n\nconst Thumbnail = styled(Img)`\n    display: block;\n    width: 7rem;\n    height: 7rem;\n    object-fit: contain;\n    object-position: bottom right;\n`\n\nconst Inner = styled.div`\n    display: grid;\n    grid-template-columns: 3.25rem 8fr 6fr;\n    gap: ${props => props.theme.spacing(3)};\n    padding-inline-start: ${props => props.theme.spacing(4)};\n`\n\nconst Title = styled(Text)`\n    font-weight: 600;\n    line-height: 1.2;\n`\n","import { EmptyState } from 'components/EmptyState'\nimport { CertificateIcon, FavoriteIcon, TrophyIcon } from 'components/icons'\nimport { Stack } from 'components/layout'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { opacify, transparentize } from 'polished'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface CertificateListEmptyStateProps {}\n\nexport const CertificateListEmptyState: React.FC<CertificateListEmptyStateProps> = () => {\n    const t = useTranslate()\n\n    return (\n        <Stack>\n            <EmptyState>{t('certificates::noResults')}</EmptyState>\n            <Grid>\n                <Item icon={<CertificateIcon />} />\n                <Item icon={<FavoriteIcon />} />\n                <Item icon={<TrophyIcon />} />\n            </Grid>\n        </Stack>\n    )\n}\n\nconst Item: React.FC<{ icon: React.ReactNode }> = ({ icon }) => {\n    return (\n        <ItemRoot>\n            {icon}\n            <ItemText />\n        </ItemRoot>\n    )\n}\n\nconst ItemText = styled.span`\n    font-size: 1rem;\n    width: 15ch;\n    height: 1rem;\n    background-color: ${props => transparentize(0.92, opacify(1, props.theme.palette.text.primary))};\n    margin-inline-start: ${props => props.theme.spacing(4)};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n`\n\nconst ItemRoot = styled.div`\n    display: flex;\n    align-items: center;\n    height: 4.5rem;\n    font-size: 2.5rem;\n    padding: ${props => props.theme.spacing(4)};\n    border: solid 2px ${props => transparentize(0.96, opacify(1, props.theme.palette.text.primary))};\n    color: ${props => transparentize(0.88, opacify(1, props.theme.palette.text.primary))};\n    background-color: ${props => transparentize(0.96, opacify(1, props.theme.palette.text.primary))};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n`\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(18rem, 1fr));\n    gap: ${props => props.theme.spacing(6)};\n`\n","import React, { useEffect, useRef, useState } from 'react'\nimport { useUserState } from 'contexts/UserContext'\nimport { Loader } from 'components/Loader'\nimport { CertificateItem } from './CertificateItem'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { useSelector } from 'lib/store'\nimport styled from 'styled-components/macro'\nimport { Inline, Stack } from 'components/layout'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { certificateTypeColorMap, getCertificates, createTrainingCertificate } from './certificateHelpers'\nimport { CertificateListEmptyState } from './CertificateListEmptyState'\nimport { SelectBox, SelectBoxItem } from 'components/form'\nimport { CertificateRibbon } from './CertificateRibbon'\nimport { CertificateType, CertInventoryItem } from './certificateTypes'\nimport { CookieHunt } from 'features/cookie-hunt'\nimport { useLocation } from 'react-router-dom'\nimport { RootRef } from '@material-ui/core'\nimport { DrawingContestCertItem, getCertFromInventroy } from './DrawingCerts/CustomCertList'\nimport { useCertificateData } from './useCertificateData'\nimport { useHasAllCertificateContents } from './useHasAllCertificateContents'\nimport { getGrants } from 'lib/grants/grants'\n\ninterface CertificateListProps { }\n\nexport const CertificateList: React.FC<CertificateListProps> = () => {\n    const { account, crm, grants } = useUserState()\n    const fullName = crm.fullName ?? account.fullName\n    const inventory = useSelector(state => state.client.inventory)\n    const { data: CertData } = useCertificateData()\n    const subjects = inventory?.filter(item => item.kind === 'certificate')\n    const t = useTranslate()\n    const [filter, setFilter] = useState<CertificateType | ''>('')\n    const [isOpening, setOpening] = useState<boolean>(false)\n    const gridRef = useRef<HTMLDivElement>(null)\n    const { state } = useLocation<{ fromNotification: boolean | undefined }>()\n    const hasAllCertContent: boolean = useHasAllCertificateContents()\n    const certificateGrants = getGrants(grants)('content.certificates.subjects')\n    const hasTrainingCertificate = account.trainingCertificates?.includes('certified-trainer')\n\n    useEffect(() => {\n        if (subjects && fullName && state?.fromNotification && gridRef.current) {\n            gridRef.current.scrollIntoView({ behavior: 'smooth' })\n        }\n    }, [subjects, fullName, state?.fromNotification, CertData?.data])\n\n    // if (!subjects || !fullName || !CertData?.data) {     now skip !subjects check to avoid infinite loop\n    if (!fullName || !CertData?.data) {\n        return <Loader />\n    }\n\n    const certificates = getCertificates(\n        subjects as CertInventoryItem[],\n        CertData?.data as CertInventoryItem[],\n        certificateGrants,\n        account.id,\n        hasAllCertContent,\n        hasTrainingCertificate,\n        t,\n        // inventory,\n    )\n\n    const drawingCerts = getCertFromInventroy(inventory, crm.lastSchool!)\n\n\n    if (certificates.length === 0 && drawingCerts.length === 0 && !hasTrainingCertificate) {\n        return <CertificateListEmptyState />\n    }\n\n    console.log('hasTrainingCertificate', hasTrainingCertificate)\n    if (hasTrainingCertificate) {\n        const subjectInfo = createTrainingCertificate(crm, t)\n        if (subjectInfo) {\n            certificates.push(subjectInfo)\n        }\n    }\n\n    const availableCertificateTypes = certificates.reduce<Set<CertificateType>>((acc, certificate) => {\n        acc.add(certificate.subjectInfo.type)\n        return acc\n    }, new Set())\n\n    console.log(certificates.length, 'certificates')\n    const filteredCertificates = certificates.filter(certificate =>\n        filter ? (filter === 'event' ? (certificate.subjectInfo.type === filter || certificate.subjectInfo.type === 'training') : certificate.subjectInfo.type === filter) : true,\n    )\n    console.log(filteredCertificates.length, 'filteredCertificates')\n\n    if (drawingCerts.length !== 0) {\n        availableCertificateTypes.add('event')\n    }\n\n    if (hasTrainingCertificate) {\n        availableCertificateTypes.add('training')\n    }\n\n    return (\n        <Stack spacing={8}>\n            {availableCertificateTypes.size > 1 && (\n                <SelectBox\n                    value={filter}\n                    onChange={value => {\n                        setFilter(value as CertificateType)\n                    }}\n                >\n                    <SelectBoxItem value=\"\">{t('general::all')}</SelectBoxItem>\n                    {availableCertificateTypes.has('course') && (\n                        <CategorySelect type=\"course\">{t('certificates::category::course')}</CategorySelect>\n                    )}\n                    {availableCertificateTypes.has('camp') && (\n                        <CategorySelect type=\"camp\">{t('certificates::category::camp')}</CategorySelect>\n                    )}\n                    {availableCertificateTypes.has('workshop') && (\n                        <CategorySelect type=\"workshop\">{t('certificates::category::workshop')}</CategorySelect>\n                    )}\n                    {(availableCertificateTypes.has('event') || availableCertificateTypes.has('training')) && (\n                        <CategorySelect type=\"event\">{t('certificates::category::special')}</CategorySelect>\n                    )}\n                </SelectBox>\n            )}\n            <RootRef rootRef={gridRef}>\n                <Grid>\n                    {filteredCertificates.map((certificate, idx) => (\n                        <ErrorBoundary silent key={certificate.subjectInfo.key + certificate.subjectInfo.type + idx}>\n                            <CookieHunt name=\"certificate-list\" index={idx}>\n                                <CertificateItem\n                                    certificateInfo={certificate}\n                                    fullName={fullName}\n                                    isOpening={isOpening}\n                                    setOpening={setOpening}\n                                    userCountry={account.country}\n                                />\n                            </CookieHunt>\n                        </ErrorBoundary>\n                    ))}\n                    {drawingCerts.length !== 0 &&\n                        (filter === 'event' || filter === '') &&\n                        drawingCerts.map((cert, i) => {\n                            return (\n                                <ErrorBoundary silent key={cert.certCode + i}>\n                                    <DrawingContestCertItem\n                                        cert={cert}\n                                        fullName={fullName}\n                                        isOpening={isOpening}\n                                        setOpening={setOpening}\n                                    />\n                                </ErrorBoundary>\n                            )\n                        })}\n                </Grid>\n            </RootRef>\n        </Stack>\n    )\n}\n\nconst CategorySelect: React.FC<{ type: CertificateType }> = ({ type, children }) => {\n    return (\n        <SelectBoxItem value={type}>\n            <Inline display=\"flex\" alignItems=\"center\" spacing={2}>\n                <StyledCertificateRibbon\n                    color={certificateTypeColorMap[type].color}\n                    highlightColor={certificateTypeColorMap[type].color}\n                />\n                <span>{children}</span>\n            </Inline>\n        </SelectBoxItem>\n    )\n}\n\nconst StyledCertificateRibbon = styled(CertificateRibbon)`\n    width: 10px;\n`\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(18rem, 1fr));\n    gap: ${props => props.theme.spacing(6)};\n`\n","import { useQuery } from 'react-query'\nimport { api } from 'lib/api'\n\nexport function useCertificateData(userId?: string) {\n    return useQuery(['certificatesData', userId], () => api.certificates.getCrmCertificates())\n}\n","import { useHasGrant } from 'lib/grants'\n\nexport function useHasAllCertificateContents() {\n    const hasGrant = useHasGrant()\n    return hasGrant({ product: 'edup.universe', feature: 'content.certificates-all' })\n}\n","import { AxiosInstance } from 'axios'\nimport { CrmGroup, FinishedCourse } from 'lib/api'\nimport { ApiBase } from 'lib/api/ApiBase'\nimport { CertInventoryItem } from './certificateTypes'\n\nexport class CertificatesApi extends ApiBase {\n    constructor(client: AxiosInstance, private getUserId: () => string | null) {\n        super(client)\n    }\n\n    getCrmGroup = async (id: string, subjectId: string | null) => {\n        const res = await this.client.get<CrmGroup>(\n            `accounts/crm-group?group_id=${id}${subjectId ? '&subject_id=' + subjectId : ''}`,\n        )\n        res.data.lastDay = new Date(res.data.lastDay)\n        res.data.firstDay = new Date(res.data.firstDay)\n        return res.data\n    }\n\n    getFinishedGroups = async () => {\n        const userId = this.getUserId()\n        const res = await this.client.get<FinishedCourse[]>(`accounts/${userId}/finished-groups`)\n\n        const filteredGroups = res.data\n            .map(course => ({ ...course, lastDay: new Date(course.lastDay), firstDay: new Date(course.firstDay) }))\n            .filter(\n                course =>\n                    course.coursetype_code &&\n                    course.school_name &&\n                    course.lastDay &&\n                    course.firstDay &&\n                    course.lastDay.getUTCFullYear() >= 2020,\n            )\n            .sort((a, b) => (a.lastDay > b.lastDay ? -1 : 1))\n\n        return filteredGroups\n    }\n    getCrmCertificates = async () => {\n        return await this.client.get<CertInventoryItem[]>(`inventory-items/my-certificates`)\n    }\n}\n","export default __webpack_public_path__ + \"static/media/fallback-cover.1f60f460.png\";","import React from 'react'\nimport { Authorize } from 'components/Authorize'\nimport { DeleteButton } from 'components/Button'\nimport { Collapse } from 'components/Collapse'\nimport { Confirm, ConfirmDialogContext } from 'components/Confirm'\nimport { DialogActions, DialogContent, DialogSecondaryButton, DialogTitle } from 'components/dialog'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { MoreIcon, ResetIcon } from 'components/icons'\nimport { ListItemIcon } from 'components/list'\nimport { PopupMenu, PopupMenuIconButton, PopupMenuItem, PopupMenuList } from 'components/popup-menu'\nimport { Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport { useNotifications } from 'features/notifications'\nimport { ProjectCard, ProjectCardContent, ProjectCardImage } from 'features/projects'\nimport { api, ApiTypes } from 'lib/api'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport fallbackCoverImg from '../media/fallback-cover.png'\nimport { LocalisationKey } from 'lib/i18n'\nimport { getIdeUrl } from 'lib/api/helpers'\n\ninterface ScoolcodeChallengeCardProps {\n    challengeSet: ApiTypes['challenge-set']\n}\n\nexport const ScoolcodeChallengeCard: React.FC<ScoolcodeChallengeCardProps> = ({ challengeSet }) => {\n    const t = useTranslate()\n    const { notify } = useNotifications()\n\n    const title = t(`Challenge::${challengeSet.internalName}.title` as LocalisationKey, {\n        defaultValue: challengeSet.title,\n    })\n\n    const reset = async () => {\n        await api.scoolcodeChallenges.resetChallengeSet(challengeSet.id)\n        notify(t('scChallenges::resetSuccess'))\n    }\n\n    const href = getIdeUrl(`/challenge-sets/${challengeSet.id}/challenges/1`)\n\n    return (\n        <ProjectCard>\n            <ProjectCardImage href={href} alt={title} src={challengeSet.coverUrl || fallbackCoverImg} />\n            <ProjectCardContent\n                title={{ label: title, href }}\n                action={\n                    <Authorize grant={{ product: 'edup.scoolcode.ide', feature: 'reset-challenge-set' }}>\n                        <Actions reset={reset} />\n                    </Authorize>\n                }\n            ></ProjectCardContent>\n        </ProjectCard>\n    )\n}\n\nconst Actions: React.FC<{ reset: VoidFunction }> = ({ reset }) => {\n    const t = useTranslate()\n    const [showConfirm, setShowConfirm] = React.useState(false)\n\n    return (\n    <>\n        <PopupMenu>\n            <PopupMenuIconButton size=\"small\">\n                <MoreIcon />\n            </PopupMenuIconButton>\n            <PopupMenuList>\n                <PopupMenuItem onClick={() => setShowConfirm(true)}>\n                    <ListItemIcon>\n                        <ResetIcon />\n                    </ListItemIcon>\n                    {t('scChallenges::reset')}\n                </PopupMenuItem>\n            </PopupMenuList>\n        </PopupMenu>\n        {showConfirm && (\n            <Confirm dialog={ResetDialog} action={() => {\n                    reset()\n                    setShowConfirm(false)\n                }} onCancel={() => setShowConfirm(false)}>\n                {(prompt) => {\n                    return (<>{prompt()}</>)\n                }}\n            </Confirm>\n        )}\n    </>\n    )\n}\n\nconst ResetDialog: React.FC<ConfirmDialogContext> = ({ status, positiveButtonProps, negativeButtonProps }) => {\n    const t = useTranslate()\n\n    return (\n        <>\n            <DialogTitle>{t('scChallenges::reset')}</DialogTitle>\n            <DialogContent>\n                <Stack>\n                    <Text>{t('scChallenges::resetConfirm')}</Text>\n                    <Collapse in={status === 'error'}>\n                        <ErrorMessage />\n                    </Collapse>\n                </Stack>\n            </DialogContent>\n            <DialogActions>\n                <DialogSecondaryButton {...negativeButtonProps}>{t('general::cancel')}</DialogSecondaryButton>\n                <DeleteButton startIcon={<ResetIcon />} {...positiveButtonProps}>\n                    {t('general::reset')}\n                </DeleteButton>\n            </DialogActions>\n        </>\n    )\n}\n","import { EmptyState } from 'components/EmptyState'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { Loader } from 'components/Loader'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { useMyChallengeSetsQuery } from '../data/scoolcodeChallengeQueries'\nimport { ScoolcodeChallengeCard } from './ScoolcodeChallengeCard'\n\ninterface ScoolcodeChallengeListProps {}\n\nexport const ScoolcodeChallengeList: React.FC<ScoolcodeChallengeListProps> = () => {\n    const { data: challengeSets, status } = useMyChallengeSetsQuery()\n    const t = useTranslate()\n\n    if (status === 'error') {\n        return <ErrorMessage />\n    }\n\n    if (!challengeSets) {\n        return <Loader />\n    }\n\n    if (challengeSets.data.length === 0) {\n        return <EmptyState>{t('scChallenges::noResults')}</EmptyState>\n    }\n\n    return (\n        <Root>\n            {challengeSets.data.filter(s => !s.locked).map(challengeSet => (\n                <ScoolcodeChallengeCard challengeSet={challengeSet} key={challengeSet.id} />\n            ))}\n        </Root>\n    )\n}\n\nconst Root = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(18rem, 1fr));\n    gap: ${props => props.theme.spacing(6)};\n    @media (max-width: 400px) {\n        gap: ${props => props.theme.spacing(4)};\n        grid-template-columns: repeat(auto-fill, minmax(9rem, 1fr));\n    }\n`\n","import dayjs from 'dayjs'\n\nconst digitalMissionWeeklyTasks: { [key: number]: any[] } = {\n    2023: [\n        {\n            activeFrom: '2023-06-05T00:00:00Z',\n            activeTo: '2023-06-12T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask01title',\n            description: 'digitalMission2023::weeklyTask01description',\n            image: 'https://api.scoolcode.com/profile-pictures/646c90a96c3786774087ae26/data',\n            stat: 'memento-high-score-game',\n            cta: {\n                to: {\n                    pathname: '/app/high-score/64539e8c4bec3a816f774b30',\n                },\n                label: 'general::playGame',\n            },\n            requiredValue: 1,\n            catalogItemId: '646b615296642b8385ba1829',\n            match: {\n                type: 'HIGH_SCORE_GAME',\n                projectId: '64539e8c4bec3a816f774b30',\n                minValue: 0,\n            },\n        },\n        {\n            activeFrom: '2023-06-12T00:00:00Z',\n            activeTo: '2023-06-19T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask02title',\n            description: 'digitalMission2023::weeklyTask02description',\n            image: 'https://api.scoolcode.com/profile-pictures/646c90c62caa7d5487819c71/data',\n            cta: {\n                to: {\n                    pathname: '/app/my-projects/my-quizzes',\n                    hash: 'create-project',\n                    state: { type: 'mini-quiz' },\n                },\n                label: 'general::createAQuiz',\n            },\n            stat: 'shared-mini-quiz',\n            requiredValue: 1,\n            catalogItemId: '646b617296642be9a3ba1b21',\n            match: {\n                type: 'SHARED_MINI_QUIZ',\n            },\n        },\n        {\n            activeFrom: '2023-06-19T00:00:00Z',\n            activeTo: '2023-06-26T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask03title',\n            description: 'digitalMission2023::weeklyTask03description',\n            image: 'https://api.scoolcode.com/profile-pictures/648727f919adb42dcb3dd5f7/data',\n            cta: {\n                to: {\n                    pathname: '/app/community/overview',\n                },\n                label: 'discoverProjects',\n            },\n            stat: 'cookie-given',\n            requiredValue: 5,\n            catalogItemId: '648727b6bc66d70eea3c8f4e',\n            match: {\n                type: 'COOKIE_GIVEN',\n            },\n        },\n        {\n            activeFrom: '2023-06-26T00:00:00Z',\n            activeTo: '2023-07-03T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask04title',\n            description: 'digitalMission2023::weeklyTask04description',\n            image: 'https://api.scoolcode.com/profile-pictures/64882b5919adb46aea4270b3/data',\n            cta: {\n                to: {\n                    pathname: '/app/challenges/quizzes',\n                },\n                label: 'digitalMission2022::taksQuizTitle',\n            },\n            stat: 'correct-hard-quiz-answers',\n            requiredValue: 5,\n            catalogItemId: '64882af3bc66d7e5924a0b25',\n            match: {\n                type: 'QUIZ_QUESTION_CORRECTLY_ANSWERED',\n                difficulty: 'hard',\n            },\n        },\n        {\n            activeFrom: '2023-07-03T00:00:00Z',\n            activeTo: '2023-07-10T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask05title',\n            description: 'digitalMission2023::weeklyTask05description',\n            image: 'https://api.scoolcode.com/profile-pictures/64882b8219adb466a342714f/data',\n            cta: {\n                to: {\n                    pathname: '/app/challenges/mini-quests',\n                },\n                label: 'challenges::miniQuests',\n            },\n            stat: 'medium-mini-quests',\n            requiredValue: 5,\n            catalogItemId: '64882afdbc66d7c7534a0bc1',\n            match: {\n                type: 'COMPLETED_MINI_QUEST',\n                difficulty: 'medium',\n            },\n        },\n        {\n            activeFrom: '2023-07-10T00:00:00Z',\n            activeTo: '2023-07-17T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask06title',\n            description: 'digitalMission2023::weeklyTask06description',\n            image: 'https://api.scoolcode.com/profile-pictures/649c1d9419adb4e6de995377/data',\n            stat: 'week-06-high-score-game',\n            cta: {\n                to: {\n                    pathname: '/app/high-score/64a3c9c49a4b9369361f4691',\n                },\n                label: 'general::playGame',\n            },\n            requiredValue: 1,\n            catalogItemId: '649c1d4bd75b497dafeb1a2f',\n            match: {\n                type: 'HIGH_SCORE_GAME',\n                projectId: '64a3c9c49a4b9369361f4691',\n                minValue: 1000,\n            },\n        },\n        {\n            activeFrom: '2023-07-17T00:00:00Z',\n            activeTo: '2023-07-24T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask07title',\n            description: 'digitalMission2023::weeklyTask07description',\n            image: 'https://api.scoolcode.com/profile-pictures/64abf547ebbbe42d153c05d1/data',\n            stat: 'profile-updates',\n            cta: {\n                to: {\n                    pathname: '/app/settings/profile',\n                },\n                label: 'profile::editProfile',\n            },\n            requiredValue: 1,\n            catalogItemId: '64abf1416a7c784b820dbb15',\n            match: {\n                type: 'UPDATE_PROFILE',\n            },\n        },\n        {\n            activeFrom: '2023-07-24T00:00:00Z',\n            activeTo: '2023-07-31T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask08title',\n            description: 'digitalMission2023::weeklyTask08description',\n            image: 'https://api.scoolcode.com/profile-pictures/64b51ace3f11116cbdc5709a/data',\n            stat: 'feed-votes',\n            cta: {\n                to: {\n                    pathname: '/app/welcome',\n                },\n                label: 'general::vote',\n                hideInFeed: true,\n            },\n            requiredValue: 5,\n            catalogItemId: '64b51aaac98dcd4689ed645e',\n            match: {\n                type: 'FEED_VOTE',\n                voteCatalogItems: [\n                    '64afddc62cc6c18f34a24840',\n                    '64afdb6da4d2d8fba91e7e2e',\n                    '64afda1b3655c43c66e2c0fd',\n                    '64afd8c5a4d2d872f91e4b21',\n                    '64afd602a4d2d87fa11e2018',\n                ],\n            },\n        },\n        {\n            activeFrom: '2023-07-31T00:00:00Z',\n            activeTo: '2023-08-07T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask09title',\n            description: 'digitalMission2023::weeklyTask09description',\n            image: 'https://api.scoolcode.com/profile-pictures/64bf87057e356a7982174bc3/data',\n            stat: 'followings',\n            cta: {\n                to: {\n                    pathname: '/app/community/discover',\n                },\n                label: 'discoverProjects',\n            },\n            requiredValue: 3,\n            catalogItemId: '64bf80ef4833e63e92ab48c6',\n            match: {\n                type: 'FOLLOWING',\n            },\n        },\n        {\n            activeFrom: '2023-08-07T00:00:00Z',\n            activeTo: '2023-08-14T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask10title',\n            description: 'digitalMission2023::weeklyTask10description',\n            image: 'https://api.scoolcode.com/profile-pictures/64ca145020d6e87f7eb19d91/data',\n            stat: 'distinct-high-score-games',\n            cta: {\n                to: {\n                    pathname: '/app/challenges/high-score',\n                },\n                label: 'challenges::highScoreGames',\n            },\n            requiredValue: 3,\n            catalogItemId: '64bf80f9da3f379150dfae7e',\n            match: {\n                type: 'DISTINCT_HIGH_SCORE_GAMES',\n            },\n        },\n        {\n            activeFrom: '2023-08-14T00:00:00Z',\n            activeTo: '2023-08-21T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask11title01',\n            description: 'digitalMission2023::weeklyTask11description01',\n            image: 'https://api.scoolcode.com/profile-pictures/64d3c0dc7e356aa4f741efb8/data',\n            stat: 'given-cookie-to-low-cookie-projects',\n            cta: {\n                to: {\n                    pathname: '/app/community/discover',\n                },\n                label: 'discoverProjects',\n            },\n            requiredValue: 1,\n            catalogItemId: '64bf810491163803d07b1e8f',\n            match: {\n                type: 'COOKIE_GIVEN_TO_LOW_COOKIE_PROJECT',\n            },\n        },\n        {\n            activeFrom: '2023-08-21T00:00:00Z',\n            activeTo: '2023-08-28T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask12title',\n            description: 'digitalMission2023::weeklyTask12description',\n            image: 'https://api.scoolcode.com/profile-pictures/64dcab88ed11984a4896af50/data',\n            stat: 'dm2023-quiz-streak-6',\n            cta: {\n                to: {\n                    pathname: '/app/challenges/quizzes',\n                },\n                label: 'courses.takeQuiz',\n            },\n            requiredValue: 1,\n            catalogItemId: '64bf810b4833e6ec9aab4b3e',\n            match: {\n                type: 'QUIZ_STREAK',\n            },\n        },\n        {\n            activeFrom: '2023-08-28T00:00:00Z',\n            activeTo: '2023-09-04T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask13title',\n            description: 'digitalMission2023::weeklyTask13description',\n            image: 'https://api.scoolcode.com/profile-pictures/64dcabaf1b17a4dbdd6a0b7f/data',\n            stat: 'dm2023-follow-trainers',\n            cta: {\n                to: {\n                    pathname: '/app/community/discover',\n                    search: 'view=only-trainers',\n                },\n                label: '2023teachersDayNewsfeedPost::cta',\n            },\n            requiredValue: 2,\n            catalogItemId: '64bf81134833e65118ab4bf5',\n            match: {\n                type: 'FOLLOW_TRAINERS',\n            },\n        },\n        {\n            activeFrom: '2023-09-04T00:00:00Z',\n            activeTo: '2023-09-11T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask14title',\n            description: 'digitalMission2023::weeklyTask14description',\n            image: 'https://api.scoolcode.com/profile-pictures/64ef162683ae4a28d2fa635d/data',\n            stat: 'dm2023-but-why-quiz',\n            cta: {\n                to: {\n                    pathname: '/app/challenges/quizzes/64d2248c6f44ce983b80f774',\n                },\n                label: 'butWhyQuiz::title',\n            },\n            requiredValue: 1,\n            catalogItemId: '64bf811dda3f376f5ddfb1dc',\n            match: {\n                type: 'BUT_WHY_QUIZ',\n            },\n        },\n        {\n            activeFrom: '2023-09-11T00:00:00Z',\n            activeTo: '2023-09-18T00:00:00Z',\n            name: 'digitalMission2023::weeklyTask15title',\n            description: 'digitalMission2023::weeklyTask15description',\n            image: 'https://api.scoolcode.com/profile-pictures/64ef1813445f372bc950349a/data',\n            stat: 'dm2023-play-community',\n            cta: {\n                to: {\n                    pathname: '/app/community/overview',\n                },\n                label: 'discoverProjects',\n            },\n            requiredValue: 10,\n            catalogItemId: '64ef17e9ebaad471c47b22e4',\n            match: {\n                type: 'PLAY_COMMUNITY',\n            },\n        },\n    ],\n    2024: [\n        {\n            name: 'digitalMission2024::weeklyTask01title',\n            description: 'digitalMission2023::weeklyTask01description',\n            image: 'https://api.scoolcode.com/profile-pictures/646c90a96c3786774087ae26/data',\n            stat: 'memento-high-score-game',\n            cta: {\n                to: {\n                    pathname: '/app/high-score/64539e8c4bec3a816f774b30',\n                },\n                label: 'general::playGame',\n            },\n            requiredValue: 1,\n            catalogItemId: '646b615296642b8385ba1829',\n            match: {\n                type: 'HIGH_SCORE_GAME',\n                projectId: '64539e8c4bec3a816f774b30',\n                minValue: 0,\n            },\n        },\n        {\n            name: 'digitalMission2023::weeklyTask02title',\n            description: 'digitalMission2023::weeklyTask02description',\n            image: 'https://api.scoolcode.com/profile-pictures/646c90c62caa7d5487819c71/data',\n            cta: {\n                to: {\n                    pathname: '/app/my-projects/my-quizzes',\n                    hash: 'create-project',\n                    state: { type: 'mini-quiz' },\n                },\n                label: 'general::createAQuiz',\n            },\n            stat: 'shared-mini-quiz',\n            requiredValue: 1,\n            catalogItemId: '646b617296642be9a3ba1b21',\n            match: {\n                type: 'SHARED_MINI_QUIZ',\n            },\n        },\n        {\n            name: 'digitalMission2023::weeklyTask03title',\n            description: 'digitalMission2023::weeklyTask03description',\n            image: 'https://api.scoolcode.com/profile-pictures/648727f919adb42dcb3dd5f7/data',\n            cta: {\n                to: {\n                    pathname: '/app/community/overview',\n                },\n                label: 'discoverProjects',\n            },\n            stat: 'cookie-given',\n            requiredValue: 5,\n            catalogItemId: '648727b6bc66d70eea3c8f4e',\n            match: {\n                type: 'COOKIE_GIVEN',\n            },\n        },\n        {\n            name: 'digitalMission2023::weeklyTask04title',\n            description: 'digitalMission2023::weeklyTask04description',\n            image: 'https://api.scoolcode.com/profile-pictures/64882b5919adb46aea4270b3/data',\n            cta: {\n                to: {\n                    pathname: '/app/challenges/quizzes',\n                },\n                label: 'digitalMission2022::taksQuizTitle',\n            },\n            stat: 'correct-hard-quiz-answers',\n            requiredValue: 5,\n            catalogItemId: '64882af3bc66d7e5924a0b25',\n            match: {\n                type: 'QUIZ_QUESTION_CORRECTLY_ANSWERED',\n                difficulty: 'hard',\n            },\n        },\n        {\n            name: 'digitalMission2023::weeklyTask05title',\n            description: 'digitalMission2023::weeklyTask05description',\n            image: 'https://api.scoolcode.com/profile-pictures/64882b8219adb466a342714f/data',\n            cta: {\n                to: {\n                    pathname: '/app/challenges/mini-quests',\n                },\n                label: 'challenges::miniQuests',\n            },\n            stat: 'medium-mini-quests',\n            requiredValue: 5,\n            catalogItemId: '64882afdbc66d7c7534a0bc1',\n            match: {\n                type: 'COMPLETED_MINI_QUEST',\n                difficulty: 'medium',\n            },\n        },\n        {\n            name: 'digitalMission2023::weeklyTask06title',\n            description: 'digitalMission2023::weeklyTask06description',\n            image: 'https://api.scoolcode.com/profile-pictures/649c1d9419adb4e6de995377/data',\n            stat: 'week-06-high-score-game',\n            cta: {\n                to: {\n                    pathname: '/app/high-score/64a3c9c49a4b9369361f4691',\n                },\n                label: 'general::playGame',\n            },\n            requiredValue: 1,\n            catalogItemId: '649c1d4bd75b497dafeb1a2f',\n            match: {\n                type: 'HIGH_SCORE_GAME',\n                projectId: '64a3c9c49a4b9369361f4691',\n                minValue: 1000,\n            },\n        },\n        {\n            name: 'digitalMission2023::weeklyTask07title',\n            description: 'digitalMission2023::weeklyTask07description',\n            image: 'https://api.scoolcode.com/profile-pictures/64abf547ebbbe42d153c05d1/data',\n            stat: 'profile-updates',\n            cta: {\n                to: {\n                    pathname: '/app/settings/profile',\n                },\n                label: 'profile::editProfile',\n            },\n            requiredValue: 1,\n            catalogItemId: '64abf1416a7c784b820dbb15',\n            match: {\n                type: 'UPDATE_PROFILE',\n            },\n        },\n        {\n            name: 'digitalMission2023::weeklyTask08title',\n            description: 'digitalMission2023::weeklyTask08description',\n            image: 'https://api.scoolcode.com/profile-pictures/64b51ace3f11116cbdc5709a/data',\n            stat: 'feed-votes',\n            cta: {\n                to: {\n                    pathname: '/app/welcome',\n                },\n                label: 'general::vote',\n                hideInFeed: true,\n            },\n            requiredValue: 5,\n            catalogItemId: '64b51aaac98dcd4689ed645e',\n            match: {\n                type: 'FEED_VOTE',\n                voteCatalogItems: [\n                    '64afddc62cc6c18f34a24840',\n                    '64afdb6da4d2d8fba91e7e2e',\n                    '64afda1b3655c43c66e2c0fd',\n                    '64afd8c5a4d2d872f91e4b21',\n                    '64afd602a4d2d87fa11e2018',\n                ],\n            },\n        },\n        {\n            name: 'digitalMission2023::weeklyTask09title',\n            description: 'digitalMission2023::weeklyTask09description',\n            image: 'https://api.scoolcode.com/profile-pictures/64bf87057e356a7982174bc3/data',\n            stat: 'followings',\n            cta: {\n                to: {\n                    pathname: '/app/community/discover',\n                },\n                label: 'discoverProjects',\n            },\n            requiredValue: 3,\n            catalogItemId: '64bf80ef4833e63e92ab48c6',\n            match: {\n                type: 'FOLLOWING',\n            },\n        },\n        {\n            name: 'digitalMission2023::weeklyTask10title',\n            description: 'digitalMission2023::weeklyTask10description',\n            image: 'https://api.scoolcode.com/profile-pictures/64ca145020d6e87f7eb19d91/data',\n            stat: 'distinct-high-score-games',\n            cta: {\n                to: {\n                    pathname: '/app/challenges/high-score',\n                },\n                label: 'challenges::highScoreGames',\n            },\n            requiredValue: 3,\n            catalogItemId: '64bf80f9da3f379150dfae7e',\n            match: {\n                type: 'DISTINCT_HIGH_SCORE_GAMES',\n            },\n        },\n        {\n            name: 'digitalMission2023::weeklyTask11title01',\n            description: 'digitalMission2023::weeklyTask11description01',\n            image: 'https://api.scoolcode.com/profile-pictures/64d3c0dc7e356aa4f741efb8/data',\n            stat: 'given-cookie-to-low-cookie-projects',\n            cta: {\n                to: {\n                    pathname: '/app/community/discover',\n                },\n                label: 'discoverProjects',\n            },\n            requiredValue: 1,\n            catalogItemId: '64bf810491163803d07b1e8f',\n            match: {\n                type: 'COOKIE_GIVEN_TO_LOW_COOKIE_PROJECT',\n            },\n        },\n        {\n            name: 'digitalMission2023::weeklyTask12title',\n            description: 'digitalMission2023::weeklyTask12description',\n            image: 'https://api.scoolcode.com/profile-pictures/64dcab88ed11984a4896af50/data',\n            stat: 'dm2023-quiz-streak-6',\n            cta: {\n                to: {\n                    pathname: '/app/challenges/quizzes',\n                },\n                label: 'courses.takeQuiz',\n            },\n            requiredValue: 1,\n            catalogItemId: '64bf810b4833e6ec9aab4b3e',\n            match: {\n                type: 'QUIZ_STREAK',\n            },\n        },\n        {\n            name: 'digitalMission2023::weeklyTask13title',\n            description: 'digitalMission2023::weeklyTask13description',\n            image: 'https://api.scoolcode.com/profile-pictures/64dcabaf1b17a4dbdd6a0b7f/data',\n            stat: 'dm2023-follow-trainers',\n            cta: {\n                to: {\n                    pathname: '/app/community/discover',\n                    search: 'view=only-trainers',\n                },\n                label: '2023teachersDayNewsfeedPost::cta',\n            },\n            requiredValue: 2,\n            catalogItemId: '64bf81134833e65118ab4bf5',\n            match: {\n                type: 'FOLLOW_TRAINERS',\n            },\n        },\n        {\n            name: 'digitalMission2023::weeklyTask14title',\n            description: 'digitalMission2023::weeklyTask14description',\n            image: 'https://api.scoolcode.com/profile-pictures/64ef162683ae4a28d2fa635d/data',\n            stat: 'dm2023-but-why-quiz',\n            cta: {\n                to: {\n                    pathname: '/app/challenges/quizzes/64d2248c6f44ce983b80f774',\n                },\n                label: 'butWhyQuiz::title',\n            },\n            requiredValue: 1,\n            catalogItemId: '64bf811dda3f376f5ddfb1dc',\n            match: {\n                type: 'BUT_WHY_QUIZ',\n            },\n        },\n        {\n            name: 'digitalMission2023::weeklyTask15title',\n            description: 'digitalMission2023::weeklyTask15description',\n            image: 'https://api.scoolcode.com/profile-pictures/64ef1813445f372bc950349a/data',\n            stat: 'dm2023-play-community',\n            cta: {\n                to: {\n                    pathname: '/app/community/overview',\n                },\n                label: 'discoverProjects',\n            },\n            requiredValue: 10,\n            catalogItemId: '64ef17e9ebaad471c47b22e4',\n            match: {\n                type: 'PLAY_COMMUNITY',\n            },\n        },\n    ],\n}\n\nconst cachedActiveDigitalMissionWeeklyTasks: { [key: string]: any } = {}\n\nexport function getActiveDigitalMissionWeeklyTask(weeklyTasks?: any[]) {\n    const now = dayjs()\n    const year = now.year()\n    const tasks = weeklyTasks || digitalMissionWeeklyTasks[year]\n\n    if (!tasks) {\n        return null\n    }\n\n    let i = 0\n    for (const task of tasks) {\n        if (now.isAfter(task.activeFrom) && now.isBefore(task.activeTo)) {\n            const cached = cachedActiveDigitalMissionWeeklyTasks[`year:${year}:index:${i}`]\n            if (cached) {\n                return cached\n            }\n\n            const overrides = digitalMissionWeeklyTasks[year]?.[i]\n            const activeTask = {\n                ...task,\n                ...overrides,\n                activeFrom: dayjs(task.activeFrom),\n                activeTo: dayjs(task.activeTo),\n            }\n            cachedActiveDigitalMissionWeeklyTasks[`year:${year}:index:${i}`] = activeTask\n\n            return activeTask\n        }\n        i++\n    }\n\n    return null\n}\n\nexport type DigitalMission2023WeeklyTask = any\n","import { Panel, PanelHeader, PanelTitle } from 'components/panel'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React, { useEffect, useState } from 'react'\nimport { StatisticName, requestStats, useHasInventoryItem } from 'lib/liveops'\nimport { CheckCircleIcon } from 'components/icons'\nimport { Text } from 'components/Text'\nimport { useHumanReadableCountdown } from 'hooks/useCountdown'\nimport { Stack } from 'components/layout'\nimport { ActivityEventPointIcon } from './ActivityEventPointIcon'\nimport styled, { css } from 'styled-components/macro'\nimport { Avatar } from 'features/avatar'\nimport { Button } from 'components/Button'\nimport { Link } from 'react-router-dom'\nimport { Card, CardContent } from 'components/card'\nimport { darken, lighten, mix } from 'polished'\nimport { Divider } from 'components/Divider'\nimport { Tooltip } from 'components/Tooltip'\nimport { DigitalMission2023WeeklyTask, getActiveDigitalMissionWeeklyTask } from '../data/digitalMission2023Data'\nimport { useDispatch } from 'react-redux'\nimport { useSelector } from 'lib/store'\nimport { ActivityEvent, NormalizedActivityEvent } from '../types/activityEventTypes'\n\ninterface ActivityEventWeeklyMissionsProps {\n    variant: 'feed' | 'event-details'\n    event: ActivityEvent | NormalizedActivityEvent\n}\n\nexport const ActivityEventWeeklyMissions: React.FC<ActivityEventWeeklyMissionsProps> = ({ event, variant }) => {\n    const weeklyTasks = event.templateData?.weeklyTasks\n    const [activeTask, setActiveTask] = useState(getActiveDigitalMissionWeeklyTask(weeklyTasks))\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            setActiveTask(getActiveDigitalMissionWeeklyTask(getActiveDigitalMissionWeeklyTask(weeklyTasks)))\n        }, 5000)\n\n        return () => {\n            clearInterval(interval)\n        }\n    }, [weeklyTasks])\n\n    if (!activeTask) {\n        return null\n    }\n\n    return <ActivityEventWeeklyMissionsInner key={activeTask.stat} task={activeTask} variant={variant} />\n}\n\ninterface ActivityEventActiveWeeklyMissionsInnerProps {\n    task: DigitalMission2023WeeklyTask\n    variant: 'feed' | 'event-details'\n}\n\nconst ActivityEventWeeklyMissionsInner: React.FC<ActivityEventActiveWeeklyMissionsInnerProps> = ({ task, variant }) => {\n    const t = useTranslate()\n    const { label: remainingTimeLabel, isEnd } = useHumanReadableCountdown(task.activeTo)\n    const isCompleted = useHasInventoryItem(task.catalogItemId)\n    const dispatch = useDispatch()\n    const value = useSelector(\n        state => state.client.statistics[`digital-mission-2024-weekly-task:${task.stat}` as unknown as StatisticName],\n    )\n\n    useEffect(() => {\n        if (task.requiredValue > 1) {\n            dispatch(requestStats([{ group: 'digital-mission-2024-weekly-task', stat: task.stat }]))\n        }\n    }, [task, dispatch])\n\n    const displayProgress = task.requiredValue > 1 && value !== undefined && value > 0 && value <= task.requiredValue\n    const hideCta = task.cta.hideInFeed && variant === 'feed'\n    const hideWhenCompleted = variant === 'feed'\n\n    if (isCompleted === undefined || (isCompleted && hideWhenCompleted)) {\n        return null\n    }\n\n    return (\n        <Panel>\n            <PanelHeader id=\"weekly-missions\">\n                <PanelTitle>{t('digitalMission2023::weeklyTaskTitle01')}</PanelTitle>\n            </PanelHeader>\n            <Card>\n                <Grid>\n                    {isCompleted ? (\n                        <Completed>\n                            <CheckCircleIcon />\n                        </Completed>\n                    ) : (\n                        <Rewards>\n                            <Text variant=\"h3\">\n                                <strong>{t('activityEvents::milestones')}</strong>\n                            </Text>\n                            <Tooltip title={t('settings::profilPicture')}>\n                                <AvatarWrap>\n                                    <StyledAvatar src={task.image} />\n                                </AvatarWrap>\n                            </Tooltip>\n                            <Divider />\n                            <Tooltip title={t('digitalMission2022::points')}>\n                                <span>\n                                    <Points>\n                                        +100 <ActivityEventPointIcon />\n                                    </Points>\n                                </span>\n                            </Tooltip>\n                        </Rewards>\n                    )}\n                    <CardContent>\n                        <Stack>\n                            <Text variant=\"h3\">\n                                <strong>\n                                    {isCompleted\n                                        ? t('digitalMission2023::weeklyTaskCongrats')\n                                        : `${t(task.name)}${\n                                              displayProgress ? ` (${value}/${task.requiredValue})` : ''\n                                          }`}\n                                </strong>\n                            </Text>\n                            <Text>\n                                {t(\n                                    isCompleted\n                                        ? 'digitalMission2023::weeklyTaskCompletedDescription'\n                                        : task.description,\n                                )}\n                            </Text>\n                            {!isCompleted && task.cta && !hideCta && (\n                                <Button component={Link} to={task.cta.to}>\n                                    {t(task.cta.label)}\n                                </Button>\n                            )}\n                            {!isEnd && (\n                                <Text>\n                                    {t(\n                                        isCompleted\n                                            ? 'digitalMission2023::nextTaskRemainingTime'\n                                            : 'general::remainingTime',\n                                    )}\n                                    : <strong>{remainingTimeLabel}</strong>\n                                </Text>\n                            )}\n                        </Stack>\n                    </CardContent>\n                </Grid>\n            </Card>\n        </Panel>\n    )\n}\n\nconst Completed = styled.div`\n    ${props =>\n        props.theme.palette.type === 'light'\n            ? css`\n                  background: #d7e8d8;\n                  color: #4caf50;\n              `\n            : css`\n                  background: #24353a;\n                  color: #549a6a;\n              `}\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: ${props => props.theme.spacing(6)};\n    svg {\n        font-size: 4rem;\n    }\n`\n\nconst Rewards = styled(CardContent)`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: ${props => props.theme.spacing(4)};\n    ${props => {\n        const backgroundColor = mix(0.8, props.theme.palette.background.paper, props.theme.palette.primary.main)\n        return css`\n            color: ${props.theme.palette.type === 'light'\n                ? darken(0.7, backgroundColor)\n                : lighten(0.5, backgroundColor)};\n            background: ${backgroundColor};\n        `\n    }}\n    hr {\n        width: 50%;\n        background-color: ${props => mix(0.7, props.theme.palette.background.paper, props.theme.palette.primary.main)};\n    }\n`\n\nconst AvatarWrap = styled.div`\n    display: flex;\n    gap: ${props => props.theme.spacing(2)};\n    flex-direction: column;\n    align-items: center;\n    p {\n        line-height: 1;\n    }\n`\n\nconst StyledAvatar = styled(Avatar)`\n    img {\n        display: block;\n    }\n`\n\nconst Points = styled.div`\n    background: ${props => props.theme.palette.background.paper};\n    color: ${props => props.theme.palette.text.primary};\n    padding: ${props => props.theme.spacing(2, 4)};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    flex-shrink: 0;\n    font-weight: 700;\n    font-size: 1rem;\n`\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 3fr;\n    ${props => props.theme.breakpoints.down('xs')} {\n        grid-template-columns: auto;\n    }\n`\n","import React from 'react'\nimport { Typography, TypographyTypeMap } from '@material-ui/core'\nimport { OverridableComponent } from '@material-ui/core/OverridableComponent'\n\ntype TextProps = TypographyTypeMap['props']\n\nexport const Text: OverridableComponent<TypographyTypeMap> = (props: TextProps) => {\n    return <Typography {...props} />\n}\n","import React from 'react'\nimport { Skeleton as MuiSkeleton, SkeletonProps as MuiSkeletonProps } from '@material-ui/lab'\nimport styled from 'styled-components/macro'\n\ninterface SkeletonProps extends MuiSkeletonProps {}\n\nexport const LargeSkeleton: React.FC<SkeletonProps> = props => {\n    return <StyledLargeSkeleton {...props} />\n}\n\nconst StyledLargeSkeleton = styled(MuiSkeleton)`\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    transform: scale(1, 0.8);\n    height: 8rem;\n`\n\nexport const MediumSkeleton: React.FC<SkeletonProps> = props => {\n    return <StyledMediumSkeleton {...props} />\n}\n\nconst StyledMediumSkeleton = styled(MuiSkeleton)`\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    transform: scale(1, 0.8);\n    height: 4rem;\n`\n\nexport const SmallSkeleton: React.FC<SkeletonProps> = props => {\n    return <StyledSmallSkeleton {...props} />\n}\n\nconst StyledSmallSkeleton = styled(MuiSkeleton)`\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    height: 2rem;\n`\n\nexport const Skeleton: React.FC<SkeletonProps> = props => {\n    return <StyledSkeleton {...props} />\n}\n\nconst StyledSkeleton = styled(MuiSkeleton)`\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n`\n","export default __webpack_public_path__ + \"static/media/cookieCollector.a9f934c2.svg\";","export default __webpack_public_path__ + \"static/media/cookieContributor.33ea0bb0.svg\";","export default __webpack_public_path__ + \"static/media/follower.cfba7b5f.svg\";","export default __webpack_public_path__ + \"static/media/numberCrush.f60a15d0.svg\";","export default __webpack_public_path__ + \"static/media/profiller.541c7aab.svg\";","export default __webpack_public_path__ + \"static/media/cosmicQuiz.ba84d731.svg\";","export default __webpack_public_path__ + \"static/media/laboratoryEscape.b45305a9.svg\";","export default __webpack_public_path__ + \"static/media/feedVoter.1848c53b.svg\";","export default __webpack_public_path__ + \"static/media/wonderQuiz.feaf25ef.svg\";","export default __webpack_public_path__ + \"static/media/questMaster.9f464e15.svg\";","export default __webpack_public_path__ + \"static/media/projectExplorer.b5b03958.svg\";","export default __webpack_public_path__ + \"static/media/highScoreHero.26f12039.svg\";","export default __webpack_public_path__ + \"static/media/projectCreator.253f8f4b.svg\";","export default __webpack_public_path__ + \"static/media/marvel.06d879db.svg\";","export default __webpack_public_path__ + \"static/media/geographyexplorer.c61ed6f8.svg\";","export default __webpack_public_path__ + \"static/media/RobotOlympics.98ba5586.svg\";","export default __webpack_public_path__ + \"static/media/inventionmaster.7c5e03bd.svg\";","export default __webpack_public_path__ + \"static/media/trainerContestVoter.c382ada6.svg\";","export default __webpack_public_path__ + \"static/media/trainerFollower.d2b26d5a.svg\";","export default __webpack_public_path__ + \"static/media/cookieHunter.dc83fe4e.svg\";","export default __webpack_public_path__ + \"static/media/gamingExpert.9e3a6490.svg\";","export default __webpack_public_path__ + \"static/media/planetEvolution.df71a2e0.svg\";","import { StoreState } from './../../../../../lib/store/store'\nimport { canUserCreateShareableProject, UserState } from 'contexts/UserContext'\nimport dayjs, { Dayjs } from 'dayjs'\nimport cookieCollectorBadge from '../badges/cookieCollector.svg'\nimport cookieContributorBadge from '../badges/cookieContributor.svg'\nimport followerBadge from '../badges/follower.svg'\nimport numberCrushBadge from '../badges/numberCrush.svg'\nimport profillerBadge from '../badges/profiller.svg'\nimport cosmicQuizBadge from '../badges/cosmicQuiz.svg'\nimport laboratoryEscapeBadge from '../badges/laboratoryEscape.svg'\nimport feedVoterBadge from '../badges/feedVoter.svg'\nimport wonderQuizBadge from '../badges/wonderQuiz.svg'\nimport questMasterBadge from '../badges/questMaster.svg'\nimport projectExplorerBadge from '../badges/projectExplorer.svg'\nimport highScoreHeroBadge from '../badges/highScoreHero.svg'\nimport projectCreatorBadge from '../badges/projectCreator.svg'\nimport marvelBadge from '../badges/marvel.svg'\nimport geographyexplorerBadge from '../badges/geographyexplorer.svg'\nimport robotOlympicsBadge from '../badges/RobotOlympics.svg'\nimport inventionmasterBadge from '../badges/inventionmaster.svg'\nimport trainerContestVoterBadge from '../badges/trainerContestVoter.svg'\nimport trainerFollowerBadge from '../badges/trainerFollower.svg'\nimport cookieHunterBadge from '../badges/cookieHunter.svg'\nimport gamingExpertBadge from '../badges/gamingExpert.svg'\nimport planetEvolutionBadge from '../badges/planetEvolution.svg'\n\nexport const MAX_POINTS = 5150\nexport const MAX_POINTS_WITHOUT_SCOOLCODE = 4650\n\nexport type DigitalMissionPhaseType = 'sweepstake' | 't-shirt'\n\nexport interface DigitalMissionPhase {\n    title: string\n    endDate: Dayjs\n    requiredPoints: number\n    type: DigitalMissionPhaseType\n    successCatalogItemId: string\n    sweepstakeIsHappend: boolean\n    winnerCatalogItemID: string\n}\n\n// duplicated in: live_universe\\index.ts\nexport const feedVotingItems = [\n    '60cafcc027f8913c0c414b5e',\n    '60d338398b0c8aec6e0e7b8f',\n    '60dd73158cabe73fcaaf3c60',\n    '60e6e277145965424bc58eb2',\n    '60efd6367044645c64965578',\n]\n\n// duplicated in: live_universe\\index.ts\nexport const digitalMissionPhases: ReadonlyArray<DigitalMissionPhase> = [\n    {\n        title: 'digitalMission2021::prizes::sweepstake01',\n        type: 'sweepstake',\n        endDate: dayjs('2021-07-05T00:00:00Z'),\n        requiredPoints: 700,\n        successCatalogItemId: '60b7951e7575f3defd9148eb',\n        sweepstakeIsHappend: true,\n        winnerCatalogItemID: '60e80d95973513c54b7cc3f2',\n    },\n    {\n        title: 'digitalMission2021::prizes::sweepstake02',\n        type: 'sweepstake',\n        endDate: dayjs('2021-08-02T00:00:00Z'),\n        requiredPoints: 1500,\n        successCatalogItemId: '60b795fc7575f313c7914969',\n        sweepstakeIsHappend: true,\n        winnerCatalogItemID: '610d094497e145c7b77e2adf',\n    },\n    {\n        title: 'digitalMission2021::prizes::sweepstake04',\n        type: 't-shirt',\n        endDate: dayjs('2021-08-30T06:00:00Z'),\n        requiredPoints: 3500,\n        successCatalogItemId: '60b7972b8aa07b508fc8f38e',\n        sweepstakeIsHappend: false,\n        winnerCatalogItemID: 'to be created',\n    },\n    {\n        title: 'digitalMission2021::prizes::sweepstake03',\n        type: 'sweepstake',\n        endDate: dayjs('2021-08-30T06:00:00Z'),\n        requiredPoints: 4000,\n        successCatalogItemId: '60b797598aa07b70afc8f39e',\n        sweepstakeIsHappend: false,\n        winnerCatalogItemID: '6131e819bf26664d62eb9608',\n    },\n]\n\nexport const digitalMission2021AchievementsInventoryId = {\n    ProFiller: '60b60261d10358a19804d54a',\n    CookieContributor: '60b6028bd10358cc8204d54d',\n    CookieCollector: '60b6021c0bbcc12d08be654e',\n    NumberCrush: '60b602790bbcc1976cbe6555',\n    FollowCollector: '60b6023c0bbcc1a73bbe6553',\n    CosmicQuiz: '60c05f3babf30e89bb25982f',\n    LaboratoryEscape: '60caf51727f8917138414931',\n    FeedVoter: '60caf4bb27f8913b5141491c',\n    WonderQuiz: '60d3387e48ccf204b32c23bc',\n    QuestMaster: '60e2b02e3f25e0ff707a34a6',\n    ProjectExplorer: '60dd74318cabe735ccaf3cac',\n    HighScoreHero: '60e57f2ff8b7d29b92ec6d1a',\n    marvel: '60efd4e27044642b75965570',\n    projectCreator: '60efe4887044647c19965b8b',\n    geographyexplorer: '60fa4e65c375634ea89df1b1',\n    RobotOlympics: '61038045f26bdf163a1a8115',\n    inventionmaster: '610bf7314995c5cc6c1a999a',\n    CookieHunter: '6112781a8633ad40280a0f24',\n    TrainerContestVoter: '61136eb66716d00e96a18335',\n    TrainerFollower: '61136edb8633adcccb0a65a9',\n    GamingExpert: '611df712938eaec271a984f5',\n    PlanetBuilder: '611df72f4d04f3fcc011ac47',\n}\n\nexport type DigitalMission2021AchievementData = {\n    internalName: keyof typeof digitalMission2021AchievementsInventoryId\n    imageUrl: string\n    points: number\n    catalogItem: string\n    badgeContainerBgColor: string\n    progress?: {\n        current: number | ((props: StoreState) => number)\n        required: number\n    }\n    hidden?: boolean | ((user: UserState) => boolean)\n}\n\nexport const digitalMission2021achievementDataList: DigitalMission2021AchievementData[] = [\n    {\n        internalName: 'ProFiller',\n        imageUrl: profillerBadge,\n        points: 100,\n        catalogItem: digitalMission2021AchievementsInventoryId.ProFiller,\n        badgeContainerBgColor: '#c9efff',\n    },\n    {\n        internalName: 'CookieContributor',\n        imageUrl: cookieContributorBadge,\n        points: 200,\n        catalogItem: digitalMission2021AchievementsInventoryId.CookieContributor,\n        badgeContainerBgColor: '#eedcd7',\n        progress: {\n            current: props => props.client.statistics['Seasons/DigitalMission:2021:cookie-given'] ?? 0,\n            required: 30,\n        },\n    },\n    {\n        internalName: 'CookieCollector',\n        imageUrl: cookieCollectorBadge,\n        points: 250,\n        catalogItem: digitalMission2021AchievementsInventoryId.CookieCollector,\n        badgeContainerBgColor: '#f3ffe4',\n        hidden: user => !canUserCreateShareableProject(user),\n        progress: {\n            current: props => props.client.statistics['Seasons/DigitalMission:2021:cookie-received'] ?? 0,\n            required: 15,\n        },\n    },\n    {\n        internalName: 'NumberCrush',\n        imageUrl: numberCrushBadge,\n        points: 200,\n        catalogItem: digitalMission2021AchievementsInventoryId.NumberCrush,\n        badgeContainerBgColor: '#fff0b5',\n    },\n    {\n        internalName: 'FollowCollector',\n        imageUrl: followerBadge,\n        points: 100,\n        catalogItem: digitalMission2021AchievementsInventoryId.FollowCollector,\n        badgeContainerBgColor: '#e1f1d8',\n        progress: {\n            current: props => props.client.statistics['Seasons/DigitalMission:2021:followings'] ?? 0,\n            required: 5,\n        },\n    },\n    {\n        internalName: 'CosmicQuiz',\n        imageUrl: cosmicQuizBadge,\n        points: 200,\n        catalogItem: digitalMission2021AchievementsInventoryId.CosmicQuiz,\n        badgeContainerBgColor: '#bad9f9',\n    },\n    {\n        internalName: 'LaboratoryEscape',\n        imageUrl: laboratoryEscapeBadge,\n        points: 200,\n        catalogItem: digitalMission2021AchievementsInventoryId.LaboratoryEscape,\n        badgeContainerBgColor: '#ffdaf7',\n    },\n    {\n        internalName: 'FeedVoter',\n        imageUrl: feedVoterBadge,\n        points: 250,\n        catalogItem: digitalMission2021AchievementsInventoryId.FeedVoter,\n        badgeContainerBgColor: '#f7ffcf',\n        progress: {\n            current: props => props.client.statistics['Seasons/DigitalMission:2021:feed-votes'] ?? 0,\n            required: 5,\n        },\n    },\n    {\n        internalName: 'WonderQuiz',\n        imageUrl: wonderQuizBadge,\n        points: 200,\n        catalogItem: digitalMission2021AchievementsInventoryId.WonderQuiz,\n        badgeContainerBgColor: '#ffe1b3',\n    },\n    {\n        internalName: 'QuestMaster',\n        imageUrl: questMasterBadge,\n        points: 350,\n        catalogItem: digitalMission2021AchievementsInventoryId.QuestMaster,\n        badgeContainerBgColor: '#d6f5ea',\n        progress: {\n            current: props => props.client.statistics['Seasons/DigitalMission:2021:completed-mini-challenges'] ?? 0,\n            required: 10,\n        },\n    },\n    {\n        internalName: 'ProjectExplorer',\n        imageUrl: projectExplorerBadge,\n        points: 200,\n        catalogItem: digitalMission2021AchievementsInventoryId.ProjectExplorer,\n        badgeContainerBgColor: '#dbefff',\n\n        progress: {\n            current: props => props.client.statistics['Seasons/DigitalMission:2021:view-given'] ?? 0,\n            required: 15,\n        },\n    },\n    {\n        internalName: 'HighScoreHero',\n        imageUrl: highScoreHeroBadge,\n        points: 300,\n        catalogItem: digitalMission2021AchievementsInventoryId.HighScoreHero,\n        badgeContainerBgColor: '#fff9db',\n\n        progress: {\n            current: props => props.client.statistics['Seasons/DigitalMission:2021:weekly-top100-presence'] ?? 0,\n            required: 3,\n        },\n    },\n    {\n        internalName: 'marvel',\n        imageUrl: marvelBadge,\n        points: 200,\n        catalogItem: digitalMission2021AchievementsInventoryId.marvel,\n        badgeContainerBgColor: '#e7d2d2',\n    },\n    {\n        internalName: 'projectCreator',\n        imageUrl: projectCreatorBadge,\n        points: 250,\n        catalogItem: digitalMission2021AchievementsInventoryId.projectCreator,\n        badgeContainerBgColor: '#cff1d1',\n        hidden: user => !canUserCreateShareableProject(user),\n    },\n    {\n        internalName: 'geographyexplorer',\n        imageUrl: geographyexplorerBadge,\n        points: 200,\n        catalogItem: digitalMission2021AchievementsInventoryId.geographyexplorer,\n        badgeContainerBgColor: '#ffe5bb',\n    },\n    {\n        internalName: 'RobotOlympics',\n        imageUrl: robotOlympicsBadge,\n        points: 200,\n        catalogItem: digitalMission2021AchievementsInventoryId.RobotOlympics,\n        badgeContainerBgColor: '#c3e4e4',\n    },\n    {\n        internalName: 'inventionmaster',\n        imageUrl: inventionmasterBadge,\n        points: 300,\n        catalogItem: digitalMission2021AchievementsInventoryId.inventionmaster,\n        badgeContainerBgColor: '#ead7ea',\n    },\n    {\n        internalName: 'TrainerContestVoter',\n        imageUrl: trainerContestVoterBadge,\n        points: 350,\n        catalogItem: digitalMission2021AchievementsInventoryId.TrainerContestVoter,\n        badgeContainerBgColor: '#bacbff',\n\n        progress: {\n            current: props => props.client.statistics['Seasons/DigitalMission:2021:trainer-contest-cookie-given'] ?? 0,\n            required: 3,\n        },\n    },\n    {\n        internalName: 'CookieHunter',\n        imageUrl: cookieHunterBadge,\n        points: 250,\n        catalogItem: digitalMission2021AchievementsInventoryId.CookieHunter,\n        badgeContainerBgColor: '#fff9db',\n    },\n    {\n        internalName: 'TrainerFollower',\n        imageUrl: trainerFollowerBadge,\n        points: 250,\n        catalogItem: digitalMission2021AchievementsInventoryId.TrainerFollower,\n        badgeContainerBgColor: '#a6c9ea',\n        progress: {\n            current: props => props.client.statistics['Seasons/DigitalMission:2021:trainer-followings'] ?? 0,\n            required: 5,\n        },\n    },\n    {\n        internalName: 'GamingExpert',\n        imageUrl: gamingExpertBadge,\n        points: 300,\n        catalogItem: digitalMission2021AchievementsInventoryId.GamingExpert,\n        badgeContainerBgColor: '#ffbbbe',\n    },\n    {\n        internalName: 'PlanetBuilder',\n        imageUrl: planetEvolutionBadge,\n        points: 300,\n        catalogItem: digitalMission2021AchievementsInventoryId.PlanetBuilder,\n        badgeContainerBgColor: '#c4ffd9',\n    },\n]\n","import * as React from 'react'\nimport { UnlockAchievementNotificationHandler } from 'features/notifications'\nimport { NotificationImage } from 'features/notifications'\nimport { LocalisationKey } from 'lib/i18n'\nimport { StoreState } from 'lib/store'\nimport { digitalMission2021achievementDataList } from '../data/digitalMission2021Data'\n\nexport const getDigitalMission2021SeaonsPoints = (state: StoreState) =>\n    state.client.statistics['Seasons/DigitalMission:2021:season-point']\n\nexport const getDigitalMission2021AchievementI18nKeys = (internalName: string) => {\n    const wrongAchivementsKeys = [\n        'marvel',\n        'projectCreator',\n        'geographyexplorer',\n        'inventionmaster',\n        'CookieHunter',\n        'TrainerContestVoter',\n        'TrainerFollower',\n        'GamingExpert',\n        'PlanetBuilder',\n    ]\n\n    const typofix = wrongAchivementsKeys.includes(internalName) ? 'achievement' : 'achivements'\n\n    return {\n        name: `digitalMission2021::${typofix}::${internalName}::name` as LocalisationKey,\n        description: `digitalMission2021::${typofix}::${internalName}::description` as LocalisationKey,\n    }\n}\n\nexport const dm2021UnlockAcihevementNotificationHandler: UnlockAchievementNotificationHandler = ({\n    notification,\n    t,\n}) => {\n    const achievementData = digitalMission2021achievementDataList.find(\n        item => item.catalogItem === notification.message.data.payload.achievementId,\n    )\n\n    if (!achievementData) {\n        return null\n    }\n\n    return {\n        img: <NotificationImage notiMediaSrc={achievementData.imageUrl} />,\n        title: t('notification::unlockAchievement::title', {\n            name: t(getDigitalMission2021AchievementI18nKeys(achievementData.internalName).name),\n        }),\n        body: t('notification::unlockAchievement::body'),\n        cta: {\n            type: 'internal-link',\n            link: {\n                pathname: `/app/events/digital-mission-2021`,\n                hash: achievementData.catalogItem,\n            },\n        },\n    }\n}\n","import { Card, CardContent } from 'components/card'\nimport { DiceIcon, TshirtIcon } from 'components/icons'\nimport { Stack } from 'components/layout'\nimport { Text } from 'components/Text'\nimport dayjs from 'dayjs'\nimport { StoreState, useSelector } from 'lib/store'\nimport { LocalisationKey } from 'lib/i18n'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { IconType } from 'react-icons/lib'\nimport styled from 'styled-components/macro'\nimport {\n    DigitalMissionPhase,\n    digitalMissionPhases,\n    DigitalMissionPhaseType,\n    MAX_POINTS,\n    MAX_POINTS_WITHOUT_SCOOLCODE,\n} from '../data/digitalMission2021Data'\nimport { getDigitalMission2021SeaonsPoints } from '../helpers/digitalMission2021Helpers'\nimport { canUserCreateProject, canUserCreateShareableProject, UserState, useUserState } from 'contexts/UserContext'\nimport { useDateFormat } from 'hooks/useDateFormat'\nimport { useCountdown } from 'hooks/useCountdown'\nimport { useLocation } from 'react-router-dom'\nimport RootRef from '@material-ui/core/RootRef'\nimport { ProgressBar, ProgressBarIndicator, ProgressBarTick, ProgressBarIndicatorText } from 'components/progress-bar'\n\nconst currentPhaseIndex = digitalMissionPhases.findIndex(phase => phase.endDate.isAfter(dayjs()))\n\nconst getMaxPoints = (user: UserState) =>\n    canUserCreateShareableProject(user) ? MAX_POINTS : MAX_POINTS_WITHOUT_SCOOLCODE\n\nconst userReachedSweepstakeLimit = (state: StoreState, sweeepStakeId?: string) => {\n    if (state.client.inventory === null) {\n        return undefined\n    }\n    return state.client.inventory.find(item => item.item === sweeepStakeId)\n}\n\nexport const userWonTheSweepstake = (state: StoreState, winnerItemId?: string) => {\n    if (state.client.inventory === null) {\n        return undefined\n    }\n    return state.client.inventory.find(item => item.item === winnerItemId)\n}\n\ninterface DigitalMission2021ProgressProps {\n    inBanner?: boolean\n}\n\nexport const DigitalMission2021Progress: React.FC<DigitalMission2021ProgressProps> = ({ inBanner }) => {\n    const [selectedPhaseIndex, setSelectedPhaseIndex] = useState<number>(Math.max(currentPhaseIndex, 0))\n    const points = useSelector(getDigitalMission2021SeaonsPoints)\n    const user = useUserState()\n    const maxPoints = getMaxPoints(user)\n    const { state } = useLocation<{ bubblePhaseIndex: number }>()\n    const progressRef = useRef<HTMLDivElement>(null)\n\n    useEffect(() => {\n        if (points !== undefined && state?.bubblePhaseIndex !== undefined && progressRef.current) {\n            setSelectedPhaseIndex(state.bubblePhaseIndex)\n            progressRef.current.scrollIntoView({ behavior: 'smooth' })\n        }\n    }, [state?.bubblePhaseIndex, points])\n\n    if (points === undefined) {\n        return null\n    }\n\n    const selectedPhase = digitalMissionPhases[selectedPhaseIndex]\n    return (\n        <RootRef rootRef={progressRef}>\n            <Stack spacing={2}>\n                <StyledProgressBar $inBanner={!!inBanner} value={points} max={maxPoints}>\n                    {digitalMissionPhases.map((phase, i) => (\n                        <ProgressBarTick key={i} requiredValue={phase.requiredPoints} />\n                    ))}\n                    <ProgressBarIndicator>\n                        {inBanner\n                            ? points >= 500 && <ProgressBarIndicatorText>{points}</ProgressBarIndicatorText>\n                            : points >= 300 && <ProgressBarIndicatorText>{points}</ProgressBarIndicatorText>}\n                    </ProgressBarIndicator>\n                </StyledProgressBar>\n                <ButtonWrap>\n                    {digitalMissionPhases.map((phase, i) => (\n                        <PhaseButton\n                            maxPoints={maxPoints}\n                            key={i}\n                            phase={phase}\n                            isActive={selectedPhaseIndex === i}\n                            onClick={() => {\n                                setSelectedPhaseIndex(i)\n                            }}\n                            points={points}\n                        />\n                    ))}\n                </ButtonWrap>\n                <PhaseBox\n                    phase={selectedPhase}\n                    points={points}\n                    maxPoints={maxPoints}\n                    isCurrentPhase={currentPhaseIndex === selectedPhaseIndex}\n                    inBanner={!!inBanner}\n                />\n            </Stack>\n        </RootRef>\n    )\n}\n\nconst phaseToIcon: Record<DigitalMissionPhaseType, IconType> = {\n    sweepstake: DiceIcon,\n    't-shirt': TshirtIcon,\n}\n\ninterface PhaseButtonProps {\n    isActive: boolean\n    phase: DigitalMissionPhase\n    onClick: VoidFunction\n    maxPoints: number\n    points: number\n}\n\nconst PhaseButton: React.FC<PhaseButtonProps> = ({ phase, onClick, isActive, maxPoints, points }) => {\n    const Icon = phaseToIcon[phase.type]\n\n    return (\n        <PhaseButtonRoot\n            style={{ left: `${(phase.requiredPoints / maxPoints) * 100}%` }}\n            onClick={onClick}\n            $isActive={isActive}\n        >\n            <Icon />\n        </PhaseButtonRoot>\n    )\n}\n\ninterface PhaseBoxProps {\n    phase: DigitalMissionPhase\n    points: number\n    maxPoints: number\n    isCurrentPhase: boolean\n    inBanner: boolean\n}\n\nconst PhaseBox: React.FC<PhaseBoxProps> = ({ points, phase, maxPoints, isCurrentPhase, inBanner }) => {\n    const t = useTranslate()\n    const reachedSweepstakeLimit = useSelector(state => !!userReachedSweepstakeLimit(state, phase.successCatalogItemId))\n    const isWinner = useSelector(state => !!userWonTheSweepstake(state, phase.winnerCatalogItemID))\n    const formatDate = useDateFormat('long')\n    const { remaining, isEnd } = useCountdown(phase.endDate)\n    const user = useUserState()\n    const canCreateProject = canUserCreateProject(user) || canUserCreateShareableProject(user)\n\n    const sweepStakeCounter = phase.sweepstakeIsHappend ? null : !isEnd && isCurrentPhase ? (\n        <Text>\n            {phase.type === 't-shirt'\n                ? t('digitalMission2021::progressbar::message09')\n                : t('digitalMission2021::progressbar::message01')}{' '}\n            <strong>\n                {t('general::nDay', { count: remaining.days })}, {t('general::nHour', { count: remaining.hours })},{' '}\n                {t('general::nMinute', { count: remaining.minutes })}\n            </strong>\n        </Text>\n    ) : phase.type === 't-shirt' ? null : (\n        <Text>\n            {t('digitalMission2021::progressbar::message08')}{' '}\n            <strong>{formatDate.formatDate(phase.endDate.toDate())}</strong>\n        </Text>\n    )\n\n    const body = (() => {\n        const remainingPoints = phase.requiredPoints - points\n        if (phase.type === 'sweepstake') {\n            const returnText = (() => {\n                if (isWinner) {\n                    return t('digitalMission2021::progressbar::message12')\n                } else {\n                    if (phase.title === 'digitalMission2021::prizes::sweepstake01') {\n                        if (reachedSweepstakeLimit) {\n                            return t('digitalMission2021::progressbar::message11')\n                        } else {\n                            return t('digitalMission2021::prizes::description01postevent')\n                        }\n                    }\n                    if (phase.title === 'digitalMission2021::prizes::sweepstake02') {\n                        if (reachedSweepstakeLimit) {\n                            return t('digitalMission2021::progressbar::message11')\n                        } else {\n                            return t('digitalMission2021::prizes::description02postevent')\n                        }\n                    }\n                    if (phase.title === 'digitalMission2021::prizes::sweepstake03') {\n                        return t('digitalMission2021::prizes::description03postevent')\n                    }\n                }\n            })()\n            if (isEnd) {\n                if (phase.sweepstakeIsHappend) {\n                    return <Text>{returnText}</Text>\n                } else {\n                    return (\n                        <Text>\n                            {reachedSweepstakeLimit ? t('digitalMission2021::progressbar::message03') : returnText}\n                        </Text>\n                    )\n                }\n            } else {\n                return (\n                    <Text>\n                        {reachedSweepstakeLimit\n                            ? inBanner\n                                ? t('digitalMission2021::progressbar::message10')\n                                : t('digitalMission2021::progressbar::message03')\n                            : remainingPoints > 0 && (\n                                  <span\n                                      dangerouslySetInnerHTML={{\n                                          __html: t('digitalMission2021::progressbar::message02', {\n                                              points: phase.requiredPoints - points,\n                                          }),\n                                      }}\n                                  />\n                              )}\n                    </Text>\n                )\n            }\n        }\n\n        if (phase.type === 't-shirt') {\n            return (\n                <Text>\n                    {reachedSweepstakeLimit ? (\n                        canCreateProject ? (\n                            <>\n                                {t('digitalMission2021::progressbar::message06A')}{' '}\n                                {t('gallery:Aliens_Universe/Robot Dog')}\n                            </>\n                        ) : (\n                            <>{t('digitalMission2021::progressbar::message06B')}</>\n                        )\n                    ) : isEnd ? (\n                        <span> {t('digitalMission2021::prizes::description04postevent')}</span>\n                    ) : (\n                        <span\n                            dangerouslySetInnerHTML={{\n                                __html: t('digitalMission2021::progressbar::thsirtmessage01', {\n                                    points: phase.requiredPoints - points,\n                                }),\n                            }}\n                        />\n                    )}\n                </Text>\n            )\n        }\n    })()\n\n    if (inBanner) {\n        return <Description>{body}</Description>\n    }\n\n    return (\n        <PhaseBoxRoot>\n            <PhaseBoxTriangle style={{ left: `${(phase.requiredPoints / maxPoints) * 100}%` }} />\n            <Card>\n                <CardContent>\n                    <Stack>\n                        <Text variant=\"h3\">{t(phase.title as LocalisationKey)}</Text>\n                        {sweepStakeCounter}\n                        {body}\n                    </Stack>\n                </CardContent>\n            </Card>\n        </PhaseBoxRoot>\n    )\n}\n\nconst PhaseButtonRoot = styled.button<{ $isActive: boolean }>`\n    position: absolute;\n    z-index: 2;\n    background: none;\n    width: 2.5rem;\n    height: 2.5rem;\n    border-radius: 50%;\n    border: solid 2px ${props => props.theme.palette.divider};\n    cursor: pointer;\n    color: ${props => (props.$isActive ? props.theme.palette.primary.contrastText : props.theme.palette.text.primary)};\n    background-color: ${props =>\n        props.$isActive ? props.theme.palette.primary.main : props.theme.palette.background.paper};\n    transform: translateX(-50%);\n\n    > svg {\n        width: 100%;\n        height: 100%;\n    }\n`\n\nconst StyledProgressBar = styled(ProgressBar)<{ $inBanner: boolean }>`\n    height: ${props => (props.$inBanner ? '2rem' : undefined)};\n    border: ${props => (props.$inBanner ? 'none' : undefined)};\n`\n\nconst ButtonWrap = styled.div`\n    position: relative;\n    height: 2.5rem;\n`\n\nconst TRIANGLE_SIZE = 1\n\nconst PhaseBoxRoot = styled.div`\n    position: relative;\n    margin-top: ${TRIANGLE_SIZE + 0.3}rem;\n`\n\nconst PhaseBoxTriangle = styled.div`\n    position: absolute;\n    width: 0;\n    height: 0;\n    border-left: ${TRIANGLE_SIZE}rem solid transparent;\n    border-right: ${TRIANGLE_SIZE}rem solid transparent;\n    border-bottom: ${TRIANGLE_SIZE}rem solid ${props => props.theme.palette.background.paper};\n    filter: drop-shadow(0 -2px 2px rgba(0, 0, 0, 0.1));\n    transform: translate(-50%, -100%);\n`\n\nconst Description = styled(Text)`\n    margin-block-start: ${props => props.theme.spacing(6)};\n    color: #b5c8f7;\n`\n","import { List, ListItem, ListItemIcon, ListItemText } from 'components/list'\nimport { Text } from 'components/Text'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { DiceIcon, TshirtIcon } from 'components/icons'\nimport { useUserState } from 'contexts/UserContext'\n\nexport const DigitalMission2021Prizes: React.FC = () => {\n    const t = useTranslate()\n    const user = useUserState()\n\n    const sweepstake01Prize = sweepstake01[user.i18n.country] ?? ''\n    const sweepstake02Prize = sweepstake02[user.i18n.country] ?? ''\n    const sweepstake03Prize = sweepstake03[user.i18n.country] ?? ''\n\n    return (\n        <>\n            <Text variant=\"h3\">{t('digitalMission2021::prizes::title')}</Text>\n            <StyledList>\n                <StyledListItem button={false}>\n                    <ListItemIcon>\n                        <DiceIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                        primary={\n                            <Text variant=\"body1\">\n                                {t('digitalMission2021::prizes::sweepstake01')}\n                                {sweepstake01Prize && ': '}\n                                <strong>{sweepstake01Prize}</strong>\n                            </Text>\n                        }\n                        secondary={t('digitalMission2021::prizes::description01postevent')}\n                    />\n                </StyledListItem>\n                <StyledListItem button={false}>\n                    <ListItemIcon>\n                        <DiceIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                        primary={\n                            <Text variant=\"body1\">\n                                {t('digitalMission2021::prizes::sweepstake02')}\n                                {sweepstake02Prize && ': '}\n                                <strong>{sweepstake02Prize}</strong>\n                            </Text>\n                        }\n                        secondary={t('digitalMission2021::prizes::description02postevent')}\n                    />\n                </StyledListItem>\n                <StyledListItem button={false}>\n                    <ListItemIcon>\n                        <TshirtIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                        primary={\n                            <Text variant=\"body1\">\n                                <strong>{t('digitalMission2021::prizes::sweepstake04')}</strong>\n                            </Text>\n                        }\n                        secondary={t('digitalMission2021::prizes::description04postevent')}\n                    />\n                </StyledListItem>\n                <StyledListItem button={false}>\n                    <ListItemIcon>\n                        <DiceIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                        primary={\n                            <Text variant=\"body1\">\n                                {t('digitalMission2021::prizes::sweepstake03')}\n                                {sweepstake03Prize && ': '}\n                                <strong>{sweepstake03Prize}</strong>\n                            </Text>\n                        }\n                        secondary={t('digitalMission2021::prizes::description03postevent')}\n                    />\n                </StyledListItem>\n            </StyledList>\n        </>\n    )\n}\n\nconst StyledList = styled(List)`\n    padding: 0;\n`\n\nconst StyledListItem = styled(ListItem)`\n    padding: 0;\n`\n\nconst sweepstake01: Record<string, string> = {\n    HU: '5 db Rocketbook okosfüzet',\n    BE: '2 casques audio JBL sans fil',\n    BG: 'слушалки HAMA HS-P350 (2 броя)',\n    CZ: 'Rocketbook',\n    DE: '5x VR Brillen',\n    MX: 'Auriculares',\n    RO: '5 boxe portabile JBL',\n    SA: '3 Rocketbook',\n    RS: 'Genius Scorpion Spear Pro 3200dpi Gaming Mouse  (6)',\n    SG: '2* Bluetooth Speaker',\n    SK: '3 x VR okuliare',\n    ZA: '2 *Rocket book',\n    ES: 'VR Glasses',\n    CH: '3x Rocketbook',\n    TW: 'Minecraft帳號',\n    TR: '2x Lego',\n}\n\nconst sweepstake02: Record<string, string> = {\n    HU: '5 db JBL fejhallgató',\n    BE: '2 enceintes portable JBL Clip 4',\n    BG: 'геймърска мишка Xtrfy M3 HeatoN Edition (2 броя)',\n    CZ: 'JBL Headphone',\n    DE: '5x Bluetooth Lautsprecher ',\n    MX: 'Auriculares inalámbricos',\n    RO: '5 perechi de căști JBL',\n    SA: '3 JBL Bluetooth headphone',\n    RS: 'Genius HS-610 Headset  (3)',\n    SG: '2* Headphone',\n    SK: '3 x Protex bluetoth sluchátka',\n    ZA: '2 * JBL Headphone',\n    ES: 'Wireless Earphone Bluetooth',\n    CH: '3x JBL Go2 Bluetooth Speaker',\n    TW: '小米TWS耳機',\n    TR: '2x JBL headphone',\n}\n\nconst sweepstake03: Record<string, string> = {\n    HU: '1 db Samsung Galaxy tablet',\n    BE: '1 tablette Samsung Galaxy',\n    BG: 'таблет Samsung Galaxy Tab A7 (1 брой)',\n    CZ: 'Samsung Galaxy Tablet',\n    DE: '1x Samsung Galaxy Tablet',\n    MX: 'Bocina Portable 5.0 Bluetooth Stereo, resistente al agua inalámbrica',\n    RO: '1 tabletă Samsung Galaxy',\n    SA: '1 Samsung Tablet',\n    RS: 'Gaming chair Spawn Hero Series Red (1)',\n    SG: '1* Smart Watch',\n    SK: '1 x JBL herné slúchadlo',\n    ZA: '1x Samsung Galaxy Tablet',\n    ES: 'JBL Headphone',\n    CH: '1x Huawei MatePad',\n    TW: '多功能午睡枕',\n    TR: '1x JBL bluetooth speaker',\n}\n\n// English (India)\t    en-IN\n// Arabic (Saudi Arabia)\tar-SA\n// español (CO)\t        es-CO\n// Bulgarian\t            bg-BG\n// čeština\t                cs-CZ\n// Deutsch (AT)\t        de-AT\n// Deutsch (CH)\t        de-CH\n// Deutsch (DE)\t        de-DE\n// English (US)\t        en-US\n// English (demo)\t        en-US-demo\n// español (ES)\t        es-ES\n// español (MX)\t        es-MX\n// Français (Belgian)\t    fr-BE\n// Français (CH)\t        fr-CH\n// Français\t            fr-FR\n// hrvatski\t            hr-HR\n// magyar\t                hu-HU\n// Indonesian\t            id-ID\n// română\t                ro-RO\n// slovenčina\t            sk-SK\n// serbian\t                sr-RS\n// Turkish\t                tr-TR\n// Taiwan\t                zh-TW\n// South-africa                ZA\n","import { DigitalMission2021AchievementData } from './data/digitalMission2021Data'\nimport React from 'react'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useDateFormat } from 'hooks/useDateFormat'\nimport { getDigitalMission2021AchievementI18nKeys } from './helpers/digitalMission2021Helpers'\nimport {\n    AchievementCard,\n    AchievementCardContent,\n    AchievementCardDescription,\n    AchievementCardFooterText,\n    AchievementCardImage,\n    AchievementCardImageWrap,\n    AchievementCardPoints,\n    AchievementCardTitle,\n} from 'components/achievement-card'\n\ninterface DigitalMission2021AchivementProps {\n    achivement: DigitalMission2021AchievementData\n    acquiredAt?: Date\n    progress?: {\n        current: number\n        required: number\n    }\n}\n\nexport const DigitalMission2021Achivement: React.FC<DigitalMission2021AchivementProps> = ({\n    achivement,\n    acquiredAt,\n    progress,\n}) => {\n    const t = useTranslate()\n\n    const dateFormat = useDateFormat('long')\n    const { name, description } = getDigitalMission2021AchievementI18nKeys(achivement.internalName)\n\n    return (\n        <AchievementCard isAcquired={!!acquiredAt}>\n            <AchievementCardImageWrap bgColor={achivement.badgeContainerBgColor}>\n                <AchievementCardImage src={achivement.imageUrl} />\n                <AchievementCardPoints bgColor={achivement.badgeContainerBgColor}>\n                    {achivement.points}\n                </AchievementCardPoints>\n            </AchievementCardImageWrap>\n            <AchievementCardContent>\n                <AchievementCardTitle>{t(name)}</AchievementCardTitle>\n                <AchievementCardDescription>{t(description)}</AchievementCardDescription>\n            </AchievementCardContent>\n            {!!acquiredAt ? (\n                <AchievementCardFooterText>{dateFormat.formatDate(new Date(acquiredAt))}</AchievementCardFooterText>\n            ) : null}\n            {!acquiredAt && progress ? (\n                <AchievementCardFooterText>\n                    {progress.current} / {progress.required}\n                </AchievementCardFooterText>\n            ) : null}\n        </AchievementCard>\n    )\n}\n","import { Grid, Box } from 'components/layout'\nimport { Loader } from 'components/Loader'\nimport { useUserState } from 'contexts/UserContext'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { InventoryItem } from 'lib/liveops/models'\nimport { StoreState, useSelector } from 'lib/store'\nimport React from 'react'\nimport {\n    digitalMission2021achievementDataList,\n    digitalMission2021AchievementsInventoryId,\n    DigitalMission2021AchievementData,\n} from '../data/digitalMission2021Data'\nimport { DigitalMission2021Achivement } from '../DigitalMission2021Achivement'\nimport styled from 'styled-components/macro'\nimport { Text } from 'components/Text'\nimport { CookieHunt } from 'features/cookie-hunt'\nimport { getDigitalMission2021SeaonsPoints } from '../helpers/digitalMission2021Helpers'\nimport { useScrollToHash } from 'hooks/useScrollToHash'\n\ninterface DigitalMission2021ResultsProps {}\n\nexport const DigitalMission2021Results: React.FC<DigitalMission2021ResultsProps> = () => {\n    const achivements = useSelector(getAchievementsFromInventory)\n    const store = useSelector(state => state)\n    const user = useUserState()\n    const t = useTranslate()\n    const points = useSelector(getDigitalMission2021SeaonsPoints)\n\n    useScrollToHash()\n\n    if (achivements === undefined || points === undefined) {\n        return <Loader />\n    }\n\n    function processProgress({ progress }: DigitalMission2021AchievementData) {\n        if (progress) {\n            const { current, required } = progress\n            return {\n                required,\n                current: typeof current === 'function' ? current(store) : current,\n            }\n        }\n    }\n\n    function isAchievementHidden(achi: DigitalMission2021AchievementData) {\n        return typeof achi.hidden === 'function' ? achi.hidden(user) : achi.hidden\n    }\n\n    return (\n        <>\n            <StyledBox textAlign=\"center\">\n                {points > 100 ? (\n                    <Text variant=\"h2\">{t('digitalMission2021::achievements::title3')}</Text>\n                ) : (\n                    <Text variant=\"h2\">{t('digitalMission2021::achievements::title2')}</Text>\n                )}\n            </StyledBox>\n            <Grid container spacing={6} justify=\"center\">\n                {digitalMission2021achievementDataList\n                    .filter(achi => !isAchievementHidden(achi))\n                    .map((achivement, i) => {\n                        if (!achivements[achivement.internalName]) return null\n                        return (\n                            <Grid key={achivement.catalogItem} item xs={12} sm={6} lg={4} id={achivement.catalogItem}>\n                                <CookieHunt name=\"dm2021-achi-list\" index={i}>\n                                    <DigitalMission2021Achivement\n                                        achivement={achivement}\n                                        acquiredAt={achivements[achivement.internalName]?.createdAt}\n                                        progress={processProgress(achivement)}\n                                    />\n                                </CookieHunt>\n                            </Grid>\n                        )\n                    })}\n            </Grid>\n        </>\n    )\n}\n\nconst StyledBox = styled(Box)`\n    margin-block-start: ${props => props.theme.spacing(8)};\n`\n\nconst getAchievementsFromInventory = (state: StoreState) => {\n    const { inventory } = state.client\n\n    const achievements = inventory\n        ? Object.keys(digitalMission2021AchievementsInventoryId).reduce((result, key) => {\n              result[key] = inventory.find(\n                  ({ item }) =>\n                      item ===\n                      digitalMission2021AchievementsInventoryId[\n                          key as keyof typeof digitalMission2021AchievementsInventoryId\n                      ],\n              )\n              return result\n          }, {} as { [key: string]: InventoryItem | undefined })\n        : {}\n\n    return achievements\n}\n","import { CertInventoryItem } from 'features/certificates/certificateTypes'\nimport { useHasGrant } from 'lib/grants'\nimport { StoreState } from 'lib/store'\n\nexport function useHasDigitalMission2020Access() {\n    const hasGrant = useHasGrant()\n    return hasGrant({ product: 'edup.universe', feature: 'content.digital-mission' })\n}\n\nconst DIGITAL_MISSION_2021_INV_ITEM_ID = '60ffb062f2ba06a9fd717fd9' //this is dm 2020 inv item id for test\n\nexport function getDigitalMission2021Cert(store: StoreState) {\n    return store.client.inventory?.find(item => item.item === DIGITAL_MISSION_2021_INV_ITEM_ID) as CertInventoryItem\n}\n","import { Text } from 'components/Text'\nimport { EventDetailsContent } from 'features/events/components/details/EventDetailsContent'\nimport { EventDetailsBase } from 'features/events/components/EventDetailsBase'\nimport { EventDefinition } from 'features/events/types/eventTypes'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React, { useEffect, useRef } from 'react'\nimport { userWonTheSweepstake } from './components/DigitalMission2021Progress'\nimport { DigitalMission2021Prizes } from './components/DigitalMission2021Prizes'\nimport { DigitalMission2021Results } from './components/DigitalMission2021Results'\nimport { useSelector } from 'lib/store'\nimport { isInventoryReady } from 'lib/liveops'\nimport { Loader } from 'components/Loader'\nimport { getDigitalMission2021SeaonsPoints } from './helpers/digitalMission2021Helpers'\nimport { useLocation } from 'react-router-dom'\nimport RootRef from '@material-ui/core/RootRef'\nimport { EventDetailsSubtitle } from 'features/events/components/details/EventDetailsSubtitle'\nimport { useUserState } from 'contexts/UserContext'\nimport { GetCustomCertButton } from 'features/certificates/GetCustomCertButton'\nimport { digitalMissionPhases } from './data/digitalMission2021Data'\nimport { getDigitalMission2021Cert } from './helper'\nimport { Flex } from 'components/layout'\n\ninterface DigitalMission2021PageProps {\n    event: EventDefinition\n}\n\nexport const DigitalMission2021Page: React.FC<DigitalMission2021PageProps> = ({ event }) => {\n    const t = useTranslate()\n    const isLoading = !useSelector(\n        state => isInventoryReady(state) && getDigitalMission2021SeaonsPoints(state) !== undefined,\n    )\n    const resultsRef = useRef<HTMLDivElement>(null)\n    const { state } = useLocation<{ fromBanner: boolean | undefined }>()\n    const points = useSelector(getDigitalMission2021SeaonsPoints)\n    const cert = useSelector(getDigitalMission2021Cert)\n\n    useEffect(() => {\n        if (!isLoading && state?.fromBanner && resultsRef.current) {\n            resultsRef.current.scrollIntoView({ behavior: 'smooth' })\n        }\n    }, [isLoading, state?.fromBanner])\n    const user = useUserState()\n\n    const isWinner = useSelector(state => !!userWonTheSweepstake(state, digitalMissionPhases[3].winnerCatalogItemID))\n\n    return (\n        <>\n            <EventDetailsBase event={event}>\n                <EventDetailsContent>\n                    {isLoading || points === undefined ? (\n                        <Loader />\n                    ) : (\n                        <>\n                            <Text>{t('digitalMission2021::posteventdescription')}</Text>\n                            <RootRef rootRef={resultsRef}>\n                                <DigitalMission2021Prizes />\n                            </RootRef>\n                            {points > 100 && (\n                                <>\n                                    <EventDetailsSubtitle>{t('general::yourResults')}</EventDetailsSubtitle>\n                                    {points < 3500 && (\n                                        <Text>\n                                            {t('digitalMission2021::progressbar::message15', { count: points })}\n                                        </Text>\n                                    )}\n                                    {points >= 3500 && points < 4000 && (\n                                        <Text>{t('digitalMission2021::resultsDescription01', { count: points })}</Text>\n                                    )}\n                                    {points >= 4000 && !isWinner && (\n                                        <Text>{t('digitalMission2021::resultsDescription02', { count: points })}</Text>\n                                    )}\n                                    {points >= 4000 && isWinner && (\n                                        <Text>{t('digitalMission2021::resultsDescription03', { count: points })}</Text>\n                                    )}\n                                    {points >= 3500 && cert && (\n                                        <Flex justifyContent=\"center\">\n                                            <GetCustomCertButton courseItem={cert}>\n                                                {t('digitalMission2021::title')} {t('certificate::simpletitle')}\n                                            </GetCustomCertButton>\n                                        </Flex>\n                                    )}\n                                    <DigitalMission2021Results />\n                                </>\n                            )}\n                        </>\n                    )}\n                    {user.i18n.country === 'HU' && (\n                        <a\n                            href=\"https://www.logiscool.com/hu/docs/digitalmission\"\n                            target=\"_blank\"\n                            style={{ display: 'block', textAlign: 'center' }}\n                            rel=\"noreferrer\"\n                        >\n                            Játékszabályzat és részvételi feltételek\n                        </a>\n                    )}\n                </EventDetailsContent>\n            </EventDetailsBase>\n        </>\n    )\n}\n","import { dialogFromNotification, pushQueue } from 'features/dialog-queue'\nimport { NotificationImage, UnlockAchievementNotificationHandler } from 'features/notifications'\nimport { LocalisationKey } from 'lib/i18n'\nimport { InventoryState } from 'lib/liveops/reducers/client/inventory'\nimport { StatisticState } from 'lib/liveops/reducers/client/statistic'\n// import { ATTENDED_OPEN_DAY_ITEM_ID } from 'lib/liveops/selectors'\nimport { StoreState } from 'lib/store'\nimport React from 'react'\nimport {\n    OnboardingAchievementData,\n    onboardingAchievements,\n    ONBOARDING_REACHED_3_POINTS_CATALOG_ITEM,\n} from '../data/onboardingData'\nimport prize1Img from '../media/prize1.svg'\n\nexport const getOnboadingPoints = (state: StoreState) => state.client.statistics['OpenDayOnboarding:points']\n\nexport const isOnboardingMissionFinished = (statistics: StatisticState) => {\n    if (statistics['OpenDayOnboarding:points'] === undefined) {\n        return null\n    }\n\n    return statistics['OpenDayOnboarding:points'] >= onboardingAchievements.length\n}\n\nexport const onboardingUnlockAcihevementNotificationHandler: UnlockAchievementNotificationHandler = ({\n    notification,\n    t,\n    dispatch,\n}) => {\n    // if (notification.message.data.payload.achievementId === ATTENDED_OPEN_DAY_ITEM_ID) {\n    //     return {\n    //         img: <NotificationImage notiMediaSrc=\"https://via.placeholder.com/150\" />,\n    //         title: 'Unlocked content',\n    //         body: 'Challenges unlocked.',\n    //         cta: {\n    //             type: 'custom',\n    //             onClick: () => {\n    //                 const dialog = dialogFromNotification(notification)\n    //                 if (dialog) {\n    //                     dispatch(pushQueue(dialog))\n    //                 }\n    //             },\n    //         },\n    //     }\n    // }\n\n    if (notification.message.data.payload.achievementId === ONBOARDING_REACHED_3_POINTS_CATALOG_ITEM) {\n        return {\n            img: <NotificationImage notiMediaSrc={prize1Img} />,\n            title: t('onboardingMission::missionUnlockedPopUp::title'),\n            body: t('onboardingMission::missionUnlockedPopUp::description'),\n            cta: {\n                type: 'custom',\n                onClick: () => {\n                    const dialog = dialogFromNotification(notification)\n                    if (dialog) {\n                        dispatch(pushQueue(dialog))\n                    }\n                },\n            },\n        }\n    }\n\n    const achievementData = onboardingAchievements.find(\n        item => item.catalogItem === notification.message.data.payload.achievementId,\n    )\n\n    if (!achievementData) {\n        return null\n    }\n\n    return {\n        img: <NotificationImage notiMediaSrc={achievementData.imageUrl} />,\n        title: t('notification::unlockAchievement::title', {\n            name: t(achievementData.title as LocalisationKey),\n        }),\n        body: t('notification::unlockAchievement::body'),\n        cta: {\n            type: 'custom',\n            onClick: () => {\n                const dialog = dialogFromNotification(notification)\n                if (dialog) {\n                    dispatch(pushQueue(dialog))\n                }\n            },\n        },\n    }\n}\n\nexport const getFirstNotCompletedAchievement = (\n    achievements: OnboardingAchievementData[],\n    inventory: InventoryState,\n) => {\n    return (\n        achievements.find(achi => inventory?.find(item => item.item === achi.catalogItem) === undefined) ??\n        achievements[0]\n    )\n}\n\nexport const isAchievementAcquired = (achievement: OnboardingAchievementData, inventory: InventoryState) =>\n    !!inventory?.find(item => item.item === achievement.catalogItem)\n","import { CheckIcon, LockIcon } from 'components/icons'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useSelector } from 'lib/store'\nimport { darken, mix, transparentize } from 'polished'\nimport React from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { visuallyHidden } from 'utils/styleUtils'\nimport { OnboardingAchievementData } from '../data/onboardingData'\nimport { isAchievementAcquired } from '../helpers/onboardingHelpers'\n\ninterface OnboardingAchievementProps {\n    achievement: OnboardingAchievementData\n    onClick: VoidFunction\n    isSelected: boolean\n}\n\nexport const OnboardingAchievement: React.FC<OnboardingAchievementProps> = ({ achievement, onClick, isSelected }) => {\n    const { imageUrl, title, color, isLocked } = achievement\n    const isAcquired = useSelector(state => isAchievementAcquired(achievement, state.client.inventory))\n    const t = useTranslate()\n\n    const icon = (() => {\n        if (isAcquired) {\n            return <StyledCheckIcon $color={color} />\n        }\n        if (isLocked) {\n            return <StyledLockIcon />\n        }\n\n        return <Img src={imageUrl} alt={t(title)} />\n    })()\n\n    return (\n        <Root onClick={onClick} $isSelected={isSelected} $isAcquired={isAcquired} $isLocked={isLocked} $color={color}>\n            <Inner>{icon}</Inner>\n            <Label>{t(title)}</Label>\n        </Root>\n    )\n}\n\nconst Label = styled.span`\n    ${visuallyHidden}\n`\n\nconst Img = styled.img`\n    max-width: 100%;\n`\n\nconst StyledCheckIcon = styled(CheckIcon)<{ $color: string }>`\n    width: 80%;\n    height: 80%;\n    color: ${props => darken(0.6, props.$color)};\n    color: ${props => transparentize(0, props.theme.palette.primary.main)};\n`\n\nconst StyledLockIcon = styled(LockIcon)`\n    width: 80%;\n    height: 80%;\n`\n\nconst Inner = styled.div`\n    padding: ${props => props.theme.spacing(4)};\n    transition: transform ${props => props.theme.transitions.duration.shortest}ms;\n`\n\nconst Root = styled.button<{ $isSelected: boolean; $isAcquired: boolean; $isLocked: boolean; $color: string }>`\n    border: none;\n    position: relative;\n    cursor: pointer;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    aspect-ratio: 1/1;\n    box-shadow: ${props => props.theme.shadows[2]};\n    color: ${props => props.theme.palette.primary.contrastText};\n    &:hover,\n    &:focus-visible {\n        ${Inner} {\n            transform: scale(1.07);\n        }\n    }\n    background: ${props => {\n        if (props.$isLocked) {\n            return props.theme.palette.grey[600]\n        }\n        if (props.$isAcquired) {\n            return mix(0.9, props.theme.palette.background.paper, props.theme.palette.primary.main)\n        }\n        return transparentize(0.5, props.$color)\n    }};\n    ${Img} {\n        filter: drop-shadow(0px 4px 5px rgba(0, 0, 0, 0.3));\n    }\n    ${props =>\n        props.$isSelected &&\n        css`\n            box-shadow: 0 0 0 3px ${props => props.theme.palette.primary.light};\n        `}\n`\n","import { Button } from 'components/Button'\nimport { CardContent } from 'components/card'\nimport { CheckIcon, LockIcon } from 'components/icons'\nimport { Stack } from 'components/layout'\nimport { Loader } from 'components/Loader'\nimport { Text } from 'components/Text'\nimport { AskForOpenDayButton } from 'features/limited-accounts'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useSelector } from 'lib/store'\nimport { transparentize, mix, darken, grayscale } from 'polished'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled, { css } from 'styled-components/macro'\nimport { OnboardingAchievementData } from '../data/onboardingData'\nimport { isAchievementAcquired } from '../helpers/onboardingHelpers'\n\ninterface OnboardingAchievementDetailsProps {\n    achievement: OnboardingAchievementData\n}\n\nexport const OnboardingAchievementDetails: React.FC<OnboardingAchievementDetailsProps> = ({ achievement }) => {\n    const t = useTranslate()\n    const { title, description, progress, linkTo, imageUrl, color, isLocked } = achievement\n    const isAcquired = useSelector(state => isAchievementAcquired(achievement, state.client.inventory))\n    const currentProgress = useSelector(state => (progress ? state.client.statistics[progress.statName] : undefined))\n    const isReady = progress ? currentProgress !== undefined : true\n\n    return (\n        <Root $color={color} $isLocked={isLocked}>\n            {isReady ? (\n                <Stack textAlign=\"center\">\n                    <Stack spacing={2}>\n                        <ImgWrap $color={color} $isLocked={isLocked}>\n                            <Img src={imageUrl} />\n                        </ImgWrap>\n                        <Text variant=\"h6\">\n                            {t(title)} {isLocked && <LockIcon />}\n                            {isAcquired && (\n                                <AcquiredBadge>\n                                    <CheckIcon />\n                                </AcquiredBadge>\n                            )}\n                        </Text>\n                    </Stack>\n                    {!isAcquired && progress && !isLocked && (\n                        <Text>\n                            {currentProgress}/{progress.required}\n                        </Text>\n                    )}\n                    <Text>\n                        {isLocked\n                            ? t('onboardingMission::achievements::unlockText')\n                            : t(description, { count: progress?.required })}\n                    </Text>\n\n                    {isLocked && <AskForOpenDayButton buttonProps={{ fullWidth: true }} />}\n\n                    {!isLocked && linkTo && (\n                        <Button fullWidth component={Link} to={linkTo}>\n                            {t('onboardingMission::headToTheMission')}\n                        </Button>\n                    )}\n                </Stack>\n            ) : (\n                <Loader />\n            )}\n        </Root>\n    )\n}\n\nconst Root = styled(CardContent)<{ $color: string; $isLocked: boolean }>`\n    align-self: stretch;\n    ${props => {\n        if (props.theme.palette.type !== 'dark') {\n            const backgroundColor = mix(0.75, props.theme.palette.background.paper, props.$color)\n\n            return css`\n                color: ${darken(0.75, props.$color)};\n                background-color: ${props.$isLocked ? grayscale(backgroundColor) : backgroundColor};\n                border-left: solid 1px ${transparentize(0.4, props.$color)};\n            `\n        }\n\n        return css`\n            border-left: solid 1px ${props.theme.palette.divider};\n        `\n    }}\n\n    ${props => props.theme.breakpoints.down('xs')} {\n        border-left: none;\n    }\n`\n\nconst AcquiredBadge = styled.span`\n    width: 1em;\n    height: 1em;\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    color: ${props => props.theme.palette.primary.contrastText};\n    background-color: ${props => props.theme.palette.primary.main};\n    border-radius: 50%;\n    padding: ${props => props.theme.spacing(1)};\n    svg {\n        width: 100%;\n        height: 100%;\n    }\n`\n\nconst ImgWrap = styled.div<{ $color: string; $isLocked: boolean }>`\n    display: inline-flex;\n    width: 6rem;\n    height: 6rem;\n    background: ${props => transparentize(0.5, props.$color)};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    padding: ${props => props.theme.spacing(2)};\n    box-shadow: ${props => props.theme.shadows[1]};\n    text-align: center;\n    filter: ${props => (props.$isLocked ? 'grayscale(1)' : undefined)};\n`\n\nconst Img = styled.img`\n    max-width: 100%;\n`\n","export default __webpack_public_path__ + \"static/media/prize2.c334e3d6.png\";","import { CardContent } from 'components/card'\nimport { CheckIcon } from 'components/icons'\nimport { Inline, Stack } from 'components/layout'\nimport {\n    ProgressBar,\n    ProgressBarCenteredText,\n    ProgressBarIndicator,\n    ProgressBarTick,\n    ProgressBarTrack,\n} from 'components/progress-bar'\nimport { Text } from 'components/Text'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { Trans } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport styled from 'styled-components/macro'\nimport { OnboardingAchievementData } from '../data/onboardingData'\nimport { getOnboadingPoints } from '../helpers/onboardingHelpers'\nimport prize1Img from '../media/prize1.svg'\nimport prize2Img from '../media/prize2.png'\n\ninterface OnboardingProgressProps {\n    achievements: OnboardingAchievementData[]\n}\n\nexport const OnboardingProgress: React.FC<OnboardingProgressProps> = ({ achievements }) => {\n    const t = useTranslate()\n    const points = useSelector(getOnboadingPoints)\n    const maxPoints = achievements.length\n\n    if (points === undefined) {\n        return null\n    }\n\n    return (\n        <Root>\n            <Stack spacing={6}>\n                <ProgressBar\n                    value={points}\n                    max={maxPoints}\n                    ticks={\n                        <>\n                            <ProgressBarTick requiredValue={3}>\n                                <Triangle />\n                            </ProgressBarTick>\n                            <ProgressBarTick requiredValue={8}>\n                                <Triangle />\n                            </ProgressBarTick>\n                        </>\n                    }\n                >\n                    <ProgressBarTrack>\n                        <ProgressBarIndicator />\n                        <ProgressBarCenteredText>\n                            <Inline spacing={1} display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\n                                <span>\n                                    {points}/{maxPoints}\n                                </span>\n                                <CheckIcon />\n                            </Inline>\n                        </ProgressBarCenteredText>\n                    </ProgressBarTrack>\n                </ProgressBar>\n                <PanelWrap>\n                    <OnboardingProgressPanel>\n                        <Img src={prize1Img} />\n                        <Stack>\n                            <Text variant=\"h3\">{t('onboardingMissionCard01::title')}</Text>\n                            <Text>\n                                <Trans i18nKey=\"onboardingMissionCard01::description\" />\n                            </Text>\n                        </Stack>\n                    </OnboardingProgressPanel>\n                    <OnboardingProgressPanel>\n                        <Img src={prize2Img} />\n                        <Stack>\n                            <Text variant=\"h3\">{t('onboardingMissionCard02::title')}</Text>\n                            <Text>\n                                <Trans i18nKey=\"onboardingMissionCard02::description\" />\n                            </Text>\n                        </Stack>\n                    </OnboardingProgressPanel>\n                </PanelWrap>\n            </Stack>\n        </Root>\n    )\n}\n\nconst Triangle: React.FC = () => {\n    return (\n        <TriangleRoot xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 14.6\" xmlSpace=\"preserve\">\n            <path d=\"M29.9 14.6 16.6 2.7c-.4-.3-.8-.3-1.2 0L2.1 14.6\" />\n        </TriangleRoot>\n    )\n}\n\nconst TriangleRoot = styled.svg`\n    position: absolute;\n    bottom: -${props => props.theme.spacing(6)};\n    transform: translate(-50%, 3px);\n    width: 2.5rem;\n\n    path {\n        fill: ${props => props.theme.palette.background.paper};\n        stroke: ${props => props.theme.palette.divider};\n    }\n`\n\nconst PanelWrap = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: ${props => props.theme.spacing(4)};\n    align-items: flex-start;\n`\n\nconst OnboardingProgressPanel: React.FC = ({ children }) => {\n    return (\n        <OnboardingProgressPanelRoot>\n            <CardContent>\n                <OnboardingProgressPanelInner>{children}</OnboardingProgressPanelInner>\n            </CardContent>\n        </OnboardingProgressPanelRoot>\n    )\n}\n\nconst OnboardingProgressPanelRoot = styled.div`\n    background-color: ${props => props.theme.palette.background.paper};\n    border: solid 2px ${props => props.theme.palette.divider};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    height: 100%;\n`\n\nconst OnboardingProgressPanelInner = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 2fr;\n    grid-gap: ${props => props.theme.spacing(4)};\n\n    ${props => props.theme.breakpoints.down('xs')} {\n        display: flex;\n        flex-direction: column;\n    }\n`\n\nconst Img = styled.img`\n    max-width: 100%;\n    display: block;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n`\n\nconst Root = styled.div``\n","import { Card } from 'components/card'\nimport { Loader } from 'components/Loader'\nimport { useUserState } from 'contexts/UserContext'\nimport { isInventoryReady } from 'lib/liveops'\nimport { useSelector } from 'lib/store'\nimport React from 'react'\nimport { Route } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { QueryParamProvider, StringParam, useQueryParam, withDefault } from 'use-query-params'\nimport { getOnboardingAchievements, OnboardingAchievementData } from '../data/onboardingData'\nimport { OnboardingAchievement } from './OnboardingAchievement'\nimport { OnboardingAchievementDetails } from './OnboardingAchievementDetails'\n\nimport { InventoryState } from 'lib/liveops/reducers/client/inventory'\nimport { getFirstNotCompletedAchievement, getOnboadingPoints } from '../helpers/onboardingHelpers'\nimport { AvatarBrowserDialog } from 'features/avatar'\nimport { OnboardingProgress } from './OnboardingProgress'\nimport { Hidden, Stack } from 'components/layout'\nimport { Dialog } from 'components/dialog'\nimport { Theme, useMediaQuery } from '@material-ui/core'\n\nexport const OnboardingAchievementList: React.FC = () => {\n    const user = useUserState()\n    const points = useSelector(getOnboadingPoints)\n    const isReady = useSelector(isInventoryReady) && points !== undefined\n    const inventory = useSelector(state => state.client.inventory)\n\n    if (!isReady) {\n        return <Loader />\n    }\n\n    const onboardingAchievements = getOnboardingAchievements(user, inventory)\n\n    return (\n        <QueryParamProvider ReactRouterRoute={Route}>\n            <Inner achievements={onboardingAchievements} inventory={inventory} />\n            <AvatarBrowserDialog />\n        </QueryParamProvider>\n    )\n}\n\nconst Inner: React.FC<{ achievements: OnboardingAchievementData[]; inventory: InventoryState }> = ({\n    achievements,\n    inventory,\n}) => {\n    const firstNotCompleted = getFirstNotCompletedAchievement(achievements, inventory)\n    const [selected, setSelected] = useQueryParam('selected', withDefault(StringParam, firstNotCompleted.catalogItem))\n    const [isDialogOpen, setDialogOpen] = React.useState(false)\n    const isMobile = useMediaQuery<Theme>(theme => theme.breakpoints.down('xs'), { noSsr: true })\n\n    const selectedAchievement = achievements.find(({ catalogItem }) => catalogItem === selected) || achievements[0]\n\n    return (\n        <Stack spacing={6}>\n            <Card>\n                <Grid>\n                    <Wrap>\n                        <InnerGrid>\n                            {achievements.map(achievement => (\n                                <OnboardingAchievement\n                                    key={achievement.catalogItem}\n                                    achievement={achievement}\n                                    isSelected={achievement.catalogItem === selectedAchievement?.catalogItem}\n                                    onClick={() => {\n                                        setSelected(achievement.catalogItem, 'replaceIn')\n                                        if (isMobile) {\n                                            setDialogOpen(true)\n                                        }\n                                    }}\n                                />\n                            ))}\n                        </InnerGrid>\n                    </Wrap>\n                    <Hidden xsDown>\n                        <OnboardingAchievementDetails\n                            key={selectedAchievement.catalogItem}\n                            achievement={selectedAchievement}\n                        />\n                    </Hidden>\n                    <Hidden smUp>\n                        <DetailsDialog open={isDialogOpen} close={() => setDialogOpen(false)}>\n                            <OnboardingAchievementDetails\n                                key={selectedAchievement.catalogItem}\n                                achievement={selectedAchievement}\n                            />\n                        </DetailsDialog>\n                    </Hidden>\n                </Grid>\n            </Card>\n            <OnboardingProgress achievements={achievements} />\n        </Stack>\n    )\n}\n\ninterface DetailsDialogProps {\n    open: boolean\n    close: VoidFunction\n}\n\nconst DetailsDialog: React.FC<DetailsDialogProps> = ({ children, open, close }) => {\n    return (\n        <Dialog maxWidth=\"sm\" fullWidth open={open} onClose={close}>\n            {children}\n        </Dialog>\n    )\n}\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: 3fr 2fr;\n    align-items: flex-start;\n\n    ${props => props.theme.breakpoints.down('xs')} {\n        display: block;\n    }\n`\n\nconst Wrap = styled(Stack)`\n    padding: ${props => props.theme.spacing(6, 4)};\n`\n\nconst InnerGrid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(6rem, 1fr));\n    grid-gap: ${props => props.theme.spacing(6)};\n`\n","import React from 'react'\nimport { EventDetailsBase } from 'features/events/components/EventDetailsBase'\nimport { EventDefinition } from 'features/events/types/eventTypes'\nimport { OnboardingAchievementList } from './components/OnboardingAchievementList'\n\ninterface OnboardingPageProps {\n    event: EventDefinition\n}\n\nexport const OnboardingPage: React.FC<OnboardingPageProps> = ({ event }) => {\n    return (\n        <EventDetailsBase event={event}>\n            <OnboardingAchievementList />\n        </EventDetailsBase>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/cta.80db3965.jpg\";","export default __webpack_public_path__ + \"static/media/banner.105c35aa.jpg\";","import { Text } from 'components/Text'\nimport { ActionCard } from 'components/action-card'\nimport { Card, CardContent } from 'components/card'\nimport { Inline, Stack } from 'components/layout'\nimport React, { useEffect, useMemo, useRef, useState } from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { CheckCircleIcon, PlayIcon, RightAngleIcon } from 'components/icons'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { SelectBox, SelectBoxItem, useSelectBoxContext } from 'components/form'\nimport { Button } from 'components/Button'\nimport { EmbeddedVideo } from 'components/EmbeddedVideo'\nimport ctaImg from '../media/cta.jpg'\nimport { useUserState } from 'contexts/UserContext'\nimport { CampChallengeData, getCampChallengeData } from '../data/campChallengeData'\nimport { useQuizTemplatesSessionQuery } from 'features/quiz/home-quiz/homeQuizQueries'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { Loader } from 'components/Loader'\nimport { Dialog } from 'components/dialog'\nimport { resetBtnStyle } from 'utils/styleUtils'\nimport { PageContent } from 'components/page'\nimport { useQuery, useQueryCache } from 'react-query'\nimport { api } from 'lib/api'\nimport bannerImg from '../media/banner.jpg'\nimport { Collapse } from 'components/Collapse'\nimport { useCountdown, useHumanReadableCountdown } from 'hooks/useCountdown'\nimport dayjs, { Dayjs } from 'dayjs'\nimport { useNotifications } from 'features/notifications'\nimport { transparentize } from 'polished'\nimport { ScrollRestoration } from 'lib/router/Scrollrestoration'\nimport { ManagableEventDefinition } from '../../types/eventTypesV2'\nimport { ActivityEvent } from '../../activity-events/types/activityEventTypes'\nimport { useActivityEventContext } from '../../activity-events/helpers/activityEventContext'\n\nexport const CampChallengeDynamicPage: React.FC<{ event: ManagableEventDefinition }> = ({ event }) => {\n    const year = event.templateData.year\n\n    const t = useTranslate()\n    const user = useUserState()\n    const campChallengeData = getCampChallengeData(user, year)\n    const { currentFakeDate } = useActivityEventContext()\n\n    const modifiedData = useMemo(() => {\n        if (!campChallengeData) return null\n        const original = (event as any).original as ActivityEvent\n        return {\n            ...campChallengeData,\n            startDate: original.startDate,\n            endDate: original.endDate,\n            rulesURL: event.templateData.rulesURL,\n            ctaURL: event.templateData.ctaURL,\n            currentFakeDate,\n            ongoing: !original.closed,\n        }\n    }, [campChallengeData, event, currentFakeDate])\n\n    if (!modifiedData) {\n        throw new Error()\n    }\n\n    return (\n        <>\n            <ScrollRestoration />\n            <Banner $backgroundImage={event.detailsBanner || bannerImg}>\n                <Text variant=\"h1\">{t(event.title)}</Text>\n            </Banner>\n            <PageContent>\n                <CampChallengePageInner campChallengeData={modifiedData} year={year} />\n            </PageContent>\n        </>\n    )\n}\n\nconst CampChallengePage: React.FC = () => {\n    const t = useTranslate()\n    const user = useUserState()\n    const campChallengeData = getCampChallengeData(user, 2023)\n\n    if (!campChallengeData) {\n        throw new Error()\n    }\n\n    return (\n        <>\n            <ScrollRestoration />\n            <Banner $backgroundImage={bannerImg}>\n                <Text variant=\"h1\">{t('campPromoMission2023::pageTitle')}</Text>\n            </Banner>\n            <PageContent>\n                <CampChallengePageInner campChallengeData={campChallengeData} year={2023} />\n            </PageContent>\n        </>\n    )\n}\n\nconst CampChallengePageInner: React.FC<{\n    campChallengeData: CampChallengeData & { currentFakeDate?: Dayjs; ongoing?: boolean }\n    year: number\n}> = ({ campChallengeData, year }) => {\n    const t = useTranslate()\n    const queryCache = useQueryCache()\n    const [isVideoOpen, setIsVideoOpen] = useState(false)\n\n    const { data: selectedCampName, status: linkQueryStatus } = useSelectedCampQuery(year)\n    const { data: quizSessions, status: quizSessionQueryStatus } = useQuizTemplatesSessionQuery(\n        Object.values(campChallengeData.quizzes),\n    )\n    const { isEnd } = useCountdown(\n        useMemo(() => dayjs(campChallengeData.endDate), [campChallengeData.endDate]),\n        campChallengeData.currentFakeDate,\n    )\n\n    if (quizSessionQueryStatus === 'error' || linkQueryStatus === 'error') {\n        return <ErrorMessage />\n    }\n\n    if (!quizSessions || selectedCampName === undefined) {\n        return <Loader />\n    }\n\n    const selectedCampKey: string = campChallengeData.camps.find(camp => camp.key === selectedCampName)?.key ?? ''\n\n    const hasSelectedCamp = selectedCampKey !== ''\n    const hasCompletedQuiz = Object.values(quizSessions).some(({ status }) => status === 'finished')\n    const isQualified = hasSelectedCamp && hasCompletedQuiz\n\n    return (\n        <>\n            <Stack spacing={8} maxWidth=\"55rem\" margin=\"0 auto\">\n                {campChallengeData.ongoing && <QualifiedBox isQualified={isQualified} />}\n                <Stack spacing={2}>\n                    <Text>\n                        {isEnd\n                            ? t('campPromoMission2023::pageDescriptionEnd')\n                            : t('campPromoMission2023::pageDescription')}\n                    </Text>\n                    <Countdown\n                        endDate={campChallengeData.endDate}\n                        currentFakeDate={campChallengeData.currentFakeDate}\n                    />\n                </Stack>\n\n                {!isEnd && (\n                    <>\n                        <Stack>\n                            <Text variant=\"h2\">{t('campPromoMission2023::pageTitle01')}</Text>\n                            <Text>{t('campPromoMission2023::pageDescription01')}</Text>\n                            <QuizGrid>\n                                <img src=\"https://api.prod.scoolcode.com/files/645521aa3b256745949cefcc/data\" alt=\"\" />\n                                <Stack>\n                                    {(['easy', 'medium', 'hard'] as const).map(level => {\n                                        const isFinished =\n                                            campChallengeData.quizzes[level] in quizSessions\n                                                ? quizSessions[campChallengeData.quizzes[level]].status === 'finished'\n                                                : false\n\n                                        return (\n                                            <TemplateItemRoot\n                                                key={level}\n                                                type={isFinished ? 'button' : 'link'}\n                                                to={`/app/quiz/${campChallengeData.quizzes[level]}`}\n                                            >\n                                                <Content>\n                                                    <Inline display=\"flex\" alignItems=\"center\">\n                                                        <IconWrap>\n                                                            {isFinished ? <QuizFinishedIcon /> : <StartIcon />}\n                                                        </IconWrap>\n                                                        <Text>{t(`general::${level}`)}</Text>\n                                                    </Inline>\n                                                    {!isFinished && (\n                                                        <ActionWrap component=\"span\" spacing={2}>\n                                                            {t('quiz::startQuiz')}\n                                                            <RightAngleIcon />\n                                                        </ActionWrap>\n                                                    )}\n                                                </Content>\n                                            </TemplateItemRoot>\n                                        )\n                                    })}\n                                </Stack>\n                            </QuizGrid>\n                        </Stack>\n                        <Stack>\n                            <Text variant=\"h2\">{t('campPromoMission2023::pageTitle02')}</Text>\n                            <Text>{t('campPromoMission2023::pageDescription02')}</Text>\n                            <div>\n                                <SelectBox\n                                    value={selectedCampKey}\n                                    onChange={value => {\n                                        api.accounts.setCrmLink(`camp-challenge-${year}-camp`, value)\n                                        queryCache.setQueryData(\n                                            ['crm-account-link-flag', { type: `camp-challenge-${year}-camp` }],\n                                            () => value,\n                                        )\n                                    }}\n                                >\n                                    <CampSelectGrid>\n                                        {campChallengeData.camps.map(camp => (\n                                            <CampSelectBoxItem value={camp.key} img={camp.image} name={t(camp.name)} />\n                                        ))}\n                                    </CampSelectGrid>\n                                </SelectBox>\n                            </div>\n                        </Stack>\n                        <Stack>\n                            <CtaGrid>\n                                <Stack>\n                                    <Text variant=\"h2\">{t('campPromoMission2023::pageTitle03')}</Text>\n                                    <Text>{t('campPromoMission2023::pageDescription03')}</Text>\n                                    {campChallengeData.ctaURL && (\n                                        <Button component=\"a\" href={campChallengeData.ctaURL} target=\"_blank\" fullWidth>\n                                            {t('campPromoMission2023::askYourParentsToRegisterCTA')}\n                                        </Button>\n                                    )}\n                                </Stack>\n                                <VideoWrap>\n                                    {campChallengeData.videoId && (\n                                        <VideoOverlay\n                                            onClick={() => {\n                                                setIsVideoOpen(true)\n                                            }}\n                                        >\n                                            <span>\n                                                <PlayIcon />\n                                            </span>\n                                        </VideoOverlay>\n                                    )}\n                                    <img src={ctaImg} alt=\"\" />\n                                </VideoWrap>\n                            </CtaGrid>\n                        </Stack>\n                    </>\n                )}\n                {campChallengeData.rulesURL && (\n                    <Button variant=\"text\" component=\"a\" href={campChallengeData.rulesURL} target=\"_blank\">\n                        {t('digitalMission2022::rulesAndConditions')}\n                    </Button>\n                )}\n            </Stack>\n            {campChallengeData.videoId && (\n                <Dialog\n                    maxWidth=\"md\"\n                    fullWidth\n                    open={isVideoOpen}\n                    onClose={() => {\n                        setIsVideoOpen(false)\n                    }}\n                >\n                    <EmbeddedVideo autoPlay type=\"youtube\" id={campChallengeData.videoId} />\n                </Dialog>\n            )}\n        </>\n    )\n}\n\nconst Countdown: React.FC<{ endDate: string; currentFakeDate?: Dayjs }> = ({ endDate, currentFakeDate }) => {\n    const t = useTranslate()\n    const { label: countdownLabel, isEnd } = useHumanReadableCountdown(\n        useMemo(() => dayjs(endDate), [endDate]),\n        '',\n        currentFakeDate,\n    )\n\n    if (isEnd) {\n        return (\n            <Text>\n                <strong>{t('campPromoMission2023::challengeIsOver')}</strong>\n            </Text>\n        )\n    }\n\n    return (\n        <ConutdownRoot>\n            {t('general::remainingTime')}: <strong>{countdownLabel}</strong>\n        </ConutdownRoot>\n    )\n}\n\nconst ConutdownRoot = styled(Text)`\n    border-left: solid 3px ${props => props.theme.palette.primary.main};\n    padding-left: ${props => props.theme.spacing(4)};\n`\n\nconst QualifiedBox: React.FC<{ isQualified: boolean }> = ({ isQualified }) => {\n    const t = useTranslate()\n    const { notify } = useNotifications()\n    const shouldDisplayNotification = useRef(false)\n\n    useEffect(() => {\n        if (isQualified && shouldDisplayNotification.current) {\n            notify(t('campPromoMission2023::completedMission'), { variant: 'success' })\n        }\n    }, [isQualified, notify, t])\n\n    useEffect(() => {\n        shouldDisplayNotification.current = true\n    }, [])\n\n    return (\n        <Collapse in={isQualified} unmountOnExit>\n            <QualifiedBoxRoot>\n                <CardContent>\n                    <QualifiedBoxInner>\n                        <CheckCircleIcon fontSize=\"2rem\" />\n                        <Text>\n                            <strong>{t('campPromoMission2023::completedMission')}</strong>\n                        </Text>\n                    </QualifiedBoxInner>\n                </CardContent>\n            </QualifiedBoxRoot>\n        </Collapse>\n    )\n}\n\nconst QualifiedBoxRoot = styled(Card)`\n    background: #2e7d32;\n    color: #fff;\n`\n\nconst QualifiedBoxInner = styled.div`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(4)};\n`\n\nconst useSelectedCampQuery = (year: number) => {\n    return useQuery(\n        ['crm-account-link-flag', { type: `camp-challenge-${year}-camp` }],\n        async () => {\n            const link = await api.accounts.getCrmLink(`camp-challenge-${year}-camp`)\n            return link.data?.value ?? null\n        },\n        { staleTime: Infinity },\n    )\n}\n\nconst VideoWrap = styled.div`\n    position: relative;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    overflow: hidden;\n    img {\n        display: block;\n        max-width: 100%;\n    }\n`\n\nconst VideoOverlay = styled.button`\n    ${resetBtnStyle}\n    background-color: rgba(32, 33, 42, 0.25);\n    cursor: pointer;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: ${props => props.theme.palette.primary.main};\n    &:hover,\n    &:focus-visible {\n        span {\n            transform: scale(1.1);\n        }\n    }\n    span {\n        width: 5rem;\n        height: 5rem;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: ${props => props.theme.spacing(4)};\n        border-radius: 50%;\n        background-color: #fff;\n        filter: drop-shadow(0px 6px 6px rgba(0, 0, 0, 0.6));\n        transition: ${props => props.theme.transitions.duration.standard}ms;\n        svg {\n            position: relative;\n            left: 3px;\n            width: 100%;\n            height: 100%;\n        }\n    }\n`\n\nconst CtaGrid = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: ${props => props.theme.spacing(8)};\n    width: 100%;\n    align-items: flex-start;\n    ${props => props.theme.breakpoints.down('xs')} {\n        grid-template-columns: auto;\n        grid-gap: ${props => props.theme.spacing(4)};\n    }\n`\n\nconst CampSelectBoxItem: React.FC<{ value: string; img: string; name: string }> = ({ value, img, name }) => {\n    const context = useSelectBoxContext()\n    const selected = context.value === value\n    const hasValue = context.value !== undefined && context.value !== ''\n\n    return (\n        <StyledSelectBoxItem\n            fullWidth\n            value={value}\n            $img={img}\n            innerClassName=\"inner\"\n            $selected={selected}\n            $hasValue={hasValue}\n        >\n            <Text style={{ fontWeight: 600 }}>\n                {name}\n                {selected && <CheckCircleIcon />}\n            </Text>\n        </StyledSelectBoxItem>\n    )\n}\n\nconst StyledSelectBoxItem = styled(SelectBoxItem)<{ $img: string; $selected: boolean; $hasValue: boolean }>`\n    position: relative;\n    .inner {\n        position: relative;\n        overflow: hidden;\n        aspect-ratio: 1/1;\n        background: url('${props => props.$img}');\n        background-size: cover;\n        background-origin: border-box;\n        transition: all ${props => props.theme.transitions.duration.short}ms;\n        filter: ${props => (!props.$hasValue || props.$selected ? undefined : `brightness(1) grayscale(1)`)};\n        box-shadow: ${props =>\n            props.$selected ? `0 0 0 3px ${props.theme.palette.primary.light} !important` : undefined};\n        &:hover,\n        &:focus-visible {\n            border-color: ${props => props.theme.palette.divider};\n            filter: ${props =>\n                !props.$hasValue || props.$selected ? `brightness(0.85)` : `brightness(0.85) grayscale(1)`};\n        }\n    }\n    svg {\n        position: absolute;\n        top: ${props => props.theme.spacing(2)};\n        right: ${props => props.theme.spacing(2)};\n        color: white;\n        font-size: 2rem;\n        filter: drop-shadow(0px 2px 2px rgba(0, 0, 0, 0.3));\n    }\n    p {\n        display: flex;\n        justify-content: center;\n        align-items: flex-end;\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        height: 60%;\n        color: #fff;\n        background: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75));\n        padding: ${props => props.theme.spacing(4)};\n        text-shadow: 0 3px 4px rgba(0, 0, 0, 1);\n        font-size: ${props => props.theme.typography.h3.fontSize};\n        line-height: 1.2;\n        word-break: break-word;\n        ${props =>\n            props.$selected &&\n            css`\n                height: 100%;\n                background: linear-gradient(\n                    ${props => transparentize(1, props.theme.palette.primary.dark)},\n                    ${props => transparentize(0, props.theme.palette.primary.dark)}\n                );\n                text-shadow: none;\n            `}\n    }\n`\n\nconst CampSelectGrid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-gap: ${props => props.theme.spacing(4)};\n    width: 100%;\n    ${props => props.theme.breakpoints.down('xs')} {\n        grid-template-columns: repeat(2, 1fr);\n    }\n`\n\nconst StartIcon = styled(PlayIcon)`\n    font-size: 1.5rem;\n    color: ${props => props.theme.palette.primary.main};\n`\n\nconst QuizFinishedIcon = styled(CheckCircleIcon)`\n    font-size: 1.5rem;\n    color: #2e7d32;\n`\n\nconst ActionWrap = styled(Inline)`\n    display: flex;\n    flex-shrink: 0;\n    align-items: center;\n    font-weight: 600;\n    justify-content: flex-end;\n    text-align: right;\n    color: ${props => props.theme.palette.primary.main};\n`\n\nconst IconWrap = styled.span`\n    > * {\n        vertical-align: middle;\n    }\n`\n\nconst TemplateItemRoot = styled(ActionCard)`\n    display: block;\n    width: 100%;\n` as typeof ActionCard\n\nconst Content = styled(CardContent)`\n    display: flex;\n    align-items: center;\n    gap: ${props => props.theme.spacing(4)};\n    justify-content: space-between;\n`\n\nconst QuizGrid = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: ${props => props.theme.spacing(4)};\n    > img {\n        display: block;\n        max-width: 100%;\n        border-radius: ${props => props.theme.shape.borderRadius}px;\n    }\n    ${props => props.theme.breakpoints.down('xs')} {\n        grid-template-columns: auto;\n    }\n`\n\nconst Banner = styled.div<{ $backgroundImage: string }>`\n    position: relative;\n    background-image: ${props => `url(\"${props.$backgroundImage}\")`};\n    background-size: cover;\n    background-position: right;\n    padding-left: 3rem;\n    min-height: 300px;\n    display: flex;\n    align-items: center;\n    h1 {\n        color: #003b64;\n        font-size: 3.4rem;\n        font-weight: 800;\n        line-height: 1.3;\n        max-width: 50%;\n    }\n    ${props => props.theme.breakpoints.down('sm')} {\n        background-image: linear-gradient(#082336, #00000000), ${props => `url(\"${props.$backgroundImage}\")`};\n        min-height: 200px;\n        padding: 2rem 1rem 1rem 1rem;\n        justify-content: center;\n        align-items: flex-start;\n        h1 {\n            text-align: center;\n            font-size: 2.5rem;\n            max-width: none;\n            color: #fff;\n        }\n    }\n`\n\nexport default CampChallengePage\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { Skeleton } from 'components/Skeleton'\nimport { useQuery } from 'react-query'\nimport { api } from 'lib/api'\nimport { NotFoundError } from 'utils/errors'\nimport { createAvatarUrl } from 'features/avatar'\nimport { NotificationIcon } from 'components/icons'\nimport { Flex } from 'components/layout'\n\ntype ImageProps = {\n    notiMediaSrc: string | undefined\n}\n\nexport const NotificationImage: React.FC<ImageProps> = ({ notiMediaSrc }) => {\n    const [state, setState] = React.useState<'loading' | 'loaded' | 'error'>('loading')\n\n    if (state === 'error')\n        return (\n            <Flex justifyContent=\"center\" alignItems=\"center\">\n                <StyledNotificationIcon fontSize=\"2rem\" />\n            </Flex>\n        )\n\n    return (\n        <>\n            {state === 'loading' && <Skeleton variant=\"circle\" width={'4rem'} height={'4rem'} />}\n            <StyledNotiImg\n                src={notiMediaSrc}\n                onLoad={() => setState('loaded')}\n                onError={() => setState('error')}\n                style={state === 'loading' ? { display: 'none' } : {}}\n            />\n        </>\n    )\n}\n\ntype UserAvatarProps = {\n    userId: string | undefined\n}\n\nexport const NotificationUserAvatar: React.FC<UserAvatarProps> = ({ userId }) => {\n    const { data: user, status } = useQuery(userId, api.accounts.getUser, {\n        retry: (retryCount, error) => (error instanceof NotFoundError ? false : retryCount <= 2),\n        staleTime: Infinity,\n        enabled: userId,\n    })\n\n    if (!userId || status === 'error')\n        return (\n            <Flex justifyContent=\"center\" alignItems=\"center\">\n                <StyledNotificationIcon fontSize=\"2rem\" />\n            </Flex>\n        )\n    return <NotificationImage notiMediaSrc={createAvatarUrl(user?.profileImage)} />\n}\n\nconst StyledNotiImg = styled.img`\n    width: 4rem;\n    height: 4rem;\n    object-fit: cover;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n`\n\nconst StyledNotificationIcon = styled(NotificationIcon)`\n    opacity: 0.3;\n`\n","export default __webpack_public_path__ + \"static/media/goldtrophy.961293a8.svg\";","export default __webpack_public_path__ + \"static/media/silvertrophy.fcfc4baf.svg\";","export default __webpack_public_path__ + \"static/media/bronzetrophy.7142f2dc.svg\";","export default __webpack_public_path__ + \"static/media/platinumtrophy.e3603364.svg\";","import { Text } from 'components/Text'\nimport { useDateFormat } from 'hooks/useDateFormat'\nimport { readNotification } from 'lib/liveops'\nimport { Notification } from 'lib/liveops/models/notification'\nimport React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router'\nimport styled from 'styled-components/macro'\nimport { actionablePaperStyles, resetBtnStyle } from 'utils/styleUtils'\nimport { useNotificationToNotificationView } from './useNotificationToNotificationView'\nimport { useIncrementActivityScore } from 'hooks/useIncrementActivityScore'\nimport { pushQueue } from 'features/dialog-queue'\n\ninterface NotificationBlockProps {\n    data: Notification\n    isRead: boolean\n    closePanel: () => void\n}\n\nexport const NotificationBlock: React.FC<NotificationBlockProps> = ({ data, isRead, closePanel }) => {\n    const notificationView = useNotificationToNotificationView(data)\n    const { formatDate } = useDateFormat('numeric')\n    const dispatch = useDispatch()\n    const history = useHistory()\n    const incrementActivityScore = useIncrementActivityScore()\n\n    if (!notificationView) return null\n\n    const isButton = !!notificationView.cta\n\n    const handleClick = () => {\n        incrementActivityScore('notifications:click')\n        dispatch(readNotification(data.id))\n        if (notificationView.cta) {\n            switch (notificationView.cta.type) {\n                case 'internal-link':\n                    history.push(notificationView.cta.link)\n                    break\n                case 'external-link':\n                    window.open(notificationView.cta.link, '_blank')\n                    break\n                case 'dialog':\n                    dispatch(pushQueue({ ...notificationView.cta.data, variables: notificationView.variables }))\n                    break\n                case 'custom':\n                    notificationView.cta.onClick()\n            }\n        }\n        closePanel()\n    }\n\n    return (\n        <StyledNotiContent isRead={isRead} onClick={handleClick} as={isButton ? 'button' : 'div'} isBtn={isButton}>\n            {notificationView.img}\n            <StyledContainer isRead={isRead}>\n                <StyledTitle variant=\"subtitle2\">\n                    <strong>{notificationView.title}</strong>\n                </StyledTitle>\n                <Text variant=\"body2\">{notificationView.body}</Text>\n                <StyledDate variant=\"caption\">{formatDate(new Date(data.createdAt))}</StyledDate>\n            </StyledContainer>\n        </StyledNotiContent>\n    )\n}\n\nconst StyledContainer = styled.div<{ isRead: boolean }>`\n    display: flex;\n    flex-direction: column;\n    opacity: ${props => (props.isRead ? '0.6' : undefined)};\n`\n\nconst StyledTitle = styled(Text)`\n    line-height: 1.2;\n`\n\nconst StyledDate = styled(Text)`\n    opacity: 0.8;\n`\n\nconst StyledNotiContent = styled.div<{ isRead: boolean; isBtn: boolean }>`\n    ${resetBtnStyle}\n    ${actionablePaperStyles}\n\n    width: 100%;\n    padding: ${props => props.theme.spacing(3, 4)};\n    display: grid;\n    grid-template-columns: 4rem 1fr;\n    grid-gap: ${props => props.theme.spacing(3)};\n    align-items: center;\n    cursor: ${props => (props.isBtn ? 'pointer' : 'default')};\n    border-left: 5px solid ${props => (props.isRead ? 'transparent' : props.theme.palette.primary.main)};\n`\n","import React from 'react'\nimport { NotificationCTA, NotificationStatTypes } from '../../lib/liveops/models/notification'\nimport { Notification } from 'lib/liveops/models/notification'\nimport { NotificationImage, NotificationUserAvatar } from './NotificationImages'\nimport { Key, TypedTFunction, useTranslate } from 'lib/i18n/useTranslate'\nimport { useDispatch } from 'react-redux'\nimport { LocalisationKey } from 'lib/i18n'\nimport GoldTrophy from './media/goldtrophy.svg'\nimport SilverTrophy from './media/silvertrophy.svg'\nimport BronzeTrophy from './media/bronzetrophy.svg'\nimport PlatinumTrophy from './media/platinumtrophy.svg'\nimport { useUserState } from 'contexts/UserContext'\nimport { highScoreGames } from 'features/high-score/highScoreGames'\nimport { dm2021UnlockAcihevementNotificationHandler } from 'features/events/pages/digital-mission-2021'\nimport { Dispatch } from 'redux'\nimport { onboardingUnlockAcihevementNotificationHandler } from 'features/events/pages/onboarding'\n\nexport interface NotificationView {\n    img: React.ReactNode\n    title: string\n    body?: string\n    cta?: NotificationCTA\n    variables?: Record<string, any>\n}\n\nexport type UnlockAchievementNotificationHandler = (context: {\n    notification: Notification\n    t: TypedTFunction\n    dispatch: Dispatch\n}) => NotificationView | null\n\nexport const useNotificationToNotificationView = (notification: Notification): NotificationView | null => {\n    const { type, payload } = notification.message.data\n    const t = useTranslate()\n    const dispatch = useDispatch()\n    const { account } = useUserState()\n\n    switch (type) {\n        case 'NEW_PROJECT_SHARED':\n            return {\n                img: <NotificationUserAvatar userId={payload.userId} />,\n                title: payload.project\n                    ? `${t(\n                          payload.project.isMiniQuiz\n                              ? 'notification::shareNewQuizProject::titleWithName'\n                              : 'notification::shareNewCodingProject::titleWithName',\n                          {\n                              name: payload.username || payload.name,\n                              title: payload.project.title,\n                          },\n                      )}`\n                    : `${t('notification::shareNewProject::title', { name: payload.username || payload.name })}`,\n                body: t('notification::shareNewProject::body'),\n                cta: {\n                    type: 'internal-link',\n                    link: { pathname: `/app/project/${payload.projectId}` },\n                },\n            }\n\n        case 'PROJECT_UPDATED':\n            return {\n                img: <NotificationUserAvatar userId={payload.userId} />,\n                title: payload.project\n                    ? `${t(\n                          payload.project.isMiniQuiz\n                              ? 'notification::updatedQuizProject::titleWithName'\n                              : 'notification::updatedCodingProject::titleWithName',\n                          {\n                              name: payload.username || payload.name,\n                              title: payload.project.title,\n                          },\n                      )}`\n                    : `${t('notification::shareNewProject::title', { name: payload.username || payload.name })}`,\n                body: t('notification::updatedProject::body'),\n                cta: {\n                    type: 'internal-link',\n                    link: { pathname: `/app/project/${payload.projectId}` },\n                },\n            }\n\n        case 'UNLOCK_ACHIEVEMENT': {\n            return (\n                dm2021UnlockAcihevementNotificationHandler({ notification, t, dispatch }) ??\n                onboardingUnlockAcihevementNotificationHandler({ notification, t, dispatch })\n            )\n        }\n\n        case 'WEEKLY_TOP_100_PRESENCE': {\n            const trophies = {\n                platinum: PlatinumTrophy,\n                gold: GoldTrophy,\n                silver: SilverTrophy,\n                bronze: BronzeTrophy,\n            }\n\n            const validStats = {\n                Easy: `- ${t('scChallengeLevel::easy')}`,\n                Medium: `- ${t('scChallengeLevel::medium')}`,\n                Hard: `- ${t('scChallengeLevel::hard')}`,\n            }\n\n            const getProjectTitle = t(\n                highScoreGames.find(game => game.projectId === payload.projectId)?.title as LocalisationKey,\n            )\n\n            const getTranslation =\n                payload.stat && NotificationStatTypes.includes(payload.stat)\n                    ? t('notification::unlockTrophy:title02', {\n                          trophytype: t(`tooltip::${payload.trophy}`),\n                          highscoregamename: getProjectTitle,\n                          highscoregamelevel: validStats[payload.stat!],\n                      })\n                    : t('notification::unlockTrophy:title', {\n                          trophytype: t(`tooltip::${payload.trophy}`),\n                          highscoregamename: getProjectTitle,\n                      })\n\n            return {\n                img: <NotificationImage notiMediaSrc={trophies[payload.trophy!]} />,\n                title: getTranslation,\n                body: t('notification::unlockAchievement::body'),\n                cta: {\n                    type: 'internal-link',\n                    link: { pathname: `/app/user/${account.username}` },\n                },\n            }\n        }\n\n        case 'DM2021_WINNER':\n            return {\n                img: <NotificationImage notiMediaSrc={GoldTrophy} />,\n                title: t('notification::wonDMdraw::title'),\n                body: t('notification::unlockAchievement::body'),\n                cta: {\n                    type: 'internal-link',\n                    link: {\n                        pathname: `/app/events/digital-mission-2021`,\n                    },\n                },\n            }\n\n        case 'DM2021_CERT':\n            return {\n                img: <NotificationImage notiMediaSrc={'/certificate/thumbnails/dm2021.png'} />,\n                title: t('notification::newCert::title'),\n                body: t('notification::newCert::body'),\n                cta: {\n                    type: 'internal-link',\n                    link: { pathname: `/app/user/${account.username}`, state: { fromNotification: true } },\n                },\n            }\n\n        case 'GENERAL':\n            const variables: Record<string, string> = {}\n            for (const key in notification.message.data.payload.variables) {\n                variables[key] = t(notification.message.data.payload.variables[key])\n            }\n            return {\n                img: <NotificationImage notiMediaSrc={payload?._image} />,\n                title: t(notification.message.title as Key, {\n                    ...notification.message.data.payload?.title,\n                    ...variables,\n                }),\n                variables: notification.message.data.payload.variables,\n                body: t(notification.message.body as Key, { ...notification.message.data.payload?.body, ...variables }),\n                cta:\n                    // fix extra share slot notifications accidentally sent out without a cta\n                    // in the long run these should be migrated or ignored so we can remove this hack\n                    notification.message.title === 'notification::getExtraSlot::title'\n                        ? { type: 'internal-link', link: '/app/community/share-project' }\n                        : payload?._cta,\n            }\n\n        default:\n            return null\n    }\n}\n","import { IconButton, Paper } from '@material-ui/core'\nimport React from 'react'\nimport styled from 'styled-components/macro'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { Text } from 'components/Text'\nimport { useSelector } from 'lib/store'\nimport { Notification } from 'lib/liveops/models/notification'\nimport { Loader } from 'components/Loader'\nimport { ErrorBoundary } from 'components/ErrorBoundary'\nimport { NotificationBlock } from './NotificationBlock'\nimport { Popover } from 'components/Popover'\nimport { MOBILE_MENU_BREAKPOINT } from 'components/page/Page'\nimport { CloseIcon } from 'components/icons'\nimport { customScrollbar } from 'utils/styleUtils'\nimport { CookieHunt } from 'features/cookie-hunt'\n\ntype NotificationPanelProps = {\n    isOpen: boolean\n    refObject: React.RefObject<HTMLElement>\n    close: VoidFunction\n}\n\nexport const NotificationPanel: React.FC<NotificationPanelProps> = ({ refObject, close, isOpen }) => {\n    return (\n        <Popover\n            open={isOpen}\n            onClose={close}\n            anchorEl={refObject.current}\n            anchorOrigin={{\n                vertical: 'center',\n                horizontal: 'right',\n            }}\n            transformOrigin={{\n                vertical: 'top',\n                horizontal: 'left',\n            }}\n        >\n            <StyledNotiWrapper>\n                <NotiPopoverContent close={close} />\n            </StyledNotiWrapper>\n        </Popover>\n    )\n}\n\nconst NotiPopoverContent: React.FC<{ close: VoidFunction }> = ({ close }) => {\n    const notificationsById = useSelector(state => state.client.notifications.byId)\n    const notifications = useSelector(state => state.client.notifications.allIds)\n    const visibleNotifications = notifications?.filter(notification => {\n        return !isUnlistedNotification(notificationsById[notification])\n    })\n    const t = useTranslate()\n\n    return (\n        <StyledNotiContent>\n            <StyledNotiHeader>\n                <Text variant=\"h3\">{t('notification::label')}</Text>\n                <CloseButton onClick={close} size=\"small\">\n                    <CloseIcon />\n                </CloseButton>\n            </StyledNotiHeader>\n            {!visibleNotifications && <StyledLoader />}\n            {visibleNotifications?.length === 0 ? (\n                <StyledNoNotiText variant=\"body1\">{t('notification::noNotification')}</StyledNoNotiText>\n            ) : null}\n            <OverflowWrap>\n                {visibleNotifications &&\n                    visibleNotifications.length > 0 &&\n                    visibleNotifications.map((id, i) => {\n                        const notification = notificationsById[id]\n                        return (\n                            <ErrorBoundary key={i} silent>\n                                <CookieHunt name=\"notification-list\" index={i}>\n                                    <NotificationBlock\n                                        data={notification}\n                                        isRead={notification.read}\n                                        closePanel={close}\n                                    />\n                                </CookieHunt>\n                            </ErrorBoundary>\n                        )\n                    })}\n            </OverflowWrap>\n        </StyledNotiContent>\n    )\n}\n\nconst StyledLoader = styled(Loader)`\n    margin: ${props => props.theme.spacing(2)} auto;\n`\n\nconst CloseButton = styled(IconButton)`\n    display: none;\n    ${props => props.theme.breakpoints.down(MOBILE_MENU_BREAKPOINT)} {\n        display: block;\n    }\n`\n\nconst StyledNoNotiText = styled(Text)`\n    padding: ${props => props.theme.spacing(4)};\n`\n\nconst StyledNotiHeader = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: ${props => props.theme.spacing(4)};\n    border-bottom: solid 1px ${props => props.theme.palette.divider};\n`\n\nconst StyledNotiWrapper = styled.div`\n    width: 25rem;\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    box-shadow: ${props => props.theme.shadows[3]};\n    overflow: hidden;\n    z-index: 1;\n    ${props => props.theme.breakpoints.down(MOBILE_MENU_BREAKPOINT)} {\n        width: auto;\n    }\n`\n\nconst OverflowWrap = styled.div`\n    overflow-y: auto;\n\n    ${customScrollbar}\n`\n\nconst StyledNotiContent = styled(Paper)`\n    display: flex;\n    flex-direction: column;\n    max-height: calc(100vh - 150px);\n`\n\nfunction isUnlistedNotification(notification: Notification) {\n    return notification.message.data.display === 'one-off' || notification.message.data.display === 'unlisted-normal'\n}\n","import { ErrorBoundary } from 'components/ErrorBoundary'\nimport { IconButton } from 'components/IconButton'\nimport { NotificationIcon } from 'components/icons'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { markAllNotificationAsDisplayed } from 'lib/liveops'\nimport { StoreState, useSelector } from 'lib/store'\nimport React from 'react'\nimport { useDispatch } from 'react-redux'\nimport styled, { keyframes } from 'styled-components/macro'\nimport { NotificationPanel } from './NotificationPanel'\nimport { useIncrementActivityScore } from '../../hooks/useIncrementActivityScore'\n\ninterface NotificationButtonProps {}\n\nexport const NotificationButton: React.FC<NotificationButtonProps> = () => {\n    const [isNotiPanelOpen, setNotiPanelOpen] = React.useState(false)\n    const notiIcon = React.useRef(null)\n    const unreadNotiCount = useSelector(getUnreadNotiCount)\n    const dispatch = useDispatch()\n    const incrementActivityScore = useIncrementActivityScore()\n    const t = useTranslate()\n\n    const handleNotiPanelOpen = () => {\n        if (isNotiPanelOpen) {\n            setNotiPanelOpen(false)\n            dispatch(markAllNotificationAsDisplayed())\n        } else {\n            setNotiPanelOpen(true)\n            incrementActivityScore('notifications:open-list')\n        }\n    }\n\n    return (\n        <>\n            <StyledNotificationButton\n                aria-label={t('notification::label')}\n                color=\"inherit\"\n                onClick={() => handleNotiPanelOpen()}\n                ref={notiIcon}\n            >\n                <NotificationIcon />\n                {unreadNotiCount && unreadNotiCount > 0 ? <StyledNotiCount>{unreadNotiCount}</StyledNotiCount> : null}\n            </StyledNotificationButton>\n            <ErrorBoundary silent>\n                <NotificationPanel\n                    isOpen={isNotiPanelOpen}\n                    refObject={notiIcon}\n                    close={() => {\n                        setNotiPanelOpen(false)\n                        dispatch(markAllNotificationAsDisplayed())\n                    }}\n                />\n            </ErrorBoundary>\n        </>\n    )\n}\n\nconst getUnreadNotiCount = (state: StoreState) => {\n    const notifications = state.client.notifications.allIds\n\n    return notifications?.filter(id => {\n        const notification = state.client.notifications.byId[id]\n        return (\n            !notification.displayed &&\n            notification.message.data.display !== 'one-off' &&\n            notification.message.data.display !== 'tooltip' &&\n            notification.message.data.display !== 'unlisted-normal'\n        )\n    }).length\n}\n\nconst bellAnimation = keyframes`\n    0% {\n        transform: rotate(0)\n    }\n    50% {\n        transform rotate(-10deg);\n    }\n    100% {\n        transform rotate(10deg);\n    }\n`\n\nconst StyledNotificationButton = styled(IconButton)`\n    &:hover,\n    &:focus-visible {\n        svg {\n            animation: ${bellAnimation} 0.5s ease-in-out 2 alternate;\n        }\n    }\n    ${props => props.theme.extras?.pageAside?.listItemAndNotificationButton}\n`\n\nconst StyledNotiCount = styled.span`\n    position: absolute;\n    top: 0;\n    right: 0;\n    color: ${props => props.theme.palette.primary.contrastText};\n    background-color: ${props => props.theme.palette.primary.main};\n    font-size: ${props => props.theme.typography.body2.fontSize};\n    border-radius: 50%;\n    width: 1.4rem;\n    height: 1.4rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-weight: 600;\n    ${props => props.theme.extras?.notificationCount?.root}\n`\n","import { useSnackbar } from 'notistack'\n\nexport const useNotifications = () => {\n    const { enqueueSnackbar } = useSnackbar()\n\n    return {\n        notify: enqueueSnackbar,\n    }\n}\n","import React from 'react'\nimport { List as MuiList, ListProps as MuiListProps } from '@material-ui/core'\n\ninterface ListProps extends MuiListProps {}\n\nexport const List: React.FC<ListProps> = props => {\n    return <MuiList {...props} />\n}\n","import React from 'react'\nimport { ListItem as MuiListItem, ListItemTypeMap } from '@material-ui/core'\nimport styled from 'styled-components/macro'\nimport { transparentize } from 'polished'\nimport { OverridableComponent } from '@material-ui/core/OverridableComponent'\n\ntype ListItemProps = ListItemTypeMap<any, 'li'>['props']\n\nexport const ListItem: OverridableComponent<ListItemTypeMap<any, 'li'>> = (props: ListItemProps) => {\n    return <Root button {...props} />\n}\n\nexport const Root = styled(MuiListItem)`\n    font-size: ${props => props.theme.typography.body1.fontSize};\n    padding: ${props => props.theme.spacing(3, 3)};\n    margin: ${props => props.theme.spacing(2, 0)};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n    font-weight: 600;\n    &.Mui-selected,\n    &.Mui-selected:hover {\n        color: ${props => props.theme.palette.primary.main};\n        background-color: ${props => transparentize(0.8, props.theme.palette.primary.main)};\n    }\n    & svg {\n        font-size: 1.3rem;\n    }\n`\n","import React from 'react'\nimport { ListItemText as MuiListItemText, ListItemTextProps as MuiListItemTextProps } from '@material-ui/core'\n\ninterface ListItemTextProps extends MuiListItemTextProps {}\n\nexport const ListItemText: React.FC<ListItemTextProps> = props => {\n    return <MuiListItemText {...props} />\n}\n","import React from 'react'\nimport { ListItemIcon as MuiListItemIcon, ListItemIconProps as MuiListItemIconProps } from '@material-ui/core'\nimport styled from 'styled-components/macro'\n\ninterface ListItemIconProps extends MuiListItemIconProps {}\n\nexport const ListItemIcon: React.FC<ListItemIconProps> = props => {\n    return <Root {...props} />\n}\n\nconst Root = styled(MuiListItemIcon)`\n    min-width: 2.5rem;\n`\n","import React, { useCallback } from 'react'\nimport { popupMenuContext } from './popupMenuContext'\n\ninterface PopupMenuProps {\n    onOpened?: () => void\n    onClosed?: () => void\n}\n\nexport const PopupMenu: React.FC<PopupMenuProps> = ({ children, onOpened, onClosed }) => {\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\n\n    const open = useCallback((event: React.MouseEvent<HTMLButtonElement>) => {\n        setAnchorEl(event.currentTarget);\n        if(onOpened) onOpened()\n    }, [ onOpened ])\n\n    const close = useCallback(() => {\n        setAnchorEl(null);\n        if(onClosed) onClosed()\n    }, [ onClosed ])\n\n    return <popupMenuContext.Provider value={{ open, close, anchorEl }}>{children}</popupMenuContext.Provider>\n}\n","import { Button, ButtonProps } from 'components/Button'\nimport { IconButton, IconButtonProps } from 'components/IconButton'\nimport React from 'react'\nimport { usePopupMenuContext } from './popupMenuContext'\n\ninterface PopupMenuButtonProps extends ButtonProps {}\n\nexport const PopupMenuButton: React.FC<PopupMenuButtonProps> = ({ onClick, ...rest }) => {\n    const { open } = usePopupMenuContext()\n    return (\n        <Button\n            {...rest}\n            onClick={e => {\n                onClick?.(e)\n                open(e)\n            }}\n        />\n    )\n}\n\ninterface PopupMenuIconButtonProps extends IconButtonProps {}\n// @ts-ignore\nexport const PopupMenuIconButton: React.FC<PopupMenuIconButtonProps> = ({ onClick, ...rest }) => {\n    const { open } = usePopupMenuContext()\n    return (\n        <IconButton\n            {...rest}\n            onClick={e => {\n                onClick?.(e)\n                open(e)\n            }}\n        />\n    )\n}\n","import React from 'react'\nimport { Popover } from '@material-ui/core'\nimport { usePopupMenuContext } from './popupMenuContext'\nimport styled from 'styled-components/macro'\n\nexport const PopupMenuList: React.FC<any> = ({ children, ...rest }) => {\n    const { anchorEl, close } = usePopupMenuContext()\n    return (\n        <Root anchorEl={anchorEl} open={!!anchorEl} onClose={close} {...rest} >\n            {children}\n        </Root>\n    )\n}\n\nconst Root = styled(Popover)`\n    .MuiPaper-root {\n        box-shadow: ${props => props.theme.shadows[3]};\n        padding: ${props => props.theme.spacing(2)};\n    }\n`\n","import React from 'react'\nimport { MenuItem, MenuItemTypeMap } from '@material-ui/core'\nimport { OverridableComponent } from '@material-ui/core/OverridableComponent'\nimport styled from 'styled-components/macro'\nimport { transparentize } from 'polished'\nimport { Tooltip } from 'components/Tooltip'\nimport { usePopupMenuContext } from './popupMenuContext'\n\ntype Props = MenuItemTypeMap['props'] & {\n    disabledTooltip?: string\n    onClick?: (e: React.MouseEvent<HTMLLIElement, MouseEvent>) => any\n}\n\nexport const PopupMenuItem: OverridableComponent<\n    MenuItemTypeMap & { props: MenuItemTypeMap['props'] & { disabledTooltip?: string, onClick?: any, handleClose?: boolean } }\n> = (React.forwardRef as any)(({ button, disabledTooltip, onClick, ...rest }: Props, ref: any) => {\n    const { close } = usePopupMenuContext();\n    const realOnClick = (e: React.MouseEvent<HTMLLIElement, MouseEvent>) => {\n        if (onClick) onClick(e);\n        close()\n    }\n    if (disabledTooltip) {\n        return (\n            <Tooltip title={disabledTooltip}>\n                <span>\n                    <Root disabled ref={ref} {...rest} onClick={realOnClick} />\n                </span>\n            </Tooltip>\n        )\n    }\n    return <Root ref={ref} {...rest} onClick={realOnClick} />\n})\n\nexport const CompactPopupMenuItem: OverridableComponent<\n    MenuItemTypeMap & { props: MenuItemTypeMap['props'] & { disabledTooltip?: string, onClick?: any } }\n> = (React.forwardRef as any)(({ button, disabledTooltip, onClick, ...rest }: Props, ref: any) => {\n    const { close } = usePopupMenuContext();\n    const realOnClick = (e: React.MouseEvent<HTMLLIElement, MouseEvent>) => {\n        if (onClick) onClick(e);\n        close()\n    }\n    if (disabledTooltip) {\n        return (\n            <Tooltip title={disabledTooltip}>\n                <span>\n                    <CompactRoot disabled ref={ref} {...rest} onClick={realOnClick} />\n                </span>\n            </Tooltip>\n        )\n    }\n    return <CompactRoot ref={ref} {...rest} onClick={realOnClick} />\n})\n\nconst Root = styled(MenuItem)`\n    padding: ${props => props.theme.spacing(3)};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n\n    .MuiListItemIcon-root {\n        min-width: 1.8rem;\n        color: ${props => transparentize(0.2, props.theme.palette.text.primary)};\n    }\n`\n\nconst CompactRoot = styled(MenuItem)`\n    padding-top: ${props => props.theme.spacing(1)};\n    padding-bottom: ${props => props.theme.spacing(1)};\n    padding-left: ${props => props.theme.spacing(3)};\n    padding-right: ${props => props.theme.spacing(3)};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n\n    .MuiListItemIcon-root {\n        min-width: 1.8rem;\n        color: ${props => transparentize(0.2, props.theme.palette.text.primary)};\n    }\n`\n","import { CookieHuntSpawnPointName, CookieHuntSpawnPoint } from '../types/cookieHuntTypes'\n\nexport const cookieHuntSpawnPoints: Record<CookieHuntSpawnPointName, CookieHuntSpawnPoint> = {\n    'aside-avatar': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'bottom-right',\n    },\n    feed: {\n        type: 'cookie',\n        probability: 0.1,\n        index: 7,\n        layer: 'front',\n        position: 'bottom-right',\n    },\n    'digital-mission-banner': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'bottom-left',\n    },\n    'new-project': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'back',\n        position: 'bottom-left',\n    },\n    'quiz-result-list': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'bottom-right',\n    },\n    'my-projects-list': {\n        index: 7,\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'top-right',\n    },\n    'notification-list': {\n        index: 2,\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'top-left',\n        offset: {\n            x: 20,\n            y: 20,\n        },\n    },\n    'certificate-list': {\n        index: 1,\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'top-right',\n    },\n    'profile-trophy': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'top-left',\n    },\n    'popular-shared-projects': {\n        type: 'cookie',\n        probability: 0.1,\n        index: 3,\n        layer: 'back',\n        position: 'top-right',\n    },\n    'new-project-dialog': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'top-right',\n    },\n    'my-projects-filters': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'bottom-right',\n    },\n    'discover-projects-list': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'top-right',\n    },\n    'home-quiz-list': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'back',\n        index: 5,\n        position: 'bottom-left',\n    },\n    'coding-challenge': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'bottom-left',\n    },\n    'highlighted-high-score-game': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'back',\n        position: 'top-right',\n    },\n    'high-score-game-list': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        index: 3,\n        position: 'bottom-right',\n    },\n    'mini-challenge-list': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        index: 7,\n        position: 'top-left',\n    },\n    'avatar-list': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        index: 16,\n        position: 'bottom-left',\n    },\n    'dm2021-achi-list': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        index: 6,\n        position: 'bottom-right',\n    },\n    'theme-list': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        index: 5,\n        position: 'bottom-right',\n    },\n    'secret-code-unlocker': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'top-right',\n    },\n    'prev-event-list': {\n        index: 0,\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'top-right',\n    },\n    'bio-input': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'bottom-right',\n    },\n    'community-page-title': {\n        type: 'cookie',\n        probability: 0.1,\n        layer: 'front',\n        position: 'bottom-right',\n        offset: {\n            x: 7,\n        },\n    },\n    'easter-footer': {\n        type: 'easter-egg',\n        probability: 0.1,\n        position: 'top-left',\n        layer: 'front',\n    },\n    'halloween-footer': {\n        type: 'cookie',\n        probability: 0.3,\n        position: 'top-left',\n        layer: 'front',\n    },\n}\n\nconst MIN_NUMBER_OF_COOKIES = 5\n\nexport const generateRandomEnabledSpawnPoints = () => {\n    const output = new Set<CookieHuntSpawnPointName>()\n    while (output.size < MIN_NUMBER_OF_COOKIES) {\n        for (const key of Object.keys(cookieHuntSpawnPoints)) {\n            if (Math.random() < cookieHuntSpawnPoints[key as CookieHuntSpawnPointName].probability) {\n                output.add(key as CookieHuntSpawnPointName)\n            }\n        }\n    }\n    return output\n}\n","import React, { createContext, useContext, useCallback, useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { cookieHuntSpawnPoints, generateRandomEnabledSpawnPoints } from '../data/cookieHuntData'\nimport { collectCookieTreasure, collectEasterEgg } from '../store/cookieHuntActions'\nimport { CookieHuntSpawnPoint, CookieHuntSpawnPointName } from '../types/cookieHuntTypes'\n\nconst actionByType: Record<CookieHuntSpawnPoint['type'], VoidFunction> = {\n    cookie: collectCookieTreasure,\n    'easter-egg': collectEasterEgg,\n}\n\ninterface CookieHuntState {\n    isSpawnPointVisible: (name: CookieHuntSpawnPointName) => boolean\n    collect: (key: CookieHuntSpawnPointName) => void\n}\n\nconst cookieHuntContext = createContext<CookieHuntState | undefined>(undefined)\n\nconst enabledSpawnPoints = generateRandomEnabledSpawnPoints()\n\nconsole.log(enabledSpawnPoints)\n\nexport const CookieHuntProvider: React.FC = ({ children }) => {\n    const [collected, setCollected] = useState<Array<CookieHuntSpawnPointName>>([])\n    const dispatch = useDispatch()\n\n    const isSpawnPointVisible = useCallback(\n        (name: CookieHuntSpawnPointName) => {\n            return enabledSpawnPoints.has(name) && !collected.includes(name)\n        },\n        [collected],\n    )\n\n    const collect = useCallback(\n        (name: CookieHuntSpawnPointName) => {\n            if (isSpawnPointVisible(name)) {\n                const action = actionByType[cookieHuntSpawnPoints[name].type]\n                dispatch(action())\n                setCollected(places => [...places, name])\n            }\n        },\n        [dispatch, isSpawnPointVisible],\n    )\n\n    return <cookieHuntContext.Provider value={{ isSpawnPointVisible, collect }}>{children}</cookieHuntContext.Provider>\n}\n\nexport const useCookieHunt = () => {\n    const context = useContext(cookieHuntContext)\n\n    if (context === undefined) {\n        throw new Error(`'useCookieHunt' must be used within 'CookieHuntProvider'`)\n    }\n\n    return context\n}\n","import { client } from 'redux-socket-client'\n\nexport const collectCookieTreasure = client(() => ({\n    type: 'CLIENT/UNIVERSE/COLLECT_COOKIE_TREASURE',\n}))\n\nexport const collectEasterEgg = client(() => ({\n    type: 'CLIENT/UNIVERSE/COLLECT_EASTER_EGG',\n}))\n","export default __webpack_public_path__ + \"static/media/cookie.814eecc1.svg\";","export default __webpack_public_path__ + \"static/media/easter-egg.a4c2f61d.svg\";","import { AnimatePresence, motion, useIsPresent } from 'framer-motion'\nimport { useFloatingText } from 'lib/floating-text'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React, { useRef } from 'react'\nimport styled, { css, keyframes } from 'styled-components/macro'\nimport { visuallyHidden } from 'utils/styleUtils'\nimport { useCookieHunt } from '../context/CookieHuntContext'\nimport { cookieHuntSpawnPoints } from '../data/cookieHuntData'\nimport { CookieHuntSpawnPoint, CookieHuntSpawnPointName } from '../types/cookieHuntTypes'\nimport cookieImg from '../media/cookie.svg'\nimport easterEggImg from '../media/easter-egg.svg'\nimport { useSelector } from 'lib/store'\nimport { isLiveopsReady } from 'lib/liveops'\n\nconst imgByType: Record<CookieHuntSpawnPoint['type'], string> = {\n    cookie: cookieImg,\n    'easter-egg': easterEggImg,\n}\n\nconst sizeByType: Record<CookieHuntSpawnPoint['type'], string> = {\n    cookie: '1.75rem',\n    'easter-egg': '1.25rem',\n}\n\nconst plusCookiesByType: Record<CookieHuntSpawnPoint['type'], number> = {\n    cookie: 1,\n    'easter-egg': 3,\n}\n\nconst floatingTextColorByType: Record<CookieHuntSpawnPoint['type'], string> = {\n    cookie: '#e3b742',\n    'easter-egg': '#fff',\n}\n\ninterface CookieHuntProps {\n    name: CookieHuntSpawnPointName\n    index?: number\n    disabled?: boolean\n}\n\nexport const CookieHunt: React.FC<CookieHuntProps> = props => {\n    const spawnPoint = cookieHuntSpawnPoints[props.name]\n    if (spawnPoint.index !== props.index || props.disabled) {\n        return <>{props.children}</>\n    }\n    return <CookieHuntInner spawnPoint={spawnPoint} {...props} />\n}\n\nconst CookieHuntInner: React.FC<CookieHuntProps & { spawnPoint: CookieHuntSpawnPoint }> = ({\n    children,\n    name,\n    spawnPoint,\n}) => {\n    const { isSpawnPointVisible, collect } = useCookieHunt()\n    const { showFloatingText } = useFloatingText()\n    const buttonRef = useRef<HTMLDivElement>(null)\n    const t = useTranslate()\n    const isReady = useSelector(isLiveopsReady)\n\n    const collectCookie = () => {\n        collect(name)\n        if (buttonRef.current) {\n            const { x, y } = buttonRef.current.getBoundingClientRect()\n            showFloatingText({\n                label: t('cookieHunt::plusN', { count: plusCookiesByType[spawnPoint.type] }),\n                x,\n                y,\n                color: floatingTextColorByType[spawnPoint.type],\n            })\n        }\n    }\n\n    return (\n        <Root>\n            <ChildrenWrap $spawnPoint={spawnPoint}>{children}</ChildrenWrap>\n            <AnimatePresence>\n                {isReady && isSpawnPointVisible(name) && (\n                    <CookieButton ref={buttonRef} spawnPoint={spawnPoint} onClick={collectCookie} />\n                )}\n            </AnimatePresence>\n        </Root>\n    )\n}\n\ninterface CookieButtonProps {\n    onClick: VoidFunction\n    spawnPoint: CookieHuntSpawnPoint\n}\n\nconst CookieButton = React.forwardRef<any, CookieButtonProps>(({ onClick, spawnPoint }, ref) => {\n    const isPresent = useIsPresent()\n    const t = useTranslate()\n\n    return (\n        <Button\n            ref={ref}\n            $spawnPoint={spawnPoint}\n            type=\"button\"\n            onClick={() => {\n                if (isPresent) {\n                    onClick()\n                }\n            }}\n        >\n            <motion.div animate={{ opacity: 1 }} transition={{ duration: 0.7 }} exit={{ scale: 1.5, opacity: 0 }}>\n                <ButtonLabel>{t('cookieHunt::collect')}</ButtonLabel>\n                <img src={imgByType[spawnPoint.type]} alt=\"\" />\n            </motion.div>\n        </Button>\n    )\n})\n\nconst Root = styled.div`\n    position: relative;\n`\n\nconst ChildrenWrap = styled.div<{ $spawnPoint: CookieHuntSpawnPoint }>`\n    position: relative;\n    z-index: ${props => (props.$spawnPoint.layer === 'back' ? 2 : 1)};\n    > * {\n        width: 100%;\n    }\n`\n\nconst getButtonPositionStyles = ({ offset, position }: CookieHuntSpawnPoint) => {\n    switch (position) {\n        case 'top-right':\n            return css`\n                top: ${offset?.y ?? 0}px;\n                right: -${offset?.x ?? 0}px;\n            `\n        case 'bottom-right':\n            return css`\n                bottom: ${offset?.y ?? 0}px;\n                right: -${offset?.x ?? 0}px;\n            `\n        case 'bottom-left':\n            return css`\n                bottom: ${offset?.y ?? 0}px;\n                left: ${offset?.x ?? 0}px;\n            `\n        case 'top-left':\n            return css`\n                top: ${offset?.y ?? 0}px;\n                left: ${offset?.x ?? 0}px;\n            `\n    }\n}\n\nconst cookieButtonTransformStyles: Record<CookieHuntSpawnPoint['position'], string> = {\n    'top-right': 'translate(40%, -40%)',\n    'bottom-right': 'translate(40%, 40%) rotate(90deg)',\n    'bottom-left': 'translate(-40%, 40%) rotate(180deg)',\n    'top-left': 'translate(-40%, -40%) rotate(270deg)',\n}\n\nconst wiggle = keyframes`\n    2.5% {\n        transform: rotate(-10deg) scale(0.95);\n        \n    }\n    5% {\n        transform: rotate(25deg) scale(1.1);\n        \n    }\n    7.5% {\n        transform: rotate(-10deg) scale(0.95);\n        \n    }\n    10% {\n        transform: rotate(25deg) scale(1.1);\n        \n    }\n    12.5% {\n        transform: rotate(0) scale(1);\n    }\n`\n\nconst Button = styled.button<{ $spawnPoint: CookieHuntSpawnPoint }>`\n    border: none;\n    background: none;\n    color: #ffb100;\n    cursor: pointer;\n    padding: 0;\n    position: absolute;\n    ${props => getButtonPositionStyles(props.$spawnPoint)};\n    transform: ${props =>\n        props.$spawnPoint.type === 'cookie' ? cookieButtonTransformStyles[props.$spawnPoint.position] : undefined};\n    width: ${props => sizeByType[props.$spawnPoint.type]};\n    height: ${props => sizeByType[props.$spawnPoint.type]};\n    transition: filter ${props => props.theme.transitions.duration.short}ms;\n    z-index: ${props => (props.$spawnPoint.layer === 'back' ? 1 : 2)};\n    &:hover,\n    &:focus-visible {\n        filter: drop-shadow(0px 2px 10px #e3b842ea);\n    }\n    img {\n        position: relative;\n        animation: ${wiggle} 10s ease-in-out infinite;\n        animation-delay: 5s;\n        width: 100%;\n        height: 100%;\n    }\n`\n\nconst ButtonLabel = styled.span`\n    ${visuallyHidden}\n`\n","import { useUserState } from 'contexts/UserContext'\nimport { api } from 'lib/api'\nimport { useQueryCache } from 'react-query'\nimport { useDispatch } from 'react-redux'\nimport { ProjectLanguage, ProjectType } from './createProjectFormData'\nimport { cacheBustThumbnail, ProjectVariant, serializeProjectLabel } from './projectHelpers'\nimport { useInvalidateProjectData, usePendingProjectCache, useProjectQueryInvalidation } from './projectQueries'\nimport * as projectActions from './store/projectActions'\nimport { Project } from './store'\n\nconst NAME_NOT_UNIQUE_ERROR = {\n    success: false,\n    error: 'NAME_NOT_UNIQUE',\n} as const\n\ninterface ShareProjectPayload {\n    id: string\n    title: string\n    details: string\n    thumbnail: string\n    lang: string\n    needsApprove: boolean\n    isMiniQuiz: boolean\n}\n\nexport function useProjectActions() {\n    const pendingProjectsCache = usePendingProjectCache()\n    const invalidate = useProjectQueryInvalidation()\n    const invalidateProjectData = useInvalidateProjectData()\n    const dispatch = useDispatch()\n    const { account } = useUserState()\n    const queryCache = useQueryCache()\n\n    async function createProject(\n        name: string,\n        type: ProjectType,\n        palette: string,\n        labels: string[] = [],\n        language: ProjectLanguage,\n        timesheet?: string,\n    ) {\n        const isNameUnique = await api.projects.isProjectNameUnique(name)\n        if (!isNameUnique) {\n            return NAME_NOT_UNIQUE_ERROR\n        }\n        const project = await api.projects.createEmptyProject({\n            name,\n            type,\n            palette: type === 'blox' ? palette : undefined,\n            language: type === 'mix' ? language : undefined,\n            labels: labels.map(serializeProjectLabel),\n            timesheet,\n        })\n        invalidate('MY_PROJECTS')\n        invalidate('MY_LATEST_PROJECTS')\n        invalidate('MY_CUSTOM_PROJECT_LABELS')\n        return {\n            success: true,\n            project,\n        } as const\n    }\n\n    async function createMiniQuiz(name: string) {\n        const isNameUnique = await api.projects.isProjectNameUnique(name)\n        if (!isNameUnique) {\n            return NAME_NOT_UNIQUE_ERROR\n        }\n        const project = await api.miniQuizzes.createMiniQuiz(name)\n        queryCache.invalidateQueries('my-mini-quizzes')\n        return {\n            success: true,\n            project,\n        } as const\n    }\n\n    async function renameProject(id: string, field: 'name' | 'title', value: string) {\n        if (field === 'name') {\n            const isNameUnique = await api.projects.isProjectNameUnique(value)\n            if (!isNameUnique) {\n                return NAME_NOT_UNIQUE_ERROR\n            }\n        }\n        const project = await api.projects.renameProject(id, field, value)\n        dispatch(projectActions.renameProject(id, field, value))\n        return {\n            success: true,\n            project,\n        }\n    }\n\n    async function duplicateProject(id: string, name?: string) {\n        if (name) {\n            const isNameUnique = await api.projects.isProjectNameUnique(name)\n            if (!isNameUnique) {\n                return NAME_NOT_UNIQUE_ERROR\n            }\n        }\n        const project = await api.projects.duplicateProject(id, name)\n        invalidate('MY_PROJECTS')\n        invalidate('MY_LATEST_PROJECTS')\n        queryCache.invalidateQueries('my-mini-quizzes')\n        return { success: true, project }\n    }\n\n    async function deleteProject(id: string) {\n        await api.projects.deleteProject(id)\n        dispatch(projectActions.deleteProject(id))\n\n        emitProjectAction('delete', id)\n\n        invalidate('MY_LATEST_PROJECTS')\n        invalidate('MY_SHARED_CONTEST_PROJECTS')\n        invalidate('MY_SHAREABLE_CONTEST_PROJECTS')\n        invalidate('MY_CUSTOM_PROJECT_LABELS')\n    }\n\n    async function restoreProject(id: string) {\n        dispatch(projectActions.restoreProject(id))\n        await api.projects.restoreProject(id)\n\n        emitProjectAction('restore', id)\n\n        invalidate('MY_LATEST_PROJECTS')\n        invalidate('MY_CUSTOM_PROJECT_LABELS')\n    }\n\n    async function shareProject({\n        id,\n        title,\n        details,\n        thumbnail,\n        lang,\n        needsApprove,\n        isMiniQuiz,\n    }: ShareProjectPayload) {\n        // TODO: reduce api calls\n        await api.projects.updateProjectData(id, title, details)\n        const promises: Promise<any>[] = [renameProject(id, 'title', title), api.projects.updateProjectLang(id, lang)]\n        if (!isMiniQuiz) {\n            promises.push(api.projects.updateProjectThumbnail(id, thumbnail))\n        }\n        await Promise.all(promises)\n\n        await api.projects.shareProject(id)\n        invalidateProjectData(id, 'normal')\n        if (needsApprove) {\n            pendingProjectsCache.add(id)\n        } else {\n            dispatch(projectActions.shareProjectWithoutApprove(id))\n            await Promise.all([\n                invalidateProjectData(id, 'production'),\n                invalidate('MY_SHARED_PROJECTS'),\n                invalidate('DISCOVER_PROJECTS'),\n            ])\n            if (isMiniQuiz) {\n                cacheBustThumbnail(id)\n            }\n        }\n    }\n\n    async function nominateProject(id: string, title: string, details: string, thumbnail: string, lang: string) {\n        // TODO: reduce api calls\n        await api.projects.updateProjectData(id, title, details)\n        await Promise.all([\n            renameProject(id, 'title', title),\n            api.projects.updateProjectLang(id, lang),\n            api.projects.updateProjectThumbnail(id, thumbnail),\n        ])\n\n        await api.events.nominateProject(id)\n        invalidateProjectData(id, 'production')\n        invalidateProjectData(id, 'normal')\n        await Promise.all([invalidate('MY_SHARED_CONTEST_PROJECTS'), invalidate('MY_SHAREABLE_CONTEST_PROJECTS')])\n    }\n\n    async function unshareProject(id: string) {\n        await api.projects.unshareProject(id)\n        dispatch(projectActions.unshareProject(id))\n        await Promise.all([invalidate('MY_SHARED_PROJECTS'), invalidate('DISCOVER_PROJECTS')])\n        pendingProjectsCache.remove(id)\n    }\n\n    async function updateProjectDetails(id: string, details: string, variant: ProjectVariant) {\n        await api.projects.updateProjectDetails(id, details, variant)\n        dispatch(projectActions.updateDetails(id, details, variant))\n        invalidate('MY_PROJECTS')\n    }\n\n    async function unshareNominatedProject(id: string) {\n        await api.events.unshareContestProject(id)\n        await Promise.all([invalidate('MY_SHARED_CONTEST_PROJECTS'), invalidate('MY_SHAREABLE_CONTEST_PROJECTS')])\n    }\n\n    async function toggleProjectFavorite(project: Project) {\n        if (project.file.owner === account.id) {\n            if (project.file.favorite) {\n                dispatch(projectActions.unFavoriteOwnProject(project.file.id))\n\n                emitProjectAction('unfavorite-own', project.file.id)\n\n                await api.projects.unFavoriteOwnProject(project.file.id)\n            } else {\n                dispatch(projectActions.favoriteOwnProject(project.file.id))\n                await api.projects.favoriteOwnProject(project.file.id)\n            }\n        } else {\n            if (project.metadata.favorited) {\n                dispatch(projectActions.unfavoriteProject(project.file.id))\n            } else {\n                dispatch(projectActions.favoriteProject(project.file.id))\n            }\n            setTimeout(() => {\n                invalidate('MY_FAVORITE_PROJECTS')\n            }, 1000)\n        }\n    }\n\n    async function moveToProduction(project: Project | undefined) {\n        if (!project) {\n            return {\n                success: false,\n            }\n        }\n\n        const isNameUnique = await api.projects.isProductionUserProjectsNameUnique(project.file.name)\n        if (!isNameUnique) {\n            return NAME_NOT_UNIQUE_ERROR\n        }\n\n        const response = await api.projects.moveToProduction(project.file.id)\n\n        if (!response) {\n            return {\n                success: false,\n            }\n        }\n        dispatch(projectActions.deleteProject(project.file.id))\n        emitProjectAction('delete', project.file.id)\n\n        invalidate('MY_LATEST_PROJECTS')\n        return { success: true }\n    }\n\n    async function cloneProject(projectId: string, type?: 'blox' | 'mix', blockGallery?: string, name?: string) {\n        if (type === 'blox' && blockGallery === undefined) {\n            throw new Error(`Palette must be defined if type is 'blox'.`)\n        }\n\n        const project = await api.projects.getProject(projectId)\n\n        const projectName = name ?? `${project.data.name} clone`\n\n        const isNameUnique = await api.projects.isProjectNameUnique(projectName)\n\n        let convertedKind: 'blox' | 'mix'\n        if (project.data.kind === 'project/blocks') {\n            convertedKind = 'blox'\n        } else if (project.data.kind === 'project/mix') {\n            convertedKind = 'mix'\n        } else {\n            throw new Error()\n        }\n        const kind = type ?? convertedKind\n\n        if (!isNameUnique) {\n            return {\n                success: false,\n                error: 'NAME_NOT_UNIQUE',\n                projectName: project.data.name,\n            }\n        }\n\n        const clonedProject = await api.projects.cloneProject(projectName, kind, projectId, blockGallery)\n\n        if (!clonedProject) {\n            return {\n                success: false,\n                error: '',\n            }\n        }\n\n        invalidate('MY_PROJECTS')\n        invalidate('MY_LATEST_PROJECTS')\n        return { success: true, clonedProject } as const\n    }\n\n    async function updateProjectLabels(projectId: string, labels: string[]) {\n        const normalizedLabels = labels.map(serializeProjectLabel)\n        dispatch(projectActions.updateFile(projectId, { labels: normalizedLabels }))\n        await api.projects.updateProjectLabels(projectId, normalizedLabels)\n        invalidate('MY_CUSTOM_PROJECT_LABELS')\n    }\n\n    return {\n        createProject,\n        renameProject,\n        deleteProject,\n        shareProject,\n        unshareProject,\n        duplicateProject,\n        toggleProjectFavorite,\n        restoreProject,\n        updateProjectDetails,\n        moveToProduction,\n        cloneProject,\n        nominateProject,\n        unshareNominatedProject,\n        createMiniQuiz,\n        updateProjectLabels,\n    }\n}\n\ntype ProjectAction = 'delete' | 'unfavorite-own' | 'restore'\n\nlet projectActionListener: Record<ProjectAction, ((id: string) => void)[]> = {\n    delete: [],\n    restore: [],\n    'unfavorite-own': [],\n}\n\nconst emitProjectAction = (action: ProjectAction, id: string) => {\n    projectActionListener[action].forEach(listener => {\n        listener(id)\n    })\n}\n\nexport const addProjectActionListener = (action: ProjectAction, listener: (id: string) => void) => {\n    projectActionListener[action].push(listener)\n}\n\nexport const removeProjectActionListener = (action: ProjectAction, listener: (id: string) => void) => {\n    projectActionListener[action] = projectActionListener[action].filter(l => l !== listener)\n}\n","import { ApiTypes } from 'lib/api'\nimport { ActionType } from 'typesafe-actions'\nimport * as projectActions from './projectActions'\n\nexport const GIVE_COOKIE_REQUEST = 'CLIENT/UNIVERSE/GIVE_COOKIE_REQUEST'\nexport const FAVORITE_PROJECT = 'CLIENT/UNIVERSE/LIKE_PROJECT'\nexport const UNFAVORITE_PROJECT = 'CLIENT/UNIVERSE/UNLIKE_PROJECT'\n\nexport const FETCH_SUCCESS = 'PROJECTS/FETCH_SUCCESS'\nexport const UPDATE_FILE = 'PROJECTS/UPDATE_FILE'\nexport const UPDATE_METADATA = 'PROJECTS/UPDATE_METADATA'\nexport const RENAME_PROJECT = 'PROJECTS/RENAME'\nexport const FAVORITE_OWN_PROJECT = 'PROJECTS/FAVORITE_OWN_PROJECT'\nexport const UNFAVORITE_OWN_PROJECT = 'PROJECTS/UNFAVORITE_OWN_PROJECT'\nexport const DELETE_PROJECT = 'PROJECTS/DELETE_PROJECT'\nexport const RESTORE_PROJECT = 'PROJECTS/RESTORE_PROJECT'\nexport const UNSHARE_PROJECT = 'PROJECTS/UNSHARE_PROJECT'\nexport const SHARE_PROJECT_WITHOUT_APPROVE = 'PROJECTS/SHARE_PROJECT_WITHOUT_APPROVE'\nexport const UPDATE_DETAILS = 'PROJECTS/UPDATE_DETAILS'\nexport const UPDATE_HAS_USER_THUMBNAIL = 'PROJECTS/UPDATE_HAS_USER_THUMBNAIL'\n\nexport interface Project {\n    file: Pick<\n        ApiTypes['file'],\n        | 'id'\n        | 'cookieCount'\n        | 'goldenCookieCount'\n        | 'title'\n        | 'owner'\n        | 'name'\n        | 'shared'\n        | 'lang'\n        | 'createdAt'\n        | 'updatedAt'\n        | 'kind'\n        | 'metadata'\n        | 'favorite'\n        | 'deleted'\n        | 'deletedAt'\n        | 'approvedAt'\n        | 'viewedCount'\n        | 'likedCount'\n        | 'tags'\n        | 'shareSpecial'\n        | 'daysViewedCount_1'\n        | 'daysViewedCount_7'\n        | 'daysViewedCount_30'\n        | 'hasUserThumbnail'\n        | 'publicViewedCount'\n        | 'playedCount'\n        | 'labels'\n    >\n    metadata: {\n        cookied?: boolean\n        goldenCookied?: boolean\n        owner?: Pick<ApiTypes['account'], 'id' | 'username' | 'alias' | 'profileImage' | 'fullName' | 'primaryKind' | 'trainingCertificates'>\n        details?: {\n            normal?: string\n            staging?: string\n            production?: string\n        }\n        shareable: boolean\n        favorited?: boolean\n        isMiniQuiz: boolean\n        seen?: boolean\n        numberOfQuestions?: {\n            normal?: number\n            staging?: number\n            production?: number\n        }\n    }\n}\n\nexport interface ProjectReducerState {\n    all: Record<string, Project>\n}\n\nexport type ProjectAction = ActionType<typeof projectActions>\nexport type ProjectLabel = NonNullable<Project['file']['labels']>[number]\n","export default __webpack_public_path__ + \"static/media/fallback-avatar.51ca455c.jpg\";","import React from 'react'\nimport styled from 'styled-components/macro'\nimport fallbackImg from './fallback-avatar.jpg'\n\nexport type AvatarSize = 'tiny' | 'small' | 'small-plus' | 'medium' | 'big' | 'large' | 'fullWidth'\n\nexport type AvatarProps = {\n    src?: string\n    size?: AvatarSize\n    className?: string\n}\n\nexport const Avatar: React.FC<AvatarProps> = ({ src, children, size = 'medium', ...rest }) => {\n    return (\n        <AvatarRoot size={size} {...rest}>\n            <AvatarInner>\n                <AvatarImg loading=\"lazy\" size={size} alt=\"\" src={src || fallbackImg} />\n                {children}\n            </AvatarInner>\n        </AvatarRoot>\n    )\n}\n\nconst sizeMap: Record<AvatarSize, string> = {\n    tiny: '1.75rem',\n    small: '3.5rem',\n    'small-plus': '5.5rem',\n    medium: '6.5rem',\n    big: '7.5rem',\n    large: '8rem',\n    fullWidth: '100%',\n}\n\nexport const AvatarRoot = styled.div<{ size: AvatarSize }>`\n    width: ${props => sizeMap[props.size]};\n`\n\nconst AvatarInner = styled.div`\n    position: relative;\n    height: 0;\n    padding-bottom: 100%;\n`\n\nexport const AvatarImg = styled.img<{ size: AvatarSize }>`\n    position: absolute;\n    object-fit: contain;\n    width: 100%;\n    height: 100%;\n    border-radius: ${props => (props.size === 'tiny' ? 5 : props.theme.shape.borderRadius)}px;\n    background-color: ${props => props.theme.palette.divider};\n`\n","import { api } from 'lib/api'\n\nexport const createAvatarUrl = (avatar?: string) =>\n    avatar ? `${api.baseUrl}/profile-pictures/${avatar}/data` : undefined\n","import { useUserState } from 'contexts/UserContext'\nimport React from 'react'\nimport { Avatar, AvatarProps } from './Avatar'\nimport { createAvatarUrl } from './avatarHelpers'\n\nexport const CurrentUserAvatar: React.FC<Omit<AvatarProps, 'src'>> = props => {\n    const user = useUserState()\n\n    return <Avatar src={createAvatarUrl(user.account.profileImage)} {...props} />\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nexport const AvatarBadge: React.FC = ({ children }) => {\n    return <AvatarBadgeRoot>{children}</AvatarBadgeRoot>\n}\n\nconst AvatarBadgeRoot = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: ${props => props.theme.spacing(0.2)};\n    position: absolute;\n    z-index: 2;\n    right: 0;\n    top: 0;\n    transform: translate(50%, -50%);\n    background-color: ${props => props.theme.palette.primary.main};\n    color: ${props => props.theme.palette.primary.contrastText};\n    width: 1.5rem;\n    height: 1.5rem;\n    border-radius: 50%;\n    box-shadow: ${props => props.theme.shadows[5]};\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { transparentize } from 'polished'\n\nexport const AvatarOverlay = React.forwardRef<any, any>((props, ref) => {\n    return <AvatarOverlayRoot ref={ref} {...props}></AvatarOverlayRoot>\n})\n\nconst AvatarOverlayRoot = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1;\n    width: 100%;\n    height: 100%;\n    background-color: ${props => transparentize(0.9, props.theme.palette.common.black)};\n    border-radius: ${props => props.theme.shape.borderRadius}px;\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport { Avatar, AvatarProps, AvatarRoot, AvatarImg } from './Avatar'\nimport { CheckIcon, LockIcon } from 'components/icons'\nimport { AvatarOverlay } from './AvatarOverlay'\nimport { AvatarBadge } from './AvatarBadge'\nimport { visuallyHidden } from 'utils/styleUtils'\nimport { Tooltip } from 'components/Tooltip'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { LocalisationKey } from 'lib/i18n'\n\ninterface SelectableAvatarProps extends AvatarProps {\n    selected: boolean\n    onChange: (checked: boolean) => void\n    locked?: boolean\n    lockedMessage?: string[]\n}\n\nexport const SelectableAvatar: React.FC<SelectableAvatarProps> = ({\n    selected,\n    onChange,\n    locked,\n    lockedMessage,\n    ...rest\n}) => {\n    const t = useTranslate()\n\n    return (\n        <SelectableAvatarRoot locked={locked}>\n            <label>\n                <input\n                    id={rest.src}\n                    type=\"radio\"\n                    checked={selected}\n                    onChange={e => {\n                        if (!locked) {\n                            onChange(e.target.checked)\n                        }\n                    }}\n                />\n                <Avatar {...rest}>\n                    <>\n                        {selected && (\n                            <AvatarBadge>\n                                <CheckIcon />\n                            </AvatarBadge>\n                        )}\n                        {locked && (\n                            <Tooltip\n                                title={lockedMessage?.map(message => t(message as LocalisationKey)).join(' ') ?? ''}\n                            >\n                                <AvatarOverlay>\n                                    <StyledLockIcon />\n                                </AvatarOverlay>\n                            </Tooltip>\n                        )}\n                    </>\n                </Avatar>\n            </label>\n        </SelectableAvatarRoot>\n    )\n}\n\nconst StyledLockIcon = styled(LockIcon)`\n    position: absolute;\n    top: ${props => props.theme.spacing(2)};\n    right: ${props => props.theme.spacing(2)};\n    color: #fff;\n`\n\nconst SelectableAvatarRoot = styled.div<{ locked?: boolean }>`\n    label {\n        cursor: ${props => (props.locked ? 'default' : 'pointer')};\n        &:hover {\n            ${AvatarImg} {\n                filter: ${props => (props.locked ? '' : 'brightness(1.1)')};\n            }\n        }\n    }\n    input {\n        ${visuallyHidden}\n    }\n    ${AvatarImg} {\n        filter: ${props => (props.locked ? 'grayscale(1) contrast(0.4)' : '')};\n    }\n    input:checked {\n        + ${AvatarRoot} ${AvatarImg} {\n            box-shadow: 0 0 0 3px ${props => props.theme.palette.primary.main};\n        }\n    }\n`\n","import React, { useState } from 'react'\nimport { api } from 'lib/api'\nimport { useQuery } from 'react-query'\nimport { SelectableAvatar } from './SelectableAvatar'\nimport { Loader } from 'components/Loader'\nimport { createAvatarUrl } from './avatarHelpers'\nimport styled from 'styled-components/macro'\nimport { ListItem } from 'components/list'\nimport { Flex } from 'components/layout'\nimport { Select, Option } from 'components/form'\nimport { DialogForm } from 'components/dialog'\nimport { ErrorMessage } from 'components/ErrorMessage'\nimport { Hidden } from 'components/layout'\nimport { List } from 'components/list'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport { useUserActions, useUserState } from 'contexts/UserContext'\nimport { ButtonProps } from 'components/Button'\nimport { useNotifications } from 'features/notifications'\nimport { LocalisationKey } from 'lib/i18n'\nimport { CookieHunt } from 'features/cookie-hunt'\nimport { useDispatch } from 'react-redux'\nimport { changedProfilePicture } from 'lib/liveops'\n\ninterface AvatarBrowserProps {\n    onClose: VoidFunction\n    isOnboarding: boolean\n    renderActions: (props: { secondaryButtonProps: ButtonProps; primaryButtonProps: ButtonProps }) => React.ReactNode\n}\n\nexport const AvatarBrowser: React.FC<AvatarBrowserProps> = ({ onClose, isOnboarding, renderActions, children }) => {\n    const { account } = useUserState()\n    const { updateUser } = useUserActions()\n    const [value, setValue] = useState(account.profileImage || '')\n    const { data: profilePictures, status: queryStatus } = useQuery(['profile-pictures', isOnboarding], () =>\n        api.accounts.getProfilePictures({ isOnboarding }),\n    )\n    const [selectedCategory, setSelectedCategory] = useState<string>('')\n    const t = useTranslate()\n    const { notify } = useNotifications()\n    const [status, setStatus] = useState<'idle' | 'loading'>('idle')\n    const dispatch = useDispatch()\n\n    if (queryStatus === 'error') {\n        return <ErrorMessage />\n    }\n\n    if (!profilePictures || queryStatus === 'loading') {\n        return (\n            <Flex height=\"100%\" justify=\"center\" align=\"center\">\n                <Loader />\n            </Flex>\n        )\n    }\n\n    const save = async () => {\n        if (status === 'idle') {\n            setStatus('loading')\n            try {\n                await updateUser({ profileImage: value })\n                notify(t('settings::saveSuccess'), { variant: 'success' })\n                dispatch(changedProfilePicture())\n                onClose()\n            } catch (e) {\n                console.error(e)\n                notify(t('error::somethingWentWrong'), { variant: 'error' })\n            } finally {\n                setStatus('idle')\n            }\n        }\n    }\n\n    const categories = Array.from(new Set(profilePictures.data.flatMap(picture => picture.tags || [])))\n\n    const filteredProfilePictures = profilePictures.data.filter(picture =>\n        selectedCategory === '' ? true : picture.tags?.includes(selectedCategory),\n    )\n\n    return (\n        <DialogForm\n            actions={renderActions({\n                primaryButtonProps: { isLoading: status === 'loading', onClick: save },\n                secondaryButtonProps: { onClick: onClose },\n            })}\n        >\n            {children}\n            <Root isOnboarding={isOnboarding}>\n                {isOnboarding !== true && (\n                    <Hidden smUp>\n                        <Select\n                            displayEmpty\n                            value={selectedCategory}\n                            onChange={e => {\n                                setSelectedCategory(e.target.value as any)\n                            }}\n                        >\n                            <Option value=\"\">{t('general::all')}</Option>\n                            {categories.map(category => (\n                                <Option value={category} key={category}>\n                                    {t(category.replaceAll('.', '::') as LocalisationKey)}\n                                </Option>\n                            ))}\n                        </Select>\n                    </Hidden>\n                )}\n                {isOnboarding !== true && (\n                    <Hidden xsDown>\n                        <StyledList>\n                            <ListItem\n                                selected={selectedCategory === ''}\n                                onClick={() => {\n                                    setSelectedCategory('')\n                                }}\n                            >\n                                {t('general::all')}\n                            </ListItem>\n                            {categories.map(category => (\n                                <ListItem\n                                    selected={selectedCategory === category}\n                                    onClick={() => {\n                                        setSelectedCategory(category)\n                                    }}\n                                    key={category}\n                                >\n                                    {t(category.replaceAll('.', '::') as LocalisationKey)}\n                                </ListItem>\n                            ))}\n                        </StyledList>\n                    </Hidden>\n                )}\n                <AvatarGrid>\n                    {filteredProfilePictures.map((picture, i) => (\n                        <CookieHunt key={picture.id} name=\"avatar-list\" index={i}>\n                            <SelectableAvatar\n                                selected={value === picture.id}\n                                locked={!picture.usable}\n                                lockedMessage={picture.description}\n                                size=\"fullWidth\"\n                                onChange={checked => {\n                                    if (checked && picture.usable) {\n                                        setValue(picture.id)\n                                    }\n                                }}\n                                src={createAvatarUrl(picture.id)}\n                            />\n                        </CookieHunt>\n                    ))}\n                </AvatarGrid>\n            </Root>\n        </DialogForm>\n    )\n}\n\nconst StyledList = styled(List)`\n    height: 100%;\n    overflow-y: auto;\n    padding-right: ${props => props.theme.spacing(2)};\n`\n\nconst Root = styled.div<{ isOnboarding?: boolean }>`\n    display: ${props => (props.isOnboarding === true ? 'block' : 'grid')};\n    ${props => props.theme.breakpoints.down('xs')} {\n        display: block;\n    }\n    grid-template-columns: minmax(16rem, auto) 1fr;\n    ${props => props.theme.breakpoints.down('sm')} {\n        grid-template-columns: minmax(10rem, auto) 1fr;\n    }\n    gap: ${props => props.theme.spacing(1)};\n    height: ${props => (props.isOnboarding === true ? undefined : '100%')};\n`\n\nconst AvatarGrid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(6.5rem, 1fr));\n    gap: ${props => props.theme.spacing(4)};\n    align-content: flex-start;\n    overflow-y: auto;\n    padding: ${props => props.theme.spacing(4)};\n`\n","import { DialogSecondaryButton, DialogPrimaryButton, Dialog, DialogTitle } from 'components/dialog'\nimport { createHashDialog } from 'hooks/createHashDialog'\nimport { useTranslate } from 'lib/i18n/useTranslate'\nimport React from 'react'\nimport { AvatarBrowser } from './AvatarBrowser'\n\nconst [avatarBrowserDialogTo, AvatarBrowserDialogController] = createHashDialog('avatar-browser')\n\nexport { avatarBrowserDialogTo }\n\nexport const AvatarBrowserDialog: React.FC = () => {\n    const t = useTranslate()\n\n    return (\n        <AvatarBrowserDialogController>\n            {({ onClose, open }) => (\n                <Dialog\n                    fullWidth\n                    PaperProps={{ style: { height: '80%' } }}\n                    maxWidth={'md'}\n                    open={open}\n                    onClose={onClose}\n                >\n                    <DialogTitle>{t('settings::chooseProfilePicture')}</DialogTitle>\n                    <AvatarBrowser\n                        isOnboarding={false}\n                        onClose={onClose}\n                        renderActions={({ primaryButtonProps, secondaryButtonProps }) => (\n                            <>\n                                <DialogSecondaryButton {...secondaryButtonProps}>\n                                    {t('general::cancel')}\n                                </DialogSecondaryButton>\n                                <DialogPrimaryButton {...primaryButtonProps}>{t('general::save')}</DialogPrimaryButton>\n                            </>\n                        )}\n                    />\n                </Dialog>\n            )}\n        </AvatarBrowserDialogController>\n    )\n}\n","import React from 'react'\nimport { Box } from 'components/layout'\nimport { useCallback, useEffect, useLayoutEffect, useState } from 'react'\nimport { Loader } from 'components/Loader'\n\nexport function usePoorMansSuspense(count: number) {\n    const [readyCount, setReadyCount] = useState(0)\n    const [timedOut, setTimedOut] = useState(false)\n\n    useEffect(() => {\n        if (!timedOut) {\n            const timeout = setTimeout(() => {\n                setTimedOut(true)\n            }, 4000)\n            return () => {\n                clearTimeout(timeout)\n            }\n        }\n    }, [timedOut])\n\n    const tick = useCallback(() => {\n        setReadyCount(readyCount => readyCount + 1)\n    }, [])\n\n    const isReady = timedOut || readyCount >= count\n\n    return {\n        tick,\n        isReady,\n    }\n}\n\ninterface PoorMansSuspenseRendererProps {\n    isReady: boolean\n    loader?: React.ReactNode\n}\n\nexport const PoorMansSuspenseRenderer: React.FC<PoorMansSuspenseRendererProps> = ({ children, isReady, loader }) => {\n    const defaultLoader = loader ?? <Loader />\n\n    return (\n        <>\n            {!isReady && defaultLoader}\n            <Box visibility={isReady ? 'visible' : 'hidden'}>{children}</Box>\n        </>\n    )\n}\n\nexport function usePoorMansSuspenseTick(isReady: boolean, onReady?: VoidFunction) {\n    useLayoutEffect(() => {\n        if (isReady) {\n            onReady?.()\n        }\n    }, [isReady, onReady])\n}\n\nexport interface PoorMansSuspenseTicker {\n    onReady?: VoidFunction\n}\n","import React from 'react'\nimport { IconButton as MuiIconButton, IconButtonTypeMap } from '@material-ui/core'\nimport { OverridableComponent } from '@material-ui/core/OverridableComponent'\nimport styled from 'styled-components/macro'\n\nexport const ICON_BUTTON_SMALL_PADDING = '0.4rem'\n\nexport type IconButtonProps = IconButtonTypeMap['props'] & { style?: React.CSSProperties }\n\nexport const IconButton: OverridableComponent<IconButtonTypeMap> = (React.forwardRef as any)(\n    (props: IconButtonProps, ref: any) => {\n        return <Root color=\"inherit\" ref={ref} {...props} />\n    },\n)\n\nconst Root = styled(MuiIconButton)`\n    padding: ${props => (props.size === 'small' ? ICON_BUTTON_SMALL_PADDING : undefined)};\n    &:focus-visible {\n        outline: solid 1px ${props => props.theme.palette.primary.main};\n    }\n`\n","import { AxiosInstance } from 'axios'\n\nexport abstract class ApiBase {\n    constructor(protected client: AxiosInstance) {}\n}\n","import { Subject } from './certificateTypes'\nimport {\n    PdfTemplateBlox,\n    PdfTemplateMix,\n    PdfTemplateA0,\n    PdfTemplateGodot,\n    PdfTemplateUnity,\n    PdfTemplateRobot,\n    PdfTemplateVideo,\n    PdfTemplateDesign,\n    PdfTemplateMinecraft,\n    PdfTemplateMinecraftMaze,\n    PdfTemplateMinecraftMovie,\n    PdfTemplateRpg,\n    PdfTemplateKodu,\n    PdfTemplateAi,\n    PdfTemplateBizniscool,\n    PdfTemplateRoblox,\n    PdfTemplateRobloxMultiverse,\n    PdfTemplateOpenDay,\n    PdfTemplateDigitalMission,\n    PdfTemplateWorkshop3d,\n    PdfTemplateCourse3d,\n    PdfTemplateWorkshopApp,\n    PdfTemplateCourseApp,\n    PdfTemplateCampApp,\n    PdfTemplateWorkshopIllustration,\n    PdfTemplateCourseIllustration,\n    PdfTemplateCampIllustration,\n    PdfTemplateWorkshopMinecraft,\n    PdfTemplateCourseMinecraftModding,\n    PdfTemplateCampMinecraftModding,\n    PdfTemplatePython,\n    PdfTemplateDigitalDiscovery,\n    PdfTemplateDigitalMission2021,\n    PdfTemplateDigitalMission2022,\n    PdfTemplateDigitalMission2023,\n    PdfTemplateWorkshopImagicharm,\n    PdfTemplateCourseImagicharm,\n    PdfTemplateCampImagicharm,\n    PdfTemplateScoolerMission,\n    PdfTemplateAiPython,\n    PdfTemplateAiBasic,\n    PdfTemplateCourseGenerativeAi,\n    PdfTemplateCampGenerativeAi,\n    PdfTemplateCampChallengeDay,\n    PdfTemplateRobotPrime,\n    PdfTemplateDevMaster,\n    PdfTemplateExplorerJuniorSpike,\n    PdfTemplateExplorerJuniorWedo,\n    PdfTemplateExplorerJuniorBeebot,\n    PdfTemplateExplorerCreative,\n    PdfTemplateExplorerGamer,\n    PdfTemplateCamp3d,\n    PdfTemplateTrainingCertificate\n} from './PdfTemplates'\n\nconst thumbnails = {\n    blox: '/certificate/thumbnails/blox.png',\n    mix: '/certificate/thumbnails/mix.png',\n    robot: '/certificate/thumbnails/lego.png',\n    digitalIntro: '/certificate/thumbnails/a0-intro.png',\n    video: '/certificate/thumbnails/video.png',\n    minecraft: '/certificate/thumbnails/minecraft.png',\n    minecraftWorkshop: '/certificate/thumbnails/minecraft-workshop.png',\n    digitalMission: '/certificate/thumbnails/dm.png',\n    illustration: '/certificate/thumbnails/illustration.png',\n    illustrationWorkshop: '/certificate/thumbnails/illustration-workshop.png',\n    rpg: '/certificate/thumbnails/rpg.png',\n    ai: '/certificate/thumbnails/ai.png',\n    roblox: '/certificate/thumbnails/roblox.png',\n    bizniscool: '/certificate/thumbnails/bizniscool.png',\n    app: '/certificate/thumbnails/app.png',\n    threeD: '/certificate/thumbnails/three-d.png',\n    openDay: '/certificate/thumbnails/open-day.png',\n    digitalDiscovery: '/certificate/thumbnails/digital-discovery.png',\n    mobile: '/certificate/thumbnails/mobile.png',\n    digitalMission2021: '/certificate/thumbnails/dm2021.png',\n    digitalMission2022: '/certificate/thumbnails/dm2022.png',\n    digitalMission2023: '/certificate/thumbnails/dm2023.png',\n    imagicharm: '/certificate/thumbnails/imagicharm.png',\n    scoolerMission: '/certificate/thumbnails/scoolerMission.png',\n    logiscoolMission: '/certificate/thumbnails/logiscoolMission.png',\n    aiPython: '/certificate/thumbnails/aiPython.png',\n    aiBasic: '/certificate/thumbnails/aiBasic.png',\n    explorerJunior: '/certificate/thumbnails/explorer-junior.png',\n    explorerCreative: '/certificate/thumbnails/explorer-creative.png',\n    explorerGamer: '/certificate/thumbnails/explorer-gamer.png',\n    genAI: '/certificate/thumbnails/genaiworkshop.png',\n}\n\nexport const certThumbnails = thumbnails;\n\nexport const allSubject: Subject[] = [\n    {\n        key: 'prog.bb.easy.1',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.bb.normal.1',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.bb.fast',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.bb.fast',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'prog.bb.easy.2',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.bb.normal.2',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.bb.easy.3',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.ba.normal.1',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.ba.normal.2',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.ba.fast',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.bm',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.mb',\n        template: PdfTemplateMix,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.mb.python',\n        nameKey: 'prog.mb',\n        template: PdfTemplateMix,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.ma',\n        template: PdfTemplateMix,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.ma.python',\n        template: PdfTemplateMix,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.mm',\n        template: PdfTemplateMix,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.mm.py',\n        template: PdfTemplateMix,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.cg',\n        template: PdfTemplateMix,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.cg.py',\n        template: PdfTemplateMix,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.gd.blox',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.bi.normal',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.bi.fast',\n        template: PdfTemplateMix,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.bi.fast',\n        template: PdfTemplateMix,\n        thumbnail: thumbnails.mix,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'prog.unity.basic',\n        template: PdfTemplateUnity,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.unity.advanced',\n        template: PdfTemplateUnity,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.unity.master',\n        template: PdfTemplateUnity,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.godot.basic',\n        template: PdfTemplateGodot,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.godot.advanced',\n        template: PdfTemplateGodot,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.jr.kodu.basic',\n        template: PdfTemplateKodu,\n        thumbnail: thumbnails.digitalIntro,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.jr.intro',\n        template: PdfTemplateA0,\n        thumbnail: thumbnails.digitalIntro,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'minecraft.codia.1',\n        template: PdfTemplateMinecraft,\n        thumbnail: thumbnails.minecraft,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'minecraft.codia.2',\n        template: PdfTemplateMinecraft,\n        thumbnail: thumbnails.minecraft,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'robot.lego.ev3.1',\n        template: PdfTemplateRobot,\n        thumbnail: thumbnails.robot,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'robot.lego.ev3.2',\n        template: PdfTemplateRobot,\n        thumbnail: thumbnails.robot,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'robot.mbot.course',\n        template: PdfTemplateRobot,\n        thumbnail: thumbnails.robot,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'digital.video',\n        template: PdfTemplateVideo,\n        thumbnail: thumbnails.video,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'robot.mbot.camp',\n        template: PdfTemplateRobot,\n        thumbnail: thumbnails.robot,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'legacy.robot.lego.wedo.1',\n        template: PdfTemplateRobot,\n        thumbnail: thumbnails.robot,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'robot.lego.ev3.camp',\n        template: PdfTemplateRobot,\n        thumbnail: thumbnails.robot,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'minecraft.redstone',\n        template: PdfTemplateMinecraft,\n        thumbnail: thumbnails.minecraft,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'robot.cozmo',\n        template: PdfTemplateRobot,\n        thumbnail: thumbnails.robot,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'minecraft.design',\n        template: PdfTemplateMinecraft,\n        thumbnail: thumbnails.minecraft,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'digital.rpg',\n        template: PdfTemplateRpg,\n        thumbnail: thumbnails.rpg,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'prog.android',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'robot.lego.wedo.2',\n        template: PdfTemplateRobot,\n        thumbnail: thumbnails.robot,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'robot.lego.wedo.2.future',\n        template: PdfTemplateRobot,\n        thumbnail: thumbnails.robot,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'robot.lego.boost',\n        template: PdfTemplateRobot,\n        thumbnail: thumbnails.robot,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'digital.designer',\n        template: PdfTemplateDesign,\n        thumbnail: thumbnails.illustration,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'digital.designer',\n        template: PdfTemplateDesign,\n        thumbnail: thumbnails.illustration,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'digital.roblox-design',\n        template: PdfTemplateRoblox,\n        thumbnail: thumbnails.roblox,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'biz.choc',\n        template: PdfTemplateBizniscool,\n        thumbnail: thumbnails.bizniscool,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'biz.toys',\n        template: PdfTemplateBizniscool,\n        thumbnail: thumbnails.bizniscool,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'biz.toys',\n        template: PdfTemplateBizniscool,\n        thumbnail: thumbnails.bizniscool,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'biz.vlog',\n        template: PdfTemplateBizniscool,\n        thumbnail: thumbnails.bizniscool,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'biz.vlog',\n        template: PdfTemplateBizniscool,\n        thumbnail: thumbnails.bizniscool,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'minecraft.codia.camp',\n        template: PdfTemplateMinecraft,\n        thumbnail: thumbnails.minecraft,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'minecraft.pro',\n        template: PdfTemplateMinecraft,\n        thumbnail: thumbnails.minecraft,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'prog.ai.camp',\n        template: PdfTemplateAi,\n        thumbnail: thumbnails.ai,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'minecraft.mars',\n        template: PdfTemplateMinecraft,\n        thumbnail: thumbnails.minecraft,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'digital.youtube',\n        template: PdfTemplateVideo,\n        thumbnail: thumbnails.video,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'digital.introduction',\n        template: PdfTemplateA0,\n        thumbnail: thumbnails.digitalIntro,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'digital.video.camp',\n        template: PdfTemplateVideo,\n        thumbnail: thumbnails.video,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'digital.video.pro.camp',\n        template: PdfTemplateVideo,\n        thumbnail: thumbnails.video,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'digital.discovery.1',\n        template: PdfTemplateDigitalDiscovery,\n        thumbnail: thumbnails.digitalDiscovery,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.python.basic',\n        template: PdfTemplatePython,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.jr.kodu.advanced',\n        template: PdfTemplateKodu,\n        thumbnail: thumbnails.digitalIntro,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'minecraft.modding',\n        template: PdfTemplateWorkshopMinecraft,\n        thumbnail: thumbnails.minecraftWorkshop,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'minecraft.modding',\n        template: PdfTemplateCourseMinecraftModding,\n        thumbnail: thumbnails.minecraftWorkshop,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'minecraft.modding.camp',\n        template: PdfTemplateCampMinecraftModding,\n        thumbnail: thumbnails.minecraftWorkshop,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'digital.tinkercad',\n        template: PdfTemplateWorkshop3d,\n        thumbnail: thumbnails.threeD,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'digital.tinkercad',\n        template: PdfTemplateCourse3d,\n        thumbnail: thumbnails.threeD,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'digital.tinkercad.camp',\n        template: PdfTemplateCamp3d,\n        thumbnail: thumbnails.threeD,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'digital.illustration.normal',\n        template: PdfTemplateWorkshopIllustration,\n        thumbnail: thumbnails.illustrationWorkshop,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'digital.illustration.normal',\n        template: PdfTemplateCourseIllustration,\n        thumbnail: thumbnails.illustrationWorkshop,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'digital.illustration.normal.camp',\n        template: PdfTemplateCampIllustration,\n        thumbnail: thumbnails.illustrationWorkshop,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'digital.illustration',\n        template: PdfTemplateWorkshopIllustration,\n        thumbnail: thumbnails.illustrationWorkshop,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'prog.thunkable',\n        template: PdfTemplateWorkshopApp,\n        thumbnail: thumbnails.app,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'prog.thunkable',\n        template: PdfTemplateCourseApp,\n        thumbnail: thumbnails.app,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.thunkable.camp',\n        template: PdfTemplateCampApp,\n        thumbnail: thumbnails.app,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'digital.video.mobile',\n        template: PdfTemplateVideo,\n        thumbnail: thumbnails.video,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'event.open-day.lower',\n        template: PdfTemplateOpenDay,\n        thumbnail: thumbnails.openDay,\n        type: 'event',\n        blurbType: 'openday',\n    },\n    {\n        key: 'event.open-day.upper',\n        template: PdfTemplateOpenDay,\n        thumbnail: thumbnails.openDay,\n        type: 'event',\n        blurbType: 'openday',\n    },\n    {\n        key: 'event.open-day.high',\n        template: PdfTemplateOpenDay,\n        thumbnail: thumbnails.openDay,\n        type: 'event',\n        blurbType: 'openday',\n    },\n    {\n        key: 'event.open-day.digdisc',\n        template: PdfTemplateOpenDay,\n        thumbnail: thumbnails.openDay,\n        type: 'event',\n        blurbType: 'openday',\n    },\n    {\n        key: 'event.open-day.advanced',\n        template: PdfTemplateOpenDay,\n        thumbnail: thumbnails.openDay,\n        type: 'event',\n        blurbType: 'openday',\n    },\n    {\n        key: 'legacy.advertising',\n        template: PdfTemplateOpenDay,\n        thumbnail: thumbnails.openDay,\n        type: 'event',\n        blurbType: 'openday',\n    },\n    {\n        key: 'prog.kodu.camp',\n        template: PdfTemplateKodu,\n        thumbnail: thumbnails.digitalIntro,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'prog.jr.hackcamp',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'prog.python.advanced',\n        template: PdfTemplatePython,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'digital.discovery.2',\n        template: PdfTemplateDigitalDiscovery,\n        thumbnail: thumbnails.digitalDiscovery,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'digital.discovery.basic.normal.1',\n        template: PdfTemplateDigitalDiscovery,\n        thumbnail: thumbnails.digitalDiscovery,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'digital.discovery.basic.normal.2',\n        template: PdfTemplateDigitalDiscovery,\n        thumbnail: thumbnails.digitalDiscovery,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'digital.discovery.advanced.normal.1',\n        template: PdfTemplateDigitalDiscovery,\n        thumbnail: thumbnails.digitalDiscovery,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'digital.discovery.advanced.normal.2',\n        template: PdfTemplateDigitalDiscovery,\n        thumbnail: thumbnails.digitalDiscovery,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'digital.mission.2020',\n        template: PdfTemplateDigitalMission,\n        thumbnail: thumbnails.digitalMission,\n        type: 'event',\n        blurbType: 'digitalmission',\n    },\n    {\n        key: 'digital.mission.2021',\n        template: PdfTemplateDigitalMission2021,\n        thumbnail: thumbnails.digitalMission2021,\n        type: 'event',\n        blurbType: 'digitalmission',\n    },\n    {\n        key: 'digital.mission.2022',\n        template: PdfTemplateDigitalMission2022,\n        thumbnail: thumbnails.digitalMission2022,\n        type: 'event',\n        blurbType: 'digitalmission',\n    },\n    {\n        key: 'digital.mission.2023',\n        template: PdfTemplateDigitalMission2023,\n        thumbnail: thumbnails.digitalMission2023,\n        type: 'event',\n        blurbType: 'digitalmission',\n    },\n    {\n        key: 'scooler.mission.2022',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2023.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2023.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2024.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2024.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2025.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2025.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2026.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2026.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2027.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2027.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2028.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2028.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2029.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2029.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2030.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2030.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2024.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2024.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2025.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2025.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2026.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2026.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2027.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2027.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2028.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2028.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2029.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2029.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2030.1',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'scooler.mission.2030.2',\n        nameKey: 'scooler.mission.2023.1',\n        template: PdfTemplateScoolerMission,\n        thumbnail: thumbnails.scoolerMission,\n        type: 'event',\n        blurbType: 'scoolerMission',\n    },\n    {\n        key: 'prog.imagicharm',\n        template: PdfTemplateWorkshopImagicharm,\n        thumbnail: thumbnails.imagicharm,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'prog.imagicharm',\n        template: PdfTemplateCourseImagicharm,\n        thumbnail: thumbnails.imagicharm,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.imagicharm.camp',\n        template: PdfTemplateCampImagicharm,\n        thumbnail: thumbnails.imagicharm,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'prog.python.master',\n        template: PdfTemplatePython,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'robot.lego.spike.essential',\n        template: PdfTemplateRobot,\n        thumbnail: thumbnails.robot,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'robot.lego.spike.prime',\n        template: PdfTemplateRobotPrime,\n        thumbnail: thumbnails.robot,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'digital.illustration.junior',\n        template: PdfTemplateWorkshopIllustration,\n        thumbnail: thumbnails.illustrationWorkshop,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'digital.illustration.junior',\n        template: PdfTemplateCourseIllustration,\n        thumbnail: thumbnails.illustrationWorkshop,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'digital.illustration.junior.camp',\n        template: PdfTemplateCampIllustration,\n        thumbnail: thumbnails.illustrationWorkshop,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'event.open-day.high.oneonone',\n        template: PdfTemplateOpenDay,\n        thumbnail: thumbnails.openDay,\n        type: 'event',\n        blurbType: 'openday',\n    },\n    {\n        key: 'event.open-day.upper.oneonone',\n        template: PdfTemplateOpenDay,\n        thumbnail: thumbnails.openDay,\n        type: 'event',\n        blurbType: 'openday',\n    },\n    {\n        key: 'event.open-day.lower.oneonone',\n        template: PdfTemplateOpenDay,\n        thumbnail: thumbnails.openDay,\n        type: 'event',\n        blurbType: 'openday',\n    },\n    // duplicated, and wrong id-> dd junior\n    // {\n    //     key: 'digital.discovery.basic.normal.2',\n    //     template: PdfTemplateDigitalDiscovery,\n    //     thumbnail: thumbnails.digitalDiscovery,\n    //     type: 'course',\n    //     blurbType: 'course',\n    // },\n    {\n        key: 'digital.discovery.junior',\n        template: PdfTemplateDigitalDiscovery,\n        thumbnail: thumbnails.digitalDiscovery,\n        type: 'course',\n        blurbType: 'course',\n    },\n    // {            // fake subject\n    //     key: 'robot.lego.ev3.advanced',\n    //     template: PdfTemplateRobot,\n    //     thumbnail: thumbnails.robot,\n    //     type: 'course',\n    //     blurbType: 'course',\n    // },\n    {\n        key: 'robot.lego.wedo.2.space',\n        template: PdfTemplateRobot,\n        thumbnail: thumbnails.robot,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'digital.roblox.hacker',\n        template: PdfTemplateRoblox,\n        thumbnail: thumbnails.roblox,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'minecraft.heroes',\n        template: PdfTemplateMinecraft,\n        thumbnail: thumbnails.minecraft,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'prog.ai.python',\n        template: PdfTemplateAiPython,\n        thumbnail: thumbnails.aiPython,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.ai.basic',\n        template: PdfTemplateAiBasic,\n        thumbnail: thumbnails.aiBasic,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.ai.basic.python',\n        template: PdfTemplateAiBasic,\n        thumbnail: thumbnails.aiBasic,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.ai.python.1',\n        template: PdfTemplateAiPython,\n        thumbnail: thumbnails.aiPython,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.ai.python.2',\n        template: PdfTemplateAiPython,\n        thumbnail: thumbnails.aiPython,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'event.camp-challenge',\n        template: PdfTemplateCampChallengeDay,\n        thumbnail: thumbnails.openDay,\n        type: 'event',\n        blurbType: 'campChallengeDay',\n    },\n    {\n        key: 'prog.dev.master',\n        template: PdfTemplateDevMaster,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.dev.master.python',\n        template: PdfTemplateDevMaster,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'explorer.junior.spike',\n        template: PdfTemplateExplorerJuniorSpike,\n        thumbnail: thumbnails.explorerJunior,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'explorer.junior.wedo',\n        template: PdfTemplateExplorerJuniorWedo,\n        thumbnail: thumbnails.explorerJunior,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'explorer.junior.beebot',\n        template: PdfTemplateExplorerJuniorBeebot,\n        thumbnail: thumbnails.explorerJunior,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'explorer.creative',\n        template: PdfTemplateExplorerCreative,\n        thumbnail: thumbnails.explorerCreative,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'explorer.gamer',\n        template: PdfTemplateExplorerGamer,\n        thumbnail: thumbnails.explorerGamer,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'short.workshop.roblox',\n        template: PdfTemplateRoblox,\n        thumbnail: thumbnails.roblox,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'short.workshop.minecraft',\n        template: PdfTemplateMinecraft,\n        thumbnail: thumbnails.minecraft,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'short.workshop.hacker',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.blox,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'short.workshop.illustration',\n        template: PdfTemplateWorkshopIllustration,\n        thumbnail: thumbnails.illustrationWorkshop,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'robot.lego.spike.python',\n        template: PdfTemplateRobot,\n        thumbnail: thumbnails.robot,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'digital.generative.ai',\n        template: PdfTemplateAiBasic,\n        thumbnail: thumbnails.genAI,\n        type: 'workshop',\n        blurbType: 'workshop',\n    },\n    {\n        key: 'digital.generative.ai',\n        template: PdfTemplateCourseGenerativeAi,\n        thumbnail: thumbnails.genAI,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'digital.generative.ai.camp',\n        template: PdfTemplateCampGenerativeAi,\n        thumbnail: thumbnails.genAI,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'prog.mi.python.fast',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'prog.mi.python.fast',\n        template: PdfTemplateBlox,\n        thumbnail: thumbnails.mix,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'prog.mi.python.normal',\n        template: PdfTemplateMix,\n        thumbnail: thumbnails.mix,\n        type: 'course',\n        blurbType: 'course',\n    },\n    {\n        key: 'minecraft.maze',\n        template: PdfTemplateMinecraftMaze,\n        thumbnail: thumbnails.minecraft,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'minecraft.movie',\n        template: PdfTemplateMinecraftMovie,\n        thumbnail: thumbnails.minecraft,\n        type: 'camp',\n        blurbType: 'camp',\n    },\n    {\n        key: 'digital.roblox.multiverse',\n        template: PdfTemplateRobloxMultiverse,\n        thumbnail: thumbnails.roblox,\n        type: 'camp',\n        blurbType: 'camp',\n    }\n]\n\nexport const trainerTrainingSubject: Subject = {\n    key: 'trainer.training',\n    template: PdfTemplateTrainingCertificate,\n    thumbnail: thumbnails.mix,\n    type: 'training',\n    blurbType: 'training',\n    locale: 'en-US',\n    language: 'en',\n};\n\n","import { StoreState } from 'lib/store'\nimport { TypedTFunction } from 'lib/i18n/useTranslate'\nimport { filterNulls } from 'utils/arrayUtilts'\nimport { LocalisationKey } from 'lib/i18n'\nimport { lighten } from 'polished'\nimport {\n    BlurbType,\n    CertificateTranslations,\n    CertificateType,\n    CertInventoryItem,\n    FinishedSubject,\n    Subject,\n    SubjectInfo,\n} from './certificateTypes'\nimport { allSubject, trainerTrainingSubject, certThumbnails } from './certificateData'\nimport { DateTimeFormat as PolyfillDateTimeFormat } from '@formatjs/intl-datetimeformat'\nimport { CrmUserData } from 'lib/api/staticTypes'\n\nconst POLYFILL_LOCALES = ['bs'] // don't forget to import '@formatjs/intl-datetimeformat/locale-data/${locale} in _promise later on'\nconst OriginalDateTimeFormat = Intl.DateTimeFormat\nconst DynamicDateTimeFormat = new Proxy(PolyfillDateTimeFormat, {\n    construct(target, args) {\n        if (POLYFILL_LOCALES.includes(args[0])) {\n            return new target(...args)\n        } else {\n            return OriginalDateTimeFormat(...args)\n        }\n    },\n    get(target, prop) {\n        if (prop === 'supportedLocalesOf') {\n            return (value: string | string[], options?: Pick<Intl.DateTimeFormatOptions, 'localeMatcher'>) => {\n                if (typeof value === 'string') {\n                    if (POLYFILL_LOCALES.includes(value)) {\n                        return target.supportedLocalesOf(value, options)\n                    } else {\n                        return OriginalDateTimeFormat.supportedLocalesOf(value, options)\n                    }\n                } else {\n                    return value.map(locale => {\n                        if (POLYFILL_LOCALES.includes(locale)) {\n                            return target.supportedLocalesOf(locale, options)[0]\n                        } else {\n                            return OriginalDateTimeFormat.supportedLocalesOf(locale, options)[0]\n                        }\n                    })\n                }\n            }\n        } else {\n            // @ts-ignore\n            return target[prop]\n        }\n    },\n})\n\nObject.defineProperty(Intl, 'DateTimeFormat', {\n    value: DynamicDateTimeFormat,\n    configurable: true,\n    enumerable: false,\n    writable: true,\n})\n\nconst _promise = Promise.all([import('@formatjs/intl-datetimeformat/locale-data/bs')])\n\n    ; (async () => {\n        await _promise\n    })()\n\nexport const formatDate = (date: Date, language: string) => {\n    return new Intl.DateTimeFormat(language, {\n        month: 'long',\n        year: 'numeric',\n    }).format(date)\n}\n\nconst DIGITAL_MISSION_2020_WINNER_ITEM_ID = '5f5763d3ce7a8e0009bd6074'\n\nexport const isDmWinner = (state: StoreState) => {\n    if (state.client.inventory === null) {\n        return undefined\n    }\n    return state.client.inventory.find(item => item.item === DIGITAL_MISSION_2020_WINNER_ITEM_ID)\n}\n\nexport const getCertificateTranslations = (t: TypedTFunction, subjectInfo: Subject): CertificateTranslations => {\n    const key = subjectInfo.nameKey || subjectInfo.key\n\n    const blurbDict: Record<BlurbType, string> = {\n        course: t(`certificate::blurb::general`, {\n            course: t(`certificate::${key}::name` as LocalisationKey),\n            defaultValue: null,\n        }),\n        camp: t(`certificate::blurb::camp`, {\n            course: t(`certificate::${key}::name` as LocalisationKey),\n            defaultValue: null,\n        }),\n        openday: t(`certificate::blurb::openday`, {\n            course: t(`certificate::${key}::name` as LocalisationKey),\n            defaultValue: null,\n        }),\n        digitalmission: t(`certificate::blurb::digitalmission`, {\n            course: t(`certificate::${key}::name` as LocalisationKey),\n            defaultValue: null,\n        }),\n        digitalmission2021: t(`certificate::blurb::digitalmission2021`, {\n            course: t(`certificate::${key}::name` as LocalisationKey),\n            defaultValue: null,\n        }),\n        digitalmission2022: t(`certificate::blurb::digitalmission2022`, {\n            defaultValue: null,\n        }),\n        digitalmission2023: t(`certificate::blurb::digitalmission2023`, {\n            defaultValue: null,\n        }),\n        scoolerMission: t(`certificate::blurb:ScoolerMission`, {\n            defaultValue: null,\n        }),\n        workshop: t(`certificate::blurb::Workshops2021`, {\n            course: t(`certificate::${key}::name` as LocalisationKey),\n            defaultValue: null,\n        }),\n        campChallengeDay: t(`certificate::blurb::campChallengeDay`, {\n            defaultValue: null,\n        }),\n        training: t(`certificate::blurb::training`, {\n            defaultValue: null,\n        }),\n    }\n    const translations = {\n        blurb: blurbDict[subjectInfo.blurbType],\n        duringThisCourse: t('certificate::duringThisCourse'),\n        duringThisWorkshop: t('certificate::duringThisWorkshop'),\n        name: t(`certificate::${key}::name` as LocalisationKey /* , { defaultValue: null } */),\n        thumbnail: (certThumbnails as any)[t(`certificate::${key}::thumbnail` as any as LocalisationKey)] || subjectInfo.thumbnail,\n        items: t(`certificate::${key}::items` as LocalisationKey /* , { defaultValue: null } */),\n    }\n\n    return translations\n}\n\nexport const downloadFile = (blob: Blob, fileName: string) => {\n    const link = document.createElement('a')\n    link.href = URL.createObjectURL(blob)\n    link.setAttribute('download', fileName)\n    document.body.append(link)\n    link.click()\n    link.remove()\n    window.addEventListener('focus', e => URL.revokeObjectURL(link.href), { once: true })\n}\n\ninterface CertificateTypeColorScheme {\n    color: string\n    highlightColor: string\n}\n\nfunction createCertificateTypeColorScheme(color: string): CertificateTypeColorScheme {\n    return {\n        color: color,\n        highlightColor: lighten(0.1, color),\n    }\n}\n\nexport const certificateTypeColorMap: Record<CertificateType, CertificateTypeColorScheme> = {\n    course: createCertificateTypeColorScheme('#27389b'),\n    camp: createCertificateTypeColorScheme('#2aa051'),\n    event: createCertificateTypeColorScheme('#9c851e'),\n    workshop: createCertificateTypeColorScheme('#673ab7'),\n    training: createCertificateTypeColorScheme('#9c851e'),\n}\n\nexport const getCertificates = (\n    userSubjects: CertInventoryItem[] = [],\n    userCertificates: CertInventoryItem[] = [],\n    certificateGrants: any[],\n    userId: string,\n    isSpecUserByGrant: boolean,\n    hasTrainingCertificate: boolean | undefined,\n    t: TypedTFunction,\n): SubjectInfo[] => {\n    const SPECIAL_USER_IDS = [\n        '57d6fc3a9235538e1171bf88', // guri\n        // '5ece5e3826226f000a6ccadb', // barta.viktor\n        '599a9492fa05e0e9db967a15', // sacperkb\n        //'5bac8b4a02d65a439f6943ba', // sbalazs\n        //'5ecd084726226f000a6cc9e1', // sallai.gabor\n        '5e1c32777adab3001d420285', // nemes.aron\n        //'57d866c89579f09904a2c0b6', // hunyi\n    ]\n    const isSpecialUser = isSpecUserByGrant || SPECIAL_USER_IDS.includes(userId)\n\n    const allCourses = [...userSubjects, ...userCertificates]\n\n    if (isSpecialUser) {\n        allCourses.push(...(hasTrainingCertificate ? allSubject : [...allSubject, trainerTrainingSubject]).map(subject => createFakeInventoryItem(subject)))\n    } else {\n        allCourses.push(...subjectsFromCertificateGrants(certificateGrants).map(subject => createFakeInventoryItem(subject)))\n    }\n\n    const subjectToCertificate = createSubjectToCertificateFunction(t)\n    const subjects = allCourses.map(subjectToCertificate).filter(filterNulls)\n    return subjects\n}\n\nfunction createFakeInventoryItem(subject: Subject): CertInventoryItem {\n    return {\n        id: '60f512bc0b88d846d4aa9c8b',\n        item: '',\n        kind: 'subject',\n        name: subject.key,\n        catalog: '60b5ffd8d10358048804d52e',\n        metadata: {\n            subjectId: 'awdawdwdwadwadwawadw',\n            subjectKey: subject.key,\n            method: 'classroom',\n            format: subject.type,\n            schoolName: 'Teszt Iskola',\n            schoolPortalName: 'Teszt Portal Iskola',\n            date: '2021-07-19T05:50:52.073Z',\n        },\n        createdAt: new Date('2021-07-19T05:50:52.073Z'),\n    }\n}\n\n// used for special/demo accounts to give certain certificates to users\nfunction subjectsFromCertificateGrants(certificateGants: any[]): Subject[] {\n    const subjects: Subject[] = [];\n    certificateGants.forEach((grant: any) => {\n        if (grant.data && Array.isArray(grant.data)) {\n            grant.data.forEach((subject: any) => {\n                if (typeof subject.key === 'string' && typeof subject.type === 'string') {\n                    subjects.push(subject);\n                }\n            })\n        }\n    });\n    return subjects;\n}\n\nexport const createSubjectToCertificateFunction = (t: TypedTFunction) => (invItem: CertInventoryItem) => {\n    const subjectInfo = getSubjectInfo(invItem.metadata.subjectKey, invItem.metadata?.format)\n    if (!subjectInfo) {\n        return null\n    }\n\n    const translations = getCertificateTranslations(t, subjectInfo)\n    //Now this is a helper to find on the layout which cert has not correct translation key\n    if (!translations.name || !translations.items) {\n        console.log(`missing translation for ${subjectInfo.key}`)\n        return null\n    }\n\n    const normalizedSubjectInfo: FinishedSubject = {\n        ...subjectInfo,\n        school_name: invItem.metadata.schoolName,\n        school_portalName: invItem.metadata.schoolPortalName,\n        lastDay: new Date(invItem.metadata.date),\n    }\n\n    return {\n        subjectInfo: normalizedSubjectInfo,\n        translations,\n    }\n}\n\nexport const getSubjectInfo = (subjectKey: string, subjectType: CertificateType): Subject | null => {\n    try {\n        const subject = [...allSubject, trainerTrainingSubject].find(subject => subject.key === subjectKey && subject.type === subjectType)\n\n        if (!subject) {\n            return null\n        }\n\n        return subject\n    } catch (e) {\n        return null\n    }\n}\n\nexport const getSubjectNameKey = (subjecKey: string): string => {\n    try {\n        const subject = [...allSubject, trainerTrainingSubject].find(subject => subject.key === subjecKey)\n\n        if (!subject) {\n            return subjecKey\n        }\n\n        return subject.nameKey || subject.key\n    } catch (e) {\n        return subjecKey\n    }\n}\n\nexport const createTrainingCertificate = (crm: CrmUserData, t: TypedTFunction) => {\n    const subjectInfo = getSubjectInfo('trainer.training', 'training')\n    if (!subjectInfo) {\n        return null\n    }\n\n    const translations = getCertificateTranslations(t, subjectInfo)\n    //Now this is a helper to find on the layout which cert has not correct translation key\n    if (!translations.name || !translations.items) {\n        return null\n    }\n\n    const schoolName = crm.lastSchool ||\n        ((crm.schools && crm.schools.length > 0) ? crm.schools![crm.schools!.length - 1].name : '')\n\n    const normalizedSubjectInfo: FinishedSubject = {\n        ...subjectInfo,\n        school_name: schoolName,\n        school_portalName: '',\n        lastDay: new Date(),\n    }\n\n    const certificate = {\n        subjectInfo: normalizedSubjectInfo,\n        translations\n    }\n\n    return certificate\n\n}\n","import React from 'react'\nimport { SvgIcon, SvgIconProps } from '@material-ui/core'\nimport {\n    FaBriefcase,\n    FaTrophy,\n    FaDiceD6,\n    FaChalkboard,\n    FaUser,\n    FaHome,\n    FaSignOutAlt,\n    FaCog,\n    FaPlus,\n    FaBell,\n    FaEdit,\n    FaBars,\n    FaUserPlus,\n    FaDownload,\n    FaCheck,\n    FaLock,\n    FaCode,\n    FaExclamationCircle,\n    FaInfoCircle,\n    FaAngleRight,\n    FaAngleLeft,\n    FaCheckCircle,\n    FaTimesCircle,\n    FaMinusCircle,\n    FaCookieBite,\n    FaSearch,\n    FaAngleDown,\n    FaTrashAlt,\n    FaClone,\n    FaTimes,\n    FaShareAlt,\n    FaChevronLeft,\n    FaImage,\n    FaCamera,\n    FaEllipsisH,\n    FaChevronRight,\n    FaStar,\n    FaRegStar,\n    FaUserFriends,\n    FaStore,\n    FaPlay,\n    FaTrashRestore,\n    FaSort,\n    FaFilter,\n    FaUserMinus,\n    FaCalendarAlt,\n    FaEye,\n    FaEyeSlash,\n    FaRegEye,\n    FaHeart,\n    FaPoll,\n    FaTh,\n    FaThList,\n    FaMapMarkerAlt,\n    FaGraduationCap,\n    FaMedal,\n    FaUndoAlt,\n    FaSync,\n    FaCertificate,\n    FaGhost,\n    FaHatWizard,\n    FaPencilAlt,\n    FaUnlockAlt,\n    FaRegPaperPlane,\n    FaTshirt,\n    FaDice,\n    FaVoteYea,\n    FaThumbsUp,\n    FaGamepad,\n    FaRegHeart,\n    FaRegChartBar,\n    FaLink,\n    FaListAlt,\n    FaFastForward,\n    FaQuestionCircle,\n    FaThumbtack,\n    FaCampground,\n    FaAngleUp,\n    FaTag,\n    FaUpload,\n    FaComment,\n    FaFile,\n    FaPrint,\n    FaFrown,\n    FaFrownOpen,\n    FaMeh,\n    FaSmile,\n    FaGrinStars,\n    FaBookOpen,\n    FaCalendarWeek,\n    FaVideo,\n    FaExternalLinkAlt,\n} from 'react-icons/fa'\n\nexport const StatusIconGreen = FaCheckCircle\nexport const StatusIconYellow = FaExclamationCircle\nexport const StatusIconRed = FaExclamationCircle\nexport const Mood1Icon = FaFrown\nexport const Mood2Icon = FaFrownOpen\nexport const Mood3Icon = FaMeh\nexport const Mood4Icon = FaSmile\nexport const Mood5Icon = FaGrinStars\nexport const PrintIcon = FaPrint\nexport const FileIcon = FaFile\nexport const UploadIcon = FaUpload\nexport const ManageIcon = FaBriefcase\nexport const AddIcon = FaPlus\nexport const SettingsIcon = FaCog\nexport const NotificationIcon = FaBell\nexport const HomeIcon = FaHome\nexport const UserIcon = FaUser\nexport const LogOutIcon = FaSignOutAlt\nexport const TrophyIcon = FaTrophy\nexport const ProjectIcon = FaDiceD6\nexport const ClassroomIcon = FaChalkboard\nexport const EditIcon = FaPencilAlt\nexport const RenameIcon = FaEdit\nexport const MenuIcon = FaBars\nexport const FollowIcon = FaUserPlus\nexport const UnfollowIcon = FaUserMinus\nexport const DownloadIcon = FaDownload\nexport const CheckIcon = FaCheck\nexport const LockIcon = FaLock\nexport const UnlockIcon = FaUnlockAlt\nexport const MixIcon = FaCode\nexport const WarningIcon = FaExclamationCircle\nexport const InfoIcon = FaInfoCircle\nexport const CommentIcon = FaComment\nexport const RightAngleIcon = FaAngleRight\nexport const LeftAngleIcon = FaAngleLeft\nexport const CheckCircleIcon = FaCheckCircle\nexport const TimesCircleIcon = FaTimesCircle\nexport const MinusCircleIcon = FaMinusCircle\nexport const CookieIcon = FaCookieBite\nexport const Searchicon = FaSearch\nexport const ChevronDownIcon = FaAngleDown\nexport const ChevronUpIcon = FaAngleUp\nexport const DeleteIcon = FaTrashAlt\nexport const DuplicateIcon = FaClone\nexport const CloseIcon = FaTimes\nexport const ShareIcon = FaShareAlt\nexport const BackIcon = FaChevronLeft\nexport const ForwardIcon = FaChevronRight\nexport const ImageIcon = FaImage\nexport const CameraIcon = FaCamera\nexport const MoreIcon = FaEllipsisH\nexport const FavoriteIcon = FaStar\nexport const FavoriteOutlineIcon = FaRegStar\nexport const CommunityIcon = FaUserFriends\nexport const StoreIcon = FaStore\nexport const PlayIcon = FaPlay\nexport const RestoreIcon = FaTrashRestore\nexport const SortIcon = FaSort\nexport const FilterIcon = FaFilter\nexport const EventsIcon = FaCalendarAlt\nexport const ViewIcon = FaEye\nexport const ViewIconSlash = FaEyeSlash\nexport const EyeIcon = FaRegEye\nexport const HeartIcon = FaHeart\nexport const HeartOutlineIcon = FaRegHeart\nexport const PlacementIcon = FaPoll\nexport const ScoreIcon = FaStar\nexport const GridIcon = FaTh\nexport const ListIcon = FaThList\nexport const LocationIcon = FaMapMarkerAlt\nexport const TrainerIcon = FaGraduationCap\nexport const MedalIcon = FaMedal\nexport const ResetIcon = FaUndoAlt\nexport const RefreshIcon = FaSync\nexport const CertificateIcon = FaCertificate\nexport const GhostIcon = FaGhost\nexport const WizardHatIcon = FaHatWizard\nexport const MoveProductionIcon = FaRegPaperPlane\nexport const TshirtIcon = FaTshirt\nexport const DiceIcon = FaDice\nexport const VoteIcon = FaVoteYea\nexport const ThumbIcon = FaThumbsUp\nexport const GamePadIcon = FaGamepad\nexport const ChartIcon = FaRegChartBar\nexport const LinkIcon = FaLink\nexport const FastForwardIcon = FaFastForward\nexport const QuestionCircleIcon = FaQuestionCircle\nexport const PinIcon = FaThumbtack\nexport const CampIcon = FaCampground\nexport const TagIcon = FaTag\nexport const DocumentIcon = FaBookOpen\nexport const ThisWeekIcon = FaCalendarWeek\nexport const AttendanceListIcon = FaListAlt\nexport const ExternalLinkIcon = FaExternalLinkAlt\nexport const MeetingIcon = FaVideo\n\nexport const BloxIcon: React.FC<SvgIconProps> = props => (\n    <SvgIcon viewBox=\"0 0 89.7 59.861\" {...props} fontSize=\"inherit\">\n        <path\n            d=\"M220.662,108.733l-.367-.092-6.473-4.407a3.535,3.535,0,0,0-2.02-.643h-6.014A3.489,3.489,0,0,1,202.3,100.1V78.435a3.535,3.535,0,0,1,3.489-3.535l28.094.6A20.8,20.8,0,0,1,241.5,77.1l5.692,2.341a23,23,0,0,0,8.768,1.744h21.3a3.489,3.489,0,0,1,3.489,3.489V100.1a3.489,3.489,0,0,1-3.489,3.489H229.476a3.489,3.489,0,0,0-1.974.643l-6.473,4.407Z\"\n            transform=\"translate(-202.3 -74.9)\"\n        />\n        <path\n            d=\"M220.762,172.843l-.367-.092-6.427-4.407a3.535,3.535,0,0,0-2.02-.643h-6.06a3.489,3.489,0,0,1-3.489-3.489V148.788a3.489,3.489,0,0,1,3.489-3.489h6.289a1.7,1.7,0,0,1,.964.275l6.243,4.269a2.433,2.433,0,0,0,1.377.413,2.571,2.571,0,0,0,1.423-.413l6.243-4.269a1.7,1.7,0,0,1,.964-.275h59.173a3.489,3.489,0,0,1,3.489,3.489v15.424a3.489,3.489,0,0,1-3.489,3.489H229.622a3.535,3.535,0,0,0-2.02.643l-6.427,4.407Z\"\n            transform=\"translate(-202.354 -112.982)\"\n        />\n    </SvgIcon>\n)\n\nexport const SwearIcon: React.FC<SvgIconProps> = props => (\n    <SvgIcon viewBox=\"0 0 327.8 229.2\" fontSize=\"inherit\" {...props}>\n        <path d=\"M208.4 101.4l10.2-.7 1.5-12-10.2.8zM107.7 113.1c-.8 1.4-1.1 2.8-1 4.3a8 8 0 003.4 5.7 11 11 0 007.7 2.1 22 22 0 0011-4.8c-4.2-2.7-9.6-6.9-16.3-12.3-2.5 2-4 3.7-4.8 5zM118 91.1c2.3-1.5 4-3 5.3-4.7 1.2-1.7 1.7-3.2 1.6-4.6a4.8 4.8 0 00-2-3.5 6.6 6.6 0 00-4.6-1.2c-2 .1-3.4.8-4.5 2a5.2 5.2 0 00-1.6 4c.2 2 2 4.6 5.8 8z\" />\n        <path d=\"M327.7 167.4l-12-160.2c-.3-4.3-4-7.5-8.3-7.2L7.2 22.5c-4.3.3-7.5 4-7.2 8.3L12 191c.3 4.3 4 7.5 8.3 7.2l300.3-22.5c4.2-.3 7.4-4 7.1-8.3zM47 142.7l-9.5.7L49 72l9.6-.7-11.8 71.4zm105.9-8c-2-.8-4-1.8-6-3l-5.6-2.9a37.8 37.8 0 01-9.5 5.5 53.8 53.8 0 01-15.3 3.2c-9 .6-15.9-.7-20.5-4.2s-7.3-7.8-7.7-13.2c-.3-3.8.7-7.6 3-11.2 2.4-3.6 6.4-6.8 12.1-9.7a33.5 33.5 0 01-5.6-7.4c-1.1-2.1-1.7-4.3-2-6.6a15 15 0 014.7-12.3c3.4-3.4 8.9-5.4 16.4-6 7.6-.5 13.3.6 17 3.3 3.9 2.7 6 6 6.2 10.2.2 2.3-.2 4.6-1.1 6.8-1 2.2-2.1 4-3.6 5.5-1.4 1.4-4 3.6-7.8 6.5 3.5 3 7.2 5.9 11 8.4.8-2 1.5-4 2-6.2l15 2.2a56.2 56.2 0 01-4.3 12.7l7.4 4.3 3.5 1.8-9.3 12.3zm77.3-22l-2 16.5-13.2 1 2-16.6-10.1.8-2 16.5-13.2 1 2-16.5-6.3.4-1-12.7 9-.7 1.5-12-11.3 1-1-12.9 13.9-1 2-16.8 13.2-1-2 16.8 10-.7 2.2-16.8 13-1-2 16.8 6.4-.5 1 12.8-9 .6-1.5 12 11.3-.9 1 12.8-13.9 1zm37.7-55.9l20.1-1.5 1.2 15.5-1.6 31.3-12.4 1-6.1-30.8-1.2-15.5zm5.8 67.8l-1.3-16.6 18.8-1.4 1.3 16.6-18.8 1.4z\" />\n        <path d=\"M67.7 226.7l27.9-38.8c2.7-3.8.3-9.2-4.4-9.7l-47-4.9a6.1 6.1 0 00-6.3 8.6L57 225.6c2 4.3 7.9 5 10.6 1z\" />\n    </SvgIcon>\n)\n\nexport const EasyQuizIcon: React.FC<SvgIconProps> = props => (\n    <SvgIcon viewBox=\"0 0 128 128\" fontSize=\"inherit\" {...props}>\n        <path d=\"M106 64C104.014 64 102.08 64.4375 100.339 65.2425C97.355 61.445 93.3037 58.2075 88.4562 55.7225C92 50.7438 94.1175 44.7063 94.1175 38.1788V37.8025C100.899 36.3675 106 30.3387 106 23.0587C106 14.7812 99.2188 8 90.9413 8C86.645 8 82.6637 9.8025 80.0562 12.6637C75.2525 9.61875 69.6875 8 64 8C58.3125 8 52.7475 9.61875 47.9438 12.6637C45.3275 9.8025 41.3462 8 37.0587 8C28.7812 8 22 14.7812 22 23.0587C22 30.2775 27.1013 36.315 33.8213 37.8025V38.1788C33.8213 44.715 36 50.8138 39.4825 55.7225C34.6875 58.2075 30.645 61.445 27.6612 65.2425C25.535 64.2887 23.1988 63.8775 20.88 64.0525C18.5613 64.2275 16.3125 64.9888 14.3525 66.2575C12.3925 67.5263 10.7912 69.2675 9.68 71.315C8.56875 73.3713 8 75.6637 8 78C8 85.7788 14.2212 92 22 92H22.3763C22.1313 93.4963 22 95.115 22 96.6638C22 109.544 30.3388 120 40.6638 120C46.9463 120 52.485 116.08 55.9062 110.104C58.5225 110.48 61.1913 110.664 63.9913 110.664C66.7913 110.664 69.4688 110.48 72.0763 110.104C75.4975 116.08 81.0363 120 87.3188 120C97.6438 120 105.983 109.544 105.983 96.6638C105.983 95.1063 105.86 93.4875 105.606 92H105.983C113.761 92 119.983 85.7788 119.983 78C119.983 70.2212 113.761 64 105.983 64H106ZM96.8563 19.3488C100.68 24.6688 95.3425 28.895 93.4438 29.9013C92.4375 26.7513 88.8062 20.9675 85.9012 18.4562C88.0187 17.0212 93.12 14.1338 96.8563 19.3488ZM73.4325 30.3037C74.8325 30.3037 75.97 31.4412 75.97 32.8412C75.97 34.2412 74.8325 35.3788 73.4325 35.3788C72.0325 35.3788 70.895 34.2412 70.895 32.8412C70.895 31.4412 72.0325 30.3037 73.4325 30.3037ZM54.5675 30.3037C55.9675 30.3037 57.105 31.4412 57.105 32.8412C57.105 34.2412 55.9675 35.3788 54.5675 35.3788C53.1675 35.3788 52.03 34.2412 52.03 32.8412C52.03 31.4412 53.1675 30.3037 54.5675 30.3037ZM35.4662 29.5775C33.1912 28.405 28.2037 25.3337 30.9688 19.5412C33.795 13.635 40.06 16.2775 41.8625 17.45C39.5875 19.8475 36.2625 25.815 35.4662 29.5687V29.5775ZM40.6638 108.362C35.5013 108.362 31.3275 103.139 31.3275 96.6638C31.3275 90.1888 35.4925 85.0262 40.6638 85.0262C45.835 85.0262 50 90.25 50 96.6638C50 103.078 45.835 108.362 40.6638 108.362ZM64 59.3362C56.2825 59.3362 50 54.1125 50 47.6987C50 41.285 56.2825 36 64 36C71.7175 36 78 41.2237 78 47.6987C78 54.1737 71.7175 59.3362 64 59.3362ZM87.3362 108.362C82.1737 108.362 78 103.139 78 96.6638C78 90.1888 82.165 85.0262 87.3362 85.0262C92.5075 85.0262 96.6725 90.25 96.6725 96.6638C96.6725 103.078 92.5075 108.362 87.3362 108.362ZM68.6638 45.3362C68.6638 47.8912 66.5463 50 64 50C61.4537 50 59.3362 47.8825 59.3362 45.3362C59.3362 42.79 61.4537 40.6725 64 40.6725C66.5463 40.6725 68.6638 42.79 68.6638 45.3362Z\" />\n    </SvgIcon>\n)\n\nexport const MediumQuizIcon: React.FC<SvgIconProps> = props => (\n    <SvgIcon viewBox=\"0 0 139 128\" fontSize=\"inherit\" {...props}>\n        <path d=\"M50.8597 33.4978L27.3893 27.2641L31.6575 11.5594C32.0021 10.3231 32.8211 9.27294 33.9364 8.63772C35.0516 8.0025 36.3727 7.83366 37.6118 8.16796L51.6786 11.9448C52.2916 12.107 52.8665 12.3886 53.3705 12.7735C53.8744 13.1584 54.2973 13.639 54.6151 14.1877C54.9329 14.7364 55.1392 15.3425 55.2222 15.9711C55.3053 16.5997 55.2634 17.2385 55.099 17.8509L50.8597 33.4978ZM8.21359 100.759C7.94623 99.8945 7.92952 98.9724 8.16542 98.0993L25.6911 33.2957L49.1519 39.5294L31.6262 104.333C31.3914 105.209 30.9138 106 30.2484 106.616L16.2105 119.595C16.0291 119.759 15.8093 119.876 15.571 119.934C15.3328 119.992 15.0839 119.989 14.8471 119.926C14.6102 119.863 14.3931 119.741 14.2155 119.572C14.0379 119.403 13.9056 119.192 13.8307 118.959L8.21359 100.759ZM92.0052 45.6305C70.3269 45.6305 63.1008 38.4044 63.1008 16.7261C84.7791 16.7261 92.0052 23.9522 92.0052 45.6305ZM78.5164 119.845C65.3168 121.868 48.398 103.408 44.6019 83.2328L53.1673 51.5921C57.0116 48.22 61.8675 46.4568 66.8391 46.4568C72.2278 46.4346 77.4915 48.0804 81.9079 51.1682C83.4627 52.2117 85.2965 52.7608 87.1689 52.7436C89.0413 52.7264 90.8648 52.1437 92.4002 51.0719C96.4691 48.0575 101.403 46.4387 106.467 46.4568C113.886 46.4568 122.297 51.1682 126.218 58.0282C141.017 84.0036 114.714 122.668 95.9265 119.855C95.0656 119.687 94.2365 119.384 93.4696 118.959C91.5286 117.964 89.3786 117.445 87.1974 117.445C85.0161 117.445 82.8662 117.964 80.9251 118.959C80.1728 119.377 79.3602 119.676 78.5164 119.845Z\" />\n    </SvgIcon>\n)\n\nexport const HardQuizIcon: React.FC<SvgIconProps> = props => (\n    <SvgIcon viewBox=\"0 0 128 128\" fontSize=\"inherit\" {...props}>\n        <path d=\"M36.91 13.5511C41.6838 9.93568 47.5116 7.9857 53.5 8.00008C55.18 8.00008 56.517 8.87508 57.294 9.47708C58.162 10.1631 58.974 11.0381 59.702 11.9131C60.2182 12.54 60.5003 13.327 60.5 14.1391V39.5001H52.905C52.0793 37.1648 50.4547 35.1966 48.3183 33.9434C46.1819 32.6901 43.6711 32.2324 41.2299 32.6513C38.7887 33.0701 36.5741 34.3385 34.9776 36.2323C33.3811 38.126 32.5055 40.5232 32.5055 43.0001C32.5055 45.477 33.3811 47.8741 34.9776 49.7679C36.5741 51.6616 38.7887 52.93 41.2299 53.3488C43.6711 53.7677 46.1819 53.31 48.3183 52.0568C50.4547 50.8035 52.0793 48.8353 52.905 46.5001H60.5V112.405C60.5003 112.923 60.3856 113.435 60.164 113.904C59.9425 114.372 59.6197 114.785 59.219 115.114C55.985 117.76 51.659 120 46.5 120C38.198 120 32.017 115.814 28.02 110.809C25.1483 107.243 23.1814 103.035 22.287 98.545C19.5674 97.8199 17.0457 96.4921 14.909 94.66C11.045 91.349 8 85.98 8 78C8 74.101 8.259 70.58 8.84 67.5H30.75C35.202 67.5 38.87 70.825 39.43 75.123C37.1021 75.9655 35.1468 77.6034 33.9092 79.7475C32.6717 81.8916 32.2315 84.404 32.6664 86.8411C33.1014 89.2782 34.3834 91.4833 36.2863 93.0669C38.1891 94.6506 40.5903 95.511 43.0658 95.4962C45.5414 95.4814 47.9322 94.5923 49.8159 92.9861C51.6997 91.3798 52.9553 89.1596 53.3611 86.7174C53.7669 84.2753 53.2967 81.7683 52.0336 79.6391C50.7705 77.51 48.7957 75.8956 46.458 75.081C46.1629 71.117 44.3799 67.411 41.4665 64.7067C38.5532 62.0024 34.725 60.4997 30.75 60.5H11.087C12.158 58.414 13.593 56.65 15.462 55.397C15.9348 55.0841 16.4309 54.8079 16.946 54.571C14.958 48.7471 15.476 41.9291 17.394 36.5741C18.619 33.1301 20.565 29.8751 23.239 27.7051C25.003 26.2701 27.103 25.3251 29.399 25.1431C30.407 20.3621 33.235 16.4071 36.91 13.5511ZM67.5 95.5H72.75C76.9271 95.5 80.9332 93.8406 83.8869 90.887C86.8406 87.9333 88.4999 83.9272 88.4999 79.75V66.905C90.8352 66.0794 92.8034 64.4548 94.0566 62.3184C95.3099 60.1819 95.7676 57.6712 95.3487 55.23C94.9299 52.7887 93.6615 50.5742 91.7677 48.9777C89.874 47.3812 87.4768 46.5056 84.9999 46.5056C82.523 46.5056 80.1259 47.3812 78.2321 48.9777C76.3384 50.5742 75.07 52.7887 74.6512 55.23C74.2323 57.6712 74.69 60.1819 75.9432 62.3184C77.1965 64.4548 79.1647 66.0794 81.4999 66.905V79.75C81.4999 84.58 77.5799 88.5 72.75 88.5H67.5V14.1391C67.4996 13.327 67.7818 12.54 68.298 11.9131C69.019 11.0381 69.838 10.1631 70.706 9.47708C71.476 8.87508 72.813 8.00008 74.5 8.00008C80.4883 7.9857 86.3161 9.93568 91.0899 13.5511C94.7649 16.4071 97.5999 20.3621 98.6009 25.1431C100.897 25.3181 102.997 26.2701 104.761 27.7051C107.435 29.8751 109.381 33.1301 110.606 36.5741C112.524 41.9291 113.042 48.7541 111.054 54.5641C111.558 54.8021 112.055 55.0821 112.538 55.4041C114.463 56.685 115.926 58.519 117.004 60.682C119.125 64.917 120 70.825 120 78C120 85.987 116.955 91.349 113.091 94.66C110.954 96.4921 108.433 97.8199 105.713 98.545C105.013 102.451 103.053 106.973 99.9799 110.809C95.9899 115.814 89.8019 120 81.4999 120C76.3479 120 72.015 117.76 68.788 115.114C68.3859 114.786 68.0618 114.373 67.839 113.904C67.6163 113.436 67.5005 112.924 67.5 112.405V95.5ZM43 39.5001C42.0717 39.5001 41.1815 39.8688 40.5251 40.5252C39.8687 41.1816 39.5 42.0718 39.5 43.0001C39.5 43.9283 39.8687 44.8186 40.5251 45.4749C41.1815 46.1313 42.0717 46.5001 43 46.5001C43.9282 46.5001 44.8185 46.1313 45.4748 45.4749C46.1312 44.8186 46.5 43.9283 46.5 43.0001C46.5 42.0718 46.1312 41.1816 45.4748 40.5252C44.8185 39.8688 43.9282 39.5001 43 39.5001ZM43 81.5C42.0717 81.5 41.1815 81.8688 40.5251 82.5252C39.8687 83.1815 39.5 84.0718 39.5 85C39.5 85.9283 39.8687 86.8185 40.5251 87.4749C41.1815 88.1313 42.0717 88.5 43 88.5C43.9282 88.5 44.8185 88.1313 45.4748 87.4749C46.1312 86.8185 46.5 85.9283 46.5 85C46.5 84.0718 46.1312 83.1815 45.4748 82.5252C44.8185 81.8688 43.9282 81.5 43 81.5ZM84.9999 60.5C85.9282 60.5 86.8184 60.1313 87.4748 59.4749C88.1312 58.8185 88.4999 57.9283 88.4999 57C88.4999 56.0718 88.1312 55.1815 87.4748 54.5252C86.8184 53.8688 85.9282 53.5 84.9999 53.5C84.0717 53.5 83.1814 53.8688 82.5251 54.5252C81.8687 55.1815 81.4999 56.0718 81.4999 57C81.4999 57.9283 81.8687 58.8185 82.5251 59.4749C83.1814 60.1313 84.0717 60.5 84.9999 60.5Z\" />\n    </SvgIcon>\n)\n","import { Card } from 'components/card'\nimport React from 'react'\nimport { Link, LinkProps } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { actionablePaperStyles } from 'utils/styleUtils'\n\ninterface BaseActionCardProps {\n    className?: string\n}\n\ninterface LinkVariantProps extends LinkProps, BaseActionCardProps {\n    type?: 'link'\n}\n\ninterface ButtonVariantProps extends React.ButtonHTMLAttributes<any>, BaseActionCardProps {\n    type?: 'button'\n}\n\ninterface ExternalLinkVariantProps extends React.AnchorHTMLAttributes<any>, BaseActionCardProps {\n    type?: 'external-link'\n    to: string\n}\n\ntype ActionCardProps = LinkVariantProps | ButtonVariantProps | ExternalLinkVariantProps\n\nexport const ActionCard: React.FC<ActionCardProps> = props => {\n    const type = props.type ?? 'button'\n\n    if (type === 'link') {\n        const { type: _, ...rest } = props as LinkVariantProps\n        // @ts-ignore\n        return <Root $hasAction={rest.href !== '#'} component={Link} {...rest} />\n    }\n    if (type === 'external-link') {\n        const { to, ...rest } = props as ExternalLinkVariantProps\n        // @ts-ignore\n        return <Root $hasAction={to !== '#'} component=\"a\" href={to} target=\"_blank\" {...rest} />\n    } else {\n        const { type: _, ...rest } = props as ButtonVariantProps\n        return (\n            <Root $hasAction={rest.onClick !== undefined} component=\"button\" {...rest}>\n                {props.children}\n            </Root>\n        )\n    }\n}\n\nconst Root = styled(Card)<{ $hasAction?: boolean }>`\n    ${actionablePaperStyles}\n\n    display: block;\n    width: 100%;\n    text-align: left;\n    padding: 0;\n    text-decoration: none;\n    cursor: ${props => (props.$hasAction ? 'pointer' : undefined)};\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\ninterface ActionCardContentProps {\n    className?: string\n}\n\nexport const ActionCardContent: React.FC<ActionCardContentProps> = props => {\n    return <Root {...props} />\n}\n\nconst Root = styled.div`\n    padding: ${props => props.theme.spacing(6, 5)};\n`\n","import { useUserState } from 'contexts/UserContext'\nimport { useCallback } from 'react'\nimport { useMemo } from 'react'\n\ntype Format = 'precise' | 'long' | 'short' | 'numeric' | 'year-month'\n\nconst formatOptionsMap: Record<Format, Intl.DateTimeFormatOptions> = {\n    precise: { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric' },\n    long: { year: 'numeric', month: 'long', day: 'numeric' },\n    numeric: { year: 'numeric', month: 'numeric', day: 'numeric' },\n    'year-month': { year: 'numeric', month: '2-digit' },\n    short: { month: 'long', day: 'numeric' },\n}\n\nexport const useDateFormat = (format: Format = 'precise') => {\n    const { account } = useUserState()\n\n    if (!account) {\n        throw new Error('Account is missing!')\n    }\n\n    const formatter = useMemo(\n        () => new Intl.DateTimeFormat(account.uiLanguage || 'en-US', formatOptionsMap[format]),\n        [format, account.uiLanguage],\n    )\n\n    const formatDate = useCallback((date: Date) => formatter.format(date), [formatter])\n\n    return {\n        formatDate,\n    }\n}\n","import React from 'react'\nimport { Box, BoxProps } from '@material-ui/core'\n\ntype ImgProps = BoxProps & React.DetailedHTMLProps<React.ImgHTMLAttributes<HTMLImageElement>, HTMLImageElement>\n\nexport const Img: React.FC<ImgProps> = props => {\n    return <Box maxWidth=\"100%\" component=\"img\" {...props} />\n}\n","import { useCallback } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { incrementActivityScore } from '../lib/liveops'\n\nexport function useIncrementActivityScore() {\n    const dispatch = useDispatch()\n    const increment = useCallback(\n        (activity: string) => {\n            if (dispatch) {\n                dispatch(incrementActivityScore(activity))\n            }\n        },\n        [dispatch],\n    )\n    return increment\n}\n","import { UserState, useUserState } from 'contexts/UserContext'\nimport { Project } from 'features/projects'\nimport { ApiTypes } from 'lib/api'\nimport { hasGrant } from 'lib/grants'\n\nexport const MINI_QUIZ_PROJECT_TAG = 'mini-quiz'\nconst MINI_QUIZ_MIN_NUMBER_OF_QUESTIONS_TO_SHARE = 5\n\nexport const isMiniQuizProject = (file: ApiTypes['file']) => {\n    return file.tags?.includes(MINI_QUIZ_PROJECT_TAG) ?? false\n}\n\nexport const isMiniQuizLongEnoughToShare = (project: Project) => {\n    return (project.metadata.numberOfQuestions?.normal ?? 0) >= MINI_QUIZ_MIN_NUMBER_OF_QUESTIONS_TO_SHARE\n}\n\nexport const useMiniQuizAccessLevel = () => {\n    const user = useUserState()\n\n    return getMiniQuizAccessLevel(user)\n}\n\nexport const getMiniQuizAccessLevel = (user: UserState) => {\n    if (hasGrant(user.grants)('mini-quiz-create-and-share')) {\n        return 'full'\n    }\n    if (hasGrant(user.grants)('mini-quiz-discover')) {\n        return 'read'\n    }\n    return false\n}\n","import { ActionType } from 'typesafe-actions'\nimport * as inClassActions from './inClassActions'\nimport { CalendarEntryEventData } from '../types/groupTypes'\n\n// Action types\nexport const SET_CALENDAR_EVENT = 'INCLASS/SET_CALENDAR_EVENT'\nexport const SET_URL = 'INCLASS/SET_URL'\nexport const SET_FEEDBACK_MODAL = 'INCLASS/SET_FEEDBACK_MODAL'\nexport const TOGGLE_ENABLED = 'INCLASS/TOGGLE_ENABLED'\nexport const GROUP_COMPLETED = 'INCLASS/GROUP_COMPLETED'\nexport const GROUP_INCOMPLETE = 'INCLASS/GROUP_INCOMPLETE'\nexport const TOGGLE_ENTRY = 'INCLASS/TOGGLE_ENTRY'\nexport const REPLACE_STATE = 'INCLASS/REPLACE_STATE'\n\n// State interface\nexport interface InClassReducerState {\n    enabled: boolean\n    feedbackModalOpen: boolean\n    url?: string\n    sessionId?: string\n    groupId?: string\n    calendarEvent?: CalendarEntryEventData | null\n    startTime: number\n    version: number\n    totalDuration: number\n    entryGroupCounters: number[]\n    entryGroupDurations: number[]\n    entryCheckboxes: { value: boolean; duration: number; active: boolean }[][]\n    groupCheckboxes: boolean[]\n}\n\nexport type InClassAction = ActionType<typeof inClassActions>\n","import { action } from 'typesafe-actions'\nimport {\n    SET_CALENDAR_EVENT,\n    SET_URL,\n    SET_FEEDBACK_MODAL,\n    TOGGLE_ENABLED,\n    GROUP_COMPLETED,\n    GROUP_INCOMPLETE,\n    TOGGLE_ENTRY, InClassReducerState, REPLACE_STATE,\n} from './inClassTypes'\nimport { CalendarEntryEventData, Timesheet } from '../types/groupTypes'\n\nexport const setCalendarEvent = (calendarEvent?: CalendarEntryEventData | null) =>\n    action(SET_CALENDAR_EVENT, calendarEvent)\n\nexport const setUrl = (url: string) => \n    action(SET_URL, url)\n\nexport const setFeedbackModal = (isOpen: boolean) => \n    action(SET_FEEDBACK_MODAL, isOpen)\n\nexport const toggleEnabled = (payload: { timesheet?: Timesheet }) => \n    action(TOGGLE_ENABLED, payload)\n\nexport const groupCompleted = (index: number) => \n    action(GROUP_COMPLETED, index)\n\nexport const groupIncomplete = (index: number) => \n    action(GROUP_INCOMPLETE, index)\n\nexport const toggleEntry = (index: number, entryIndex: number, value: boolean) => \n    action(TOGGLE_ENTRY, { index, entryIndex, value, timestamp: Date.now() })\n\nexport const replaceState = (state: InClassReducerState) =>\n    action(REPLACE_STATE, { value: state })","import { Reducer } from 'redux'\nimport produce from 'immer'\nimport {\n    InClassReducerState,\n    InClassAction,\n    SET_CALENDAR_EVENT,\n    SET_URL,\n    SET_FEEDBACK_MODAL,\n    TOGGLE_ENABLED,\n    GROUP_COMPLETED,\n    GROUP_INCOMPLETE,\n    TOGGLE_ENTRY,\n    REPLACE_STATE,\n} from './inClassTypes'\nimport { Timesheet, TimesheetEntry, TimesheetEntryGroup } from '../types/groupTypes'\n\nfunction isGroupEntry(entry: TimesheetEntry): entry is TimesheetEntryGroup {\n    return entry.type === 'group'\n}\n\nexport const INITIAL_STATE: InClassReducerState = {\n    enabled: false,\n    feedbackModalOpen: false,\n    version: 0,\n    startTime: 0,\n    totalDuration: 0,\n    entryGroupCounters: [],\n    entryGroupDurations: [],\n    entryCheckboxes: [],\n    groupCheckboxes: [],\n}\n\nexport const inClassReducer: Reducer<InClassReducerState, InClassAction> = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case SET_CALENDAR_EVENT:\n            if (state.calendarEvent === action.payload) return state\n            return {\n                ...state,\n                version: state.version + 1,\n                calendarEvent: action.payload || null,\n                sessionId: action.payload?._id,\n                groupId: action.payload?.group_id || 'undefined',\n            }\n\n        case SET_URL:\n            if (state.url === action.payload) return state\n            return {\n                ...state,\n                version: state.version + 1,\n                url: action.payload,\n            }\n\n        case SET_FEEDBACK_MODAL:\n            if (state.feedbackModalOpen === action.payload) return state\n            return {\n                ...state,\n                version: state.version + 1,\n                feedbackModalOpen: action.payload,\n            }\n\n        case TOGGLE_ENABLED:\n            if (state.enabled) {\n                return {\n                    ...state,\n                    version: state.version + 1,\n                    enabled: false,\n                    feedbackModalOpen: true,\n                    startTime: Date.now(),\n                    totalDuration: 0,\n                    entryGroupDurations: [],\n                    entryGroupCounters: [],\n                    entryCheckboxes: [],\n                    groupCheckboxes: [],\n                }\n            } else {\n                const { timesheet } = action.payload as { timesheet: Timesheet }\n                if (!timesheet) return state\n\n                const counters = timesheet.content.entries.map(entry =>\n                    isGroupEntry(entry)\n                        ? Math.max(entry.isActive ? 1 : 0, entry.content.entries.filter(e => e.isActive).length)\n                        : 0,\n                )\n\n                const durations = timesheet.content.entries.map(e => +e.duration)\n\n                const totalDuration = timesheet.content.entries.reduce((acc, entry) => acc + +entry.duration, 0)\n\n                return {\n                    ...state,\n                    version: state.version + 1,\n                    enabled: true,\n                    startTime: Date.now(),\n                    totalDuration: totalDuration,\n                    entryGroupCounters: [...counters],\n                    entryGroupDurations: durations,\n                    entryCheckboxes: timesheet.content.entries.map(e =>\n                        isGroupEntry(e)\n                            ? e.content.entries.map(e => ({\n                                  value: !e.isActive,\n                                  duration: 0,\n                                  active: e.isActive,\n                              }))\n                            : [],\n                    ),\n                    groupCheckboxes: timesheet.content.entries.map(e => (isGroupEntry(e) ? !e.isActive : false)),\n                }\n            }\n\n        case GROUP_COMPLETED:\n            return produce(state, draft => {\n                const index = action.payload\n                draft.version = state.version + 1\n                if (draft.entryCheckboxes[index]) {\n                    const isAllInactive = draft.entryCheckboxes[index].every(checkbox => !checkbox.active)\n                    draft.entryCheckboxes[index] = draft.entryCheckboxes[index].map(checkbox => {\n                        return {\n                            ...checkbox,\n                            value: true,\n                            duration:\n                                checkbox.active || state.entryCheckboxes[index].length === 1\n                                    ? draft.entryGroupDurations[index] / draft.entryGroupCounters[index]\n                                    : isAllInactive\n                                    ? draft.entryGroupDurations[index] / state.entryCheckboxes[index].length\n                                    : 0,\n                            active: true,\n                        }\n                    })\n                }\n                if (!draft.groupCheckboxes) {\n                    draft.groupCheckboxes = draft.entryCheckboxes.map(() => false)\n                }\n                draft.groupCheckboxes[index] = true\n            })\n\n        case GROUP_INCOMPLETE:\n            return produce(state, draft => {\n                const index = action.payload\n                draft.version = state.version + 1\n                if (draft.entryCheckboxes[index]) {\n                    draft.entryCheckboxes[index] = draft.entryCheckboxes[index].map(checkbox => ({\n                        ...checkbox,\n                        value: false,\n                        duration:\n                            checkbox.active || draft.entryCheckboxes[index].length === 1\n                                ? draft.entryGroupDurations[index] / draft.entryGroupCounters[index]\n                                : 0,\n                    }))\n                }\n                if (!draft.groupCheckboxes) {\n                    draft.groupCheckboxes = state.entryCheckboxes.map(() => false)\n                }\n                draft.groupCheckboxes[index] = false\n            })\n\n        case TOGGLE_ENTRY: {\n            return produce(state, draft => {\n                const { index, entryIndex, value } = action.payload\n                if (draft.entryCheckboxes[index]) {\n                    const active = state.entryCheckboxes[index][entryIndex].active\n                    draft.version = state.version + 1\n                    draft.entryCheckboxes[index][entryIndex] = {\n                        value,\n                        duration: active ? draft.entryGroupDurations[index] / draft.entryGroupCounters[index] : 0,\n                        active,\n                    }\n                }\n                if (!draft.groupCheckboxes) {\n                    draft.groupCheckboxes = draft.entryCheckboxes.map(() => false)\n                }\n                draft.groupCheckboxes[index] =\n                    draft.entryCheckboxes[index].filter(checkbox => checkbox.value).length ===\n                    draft.entryGroupCounters[index]\n            })\n        }\n\n        case REPLACE_STATE: {\n            return {\n                ...action.payload.value,\n                version: state.version,\n            }\n        }\n\n        default:\n            return state\n    }\n}\n","import { ActionType } from 'typesafe-actions'\nimport * as curriculumActions from './curriculumActions'\n\nexport const SET_CURRICULUM_FILTER_TEXT = 'CURRICULUM/SET_FILTER_TEXT'\n\nexport interface CurriculumReducerState {\n    filterText: string\n}\n\nexport type CurriculumAction = ActionType<typeof curriculumActions>","import { action } from 'typesafe-actions'\nimport {\n    SET_CURRICULUM_FILTER_TEXT\n} from './curriculumTypes'\n\nexport const setFilterText = (filterText: string) => \n    action(SET_CURRICULUM_FILTER_TEXT, filterText)\n","import { Reducer } from 'redux'\nimport {\n    CurriculumReducerState,\n    CurriculumAction,\n    SET_CURRICULUM_FILTER_TEXT,\n} from './curriculumTypes'\n\nconst INITIAL_STATE: CurriculumReducerState = {\n    filterText: '',\n}\n\nexport const curriculumReducer: Reducer<CurriculumReducerState, CurriculumAction> = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case SET_CURRICULUM_FILTER_TEXT:\n            if (state.filterText === action.payload) return state\n            return {\n                ...state,\n                filterText: action.payload,\n            }\n\n        default:\n            return state\n    }\n}\n","export { storeActionListener } from './StoreActionListener'\n","import { runtimeEnv } from 'utils/env'\nimport { api } from 'lib/api'\n\nexport const getIdeUrl = (pathWithParams: string) => {\n    const url = new URL(`${runtimeEnv.REACT_APP_SCOOLCODE_URL}${pathWithParams}`)\n\n    url.searchParams.append('origin', window.location.href);\n    if(api.accessToken) url.searchParams.append('access_token', api.accessToken);\n\n    return url.href\n}\n\n\nexport const getIdeCreateUrl = (pathWithParams: string) => {\n    const url = new URL(`${runtimeEnv.REACT_APP_SCOOLCODE_CREATE_URL || runtimeEnv.REACT_APP_SCOOLCODE_URL}${pathWithParams}`)\n\n    url.searchParams.append('origin', window.location.href);\n    if(api.accessToken) url.searchParams.append('access_token', api.accessToken);\n\n    return url.href\n}\n","import React from 'react'\nimport { Collapse as MuiCollapse, CollapseProps as MuiCollapseProps } from '@material-ui/core'\n\ninterface CollapseProps extends MuiCollapseProps {}\n\nexport const Collapse: React.FC<CollapseProps> = props => {\n    return <MuiCollapse {...props} />\n}\n"],"sourceRoot":""}